!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("xcedu-component",[],t):"object"==typeof exports?exports["xcedu-component"]=t():e["xcedu-component"]=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=13)}([function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(i[e[t+0]]+i[e[t+1]]+i[e[t+2]]+i[e[t+3]]+"-"+i[e[t+4]]+i[e[t+5]]+"-"+i[e[t+6]]+i[e[t+7]]+"-"+i[e[t+8]]+i[e[t+9]]+"-"+i[e[t+10]]+i[e[t+11]]+i[e[t+12]]+i[e[t+13]]+i[e[t+14]]+i[e[t+15]]).toLowerCase();if(!Object(o.a)(n))throw TypeError("Stringified UUID is invalid");return n}for(var o=n(2),i=[],a=0;a<256;++a)i.push((a+256).toString(16).substr(1));t.a=r},function(e,t,n){"use strict";function r(e){return"string"==typeof e&&o.a.test(e)}var o=n(27);t.a=r},function(e,t){e.exports=function(e,t,n,r,o,i){var a,u=e=e||{},s=typeof e.default;"object"!==s&&"function"!==s||(a=e,u=e.default);var c="function"==typeof u?u.options:u;t&&(c.render=t.render,c.staticRenderFns=t.staticRenderFns,c._compiled=!0),n&&(c.functional=!0),o&&(c._scopeId=o);var l;if(i?(l=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},c._ssrRegister=l):r&&(l=r),l){var f=c.functional,d=f?c.render:c.beforeCreate;f?(c._injectStyles=l,c.render=function(e,t){return l.call(t),d(e,t)}):c.beforeCreate=d?[].concat(d,l):[l]}return{esModule:a,exports:u,options:c}}},function(e,t,n){"use strict";var r=n(15),o=n.n(r);t.a={name:"chooseUser",components:{tree:o.a},props:{allowWrite:{type:Boolean,default:!1},value:{type:Array,default:function(){return[]}},selectRole:{type:Array,default:function(){return[]}},getUser:{type:Function,required:!0},getSearchList:{type:Function,required:!0}},data:function(){return{orgUserSearchValue:"",selectedSearchValue:"",dialogVisible:!1,activeName:"org",orgUserNodes:[],orgUserSearchNodes:[],groupNodes:[],groupSearchNodes:[],myGroupNodes:[],myGroupSearchNodes:[],orgUserTree:null,groupTree:null,myGroupTree:null,inputVisible:!1,inputVal:"",inputSearchList:[],selectedArr:[],selelctedFilterArr:[],selectedIds:"",tabRoles:[],setting:{dblClickExpand:!1,check:{enable:!0,chkboxType:{Y:"",N:""}},data:{simpleData:{enable:!0,pIdKey:"pId"}},view:{showIcon:!1,addDiyDom:this.addDiyDom}},isFullScreen:!1}},computed:{dynamicTags:function(){for(var e=[],t=this.selectedArr,n=0;n<t.length;n++)e.push(t[n].name+(t[n].orgName?"<"+t[n].orgName+">":""));return e},filterSelectedList:function(){var e=this.selectedSearchValue;return e?this.selelctedFilterArr.filter(function(t){if(-1!==t.name.toString().indexOf(e))return t}):this.selelctedFilterArr}},watch:{value:function(e,t){this.value=e,this.selectedArr=this.value}},mounted:function(){this.tabRoles=this.selectRole,this.loadTreeData(),this.selectedArr=this.value},methods:{changeSelect:function(e){console.log(e)},handleTreeSelect:function(e,t){if(""===e.value?this[t+"Nodes"]=this[t+"SearchNodes"]:e.value?this[t+"SearchValue"]=e.value:this[t+"SearchValue"]=e.name+"<"+e.orgName+">",this[t+"SearchValue"]){var n=this[t+"SearchValue"];n=-1!==n.indexOf("<")?n.substring(0,n.indexOf("<")):n,this.searchTree(n,t)}},searchTree:function(e,t){var n=this[t+"Tree"];this[t+"Nodes"]=n.getNodesByParamFuzzy("name",e,null)},handleIconClick:function(){},treeSearch:function(e,t){var n=this.orgUserSearchNodes;t(e?n.filter(this.createFilter(e)):n)},createFilter:function(e){return function(t){return 0===t.name.toLowerCase().indexOf(e.toLowerCase())}},openChooseUserModal:function(){this.selelctedFilterArr=JSON.parse(JSON.stringify(this.selectedArr)),this.canceSelectAllBtns();var e=!0,t=!1,n=void 0;try{for(var r,o=this.tabRoles[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var i=r.value;this.initTreeCheck(this[i+"Tree"])}}catch(e){t=!0,n=e}finally{try{!e&&o.return&&o.return()}finally{if(t)throw n}}},clearAll:function(){this.canceSelectAllBtns(),this.selelctedFilterArr=[],this.orgUserTree&&this.orgUserTree.checkAllNodes(!1)},canceSelectAllBtns:function(){var e=document.querySelectorAll("input.selectAllBtn"),t=!0,n=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){o.value.checked=!1}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}},loadTreeData:function(){var e=this,t=!0,n=!1,r=void 0;try{for(var o,i=this.tabRoles[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;!function(t){var n={type:t};e.getUser(n).then(function(n){e[t+"Nodes"]=n,e[t+"SearchNodes"]=JSON.parse(JSON.stringify(n))})}(a)}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}},addDiyDom:function(e,t){if(t.isParent){var n=document.createElement("label"),r=document.createElement("input"),o=document.createElement("span");o.innerHTML="全选",r.setAttribute("type","checkbox"),r.setAttribute("class","selectAllBtn"),n.appendChild(r),n.appendChild(o);document.getElementById(t.tId).appendChild(n);var i=this;r.onclick=function(){var e=this.checked,n=t.children;if(e){var r=!0,o=!1,a=void 0;try{for(var u,s=n[Symbol.iterator]();!(r=(u=s.next()).done);r=!0){var c=u.value;i.orgUserTree&&i.orgUserTree.checkNode(c,!0,!1,!0)}}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}}else{var l=!0,f=!1,d=void 0;try{for(var p,h=n[Symbol.iterator]();!(l=(p=h.next()).done);l=!0){var m=p.value;i.orgUserTree&&i.orgUserTree.checkNode(m,!1,!1,!0)}}catch(e){f=!0,d=e}finally{try{!l&&h.return&&h.return()}finally{if(f)throw d}}}}}},clickNode:function(e,t,n,r){n.checked?this[r].checkNode(n,!1,!1,!0):this[r].checkNode(n,!0,!1,!0)},handleCreated:function(e,t){this[t]=e,this.initTreeCheck(e)},initTreeCheck:function(e){var t=this.selelctedFilterArr;if(t.length>0)for(var n=0;n<t.length;n++){var r=e.getNodeByParam("id",t[n].id,null);e.checkNode(r,!0,!0)}else e&&e.checkAllNodes(!1)},handleSelect:function(e){this.inputVisible=!1,-1===this.selectedIds.indexOf(e.id)&&(this.selectedArr.push(e),this.selectedIds+=e.id+",")},querySearchAsync:function(e,t){var n=this,r=void 0;this.getSearchList({searchName:e}).then(function(o){r=o;var i=e?r.filter(n.createStateFilter(e)):r;t(i),0===i.length&&(n.inputVal="")})},createStateFilter:function(e){return function(t){return 0===t.name.toLowerCase().indexOf(e.toLowerCase())}},handleClose:function(e){this.selectedArr.splice(this.dynamicTags.indexOf(e),1),this.$emit("input",this.selectedArr)},showInput:function(){this.inputVisible=!0,this.$nextTick(function(){this.$refs.saveTagInput.focus()})},chooseUser:function(){this.orgUserSearchValue="",this.selectedSearchValue="",this.handleTreeSelect({value:""},"orgUser"),this.dialogVisible=!0},onCheck:function(e,t,n){if(n.checked){var r={id:n.id,pid:n.pId,name:n.name,popcode:n.popcode,orgName:n.orgName,iconSkin:n.iconSkin,canSelect:n.canSelect,open:n.open};this.selelctedFilterArr.push(r)}else for(var o=0;o<this.selelctedFilterArr.length;o++)n.id===this.selelctedFilterArr[o].id&&this.selelctedFilterArr.splice(o,1)},delItem:function(e,t){return this.selelctedFilterArr.splice(e,1),this.orgUserTree?void this.cancelTreeSelected(this.orgUserTree,t):this.groupTree?void this.cancelTreeSelected(this.groupTree,t):void(this.myGroupTree&&this.cancelTreeSelected(this.myGroupTree,t))},cancelTreeSelected:function(e,t){var n=e.getNodeByParam("id",t,null);e.checkNode(n,!1,!1,!0)},submitSelectedValue:function(){this.selectedArr=this.selelctedFilterArr,this.$emit("input",this.selectedArr),this.dialogVisible=!1}}}},function(e,t,n){"use strict";var r=n(23),o=n(25),i=n(6),a=n.n(i),u=n(7),s=null;t.a={name:"FileUp",props:{value:{type:String,default:""},uploadType:{type:String,default:"file"},mutiple:{type:Boolean,default:!0},accept:{type:String,default:""},dir:{type:String,default:"anonymous"},disabled:{type:Boolean,default:!1},limit:{type:Number,default:100},showList:{type:Boolean,default:!1},acceptTips:{type:String,default:""},domainId:{type:String,default:""},readonly:{type:Boolean,default:!1}},data:function(){return{publicPath:window.XcComponents.path,client:null,fileList:[],isMutiple:"",isShowList:"",isDisabled:"",fileDir:"",fileAccept:""}},computed:{tip:function(){return this.acceptTips||"image"!==this.uploadType?this.acceptTips:"只能上传图片格式的文件"}},watch:{value:{immediate:!0,handler:function(e){var t=this;if(e){var n=e.split(","),o=!1;if(n.length!==this.fileList.length&&(o=!0),!o)for(var i=0;i<n.length;i++){for(var a=!1,u=0;u<this.fileList.length;u++)if(n[i]===this.fileList[u].id){a=!0;break}if(!a){o=!0;break}}o&&Object(r.a)({idList:e}).then(function(e){for(var n=0;n<e.length;n++)e[n].status="success",e[n].progress=-1;t.fileList=e})}else this.fileList.length&&(this.fileList=[])}}},mounted:function(){this.isMutiple=this.mutiple,this.isShowList=this.showList,this.isDisabled=this.disabled,this.fileDir=this.dir,this.fileAccept=this.accept||"image"!==this.uploadType?this.accept:"image/*"},beforeDestroy:function(){this.fileList.forEach(function(e){e.url&&0===e.url.indexOf("blob:")&&URL.revokeObjectURL(e.url)})},methods:{getClient:function(){return this.client||(this.client=new a.a({region:"oss-cn-shenzhen",accessKeyId:"LTAI4G2nbEWcDi9djnDY8tvJ",accessKeySecret:"ZZN02tVv7BpJEhc5bWa2NlNIdL6Vvp",bucket:"gtyzfile"})),this.client},delFile:function(e){var t=this;this.$confirm("是否确认删除该"+("image"===this.uploadType?"图片？":"附件？"),"",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.fileList.splice(e,1);for(var n=[],r=0;r<t.fileList.length;r++)n.push(t.fileList[r].id);t.$emit("input",n.join(","))})},fileChange:function(e,t){},beforeUpload:function(e){if(-1===e.name.indexOf("."))return this.$message.error("禁止上传无格式的文件！"),!1},fileUpLoad:function(e){var t=this;s||(s=this.domainId+"/"+(this.dir||"anonymous")+"/");var n=Object(u.a)().replace(/-/g,""),r=e.file,o={displayName:r.name,fileSize:r.size,id:n,url:URL.createObjectURL(r),status:"ready",progress:0};this.fileList.push(o);var i=n+r.name.substring(r.name.lastIndexOf("."));this.getClient().multipartUpload(s+i,r,{progress:function(e){o.progress=100*e}}).then(function(e){t.uploadOnSuccess(e,o)}).catch(function(e){window.console.log(e)})},uploadOnSuccess:function(e,t){var n=this;Object(r.b)({displayName:t.displayName,fileSize:t.fileSize,id:t.id,relativePath:s,storageLocation:"ALIYUN"}).then(function(e){t.status="success",t.progress=-1,n.$emit("input",n.value?n.value+","+t.id:t.id)})},getFileSize:function(e){return e/1024<1?"1KB":e/1024/1024<1?(e/1024).toFixed(1)+"KB":e/1024/1024/1024<1?(e/1024/1024).toFixed(1)+"MB":">1GB"},getFileTypeImg:function(e){return-1!==e.indexOf("image")?"images.png":"text/plain"===e?"txt.png":-1!==e.indexOf("video")?"video.png":-1!==e.indexOf("audio")?"audio.png":"application/vnd.openxmlformats-officedocument.wordprocessingml.document"===e||"application/msword"===e?"word.png":"application/x-zip-compressed"===e?"zip.png":"application/pdf"===e?"pdf.png":"application/x-rar-compressed"===e?"rar.png":"application/x-xls"===e||"application/vnd.ms-excel"===e||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===e?"excel.png":"application/x-ppt"===e||"application/vnd.ms-powerpoint"===e||"application/vnd.openxmlformats-officedocument.presentationml.presentation"===e?"ppt.png":void 0},previewImage:function(e){this.$refs.imageBox[e].clickHandler()},download:function(e){if(0===e.url.indexOf("blob:"))Object(o.a)(e.url,e.displayName);else{var t=this.getClient().signatureUrl(e.url.replace(/.*\.com\//,""),{response:{"content-disposition":'attachment; filename="'+e.displayName+'"'}});window.location=t}},validateFinished:function(){for(var e=0;e<this.fileList.length;e++)if(-1!==this.fileList[e].progress)return!1;return!0}}}},function(module,exports,__webpack_require__){(function(global){var require,require;!function(e){module.exports=e()}(function(){var define,module,exports;return function(){function e(t,n,r){function o(a,u){if(!n[a]){if(!t[a]){var s="function"==typeof require&&require;if(!u&&s)return require(a,!0);if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){return o(t[a][1][e]||e)},l,l.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}return e}()({1:[function(e,t,n){"use strict";var r=e("./browser/client");r.Buffer=e("buffer").Buffer,r.urllib=e("../shims/xhr"),r.version=e("./browser/version").version,t.exports=r},{"../shims/xhr":291,"./browser/client":2,"./browser/version":5,buffer:73}],2:[function(e,t,n){(function(n,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(){var e=x.name,t=x.version;e&&e.toLowerCase&&"ie"===e.toLowerCase()&&t.split(".")[0]<10&&console.warn("ali-oss does not support the current browser")}function a(){return location&&"https:"===location.protocol}function u(e,t){if(i(),!(this instanceof u))return new u(e,t);e&&e.inited?this.options=e:this.options=u.initOptions(e),this.options.cancelFlag=!1,this.options.urllib?this.urllib=this.options.urllib:(this.urllib=C,this.agent=this.options.agent||M),this.ctx=t,this.userAgent=this._getUserAgent(),this.options.amendTimeSkewed=0}var s=e("babel-runtime/core-js/promise"),c=o(s),l=e("babel-runtime/regenerator"),f=o(l),d=e("babel-runtime/core-js/object/assign"),p=o(d),h=e("debug")("ali-oss"),m=e("copy-to"),g=e("xml2js"),v=e("agentkeepalive"),b=e("merge-descriptors"),y=e("url"),w=e("is-type-of"),x=e("platform"),_=e("utility"),C=e("urllib"),S=e("./version"),E=e("bowser"),k=e("../common/signUtils"),T=e("../common/utils/isIP"),N=T.isIP,O=e("../common/client/initOptions"),A=e("../common/utils/createRequest"),D=A.createRequest,M=new v;t.exports=u,u.initOptions=function(e){e.stsToken||console.warn("Please use STS Token for safety, see more details at https://help.aliyun.com/document_detail/32077.html");var t=(0,p.default)({secure:a(),useFetch:!1},e);return O(t)};var I=u.prototype;I.debug=h,b(I,e("./object")),b(I,e("../common/bucket/getBucketWebsite")),b(I,e("../common/bucket/putBucketWebsite")),b(I,e("../common/bucket/deleteBucketWebsite")),b(I,e("../common/bucket/getBucketLifecycle")),b(I,e("../common/bucket/putBucketLifecycle")),b(I,e("../common/bucket/deleteBucketLifecycle")),b(I,e("../common/bucket/putBucketVersioning")),b(I,e("../common/bucket/getBucketVersioning")),b(I,e("./managed-upload")),b(I,e("../common/multipart")),b(I,e("../common/parallel")),I.signature=function(e){return this.debug("authorization stringToSign: %s",e,"info"),k.computeSignature(this.options.accessKeySecret,e)},I.authorization=function(e,t,n,r){var o=k.buildCanonicalString(e.toUpperCase(),t,{headers:r,parameters:n});return k.authorization(this.options.accessKeyId,this.options.accessKeySecret,o)},I.request=function(e){var t,n,r,o,i,a;return f.default.async(function(u){for(;;)switch(u.prev=u.next){case 0:return t=D.call(this,e),this.options.useFetch||(t.params.mode="disable-fetch"),n=void 0,r=void 0,o=!!e.stream,u.prev=5,u.next=8,f.default.awrap(this.urllib.request(t.url,t.params));case 8:n=u.sent,this.debug("response %s %s, got %s, headers: %j",e.method,t.url,n.status,n.headers,"info"),u.next=15;break;case 12:u.prev=12,u.t0=u.catch(5),r=u.t0;case 15:if(i=void 0,!n||!e.successStatuses||-1!==e.successStatuses.indexOf(n.status)){u.next=28;break}return u.next=19,f.default.awrap(this.requestError(n));case 19:if(i=u.sent,"RequestTimeTooSkewed"!==i.code||o){u.next=25;break}return this.options.amendTimeSkewed=+new Date(i.serverTime)-new Date,u.next=24,f.default.awrap(this.request(e));case 24:return u.abrupt("return",u.sent);case 25:i.params=e,u.next=32;break;case 28:if(!r){u.next=32;break}return u.next=31,f.default.awrap(this.requestError(r));case 31:i=u.sent;case 32:if(!i){u.next=34;break}throw i;case 34:if(!e.xmlResponse){u.next=39;break}return u.next=37,f.default.awrap(this.parseXML(n.data));case 37:a=u.sent,n.data=a;case 39:return u.abrupt("return",n);case 40:case"end":return u.stop()}},null,this,[[5,12]])},I._getResource=function(e){var t="/";return e.bucket&&(t+=e.bucket+"/"),e.object&&(t+=e.object),t},I._isIP=N,I._escape=function(e){return _.encodeURIComponent(e).replace(/%2F/g,"/")},I._getReqUrl=function(e){var t={};m(this.options.endpoint).to(t);var n=this._isIP(t.hostname),r=this.options.cname;!e.bucket||r||n||(t.host=e.bucket+"."+t.host);var o="/";e.bucket&&n&&(o+=e.bucket+"/"),e.object&&(o+=this._escape(e.object).replace(/\+/g,"%2B")),t.pathname=o;var i={};if(e.query&&b(i,e.query),e.subres){var a={};w.string(e.subres)?a[e.subres]="":w.array(e.subres)?e.subres.forEach(function(e){a[e]=""}):a=e.subres,b(i,a)}return t.query=i,y.format(t)},I._getUserAgent=function(){var e=r&&r.browser?"js":"nodejs",t="aliyun-sdk-"+e+"/"+S.version,n=x.description;return!n&&r&&(n="Node.js "+r.version.slice(1)+" on "+r.platform+" "+r.arch),this._checkUserAgent(t+" "+n)},I._checkUserAgent=function(e){return e.replace(/\u03b1/,"alpha").replace(/\u03b2/,"beta")},I.checkBrowserAndVersion=function(e,t){return E.name===e&&E.version.split(".")[0]===t},I.parseXML=function(e){return new c.default(function(t,r){n.isBuffer(e)&&(e=e.toString()),g.parseString(e,{explicitRoot:!1,explicitArray:!1},function(e,n){e?r(e):t(n)})})},I.requestError=function(e){var t,n,r,o;return f.default.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(t=null,e.data&&e.data.length){i.next=5;break}-1===e.status||-2===e.status?(t=new Error(e.message),t.name=e.name,t.status=e.status,t.code=e.name):(404===e.status?(t=new Error("Object not exists"),t.name="NoSuchKeyError",t.status=404,t.code="NoSuchKey"):412===e.status?(t=new Error("Pre condition failed"),t.name="PreconditionFailedError",t.status=412,t.code="PreconditionFailed"):(t=new Error("Unknow error, status: "+e.status),t.name="UnknowError",t.status=e.status),t.requestId=e.headers["x-oss-request-id"],t.host=""),i.next=33;break;case 5:return n=String(e.data),this.debug("request response error data: %s",n,"error"),r=void 0,i.prev=8,i.next=11,f.default.awrap(this.parseXML(n));case 11:if(i.t0=i.sent,i.t0){i.next=14;break}i.t0={};case 14:r=i.t0,i.next=24;break;case 17:return i.prev=17,i.t1=i.catch(8),this.debug(n,"error"),i.t1.message+="\nraw xml: "+n,i.t1.status=e.status,i.t1.requestId=e.headers["x-oss-request-id"],i.abrupt("return",i.t1);case 24:o=r.Message||"unknow request error, status: "+e.status,r.Condition&&(o+=" (condition: "+r.Condition+")"),t=new Error(o),t.name=r.Code?r.Code+"Error":"UnknowError",t.status=e.status,t.code=r.Code,t.requestId=r.RequestId,t.hostId=r.HostId,t.serverTime=r.ServerTime;case 33:return this.debug("generate error %j",t,"error"),i.abrupt("return",t);case 35:case"end":return i.stop()}},null,this,[[8,17]])}}).call(this,{isBuffer:e("../../node_modules/is-buffer/index.js")},e("_process"))},{"../../node_modules/is-buffer/index.js":197,"../common/bucket/deleteBucketLifecycle":6,"../common/bucket/deleteBucketWebsite":7,"../common/bucket/getBucketLifecycle":8,"../common/bucket/getBucketVersioning":9,"../common/bucket/getBucketWebsite":10,"../common/bucket/putBucketLifecycle":11,"../common/bucket/putBucketVersioning":12,"../common/bucket/putBucketWebsite":13,"../common/client/initOptions":15,"../common/multipart":18,"../common/parallel":33,"../common/signUtils":34,"../common/utils/createRequest":38,"../common/utils/isIP":45,"./managed-upload":3,"./object":4,"./version":5,_process:208,agentkeepalive:48,"babel-runtime/core-js/object/assign":54,"babel-runtime/core-js/promise":61,"babel-runtime/regenerator":68,bowser:70,"copy-to":76,debug:288,"is-type-of":289,"merge-descriptors":200,platform:206,url:238,urllib:291,utility:290,xml2js:249}],3:[function(e,t,n){(function(t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(this instanceof o))return new o(e,t);_.call(this,t),this.file=e,this.reader=new FileReader,this.start=0,this.finish=!1,this.fileBuffer=null}var i=e("babel-runtime/core-js/array/from"),a=r(i),u=e("babel-runtime/core-js/promise"),s=r(u),c=e("babel-runtime/regenerator"),l=r(c),f=e("is-type-of"),d=e("util"),p=e("path"),h=e("mime"),m=e("copy-to"),g=e("../common/utils/isBlob"),v=g.isBlob,b=e("../common/utils/isFile"),y=b.isFile,w=n;w.multipartUpload=function(e,t,n){var r,o,i,a,u,s,c,f,d;return l.default.async(function(m){for(;;)switch(m.prev=m.next){case 0:if(this.resetCancelFlag(),n=n||{},!n.checkpoint||!n.checkpoint.uploadId){m.next=6;break}return m.next=5,l.default.awrap(this._resumeMultipart(n.checkpoint,n));case 5:return m.abrupt("return",m.sent);case 6:return r=102400,n.mime||(y(t)?n.mime=h.getType(p.extname(t.name)):v(t)?n.mime=t.type:n.mime=h.getType(p.extname(t))),n.headers=n.headers||{},this._convertMetaToHeaders(n.meta,n.headers),m.next=12,l.default.awrap(this._getFileSize(t));case 12:if(!((o=m.sent)<r)){m.next=25;break}return i=this._createStream(t,0,o),n.contentLength=o,m.next=18,l.default.awrap(this.putStream(e,i,n));case 18:if(a=m.sent,!n||!n.progress){m.next=22;break}return m.next=22,l.default.awrap(n.progress(1));case 22:return u={res:a.res,bucket:this.options.bucket,name:e,etag:a.res.headers.etag},(n.headers&&n.headers["x-oss-callback"]||n.callback)&&(u.data=a.data),m.abrupt("return",u);case 25:if(!n.partSize||parseInt(n.partSize,10)===n.partSize){m.next=27;break}throw new Error("partSize must be int number");case 27:if(!(n.partSize&&n.partSize<r)){m.next=29;break}throw new Error("partSize must not be smaller than "+r);case 29:return m.next=31,l.default.awrap(this.initMultipartUpload(e,n));case 31:if(s=m.sent,c=s.uploadId,f=this._getPartSize(o,n.partSize),d={file:t,name:e,fileSize:o,partSize:f,uploadId:c,doneParts:[]},!n||!n.progress){m.next=38;break}return m.next=38,l.default.awrap(n.progress(0,d,s.res));case 38:return m.next=40,l.default.awrap(this._resumeMultipart(d,n));case 40:return m.abrupt("return",m.sent);case 41:case"end":return m.stop()}},null,this)},w._resumeMultipart=function(e,t){var n,r,o,i,u,c,f,d,p,h,g,v,b,y,w,x,_,C;return l.default.async(function(S){for(;;)switch(S.prev=S.next){case 0:if(n=this,!this.isCancel()){S.next=3;break}throw this._makeCancelEvent();case 3:return r=e.file,o=e.fileSize,i=e.partSize,u=e.uploadId,c=e.doneParts,f=e.name,d=[],c.length>0&&m(c).to(d),p=this._divideParts(o,i),h=p.length,g=!1,v=function(n,o){var i=this;return new s.default(function(a,s){var d,v,b,y;return l.default.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.prev=0,n.isCancel()){i.next=18;break}return d=p[o-1],v={stream:n._createStream(r,d.start,d.end),size:d.end-d.start},i.next=6,l.default.awrap(n._uploadPart(f,u,o,v));case 6:if(b=i.sent,n.isCancel()||g){i.next=15;break}if(e.doneParts.push({number:o,etag:b.res.headers.etag}),!t.progress){i.next=12;break}return i.next=12,l.default.awrap(t.progress(c.length/h,e,b.res));case 12:a({number:o,etag:b.res.headers.etag}),i.next=16;break;case 15:a();case 16:i.next=19;break;case 18:a();case 19:i.next=30;break;case 21:i.prev=21,i.t0=i.catch(0),y=new Error,y.name=i.t0.name,y.message=i.t0.message,y.stack=i.t0.stack,y.partNum=o,m(i.t0).to(y),s(y);case 30:case"end":return i.stop()}},null,i,[[0,21]])})},b=(0,a.default)(new Array(h),function(e,t){return t+1}),y=d.map(function(e){return e.number}),w=b.filter(function(e){return y.indexOf(e)<0}),x=5,_=t.parallel||x,S.next=17,l.default.awrap(this._parallel(w,_,function(e){return new s.default(function(t,r){v(n,e).then(function(e){e&&d.push(e),t()}).catch(function(e){r(e)})})}));case 17:if(C=S.sent,g=!0,!this.isCancel()){S.next=22;break}throw v=null,this._makeCancelEvent();case 22:if(!(C&&C.length>0)){S.next=25;break}throw C[0].message="Failed to upload some parts with error: "+C[0].toString()+" part_num: "+C[0].partNum,C[0];case 25:return S.next=27,l.default.awrap(this.completeMultipartUpload(f,u,d,t));case 27:return S.abrupt("return",S.sent);case 28:case"end":return S.stop()}},null,this)},w._getFileSize=function(e){return l.default.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!f.buffer(e)){t.next=4;break}return t.abrupt("return",e.length);case 4:if(!v(e)&&!y(e)){t.next=6;break}return t.abrupt("return",e.size);case 6:throw new Error("_getFileSize requires Buffer/File/Blob.");case 7:case"end":return t.stop()}},null,this)};var x=e("stream"),_=x.Readable;d.inherits(o,_),o.prototype.readFileAndPush=function(e){if(this.fileBuffer)for(var t=!0;t&&this.fileBuffer&&this.start<this.fileBuffer.length;){var n=this.start,r=n+e;r=r>this.fileBuffer.length?this.fileBuffer.length:r,this.start=r,t=this.push(this.fileBuffer.slice(n,r))}},o.prototype._read=function(e){if(this.file&&this.start>=this.file.size||this.fileBuffer&&this.start>=this.fileBuffer.length||this.finish||0===this.start&&!this.file)return this.finish||(this.fileBuffer=null,this.finish=!0),void this.push(null);e=e||16384;var n=this;this.reader.onload=function(r){n.fileBuffer=t.from(new Uint8Array(r.target.result)),n.file=null,n.readFileAndPush(e)},0===this.start?this.reader.readAsArrayBuffer(this.file):this.readFileAndPush(e)},w._createStream=function(e,t,n){if(v(e)||y(e))return new o(e.slice(t,n));throw new Error("_createStream requires File/Blob.")},w._getPartSize=function(e,t){return t?Math.max(Math.ceil(e/1e4),t):1048576},w._divideParts=function(e,t){for(var n=Math.ceil(e/t),r=[],o=0;o<n;o++){var i=t*o,a=Math.min(i+t,e);r.push({start:i,end:a})}return r}}).call(this,e("buffer").Buffer)},{"../common/utils/isBlob":43,"../common/utils/isFile":44,"babel-runtime/core-js/array/from":52,"babel-runtime/core-js/promise":61,"babel-runtime/regenerator":68,buffer:73,"copy-to":76,"is-type-of":289,mime:202,path:205,stream:230,util:243}],4:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=e("babel-runtime/core-js/promise"),i=r(o),a=e("babel-runtime/core-js/object/keys"),u=r(a),s=e("babel-runtime/core-js/object/assign"),c=r(s),l=e("babel-runtime/regenerator"),f=r(l),d=e("utility"),p=e("fs"),h=e("is-type-of"),m=e("url"),g=e("copy-to"),v=e("path"),b=e("mime"),y=e("../common/callback"),w=e("../common/signUtils"),x=e("merge-descriptors"),_=e("../common/utils/isBlob"),C=_.isBlob,S=e("../common/utils/isFile"),E=S.isFile,k=n;k.append=function(e,t,n){var r;return f.default.async(function(o){for(;;)switch(o.prev=o.next){case 0:return n=n||{},void 0===n.position&&(n.position="0"),n.subres={append:"",position:n.position},n.method="POST",o.next=6,f.default.awrap(this.put(e,t,n));case 6:return r=o.sent,r.nextAppendPosition=r.res.headers["x-oss-next-append-position"],o.abrupt("return",r);case 9:case"end":return o.stop()}},null,this)},k.put=function(e,t,n){var r,o,i,a,u,s,c;return f.default.async(function(l){for(;;)switch(l.prev=l.next){case 0:if(r=void 0,n=n||{},e=this._objectName(e),!h.buffer(t)){l.next=7;break}r=t,l.next=33;break;case 7:if(!C(t)&&!E(t)){l.next=32;break}return n.mime||(E(t)?n.mime=b.getType(v.extname(t.name)):n.mime=t.type),o=this._createStream(t,0,t.size),l.next=12,f.default.awrap(this._getFileSize(t));case 12:return n.contentLength=l.sent,l.prev=13,l.next=16,f.default.awrap(this.putStream(e,o,n));case 16:return i=l.sent,l.abrupt("return",i);case 20:if(l.prev=20,l.t0=l.catch(13),"RequestTimeTooSkewed"!==l.t0.code){l.next=29;break}return this.options.amendTimeSkewed=+new Date(l.t0.serverTime)-new Date,l.next=26,f.default.awrap(this.put(e,t,n));case 26:return l.abrupt("return",l.sent);case 29:throw l.t0;case 30:l.next=33;break;case 32:throw new TypeError("Must provide Buffer/Blob/File for put.");case 33:return n.headers=n.headers||{},this._convertMetaToHeaders(n.meta,n.headers),a=n.method||"PUT",u=this._objectRequestParams(a,e,n),y.encodeCallback(u,n),u.mime=n.mime,u.content=r,u.successStatuses=[200],l.next=43,f.default.awrap(this.request(u));case 43:return s=l.sent,c={name:e,url:this._objectUrl(e),res:s.res},u.headers&&u.headers["x-oss-callback"]&&(c.data=JSON.parse(s.data.toString())),l.abrupt("return",c);case 47:case"end":return l.stop()}},null,this,[[13,20]])},k.putStream=function(e,t,n){var r,o,i,a;return f.default.async(function(u){for(;;)switch(u.prev=u.next){case 0:return n=n||{},n.headers=n.headers||{},e=this._objectName(e),n.contentLength?n.headers["Content-Length"]=n.contentLength:n.headers["Transfer-Encoding"]="chunked",this._convertMetaToHeaders(n.meta,n.headers),r=n.method||"PUT",o=this._objectRequestParams(r,e,n),y.encodeCallback(o,n),o.mime=n.mime,o.stream=t,o.successStatuses=[200],u.next=13,f.default.awrap(this.request(o));case 13:return i=u.sent,a={name:e,url:this._objectUrl(e),res:i.res},o.headers&&o.headers["x-oss-callback"]&&(a.data=JSON.parse(i.data.toString())),u.abrupt("return",a);case 17:case"end":return u.stop()}},null,this)},x(k,e("../common/object/copyObject")),x(k,e("../common/object/getObjectTagging")),x(k,e("../common/object/putObjectTagging")),x(k,e("../common/object/deleteObjectTagging")),x(k,e("../common/image")),x(k,e("../common/object/getBucketVersions")),x(k,e("../common/object/getACL")),x(k,e("../common/object/putACL")),x(k,e("../common/object/head")),x(k,e("../common/object/delete")),x(k,e("../common/object/get")),x(k,e("../common/object/putSymlink")),x(k,e("../common/object/getSymlink")),x(k,e("../common/object/deleteMulti")),x(k,e("../common/object/getObjectMeta")),k.putMeta=function(e,t,n){var r;return f.default.async(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,f.default.awrap(this.copy(e,e,{meta:t||{},timeout:n&&n.timeout,ctx:n&&n.ctx}));case 2:return r=o.sent,o.abrupt("return",r);case 4:case"end":return o.stop()}},null,this)},k.list=function(e,t){var n,r,o,i,a;return f.default.async(function(u){for(;;)switch(u.prev=u.next){case 0:return n=this._objectRequestParams("GET","",t),n.query=e,n.xmlResponse=!0,n.successStatuses=[200],u.next=6,f.default.awrap(this.request(n));case 6:return r=u.sent,o=r.data.Contents,i=this,o&&(Array.isArray(o)||(o=[o]),o=o.map(function(e){return{name:e.Key,url:i._objectUrl(e.Key),lastModified:e.LastModified,etag:e.ETag,type:e.Type,size:Number(e.Size),storageClass:e.StorageClass,owner:{id:e.Owner.ID,displayName:e.Owner.DisplayName}}})),a=r.data.CommonPrefixes||null,a&&(Array.isArray(a)||(a=[a]),a=a.map(function(e){return e.Prefix})),u.abrupt("return",{res:r.res,objects:o,prefixes:a,nextMarker:r.data.NextMarker||null,isTruncated:"true"===r.data.IsTruncated});case 13:case"end":return u.stop()}},null,this)},k.restore=function(e,t){var n,r;return f.default.async(function(o){for(;;)switch(o.prev=o.next){case 0:return t=t||{},t.subres=(0,c.default)({restore:""},t.subres),t.versionId&&(t.subres.versionId=t.versionId),n=this._objectRequestParams("POST",e,t),n.successStatuses=[202],o.next=7,f.default.awrap(this.request(n));case 7:return r=o.sent,o.abrupt("return",{res:r.res});case 9:case"end":return o.stop()}},null,this)},k.signatureUrl=function(e,t){t=t||{},e=this._objectName(e),t.method=t.method||"GET";var n=d.timestamp()+(t.expires||1800),r={bucket:this.options.bucket,object:e},o=this._getResource(r);this.options.stsToken&&(t["security-token"]=this.options.stsToken);var i=w._signatureForURL(this.options.accessKeySecret,t,o,n),a=m.parse(this._getReqUrl(r));return a.query={OSSAccessKeyId:this.options.accessKeyId,Expires:n,Signature:i.Signature},g(i.subResource).to(a.query),a.format()},k.getObjectUrl=function(e,t){return t?"/"!==t[t.length-1]&&(t+="/"):t=this.options.endpoint.format(),t+this._escape(this._objectName(e))},k._objectUrl=function(e){return this._getReqUrl({bucket:this.options.bucket,object:e})},k.generateObjectUrl=function(e,t){if(t)"/"!==t[t.length-1]&&(t+="/");else{t=this.options.endpoint.format();var n=m.parse(t),r=this.options.bucket;n.hostname=r+"."+n.hostname,n.host=r+"."+n.host,t=n.format()}return t+this._escape(this._objectName(e))},k._objectRequestParams=function(e,t,n){if(!this.options.bucket)throw new Error("Please create a bucket first");n=n||{},t=this._objectName(t);var r={object:t,bucket:this.options.bucket,method:e,subres:n&&n.subres,timeout:n&&n.timeout,ctx:n&&n.ctx};return n.headers&&(r.headers={},g(n.headers).to(r.headers)),r},k._objectName=function(e){return e.replace(/^\/+/,"")},k._convertMetaToHeaders=function(e,t){e&&(0,u.default)(e).forEach(function(n){t["x-oss-meta-"+n]=e[n]})},k._deleteFileSafe=function(e){var t=this;return new i.default(function(n){p.exists(e,function(r){r?p.unlink(e,function(r){r&&t.debug("unlink %j error: %s",e,r,"error"),n()}):n()})})}},{"../common/callback":14,"../common/image":16,"../common/object/copyObject":19,"../common/object/delete":20,"../common/object/deleteMulti":21,"../common/object/deleteObjectTagging":22,"../common/object/get":23,"../common/object/getACL":24,"../common/object/getBucketVersions":25,"../common/object/getObjectMeta":26,"../common/object/getObjectTagging":27,"../common/object/getSymlink":28,"../common/object/head":29,"../common/object/putACL":30,"../common/object/putObjectTagging":31,"../common/object/putSymlink":32,"../common/signUtils":34,"../common/utils/isBlob":43,"../common/utils/isFile":44,"babel-runtime/core-js/object/assign":54,"babel-runtime/core-js/object/keys":60,"babel-runtime/core-js/promise":61,"babel-runtime/regenerator":68,"copy-to":76,fs:71,"is-type-of":289,"merge-descriptors":200,mime:202,path:205,url:238,utility:290}],5:[function(e,t,n){"use strict";n.version="6.10.0"},{}],6:[function(e,t,n){"use strict";var r=e("babel-runtime/regenerator"),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=e("../utils/checkBucketName"),a=i.checkBucketName;n.deleteBucketLifecycle=function(e,t){var n,r;return o.default.async(function(i){for(;;)switch(i.prev=i.next){case 0:return a(e),n=this._bucketRequestParams("DELETE",e,"lifecycle",t),n.successStatuses=[204],i.next=5,o.default.awrap(this.request(n));case 5:return r=i.sent,i.abrupt("return",{res:r.res});case 7:case"end":return i.stop()}},null,this)}},{"../utils/checkBucketName":35,"babel-runtime/regenerator":68}],7:[function(e,t,n){"use strict";var r=e("babel-runtime/regenerator"),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=e("../utils/checkBucketName"),a=i.checkBucketName;n.deleteBucketWebsite=function(e,t){var n,r;return o.default.async(function(i){for(;;)switch(i.prev=i.next){case 0:return a(e),n=this._bucketRequestParams("DELETE",e,"website",t),n.successStatuses=[204],i.next=5,o.default.awrap(this.request(n));case 5:return r=i.sent,i.abrupt("return",{res:r.res});case 7:case"end":return i.stop()}},null,this)}},{"../utils/checkBucketName":35,"babel-runtime/regenerator":68}],8:[function(e,t,n){"use strict";var r=e("babel-runtime/regenerator"),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=e("../utils/checkBucketName"),a=i.checkBucketName,u=e("../utils/isArray"),s=u.isArray,c=e("../utils/formatObjKey"),l=c.formatObjKey;n.getBucketLifecycle=function(e,t){var n,r,i;return o.default.async(function(u){for(;;)switch(u.prev=u.next){case 0:return a(e),n=this._bucketRequestParams("GET",e,"lifecycle",t),n.successStatuses=[200],n.xmlResponse=!0,u.next=6,o.default.awrap(this.request(n));case 6:return r=u.sent,i=r.data.Rule||null,i&&(s(i)||(i=[i]),i=i.map(function(e){return e.ID&&(e.id=e.ID,delete e.ID),e.Tag&&!s(e.Tag)&&(e.Tag=[e.Tag]),l(e,"firstLowerCase")})),u.abrupt("return",{rules:i,res:r.res});case 10:case"end":return u.stop()}},null,this)}},{"../utils/checkBucketName":35,"../utils/formatObjKey":40,"../utils/isArray":42,"babel-runtime/regenerator":68}],9:[function(e,t,n){"use strict";var r=e("babel-runtime/regenerator"),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=e("../utils/checkBucketName"),a=i.checkBucketName;n.getBucketVersioning=function(e,t){var n,r,i;return o.default.async(function(u){for(;;)switch(u.prev=u.next){case 0:return a(e),n=this._bucketRequestParams("GET",e,"versioning",t),n.xmlResponse=!0,n.successStatuses=[200],u.next=6,o.default.awrap(this.request(n));case 6:return r=u.sent,i=r.data.Status,u.abrupt("return",{status:r.status,versionStatus:i,res:r.res});case 9:case"end":return u.stop()}},null,this)}},{"../utils/checkBucketName":35,"babel-runtime/regenerator":68}],10:[function(e,t,n){"use strict";var r=e("babel-runtime/regenerator"),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=e("../utils/checkBucketName"),a=i.checkBucketName,u=e("../utils/isObject"),s=u.isObject;n.getBucketWebsite=function(e,t){var n,r,i;return o.default.async(function(u){for(;;)switch(u.prev=u.next){case 0:return a(e),n=this._bucketRequestParams("GET",e,"website",t),n.successStatuses=[200],n.xmlResponse=!0,u.next=6,o.default.awrap(this.request(n));case 6:return r=u.sent,i=[],r.data.RoutingRules&&r.data.RoutingRules.RoutingRule&&(i=s(r.data.RoutingRules.RoutingRule)?[r.data.RoutingRules.RoutingRule]:r.data.RoutingRules.RoutingRule),u.abrupt("return",{index:r.data.IndexDocument&&r.data.IndexDocument.Suffix||"",supportSubDir:r.data.IndexDocument&&r.data.IndexDocument.SupportSubDir||"false",type:r.data.IndexDocument&&r.data.IndexDocument.Type,routingRules:i,error:r.data.ErrorDocument&&r.data.ErrorDocument.Key||null,res:r.res});case 10:case"end":return u.stop()}},null,this)}},{"../utils/checkBucketName":35,"../utils/isObject":46,"babel-runtime/regenerator":68}],11:[function(e,t,n){"use strict";function r(e){e.days&&(e.expiration={days:e.days}),e.date&&(e.expiration={createdBeforeDate:e.date})}function o(e,t){var n=e.days,r=e.createdBeforeDate;if(!n&&!r)throw new Error(t+" must includes days or createdBeforeDate");if(n&&!/^[1-9][0-9]*$/.test(n))throw new Error("days must be a positive integer");if(r&&!/\d{4}-\d{2}-\d{2}T00:00:00.000Z/.test(r))throw new Error("createdBeforeDate must be date and conform to iso8601 format")}function i(e){if(!d(e)&&!g(e))throw new Error("tag must be Object or Array");e=g(e)?[e]:e;var t={};h(e).forEach(function(e){t[e.key]=e.value}),w(t)}function a(e){if(e.id&&_(e.id)>255)throw new Error("ID is composed of 255 bytes at most");if(""===e.prefix||void 0===e.prefix)throw new Error("Rule must includes prefix");if(!["Enabled","Disabled"].includes(e.status))throw new Error("Status must be  Enabled or Disabled");if(e.transition){if(!["IA","Archive"].includes(e.transition.storageClass))throw new Error("StorageClass must be  IA or Archive");o(e.transition,"Transition")}if(e.expiration)if(e.expiration.expiredObjectDeleteMarker){if(e.expiration.days||e.expiration.createdBeforeDate)throw new Error("expiredObjectDeleteMarker cannot be used with days or createdBeforeDate")}else o(e.expiration,"Expiration");if(e.abortMultipartUpload&&o(e.abortMultipartUpload,"AbortMultipartUpload"),!(e.expiration||e.abortMultipartUpload||e.transition||e.noncurrentVersionTransition))throw new Error("Rule must includes expiration or abortMultipartUpload or transition or noncurrentVersionTransition");if(e.tag){if(e.abortMultipartUpload)throw new Error("Tag cannot be used with abortMultipartUpload");i(e.tag)}}var u=e("babel-runtime/regenerator"),s=function(e){return e&&e.__esModule?e:{default:e}}(u),c=e("../utils/checkBucketName"),l=c.checkBucketName,f=e("../utils/isArray"),d=f.isArray,p=e("../utils/deepCopy"),h=p.deepCopy,m=e("../utils/isObject"),g=m.isObject,v=e("../utils/obj2xml"),b=v.obj2xml,y=e("../utils/checkObjectTag"),w=y.checkObjectTag,x=e("../utils/getStrBytesCount"),_=x.getStrBytesCount;n.putBucketLifecycle=function(e,t,n){var o,i,u,c,f;return s.default.async(function(p){for(;;)switch(p.prev=p.next){case 0:if(l(e),d(t)){p.next=3;break}throw new Error("rules must be Array");case 3:return o=this._bucketRequestParams("PUT",e,"lifecycle",n),i=[],u={LifecycleConfiguration:{Rule:i}},t.forEach(function(e){r(e),a(e),e.id&&(e.ID=e.id,delete e.id),i.push(e)}),c=b(u,{headers:!0,firstUpperCase:!0}),o.content=c,o.mime="xml",o.successStatuses=[200],p.next=13,s.default.awrap(this.request(o));case 13:return f=p.sent,p.abrupt("return",{res:f.res});case 15:case"end":return p.stop()}},null,this)}},{"../utils/checkBucketName":35,"../utils/checkObjectTag":36,"../utils/deepCopy":39,"../utils/getStrBytesCount":41,"../utils/isArray":42,"../utils/isObject":46,"../utils/obj2xml":47,"babel-runtime/regenerator":68}],12:[function(e,t,n){"use strict";var r=e("babel-runtime/regenerator"),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=e("../utils/checkBucketName"),a=i.checkBucketName,u=e("../utils/obj2xml"),s=u.obj2xml;n.putBucketVersioning=function(e,t){var n,r,i,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o.default.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(a(e),["Enabled","Suspended"].includes(t)){c.next=3;break}throw new Error("status must be Enabled or Suspended");case 3:return n=this._bucketRequestParams("PUT",e,"versioning",u),r={VersioningConfiguration:{Status:t}},n.mime="xml",n.content=s(r,{headers:!0}),c.next=9,o.default.awrap(this.request(n));case 9:return i=c.sent,c.abrupt("return",{res:i.res,status:i.status});case 11:case"end":return c.stop()}},null,this)}},{"../utils/checkBucketName":35,"../utils/obj2xml":47,"babel-runtime/regenerator":68}],13:[function(e,t,n){"use strict";var r=e("babel-runtime/regenerator"),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=e("../utils/checkBucketName"),a=i.checkBucketName,u=e("../utils/obj2xml"),s=u.obj2xml,c=e("../utils/isArray"),l=c.isArray;n.putBucketWebsite=function(e){var t,n,r,i,u,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},f=arguments[2];return o.default.async(function(d){for(;;)switch(d.prev=d.next){case 0:if(a(e),t=this._bucketRequestParams("PUT",e,"website",f),n={Suffix:c.index||"index.html"},r={IndexDocument:n},i={WebsiteConfiguration:r},c.supportSubDir&&(n.SupportSubDir=c.supportSubDir),c.type&&(n.Type=c.type),c.error&&(r.ErrorDocument={Key:c.error}),void 0===c.routingRules){d.next=12;break}if(l(c.routingRules)){d.next=11;break}throw new Error("RoutingRules must be Array");case 11:r.RoutingRules={RoutingRule:c.routingRules};case 12:return i=s(i),t.content=i,t.mime="xml",t.successStatuses=[200],d.next=18,o.default.awrap(this.request(t));case 18:return u=d.sent,d.abrupt("return",{res:u.res});case 20:case"end":return d.stop()}},null,this)}},{"../utils/checkBucketName":35,"../utils/isArray":42,"../utils/obj2xml":47,"babel-runtime/regenerator":68}],14:[function(e,t,n){(function(t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=e("babel-runtime/core-js/object/keys"),i=r(o),a=e("babel-runtime/core-js/json/stringify"),u=r(a);n.encodeCallback=function(e,n){if(e.headers=e.headers||{},!Object.prototype.hasOwnProperty.call(e.headers,"x-oss-callback")&&n.callback){var r={callbackUrl:encodeURI(n.callback.url),callbackBody:n.callback.body};n.callback.host&&(r.callbackHost=n.callback.host),n.callback.contentType&&(r.callbackBodyType=n.callback.contentType);var o=t.from((0,u.default)(r)).toString("base64");if(e.headers["x-oss-callback"]=o,n.callback.customValue){var a={};(0,i.default)(n.callback.customValue).forEach(function(e){a["x:"+e]=n.callback.customValue[e]}),e.headers["x-oss-callback-var"]=t.from((0,u.default)(a)).toString("base64")}}}}).call(this,e("buffer").Buffer)},{"babel-runtime/core-js/json/stringify":53,"babel-runtime/core-js/object/keys":60,buffer:73}],15:[function(e,t,n){"use strict";function r(e,t){var n=s.parse(e);if(n.protocol||(n=s.parse("http"+(t?"s":"")+"://"+e)),"http:"!==n.protocol&&"https:"!==n.protocol)throw new Error("Endpoint protocol must be http or https.");return n}function o(e,t,n){var r=n?"https://":"http://",o=t?"-internal.aliyuncs.com":".aliyuncs.com";return"vpc100-oss-cn-"===e.substr(0,"vpc100-oss-cn-".length)&&(o=".aliyuncs.com"),s.parse(r+e+o)}var i=e("babel-runtime/core-js/object/assign"),a=function(e){return e&&e.__esModule?e:{default:e}}(i),u=e("humanize-ms"),s=e("url"),c=e("../utils/checkBucketName"),l=c.checkBucketName;t.exports=function(e){if(!e||!e.accessKeyId||!e.accessKeySecret)throw new Error("require accessKeyId, accessKeySecret");e.bucket&&l(e.bucket);var t=(0,a.default)({region:"oss-cn-hangzhou",internal:!1,secure:!1,timeout:6e4,bucket:null,endpoint:null,cname:!1,isRequestPay:!1,sldEnable:!1},e);if(t.accessKeyId=t.accessKeyId.trim(),t.accessKeySecret=t.accessKeySecret.trim(),t.timeout&&(t.timeout=u(t.timeout)),t.endpoint)t.endpoint=r(t.endpoint,t.secure);else{if(!t.region)throw new Error("require options.endpoint or options.region");t.endpoint=o(t.region,t.internal,t.secure)}return t.inited=!0,t}},{"../utils/checkBucketName":35,"babel-runtime/core-js/object/assign":54,"humanize-ms":194,url:238}],16:[function(e,t,n){"use strict";e("merge-descriptors")(n,e("./processObjectSave"))},{"./processObjectSave":17,"merge-descriptors":200}],17:[function(e,t,n){"use strict";function r(e,t){if(!e)throw new Error(t+" is required");if("string"!=typeof e)throw new Error(t+" must be String")}var o=e("babel-runtime/regenerator"),i=function(e){return e&&e.__esModule?e:{default:e}}(o),a=e("../utils/checkBucketName"),u=a.checkBucketName,s=e("querystring"),c=e("js-base64"),l=c.Base64.encode;n.processObjectSave=function(e,t,n,o){var a,c,f,d;return i.default.async(function(p){for(;;)switch(p.prev=p.next){case 0:return r(e,"sourceObject"),r(t,"targetObject"),r(n,"process"),t=this._objectName(t),o&&u(o),a=this._objectRequestParams("POST",e,{subres:"x-oss-process"}),c=o?",b_"+l(o):"",t=l(t),f={"x-oss-process":n+"|sys/saveas,o_"+t+c},a.content=s.stringify(f),p.next=12,i.default.awrap(this.request(a));case 12:return d=p.sent,p.abrupt("return",{res:d.res,status:d.res.status});case 14:case"end":return p.stop()}},null,this)}},{"../utils/checkBucketName":35,"babel-runtime/regenerator":68,"js-base64":199,querystring:212}],18:[function(e,t,n){"use strict";var r=e("babel-runtime/regenerator"),o=function(e){return e&&e.__esModule?e:{default:e}}(r),i=e("copy-to"),a=e("./callback"),u=e("./utils/deepCopy"),s=u.deepCopy,c=n;c.listUploads=function(e,t){var n,r,a,u;return o.default.async(function(s){for(;;)switch(s.prev=s.next){case 0:return t=t||{},n={},i(t).to(n),n.subres="uploads",r=this._objectRequestParams("GET","",n),r.query=e,r.xmlResponse=!0,r.successStatuses=[200],s.next=10,o.default.awrap(this.request(r));case 10:return a=s.sent,u=a.data.Upload||[],Array.isArray(u)||(u=[u]),u=u.map(function(e){return{name:e.Key,uploadId:e.UploadId,initiated:e.Initiated}}),s.abrupt("return",{res:a.res,uploads:u,bucket:a.data.Bucket,nextKeyMarker:a.data.NextKeyMarker,nextUploadIdMarker:a.data.NextUploadIdMarker,isTruncated:"true"===a.data.IsTruncated});case 15:case"end":return s.stop()}},null,this)},c.listParts=function(e,t,n,r){var a,u,s;return o.default.async(function(c){for(;;)switch(c.prev=c.next){case 0:return r=r||{},a={},i(r).to(a),a.subres={uploadId:t},u=this._objectRequestParams("GET",e,a),u.query=n,u.xmlResponse=!0,u.successStatuses=[200],c.next=10,o.default.awrap(this.request(u));case 10:return s=c.sent,c.abrupt("return",{res:s.res,uploadId:s.data.UploadId,bucket:s.data.Bucket,name:s.data.Key,partNumberMarker:s.data.PartNumberMarker,nextPartNumberMarker:s.data.NextPartNumberMarker,maxParts:s.data.MaxParts,isTruncated:s.data.IsTruncated,parts:s.data.Part||[]});case 12:case"end":return c.stop()}},null,this)},c.abortMultipartUpload=function(e,t,n){var r,a,u;return o.default.async(function(s){for(;;)switch(s.prev=s.next){case 0:return this._stop(),n=n||{},r={},i(n).to(r),r.subres={uploadId:t},a=this._objectRequestParams("DELETE",e,r),a.successStatuses=[204],s.next=9,o.default.awrap(this.request(a));case 9:return u=s.sent,s.abrupt("return",{res:u.res});case 11:case"end":return s.stop()}},null,this)},c.initMultipartUpload=function(e,t){var n,r,a;return o.default.async(function(u){for(;;)switch(u.prev=u.next){case 0:return t=t||{},n={},i(t).to(n),n.headers=n.headers||{},this._convertMetaToHeaders(t.meta,n.headers),n.subres="uploads",r=this._objectRequestParams("POST",e,n),r.mime=t.mime,r.xmlResponse=!0,r.successStatuses=[200],u.next=12,o.default.awrap(this.request(r));case 12:return a=u.sent,u.abrupt("return",{res:a.res,bucket:a.data.Bucket,name:a.data.Key,uploadId:a.data.UploadId});case 14:case"end":return u.stop()}},null,this)},c.uploadPart=function(e,t,n,r,i,a,u){var s;return o.default.async(function(c){for(;;)switch(c.prev=c.next){case 0:return s={stream:this._createStream(r,i,a),size:a-i},c.next=3,o.default.awrap(this._uploadPart(e,t,n,s,u));case 3:return c.abrupt("return",c.sent);case 4:case"end":return c.stop()}},null,this)},c.completeMultipartUpload=function(e,t,n,r){var i,u,c,l,f,d,p,h;return o.default.async(function(m){for(;;)switch(m.prev=m.next){case 0:for(i=n.concat().sort(function(e,t){return e.number-t.number}).filter(function(e,t,n){return!t||e.number!==n[t-1].number}),u='<?xml version="1.0" encoding="UTF-8"?>\n<CompleteMultipartUpload>\n',c=0;c<i.length;c++)l=i[c],u+="<Part>\n",u+="<PartNumber>"+l.number+"</PartNumber>\n",u+="<ETag>"+l.etag+"</ETag>\n",u+="</Part>\n";return u+="</CompleteMultipartUpload>",r=r||{},f={},f=s(r),f.headers&&delete f.headers["x-oss-server-side-encryption"],f.subres={uploadId:t},d=this._objectRequestParams("POST",e,f),a.encodeCallback(d,f),d.mime="xml",d.content=u,d.headers&&d.headers["x-oss-callback"]||(d.xmlResponse=!0),d.successStatuses=[200],m.next=17,o.default.awrap(this.request(d));case 17:return p=m.sent,h={res:p.res,bucket:d.bucket,name:e,etag:p.res.headers.etag},d.headers&&d.headers["x-oss-callback"]&&(h.data=JSON.parse(p.data.toString())),m.abrupt("return",h);case 21:case"end":return m.stop()}},null,this)},c._uploadPart=function(e,t,n,r,a){var u,s,c;return o.default.async(function(l){for(;;)switch(l.prev=l.next){case 0:return a=a||{},u={},i(a).to(u),u.headers={"Content-Length":r.size},u.subres={partNumber:n,uploadId:t},s=this._objectRequestParams("PUT",e,u),s.mime=u.mime,s.stream=r.stream,s.successStatuses=[200],l.next=11,o.default.awrap(this.request(s));case 11:if(c=l.sent,c.res.headers.etag){l.next=14;break}throw new Error("Please set the etag of expose-headers in OSS \n https://help.aliyun.com/document_detail/32069.html");case 14:return r.stream=null,s.stream=null,l.abrupt("return",{name:e,etag:c.res.headers.etag,res:c.res});case 17:case"end":return l.stop()}},null,this)}},{"./callback":14,"./utils/deepCopy":39,"babel-runtime/regenerator":68,"copy-to":76}],19:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=e("babel-runtime/regenerator"),i=r(o),a=e("babel-runtime/core-js/object/keys"),u=r(a),s=e("babel-runtime/helpers/typeof"),c=r(s),l=e("../utils/checkBucketName"),f=l.checkBucketName,d=n;d.copy=function(e,t,n,r){var o,a,s;return i.default.async(function(l){for(;;)switch(l.prev=l.next){case 0:return"object"===(void 0===n?"undefined":(0,c.default)(n))&&(r=n),r=r||{},r.headers=r.headers||{},(0,u.default)(r.headers).forEach(function(e){r.headers["x-oss-copy-source-"+e.toLowerCase()]=r.headers[e]}),r.meta&&(r.headers["x-oss-metadata-directive"]="REPLACE"),this._convertMetaToHeaders(r.meta,r.headers),t=this._getSourceName(t,n),r.versionId&&(t=t+"?versionId="+r.versionId),r.headers["x-oss-copy-source"]=t,o=this._objectRequestParams("PUT",e,r),o.xmlResponse=!0,o.successStatuses=[200,304],l.next=14,i.default.awrap(this.request(o));case 14:return a=l.sent,s=a.data,s&&(s={etag:s.ETag,lastModified:s.LastModified}),l.abrupt("return",{data:s,res:a.res});case 18:case"end":return l.stop()}},null,this)},d._getSourceName=function(e,t){return"string"==typeof t?e=this._objectName(e):"/"!==e[0]?t=this.options.bucket:(t=e.replace(/\/(.+?)(\/.*)/,"$1"),e=e.replace(/(\/.+?\/)(.*)/,"$2")),f(t),e=encodeURI(e),e="/"+t+"/"+e}},{"../utils/checkBucketName":35,"babel-runtime/core-js/object/keys":60,"babel-runtime/helpers/typeof":67,"babel-runtime/regenerator":68}],20:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=e("babel-runtime/regenerator"),i=r(o),a=e("babel-runtime/core-js/object/assign"),u=r(a);n.delete=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i.default.async(function(o){for(;;)switch(o.prev=o.next){case 0:return r.subres=(0,u.default)({},r.subres),r.versionId&&(r.subres.versionId=r.versionId),t=this._objectRequestParams("DELETE",e,r),t.successStatuses=[204],o.next=6,i.default.awrap(this.request(t));case 6:return n=o.sent,o.abrupt("return",{res:n.res});case 8:case"end":return o.stop()}},null,this)}},{"babel-runtime/core-js/object/assign":54,"babel-runtime/regenerator":68}],21:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=e("babel-runtime/regenerator"),i=r(o),a=e("babel-runtime/core-js/object/assign"),u=r(a),s=e("utility"),c=e("../utils/obj2xml"),l=c.obj2xml;n.deleteMulti=function(e){var t,n,r,o,a,c,f,d,p,h,m,g,v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i.default.async(function(b){for(;;)switch(b.prev=b.next){case 0:if(t=[],e&&e.length){b.next=3;break}throw new Error("names is required");case 3:for(n=0;n<e.length;n++)r={},"string"==typeof e[n]?r.Key=s.escape(this._objectName(e[n])):(o=e[n],a=o.key,c=o.versionId,r.Key=s.escape(this._objectName(a)),r.VersionId=c),t.push(r);return f={Delete:{Quiet:!!v.quiet,Object:t}},d=l(f,{headers:!0}),v.subres=(0,u.default)({delete:""},v.subres),v.versionId&&(v.subres.versionId=v.versionId),p=this._objectRequestParams("POST","",v),p.mime="xml",p.content=d,p.xmlResponse=!0,p.successStatuses=[200],b.next=15,i.default.awrap(this.request(p));case 15:return h=b.sent,m=h.data,g=m&&m.Deleted||null,g&&(Array.isArray(g)||(g=[g])),b.abrupt("return",{res:h.res,deleted:g||[]});case 20:case"end":return b.stop()}},null,this)}},{"../utils/obj2xml":47,"babel-runtime/core-js/object/assign":54,"babel-runtime/regenerator":68,utility:290}],22:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=e("babel-runtime/regenerator"),i=r(o),a=e("babel-runtime/core-js/object/assign"),u=r(a);n.deleteObjectTagging=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i.default.async(function(o){for(;;)switch(o.prev=o.next){case 0:return r.subres=(0,u.default)({tagging:""},r.subres),r.versionId&&(r.subres.versionId=r.versionId),e=this._objectName(e),t=this._objectRequestParams("DELETE",e,r),t.successStatuses=[204],o.next=7,i.default.awrap(this.request(t));case 7:return n=o.sent,o.abrupt("return",{status:n.status,res:n.res});case 9:case"end":return o.stop()}},null,this)}},{"babel-runtime/core-js/object/assign":54,"babel-runtime/regenerator":68}],23:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=e("babel-runtime/regenerator"),i=r(o),a=e("babel-runtime/core-js/object/assign"),u=r(a),s=e("fs"),c=e("is-type-of");n.get=function(e,t){var n,r,o,a,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i.default.async(function(f){for(;;)switch(f.prev=f.next){case 0:return n=null,r=!1,c.writableStream(t)?n=t:c.string(t)?(n=s.createWriteStream(t),r=!0):l=t,l=l||{},l.subres=(0,u.default)({},l.subres),l.versionId&&(l.subres.versionId=l.versionId),l.process&&(l.subres["x-oss-process"]=l.process),o=void 0,f.prev=8,a=this._objectRequestParams("GET",e,l),a.writeStream=n,a.successStatuses=[200,206,304],f.next=14,i.default.awrap(this.request(a));case 14:o=f.sent,r&&n.destroy(),f.next=25;break;case 18:if(f.prev=18,f.t0=f.catch(8),!r){f.next=24;break}return n.destroy(),f.next=24,i.default.awrap(this._deleteFileSafe(t));case 24:throw f.t0;case 25:return f.abrupt("return",{res:o.res,content:o.data});case 26:case"end":return f.stop()}},null,this,[[8,18]])}},{"babel-runtime/core-js/object/assign":54,"babel-runtime/regenerator":68,fs:71,"is-type-of":289}],24:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=e("babel-runtime/regenerator"),i=r(o),a=e("babel-runtime/core-js/object/assign"),u=r(a);n.getACL=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i.default.async(function(o){for(;;)switch(o.prev=o.next){case 0:return r.subres=(0,u.default)({acl:""},r.subres),r.versionId&&(r.subres.versionId=r.versionId),e=this._objectName(e),t=this._objectRequestParams("GET",e,r),t.successStatuses=[200],t.xmlResponse=!0,o.next=8,i.default.awrap(this.request(t));case 8:return n=o.sent,o.abrupt("return",{acl:n.data.AccessControlList.Grant,owner:{id:n.data.Owner.ID,displayName:n.data.Owner.DisplayName},res:n.res});case 10:case"end":return o.stop()}},null,this)}},{"babel-runtime/core-js/object/assign":54,"babel-runtime/regenerator":68}],25:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){var e,t,n,r,o,i,u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return l.default.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(!u.versionIdMarker||void 0!==u.keyMarker){c.next=2;break}throw new Error("A version-id marker cannot be specified without a key marker");case 2:return s.subres=(0,d.default)({versions:""},s.subres),s.versionId&&(s.subres.versionId=s.versionId),e=this._objectRequestParams("GET","",s),e.xmlResponse=!0,e.successStatuses=[200],e.query=a(u),c.next=10,l.default.awrap(this.request(e));case 10:return t=c.sent,n=t.data.Version||[],r=t.data.DeleteMarker||[],o=this,n&&(Array.isArray(n)||(n=[n]),n=n.map(function(e){return{name:e.Key,url:o._objectUrl(e.Key),lastModified:e.LastModified,isLatest:"true"===e.IsLatest,versionId:e.VersionId,etag:e.ETag,type:e.Type,size:Number(e.Size),storageClass:e.StorageClass,owner:{id:e.Owner.ID,displayName:e.Owner.DisplayName}}})),r&&(v(r)||(r=[r]),r=r.map(function(e){return{name:e.Key,lastModified:e.LastModified,versionId:e.VersionId,owner:{id:e.Owner.ID,displayName:e.Owner.DisplayName}}})),i=t.data.CommonPrefixes||null,i&&(v(i)||(i=[i]),i=i.map(function(e){return e.Prefix})),c.abrupt("return",{res:t.res,objects:n,deleteMarker:r,prefixes:i,nextMarker:t.data.NextMarker||null,NextVersionIdMarker:t.data.NextVersionIdMarker||null,isTruncated:"true"===t.data.IsTruncated});case 19:case"end":return c.stop()}},null,this)}function i(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return m(e)&&(0,s.default)(e).forEach(function(n){t[i(n)]=e[n]}),t}var u=e("babel-runtime/core-js/object/keys"),s=r(u),c=e("babel-runtime/regenerator"),l=r(c),f=e("babel-runtime/core-js/object/assign"),d=r(f),p=n,h=e("../utils/isObject"),m=h.isObject,g=e("../utils/isArray"),v=g.isArray;p.getBucketVersions=o,p.listObjectVersions=o},{"../utils/isArray":42,"../utils/isObject":46,"babel-runtime/core-js/object/assign":54,"babel-runtime/core-js/object/keys":60,"babel-runtime/regenerator":68}],26:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=e("babel-runtime/regenerator"),i=r(o),a=e("babel-runtime/core-js/object/assign"),u=r(a);n.getObjectMeta=function(e,t){var n,r;return i.default.async(function(o){for(;;)switch(o.prev=o.next){case 0:return t=t||{},e=this._objectName(e),t.subres=(0,u.default)({objectMeta:""},t.subres),t.versionId&&(t.subres.versionId=t.versionId),n=this._objectRequestParams("HEAD",e,t),n.successStatuses=[200],o.next=8,i.default.awrap(this.request(n));case 8:return r=o.sent,o.abrupt("return",{status:r.status,res:r.res});case 10:case"end":return o.stop()}},null,this)}},{"babel-runtime/core-js/object/assign":54,"babel-runtime/regenerator":68}],27:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=e("babel-runtime/regenerator"),i=r(o),a=e("babel-runtime/core-js/object/assign"),u=r(a),s=n,c=e("../utils/isObject"),l=c.isObject;s.getObjectTagging=function(e){var t,n,r,o,a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i.default.async(function(c){for(;;)switch(c.prev=c.next){case 0:return s.subres=(0,u.default)({tagging:""},s.subres),s.versionId&&(s.subres.versionId=s.versionId),e=this._objectName(e),t=this._objectRequestParams("GET",e,s),t.successStatuses=[200],c.next=7,i.default.awrap(this.request(t));case 7:return n=c.sent,c.next=10,i.default.awrap(this.parseXML(n.data));case 10:return r=c.sent,o=r.TagSet.Tag,o=o&&l(o)?[o]:o||[],a={},o.forEach(function(e){a[e.Key]=e.Value}),c.abrupt("return",{status:n.status,res:n.res,tag:a});case 16:case"end":return c.stop()}},null,this)}},{"../utils/isObject":46,"babel-runtime/core-js/object/assign":54,"babel-runtime/regenerator":68}],28:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=e("babel-runtime/regenerator"),i=r(o),a=e("babel-runtime/core-js/object/assign"),u=r(a);n.getSymlink=function(e){var t,n,r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:return o.subres=(0,u.default)({symlink:""},o.subres),o.versionId&&(o.subres.versionId=o.versionId),e=this._objectName(e),t=this._objectRequestParams("GET",e,o),t.successStatuses=[200],a.next=7,i.default.awrap(this.request(t));case 7:return n=a.sent,r=n.res.headers["x-oss-symlink-target"],a.abrupt("return",{targetName:decodeURIComponent(r),res:n.res});case 10:case"end":return a.stop()}},null,this)}},{"babel-runtime/core-js/object/assign":54,"babel-runtime/regenerator":68}],29:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=e("babel-runtime/regenerator"),i=r(o),a=e("babel-runtime/core-js/object/keys"),u=r(a),s=e("babel-runtime/core-js/object/assign"),c=r(s);n.head=function(e){var t,n,r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:return o.subres=(0,c.default)({},o.subres),o.versionId&&(o.subres.versionId=o.versionId),t=this._objectRequestParams("HEAD",e,o),t.successStatuses=[200,304],a.next=6,i.default.awrap(this.request(t));case 6:return n=a.sent,r={meta:null,res:n.res,status:n.status},200===n.status&&(0,u.default)(n.headers).forEach(function(e){0===e.indexOf("x-oss-meta-")&&(r.meta||(r.meta={}),r.meta[e.substring(11)]=n.headers[e])}),a.abrupt("return",r);case 10:case"end":return a.stop()}},null,this)}},{"babel-runtime/core-js/object/assign":54,"babel-runtime/core-js/object/keys":60,"babel-runtime/regenerator":68}],30:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=e("babel-runtime/regenerator"),i=r(o),a=e("babel-runtime/core-js/object/assign"),u=r(a);n.putACL=function(e,t,n){var r,o;return i.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:return n=n||{},n.subres=(0,u.default)({acl:""},n.subres),n.versionId&&(n.subres.versionId=n.versionId),n.headers=n.headers||{},n.headers["x-oss-object-acl"]=t,e=this._objectName(e),r=this._objectRequestParams("PUT",e,n),r.successStatuses=[200],a.next=10,i.default.awrap(this.request(r));case 10:return o=a.sent,a.abrupt("return",{res:o.res});case 12:case"end":return a.stop()}},null,this)}},{"babel-runtime/core-js/object/assign":54,"babel-runtime/regenerator":68}],31:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=e("babel-runtime/regenerator"),i=r(o),a=e("babel-runtime/core-js/object/keys"),u=r(a),s=e("babel-runtime/core-js/object/assign"),c=r(s),l=e("../utils/obj2xml"),f=l.obj2xml,d=e("../utils/checkObjectTag"),p=d.checkObjectTag;n.putObjectTagging=function(e,t){var n,r,o,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i.default.async(function(s){for(;;)switch(s.prev=s.next){case 0:return p(t),a.subres=(0,c.default)({tagging:""},a.subres),a.versionId&&(a.subres.versionId=a.versionId),e=this._objectName(e),n=this._objectRequestParams("PUT",e,a),n.successStatuses=[200],t=(0,u.default)(t).map(function(e){return{Key:e,Value:t[e]}}),r={Tagging:{TagSet:{Tag:t}}},n.mime="xml",n.content=f(r),s.next=12,i.default.awrap(this.request(n));case 12:return o=s.sent,s.abrupt("return",{res:o.res,status:o.status});case 14:case"end":return s.stop()}},null,this)}},{"../utils/checkObjectTag":36,"../utils/obj2xml":47,"babel-runtime/core-js/object/assign":54,"babel-runtime/core-js/object/keys":60,"babel-runtime/regenerator":68}],32:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=e("babel-runtime/regenerator"),i=r(o),a=e("babel-runtime/core-js/object/assign"),u=r(a);n.putSymlink=function(e,t,n){var r,o;return i.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:return n=n||{},n.headers=n.headers||{},t=this._escape(this._objectName(t)),this._convertMetaToHeaders(n.meta,n.headers),n.headers["x-oss-symlink-target"]=t,n.subres=(0,u.default)({symlink:""},n.subres),n.versionId&&(n.subres.versionId=n.versionId),n.storageClass&&(n.headers["x-oss-storage-class"]=n.storageClass),e=this._objectName(e),r=this._objectRequestParams("PUT",e,n),r.successStatuses=[200],a.next=13,i.default.awrap(this.request(r));case 13:return o=a.sent,a.abrupt("return",{res:o.res});case 15:case"end":return a.stop()}},null,this)}},{"babel-runtime/core-js/object/assign":54,"babel-runtime/regenerator":68}],33:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=e("babel-runtime/regenerator"),i=r(o),a=e("babel-runtime/core-js/promise"),u=r(a),s=n;s._parallelNode=function(e,t,n,r){var o,a,s,c,l,f,d,p;return i.default.async(function(h){for(;;)switch(h.prev=h.next){case 0:o=this,a=[],s=[],c=e.length/t,l=e.length%t,f=0===l?c:(e.length-l)/t+1,d=1,p=0;case 8:if(!(p<e.length)){h.next=26;break}if(!o.isCancel()){h.next=11;break}return h.abrupt("break",26);case 11:if(r?s.push(n(o,e[p],r)):s.push(n(o,e[p])),s.length!==t&&(d!==f||p!==e.length-1)){h.next=23;break}return h.prev=13,d+=1,h.next=17,i.default.awrap(u.default.all(s));case 17:h.next=22;break;case 19:h.prev=19,h.t0=h.catch(13),a.push(h.t0);case 22:s=[];case 23:p++,h.next=8;break;case 26:return h.abrupt("return",a);case 27:case"end":return h.stop()}},null,this,[[13,19]])},s._parallel=function(e,t,n){var r=this;return new u.default(function(o){function i(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null;for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];t.apply(this,r)}}function a(e,t){d-=1,e?(f=!0,c.push(e),o(c)):t==={}||f&&d<=0?(f=!0,o(c)):p||(r.isCancel()?o(c):s())}function u(e,t){n(e).then(function(e){t(null,e)}).catch(function(e){t(e)})}function s(){for(p=!0;d<t&&!f&&!r.isCancel();){var e=l();if(null===e||c.length>0)return f=!0,void(d<=0&&o(c));d+=1,u(e.value,i(a))}p=!1}var c=[];if(t<=0||!e)return void o(c);var l=function(e){var t=-1,n=e.length;return function(){return++t<n&&!r.isCancel()?{value:e[t],key:t}:null}}(e),f=!1,d=0,p=!1;s()})},s.cancel=function(e){this.options.cancelFlag=!0,e&&this.abortMultipartUpload(e.name,e.uploadId,e.options)},s.isCancel=function(){return this.options.cancelFlag},s.resetCancelFlag=function(){this.options.cancelFlag=!1},s._stop=function(){this.options.cancelFlag=!0},s._makeCancelEvent=function(){return{status:0,name:"cancel"}}},{"babel-runtime/core-js/promise":61,"babel-runtime/regenerator":68}],34:[function(e,t,n){(function(t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=e("babel-runtime/core-js/json/stringify"),i=r(o),a=e("babel-runtime/core-js/object/keys"),u=r(a),s=e("./../../shims/crypto/crypto.js"),c=e("is-type-of");n.buildCanonicalizedResource=function(e,t){var n=""+e,r="?";if(c.string(t)&&""!==t.trim())n+=r+t;else if(c.array(t))t.sort(),n+=r+t.join("&");else if(t){var o=function(e,t){return e[0]>t[0]?1:e[0]<t[0]?-1:0},i=function(e){n+=r+e,t[e]&&(n+="="+t[e]),r="&"};(0,u.default)(t).sort(o).forEach(i)}return n},n.buildCanonicalString=function(e,t,n,r){n=n||{};var o=n.headers||{},i=[],a={},s=[e.toUpperCase(),o["Content-Md5"]||"",o["Content-Type"]||o["Content-Type".toLowerCase()],r||o["x-oss-date"]];return(0,u.default)(o).forEach(function(e){var t=e.toLowerCase();0===t.indexOf("x-oss-")&&(a[t]=String(o[e]).trim())}),(0,u.default)(a).sort().forEach(function(e){i.push(e+":"+a[e])}),s=s.concat(i),s.push(this.buildCanonicalizedResource(t,n.parameters)),s.join("\n")},n.computeSignature=function(e,n){return s.createHmac("sha1",e).update(t.from(n,"utf8")).digest("base64")},n.authorization=function(e,t,n){return"OSS "+e+":"+this.computeSignature(t,n)},n._signatureForURL=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments[2],o=arguments[3],a={},s=n.subResource,c=void 0===s?{}:s;if(n.process){c["x-oss-process"]=n.process}if(n.trafficLimit){c["x-oss-traffic-limit"]=n.trafficLimit}if(n.response&&(0,u.default)(n.response).forEach(function(e){var t="response-"+e.toLowerCase();c[t]=n.response[e]}),(0,u.default)(n).forEach(function(e){var t=e.toLowerCase(),r=n[e];0===t.indexOf("x-oss-")?a[t]=r:0===t.indexOf("content-md5")?a[e]=r:0===t.indexOf("content-type")&&(a[e]=r)}),Object.prototype.hasOwnProperty.call(n,"security-token")&&(c["security-token"]=n["security-token"]),Object.prototype.hasOwnProperty.call(n,"callback")){var l={callbackUrl:encodeURI(n.callback.url),callbackBody:n.callback.body};if(n.callback.host&&(l.callbackHost=n.callback.host),n.callback.contentType&&(l.callbackBodyType=n.callback.contentType),c.callback=t.from((0,i.default)(l)).toString("base64"),n.callback.customValue){var f={};(0,u.default)(n.callback.customValue).forEach(function(e){f["x:"+e]=n.callback.customValue[e]}),c["callback-var"]=t.from((0,i.default)(f)).toString("base64")}}var d=this.buildCanonicalString(n.method,r,{headers:a,parameters:c},o.toString());return{Signature:this.computeSignature(e,d),subResource:c}}}).call(this,e("buffer").Buffer)},{"./../../shims/crypto/crypto.js":284,"babel-runtime/core-js/json/stringify":53,"babel-runtime/core-js/object/keys":60,buffer:73,"is-type-of":289}],35:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.checkBucketName=void 0,n.checkBucketName=function(e,t){if(!(t?/^[a-z0-9][a-z0-9-]{1,61}[a-z0-9]$/:/^[a-z0-9_][a-z0-9-_]{1,61}[a-z0-9_]$/).test(e))throw new Error("The bucket must be conform to the specifications")}},{}],36:[function(e,t,n){"use strict";function r(e){if(!c(e))throw new Error("tag must be Object");var t=(0,i.default)(e);if(t.length>10)throw new Error("maximum of 10 tags for a object");var n=["key","value"];t.forEach(function(e){e.forEach(function(e,t){u(e,f[n[t]])})})}var o=e("babel-runtime/core-js/object/entries"),i=function(e){return e&&e.__esModule?e:{default:e}}(o);Object.defineProperty(n,"__esModule",{value:!0}),n.checkObjectTag=void 0;var a=e("./checkValid"),u=a.checkValid,s=e("./isObject"),c=s.isObject,l=[{validator:function(e){if("string"!=typeof e)throw new Error("the key and value of the tag must be String")}},{pattern:/^[a-zA-Z0-9 +-=._:\/]+$/,msg:"tag can contain letters, numbers, spaces, and the following symbols: plus sign (+), hyphen (-), equal sign (=), period (.), underscore (_), colon (:), and forward slash (/)"}],f={key:[].concat(l,[{pattern:/^.{1,128}$/,msg:"tag key can be a maximum of 128 bytes in length"}]),value:[].concat(l,[{pattern:/^.{0,256}$/,msg:"tag value can be a maximum of 256 bytes in length"}])};n.checkObjectTag=r},{"./checkValid":37,"./isObject":46,"babel-runtime/core-js/object/entries":57}],37:[function(e,t,n){"use strict";function r(e,t){t.forEach(function(t){if(t.validator)t.validator(e);else if(t.pattern&&!t.pattern.test(e))throw new Error(t.msg)})}Object.defineProperty(n,"__esModule",{value:!0}),n.checkValid=void 0,n.checkValid=r},{}],38:[function(e,t,n){(function(t){"use strict";function r(e,t){return e[t]||e[t.toLowerCase()]}function o(e,t){delete e[t],delete e[t.toLowerCase()]}function i(e){var n=new Date;this.options.amendTimeSkewed&&(n=+new Date+this.options.amendTimeSkewed);var i={"x-oss-date":f(n,"UTC:ddd, dd mmm yyyy HH:MM:ss 'GMT'"),"x-oss-user-agent":this.userAgent};this.userAgent.includes("nodejs")&&(i["User-Agent"]=this.userAgent),this.options.isRequestPay&&(0,u.default)(i,{"x-oss-request-payer":"requester"}),this.options.stsToken&&(i["x-oss-security-token"]=this.options.stsToken),d(e.headers).to(i),r(i,"Content-Type")||(e.mime&&e.mime.indexOf("/")>0?i["Content-Type"]=e.mime:i["Content-Type"]=l.getType(e.mime||p.extname(e.object||""))),r(i,"Content-Type")||o(i,"Content-Type"),e.content&&(i["Content-Md5"]=s.createHash("md5").update(t.from(e.content,"utf8")).digest("base64"),i["Content-Length"]||(i["Content-Length"]=e.content.length));var a=this._getResource(e);i.authorization=this.authorization(e.method,a,e.subres,i);var h=this._getReqUrl(e);c("request %s %s, with headers %j, !!stream: %s",e.method,h,i,!!e.stream);var m=e.timeout||this.options.timeout,g={method:e.method,content:e.content,stream:e.stream,headers:i,timeout:m,writeStream:e.writeStream,customResponse:e.customResponse,ctx:e.ctx||this.ctx};return this.agent&&(g.agent=this.agent),this.httpsAgent&&(g.httpsAgent=this.httpsAgent),{url:h,params:g}}var a=e("babel-runtime/core-js/object/assign"),u=function(e){return e&&e.__esModule?e:{default:e}}(a);Object.defineProperty(n,"__esModule",{value:!0}),n.createRequest=void 0;var s=e("./../../../shims/crypto/crypto.js"),c=e("debug")("ali-oss"),l=e("mime"),f=e("dateformat"),d=e("copy-to"),p=e("path");n.createRequest=i}).call(this,e("buffer").Buffer)},{"./../../../shims/crypto/crypto.js":284,"babel-runtime/core-js/object/assign":54,buffer:73,"copy-to":76,dateformat:190,debug:288,mime:202,path:205}],39:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=e("babel-runtime/core-js/object/keys"),i=r(o),a=e("babel-runtime/helpers/typeof"),u=r(a);Object.defineProperty(n,"__esModule",{value:!0}),n.deepCopy=void 0,n.deepCopy=function(e){if(null===e||"object"!==(void 0===e?"undefined":(0,u.default)(e)))return e;var t=Array.isArray(e)?[]:{};return(0,i.default)(e).forEach(function(r){t[r]=n.deepCopy(e[r])}),t}},{"babel-runtime/core-js/object/keys":60,"babel-runtime/helpers/typeof":67}],40:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(null===e||"object"!==(void 0===e?"undefined":(0,c.default)(e)))return e;var n=void 0;if(Array.isArray(e)){n=[];for(var r=0;r<e.length;r++)n.push(o(e[r],t))}else n={},(0,u.default)(e).forEach(function(r){n[i(r,t)]=o(e[r],t)});return n}function i(e,t){return"firstUpperCase"===t?e=e.replace(/^./,function(e){return e.toUpperCase()}):"firstLowerCase"===t&&(e=e.replace(/^./,function(e){return e.toLowerCase()})),e}var a=e("babel-runtime/core-js/object/keys"),u=r(a),s=e("babel-runtime/helpers/typeof"),c=r(s);Object.defineProperty(n,"__esModule",{value:!0}),n.formatObjKey=void 0,n.formatObjKey=o},{"babel-runtime/core-js/object/keys":60,"babel-runtime/helpers/typeof":67}],41:[function(e,t,n){"use strict";function r(e){for(var t=0,n=0;n<e.length;n++){/^[\u00-\uff]$/.test(e.charAt(n))?t+=1:t+=2}return t}Object.defineProperty(n,"__esModule",{value:!0}),n.getStrBytesCount=void 0,n.getStrBytesCount=r},{}],42:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isArray=void 0,n.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],43:[function(e,t,n){"use strict";function r(e){return"undefined"!=typeof Blob&&e instanceof Blob}Object.defineProperty(n,"__esModule",{value:!0}),n.isBlob=void 0,n.isBlob=r},{}],44:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isFile=void 0,n.isFile=function(e){return"undefined"!=typeof File&&e instanceof File}},{}],45:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isIP=void 0,n.isIP=function(e){var t=/^(25[0-5]|2[0-4]\d|[0-1]?\d?\d)(\.(25[0-5]|2[0-4]\d|[0-1]?\d?\d)){3}$/,n=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/;return t.test(e)||n.test(e)}},{}],46:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isObject=void 0,n.isObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)}},{}],47:[function(e,t,n){"use strict";function r(e){return Object.prototype.toString.call(e).replace(/(.*? |])/g,"").toLowerCase()}function o(e,t){var n="";return t&&t.headers&&(n='<?xml version="1.0" encoding="UTF-8"?>\n'),t&&t.firstUpperCase&&(e=u.formatObjKey(e,"firstUpperCase")),"object"===r(e)?(0,a.default)(e).forEach(function(t){"string"===r(e[t])||"number"===r(e[t])?n+="<"+t+">"+e[t]+"</"+t+">":"object"===r(e[t])?n+="<"+t+">"+o(e[t])+"</"+t+">":"array"===r(e[t])?n+=e[t].map(function(e){return"<"+t+">"+o(e)+"</"+t+">"}).join(""):n+="<"+t+">"+e[t].toString()+"</"+t+">"}):n+=e.toString(),n}var i=e("babel-runtime/core-js/object/keys"),a=function(e){return e&&e.__esModule?e:{default:e}}(i);Object.defineProperty(n,"__esModule",{value:!0}),n.obj2xml=void 0;var u=e("./formatObjKey");n.obj2xml=o},{"./formatObjKey":40,"babel-runtime/core-js/object/keys":60}],48:[function(e,t,n){function r(){}t.exports=r,t.exports.HttpsAgent=r},{}],49:[function(e,t,n){t.exports=e("./register")().Promise},{"./register":51}],50:[function(e,t,n){"use strict";var r=null;t.exports=function(e,t){return function(n,o){n=n||null,o=o||{};var i=!1!==o.global;if(null===r&&i&&(r=e["@@any-promise/REGISTRATION"]||null),null!==r&&null!==n&&r.implementation!==n)throw new Error('any-promise already defined as "'+r.implementation+'".  You can only register an implementation before the first  call to require("any-promise") and an implementation cannot be changed');return null===r&&(r=null!==n&&void 0!==o.Promise?{Promise:o.Promise,implementation:n}:t(n),i&&(e["@@any-promise/REGISTRATION"]=r)),r}}},{}],51:[function(e,t,n){"use strict";function r(){if(void 0===window.Promise)throw new Error("any-promise browser requires a polyfill or explicit registration e.g: require('any-promise/register/bluebird')");return{Promise:window.Promise,implementation:"window.Promise"}}t.exports=e("./loader")(window,r)},{"./loader":50}],52:[function(e,t,n){t.exports={default:e("core-js/library/fn/array/from"),__esModule:!0}},{"core-js/library/fn/array/from":77}],53:[function(e,t,n){t.exports={default:e("core-js/library/fn/json/stringify"),__esModule:!0}},{"core-js/library/fn/json/stringify":78}],54:[function(e,t,n){t.exports={default:e("core-js/library/fn/object/assign"),__esModule:!0}},{"core-js/library/fn/object/assign":79}],55:[function(e,t,n){t.exports={default:e("core-js/library/fn/object/create"),__esModule:!0}},{"core-js/library/fn/object/create":80}],56:[function(e,t,n){t.exports={default:e("core-js/library/fn/object/define-property"),__esModule:!0}},{"core-js/library/fn/object/define-property":81}],57:[function(e,t,n){t.exports={default:e("core-js/library/fn/object/entries"),__esModule:!0}},{"core-js/library/fn/object/entries":82}],58:[function(e,t,n){t.exports={default:e("core-js/library/fn/object/get-own-property-names"),__esModule:!0}},{"core-js/library/fn/object/get-own-property-names":83}],59:[function(e,t,n){t.exports={default:e("core-js/library/fn/object/get-prototype-of"),__esModule:!0}},{"core-js/library/fn/object/get-prototype-of":84}],60:[function(e,t,n){t.exports={default:e("core-js/library/fn/object/keys"),__esModule:!0}},{"core-js/library/fn/object/keys":85}],61:[function(e,t,n){t.exports={default:e("core-js/library/fn/promise"),__esModule:!0}},{"core-js/library/fn/promise":86}],62:[function(e,t,n){t.exports={default:e("core-js/library/fn/set-immediate"),__esModule:!0}},{"core-js/library/fn/set-immediate":87}],63:[function(e,t,n){t.exports={default:e("core-js/library/fn/string/from-code-point"),__esModule:!0}},{"core-js/library/fn/string/from-code-point":88}],64:[function(e,t,n){t.exports={default:e("core-js/library/fn/symbol"),__esModule:!0}},{"core-js/library/fn/symbol":90}],65:[function(e,t,n){t.exports={default:e("core-js/library/fn/symbol/has-instance"),__esModule:!0}},{"core-js/library/fn/symbol/has-instance":89}],66:[function(e,t,n){t.exports={default:e("core-js/library/fn/symbol/iterator"),__esModule:!0}},{"core-js/library/fn/symbol/iterator":91}],67:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var o=e("../core-js/symbol/iterator"),i=r(o),a=e("../core-js/symbol"),u=r(a),s="function"==typeof u.default&&"symbol"==typeof i.default?function(e){return typeof e}:function(e){return e&&"function"==typeof u.default&&e.constructor===u.default&&e!==u.default.prototype?"symbol":typeof e};n.default="function"==typeof u.default&&"symbol"===s(i.default)?function(e){return void 0===e?"undefined":s(e)}:function(e){return e&&"function"==typeof u.default&&e.constructor===u.default&&e!==u.default.prototype?"symbol":void 0===e?"undefined":s(e)}},{"../core-js/symbol":64,"../core-js/symbol/iterator":66}],68:[function(e,t,n){t.exports=e("regenerator-runtime")},{"regenerator-runtime":226}],69:[function(e,t,n){"use strict";function r(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function o(e){var t=r(e),n=t[0],o=t[1];return 3*(n+o)/4-o}function i(e,t,n){return 3*(t+n)/4-n}function a(e){var t,n,o=r(e),a=o[0],u=o[1],s=new d(i(e,a,u)),c=0,l=u>0?a-4:a;for(n=0;n<l;n+=4)t=f[e.charCodeAt(n)]<<18|f[e.charCodeAt(n+1)]<<12|f[e.charCodeAt(n+2)]<<6|f[e.charCodeAt(n+3)],s[c++]=t>>16&255,s[c++]=t>>8&255,s[c++]=255&t;return 2===u&&(t=f[e.charCodeAt(n)]<<2|f[e.charCodeAt(n+1)]>>4,s[c++]=255&t),1===u&&(t=f[e.charCodeAt(n)]<<10|f[e.charCodeAt(n+1)]<<4|f[e.charCodeAt(n+2)]>>2,s[c++]=t>>8&255,s[c++]=255&t),s}function u(e){return l[e>>18&63]+l[e>>12&63]+l[e>>6&63]+l[63&e]}function s(e,t,n){for(var r,o=[],i=t;i<n;i+=3)r=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(255&e[i+2]),o.push(u(r));return o.join("")}function c(e){for(var t,n=e.length,r=n%3,o=[],i=0,a=n-r;i<a;i+=16383)o.push(s(e,i,i+16383>a?a:i+16383));return 1===r?(t=e[n-1],o.push(l[t>>2]+l[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],o.push(l[t>>10]+l[t>>4&63]+l[t<<2&63]+"=")),o.join("")}n.byteLength=o,n.toByteArray=a,n.fromByteArray=c;for(var l=[],f=[],d="undefined"!=typeof Uint8Array?Uint8Array:Array,p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=0,m=p.length;h<m;++h)l[h]=p[h],f[p.charCodeAt(h)]=h;f["-".charCodeAt(0)]=62,f["_".charCodeAt(0)]=63},{}],70:[function(e,t,n){/*!
 * Bowser - a browser detector
 * https://github.com/ded/bowser
 * MIT License | (c) Dustin Diaz 2015
 */
!function(e,n,r){void 0!==t&&t.exports?t.exports=r():"function"==typeof define&&define.amd?define("bowser",r):e.bowser=r()}(this,0,function(){function e(e){function t(t){var n=e.match(t);return n&&n.length>1&&n[1]||""}function n(t){var n=e.match(t);return n&&n.length>1&&n[2]||""}var o,i=t(/(ipod|iphone|ipad)/i).toLowerCase(),u=/like android/i.test(e),s=!u&&/android/i.test(e),c=/nexus\s*[0-6]\s*/i.test(e),l=!c&&/nexus\s*[0-9]+/i.test(e),f=/CrOS/.test(e),d=/silk/i.test(e),p=/sailfish/i.test(e),h=/tizen/i.test(e),m=/(web|hpw)(o|0)s/i.test(e),g=/windows phone/i.test(e),v=(/SamsungBrowser/i.test(e),!g&&/windows/i.test(e)),b=!i&&!d&&/macintosh/i.test(e),y=!s&&!p&&!h&&!m&&/linux/i.test(e),w=n(/edg([ea]|ios)\/(\d+(\.\d+)?)/i),x=t(/version\/(\d+(\.\d+)?)/i),_=/tablet/i.test(e)&&!/tablet pc/i.test(e),C=!_&&/[^-]mobi/i.test(e),S=/xbox/i.test(e);/opera/i.test(e)?o={name:"Opera",opera:a,version:x||t(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr\/|opios/i.test(e)?o={name:"Opera",opera:a,version:t(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||x}:/SamsungBrowser/i.test(e)?o={name:"Samsung Internet for Android",samsungBrowser:a,version:x||t(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/Whale/i.test(e)?o={name:"NAVER Whale browser",whale:a,version:t(/(?:whale)[\s\/](\d+(?:\.\d+)+)/i)}:/MZBrowser/i.test(e)?o={name:"MZ Browser",mzbrowser:a,version:t(/(?:MZBrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/coast/i.test(e)?o={name:"Opera Coast",coast:a,version:x||t(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/focus/i.test(e)?o={name:"Focus",focus:a,version:t(/(?:focus)[\s\/](\d+(?:\.\d+)+)/i)}:/yabrowser/i.test(e)?o={name:"Yandex Browser",yandexbrowser:a,version:x||t(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(e)?o={name:"UC Browser",ucbrowser:a,version:t(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(e)?o={name:"Maxthon",maxthon:a,version:t(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(e)?o={name:"Epiphany",epiphany:a,version:t(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(e)?o={name:"Puffin",puffin:a,version:t(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(e)?o={name:"Sleipnir",sleipnir:a,version:t(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(e)?o={name:"K-Meleon",kMeleon:a,version:t(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:g?(o={name:"Windows Phone",osname:"Windows Phone",windowsphone:a},w?(o.msedge=a,o.version=w):(o.msie=a,o.version=t(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(e)?o={name:"Internet Explorer",msie:a,version:t(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:f?o={name:"Chrome",osname:"Chrome OS",chromeos:a,chromeBook:a,chrome:a,version:t(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/edg([ea]|ios)/i.test(e)?o={name:"Microsoft Edge",msedge:a,version:w}:/vivaldi/i.test(e)?o={name:"Vivaldi",vivaldi:a,version:t(/vivaldi\/(\d+(\.\d+)?)/i)||x}:p?o={name:"Sailfish",osname:"Sailfish OS",sailfish:a,version:t(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(e)?o={name:"SeaMonkey",seamonkey:a,version:t(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(e)?(o={name:"Firefox",firefox:a,version:t(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(e)&&(o.firefoxos=a,o.osname="Firefox OS")):d?o={name:"Amazon Silk",silk:a,version:t(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(e)?o={name:"PhantomJS",phantom:a,version:t(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(e)?o={name:"SlimerJS",slimer:a,version:t(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(e)||/rim\stablet/i.test(e)?o={name:"BlackBerry",osname:"BlackBerry OS",blackberry:a,version:x||t(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:m?(o={name:"WebOS",osname:"WebOS",webos:a,version:x||t(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(e)&&(o.touchpad=a)):/bada/i.test(e)?o={name:"Bada",osname:"Bada",bada:a,version:t(/dolfin\/(\d+(\.\d+)?)/i)}:h?o={name:"Tizen",osname:"Tizen",tizen:a,version:t(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||x}:/qupzilla/i.test(e)?o={name:"QupZilla",qupzilla:a,version:t(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||x}:/chromium/i.test(e)?o={name:"Chromium",chromium:a,version:t(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||x}:/chrome|crios|crmo/i.test(e)?o={name:"Chrome",chrome:a,version:t(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:s?o={name:"Android",version:x}:/safari|applewebkit/i.test(e)?(o={name:"Safari",safari:a},x&&(o.version=x)):i?(o={name:"iphone"==i?"iPhone":"ipad"==i?"iPad":"iPod"},x&&(o.version=x)):o=/googlebot/i.test(e)?{name:"Googlebot",googlebot:a,version:t(/googlebot\/(\d+(\.\d+))/i)||x}:{name:t(/^(.*)\/(.*) /),version:n(/^(.*)\/(.*) /)},!o.msedge&&/(apple)?webkit/i.test(e)?(/(apple)?webkit\/537\.36/i.test(e)?(o.name=o.name||"Blink",o.blink=a):(o.name=o.name||"Webkit",o.webkit=a),!o.version&&x&&(o.version=x)):!o.opera&&/gecko\//i.test(e)&&(o.name=o.name||"Gecko",o.gecko=a,o.version=o.version||t(/gecko\/(\d+(\.\d+)?)/i)),o.windowsphone||!s&&!o.silk?!o.windowsphone&&i?(o[i]=a,o.ios=a,o.osname="iOS"):b?(o.mac=a,o.osname="macOS"):S?(o.xbox=a,o.osname="Xbox"):v?(o.windows=a,o.osname="Windows"):y&&(o.linux=a,o.osname="Linux"):(o.android=a,o.osname="Android");var E="";o.windows?E=function(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}(t(/Windows ((NT|XP)( \d\d?.\d)?)/i)):o.windowsphone?E=t(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):o.mac?(E=t(/Mac OS X (\d+([_\.\s]\d+)*)/i),E=E.replace(/[_\s]/g,".")):i?(E=t(/os (\d+([_\s]\d+)*) like mac os x/i),E=E.replace(/[_\s]/g,".")):s?E=t(/android[ \/-](\d+(\.\d+)*)/i):o.webos?E=t(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):o.blackberry?E=t(/rim\stablet\sos\s(\d+(\.\d+)*)/i):o.bada?E=t(/bada\/(\d+(\.\d+)*)/i):o.tizen&&(E=t(/tizen[\/\s](\d+(\.\d+)*)/i)),E&&(o.osversion=E);var k=!o.windows&&E.split(".")[0];return _||l||"ipad"==i||s&&(3==k||k>=4&&!C)||o.silk?o.tablet=a:(C||"iphone"==i||"ipod"==i||s||c||o.blackberry||o.webos||o.bada)&&(o.mobile=a),o.msedge||o.msie&&o.version>=10||o.yandexbrowser&&o.version>=15||o.vivaldi&&o.version>=1||o.chrome&&o.version>=20||o.samsungBrowser&&o.version>=4||o.whale&&1===r([o.version,"1.0"])||o.mzbrowser&&1===r([o.version,"6.0"])||o.focus&&1===r([o.version,"1.0"])||o.firefox&&o.version>=20||o.safari&&o.version>=6||o.opera&&o.version>=10||o.ios&&o.osversion&&o.osversion.split(".")[0]>=6||o.blackberry&&o.version>=10.1||o.chromium&&o.version>=20?o.a=a:o.msie&&o.version<10||o.chrome&&o.version<20||o.firefox&&o.version<20||o.safari&&o.version<6||o.opera&&o.version<10||o.ios&&o.osversion&&o.osversion.split(".")[0]<6||o.chromium&&o.version<20?o.c=a:o.x=a,o}function t(e){return e.split(".").length}function n(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n++)r.push(t(e[n]));return r}function r(e){for(var r=Math.max(t(e[0]),t(e[1])),o=n(e,function(e){var o=r-t(e);return e+=new Array(o+1).join(".0"),n(e.split("."),function(e){return new Array(20-e.length).join("0")+e}).reverse()});--r>=0;){if(o[0][r]>o[1][r])return 1;if(o[0][r]!==o[1][r])return-1;if(0===r)return 0}}function o(t,n,o){var i=u;"string"==typeof n&&(o=n,n=void 0),void 0===n&&(n=!1),o&&(i=e(o));var a=""+i.version;for(var s in t)if(t.hasOwnProperty(s)&&i[s]){if("string"!=typeof t[s])throw new Error("Browser version in the minVersion map should be a string: "+s+": "+String(t));return r([a,t[s]])<0}return n}function i(e,t,n){return!o(e,t,n)}var a=!0,u=e("undefined"!=typeof navigator?navigator.userAgent||"":"");return u.test=function(e){for(var t=0;t<e.length;++t){var n=e[t];if("string"==typeof n&&n in u)return!0}return!1},u.isUnsupportedBrowser=o,u.compareVersions=r,u.check=i,u._detect=e,u.detect=e,u})},{}],71:[function(e,t,n){},{}],72:[function(e,t,n){function r(e){if(e&&!s(e))throw new Error("Unknown encoding: "+e)}function o(e){return e.toString(this.encoding)}function i(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function a(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}var u=e("buffer").Buffer,s=u.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},c=n.StringDecoder=function(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),r(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=i;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=a;break;default:return void(this.write=o)}this.charBuffer=new u(6),this.charReceived=0,this.charLength=0};c.prototype.write=function(e){for(var t="";this.charLength;){var n=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,n),this.charReceived+=n,this.charReceived<this.charLength)return"";e=e.slice(n,e.length),t=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var r=t.charCodeAt(t.length-1);if(!(r>=55296&&r<=56319)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var o=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,o),o-=this.charReceived),t+=e.toString(this.encoding,0,o);var o=t.length-1,r=t.charCodeAt(o);if(r>=55296&&r<=56319){var i=this.surrogateSize;return this.charLength+=i,this.charReceived+=i,this.charBuffer.copy(this.charBuffer,i,0,i),e.copy(this.charBuffer,0,0,i),t.substring(0,o)}return t},c.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var n=e[e.length-t];if(1==t&&n>>5==6){this.charLength=2;break}if(t<=2&&n>>4==14){this.charLength=3;break}if(t<=3&&n>>3==30){this.charLength=4;break}}this.charReceived=t},c.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var n=this.charReceived,r=this.charBuffer,o=this.encoding;t+=r.slice(0,n).toString(o)}return t}},{buffer:73}],73:[function(e,t,n){(function(t,r){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
"use strict";function o(){return r.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return r.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=r.prototype):(null===e&&(e=new r(t)),e.length=t),e}function r(e,t,n){if(!(r.TYPED_ARRAY_SUPPORT||this instanceof r))return new r(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return c(this,e)}return a(this,e,t,n)}function a(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?d(e,t,n,r):"string"==typeof t?l(e,t,n):p(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function s(e,t,n,r){return u(t),t<=0?i(e,t):void 0!==n?"string"==typeof r?i(e,t).fill(n,r):i(e,t).fill(n):i(e,t)}function c(e,t){if(u(t),e=i(e,t<0?0:0|h(t)),!r.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function l(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!r.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var o=0|g(t,n);e=i(e,o);var a=e.write(t,n);return a!==o&&(e=e.slice(0,a)),e}function f(e,t){var n=t.length<0?0:0|h(t.length);e=i(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function d(e,t,n,o){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(o||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===o?new Uint8Array(t):void 0===o?new Uint8Array(t,n):new Uint8Array(t,n,o),r.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=r.prototype):e=f(e,t),e}function p(e,t){if(r.isBuffer(t)){var n=0|h(t.length);return e=i(e,n),0===e.length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||Y(t.length)?i(e,0):f(e,t);if("Buffer"===t.type&&Q(t.data))return f(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function h(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function m(e){return+e!=e&&(e=0),r.alloc(+e)}function g(e,t){if(r.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var o=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return $(e).length;default:if(o)return q(e).length;t=(""+t).toLowerCase(),o=!0}}function v(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return M(this,t,n);case"utf8":case"utf-8":return N(this,t,n);case"ascii":return A(this,t,n);case"latin1":case"binary":return D(this,t,n);case"base64":return T(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function b(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function y(e,t,n,o,i){if(0===e.length)return-1;if("string"==typeof n?(o=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=r.from(t,o)),r.isBuffer(t))return 0===t.length?-1:w(e,t,n,o,i);if("number"==typeof t)return t&=255,r.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):w(e,[t],n,o,i);throw new TypeError("val must be string, number or Buffer")}function w(e,t,n,r,o){function i(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}var a=1,u=e.length,s=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,u/=2,s/=2,n/=2}var c;if(o){var l=-1;for(c=n;c<u;c++)if(i(e,c)===i(t,-1===l?0:c-l)){if(-1===l&&(l=c),c-l+1===s)return l*a}else-1!==l&&(c-=c-l),l=-1}else for(n+s>u&&(n=u-s),c=n;c>=0;c--){for(var f=!0,d=0;d<s;d++)if(i(e,c+d)!==i(t,d)){f=!1;break}if(f)return c}return-1}function x(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;a<r;++a){var u=parseInt(t.substr(2*a,2),16);if(isNaN(u))return a;e[n+a]=u}return a}function _(e,t,n,r){return X(q(t,e.length-n),e,n,r)}function C(e,t,n,r){return X(W(t),e,n,r)}function S(e,t,n,r){return C(e,t,n,r)}function E(e,t,n,r){return X($(t),e,n,r)}function k(e,t,n,r){return X(G(t,e.length-n),e,n,r)}function T(e,t,n){return 0===t&&n===e.length?K.fromByteArray(e):K.fromByteArray(e.slice(t,n))}function N(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i=e[o],a=null,u=i>239?4:i>223?3:i>191?2:1;if(o+u<=n){var s,c,l,f;switch(u){case 1:i<128&&(a=i);break;case 2:s=e[o+1],128==(192&s)&&(f=(31&i)<<6|63&s)>127&&(a=f);break;case 3:s=e[o+1],c=e[o+2],128==(192&s)&&128==(192&c)&&(f=(15&i)<<12|(63&s)<<6|63&c)>2047&&(f<55296||f>57343)&&(a=f);break;case 4:s=e[o+1],c=e[o+2],l=e[o+3],128==(192&s)&&128==(192&c)&&128==(192&l)&&(f=(15&i)<<18|(63&s)<<12|(63&c)<<6|63&l)>65535&&f<1114112&&(a=f)}}null===a?(a=65533,u=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),o+=u}return O(r)}function O(e){var t=e.length;if(t<=Z)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=Z));return n}function A(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function D(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function M(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=t;i<n;++i)o+=V(e[i]);return o}function I(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function R(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function P(e,t,n,o,i,a){if(!r.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(n+o>e.length)throw new RangeError("Index out of range")}function L(e,t,n,r){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-n,2);o<i;++o)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function j(e,t,n,r){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-n,4);o<i;++o)e[n+o]=t>>>8*(r?o:3-o)&255}function B(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function z(e,t,n,r,o){return o||B(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),J.write(e,t,n,r,23,4),n+4}function F(e,t,n,r,o){return o||B(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),J.write(e,t,n,r,52,8),n+8}function H(e){if(e=U(e).replace(ee,""),e.length<2)return"";for(;e.length%4!=0;)e+="=";return e}function U(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function V(e){return e<16?"0"+e.toString(16):e.toString(16)}function q(e,t){t=t||1/0;for(var n,r=e.length,o=null,i=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function W(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function G(e,t){for(var n,r,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}function $(e){return K.toByteArray(H(e))}function X(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function Y(e){return e!==e}var K=e("base64-js"),J=e("ieee754"),Q=e("isarray");n.Buffer=r,n.SlowBuffer=m,n.INSPECT_MAX_BYTES=50,r.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),n.kMaxLength=o(),r.poolSize=8192,r._augment=function(e){return e.__proto__=r.prototype,e},r.from=function(e,t,n){return a(null,e,t,n)},r.TYPED_ARRAY_SUPPORT&&(r.prototype.__proto__=Uint8Array.prototype,r.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&r[Symbol.species]===r&&Object.defineProperty(r,Symbol.species,{value:null,configurable:!0})),r.alloc=function(e,t,n){return s(null,e,t,n)},r.allocUnsafe=function(e){return c(null,e)},r.allocUnsafeSlow=function(e){return c(null,e)},r.isBuffer=function(e){return!(null==e||!e._isBuffer)},r.compare=function(e,t){if(!r.isBuffer(e)||!r.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,o=t.length,i=0,a=Math.min(n,o);i<a;++i)if(e[i]!==t[i]){n=e[i],o=t[i];break}return n<o?-1:o<n?1:0},r.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.concat=function(e,t){if(!Q(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return r.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var o=r.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!r.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(o,i),i+=a.length}return o},r.byteLength=g,r.prototype._isBuffer=!0,r.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)b(this,t,t+1);return this},r.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)b(this,t,t+3),b(this,t+1,t+2);return this},r.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)b(this,t,t+7),b(this,t+1,t+6),b(this,t+2,t+5),b(this,t+3,t+4);return this},r.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?N(this,0,e):v.apply(this,arguments)},r.prototype.equals=function(e){if(!r.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===r.compare(this,e)},r.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},r.prototype.compare=function(e,t,n,o,i){if(!r.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===o&&(o=0),void 0===i&&(i=this.length),t<0||n>e.length||o<0||i>this.length)throw new RangeError("out of range index");if(o>=i&&t>=n)return 0;if(o>=i)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,o>>>=0,i>>>=0,this===e)return 0;for(var a=i-o,u=n-t,s=Math.min(a,u),c=this.slice(o,i),l=e.slice(t,n),f=0;f<s;++f)if(c[f]!==l[f]){a=c[f],u=l[f];break}return a<u?-1:u<a?1:0},r.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},r.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0)},r.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1)},r.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return x(this,e,t,n);case"utf8":case"utf-8":return _(this,e,t,n);case"ascii":return C(this,e,t,n);case"latin1":case"binary":return S(this,e,t,n);case"base64":return E(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Z=4096;r.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var o;if(r.TYPED_ARRAY_SUPPORT)o=this.subarray(e,t),o.__proto__=r.prototype;else{var i=t-e;o=new r(i,void 0);for(var a=0;a<i;++a)o[a]=this[a+e]}return o},r.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},r.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},r.prototype.readUInt8=function(e,t){return t||R(e,1,this.length),this[e]},r.prototype.readUInt16LE=function(e,t){return t||R(e,2,this.length),this[e]|this[e+1]<<8},r.prototype.readUInt16BE=function(e,t){return t||R(e,2,this.length),this[e]<<8|this[e+1]},r.prototype.readUInt32LE=function(e,t){return t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},r.prototype.readUInt32BE=function(e,t){return t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},r.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*t)),r},r.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i},r.prototype.readInt8=function(e,t){return t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},r.prototype.readInt16LE=function(e,t){t||R(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},r.prototype.readInt16BE=function(e,t){t||R(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},r.prototype.readInt32LE=function(e,t){return t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},r.prototype.readInt32BE=function(e,t){return t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},r.prototype.readFloatLE=function(e,t){return t||R(e,4,this.length),J.read(this,e,!0,23,4)},r.prototype.readFloatBE=function(e,t){return t||R(e,4,this.length),J.read(this,e,!1,23,4)},r.prototype.readDoubleLE=function(e,t){return t||R(e,8,this.length),J.read(this,e,!0,52,8)},r.prototype.readDoubleBE=function(e,t){return t||R(e,8,this.length),J.read(this,e,!1,52,8)},r.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){P(this,e,t,n,Math.pow(2,8*n)-1,0)}var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},r.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){P(this,e,t,n,Math.pow(2,8*n)-1,0)}var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},r.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,1,255,0),r.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},r.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,65535,0),r.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},r.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,65535,0),r.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},r.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,4294967295,0),r.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):j(this,e,t,!0),t+4},r.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,4294967295,0),r.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):j(this,e,t,!1),t+4},r.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);P(this,e,t,n,o-1,-o)}var i=0,a=1,u=0;for(this[t]=255&e;++i<n&&(a*=256);)e<0&&0===u&&0!==this[t+i-1]&&(u=1),this[t+i]=(e/a>>0)-u&255;return t+n},r.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);P(this,e,t,n,o-1,-o)}var i=n-1,a=1,u=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===u&&0!==this[t+i+1]&&(u=1),this[t+i]=(e/a>>0)-u&255;return t+n},r.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,1,127,-128),r.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},r.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,32767,-32768),r.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},r.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,32767,-32768),r.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},r.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,2147483647,-2147483648),r.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):j(this,e,t,!0),t+4},r.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),r.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):j(this,e,t,!1),t+4},r.prototype.writeFloatLE=function(e,t,n){return z(this,e,t,!0,n)},r.prototype.writeFloatBE=function(e,t,n){return z(this,e,t,!1,n)},r.prototype.writeDoubleLE=function(e,t,n){return F(this,e,t,!0,n)},r.prototype.writeDoubleBE=function(e,t,n){return F(this,e,t,!1,n)},r.prototype.copy=function(e,t,n,o){if(n||(n=0),o||0===o||(o=this.length),t>=e.length&&(t=e.length),t||(t=0),o>0&&o<n&&(o=n),o===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),e.length-t<o-n&&(o=e.length-t+n);var i,a=o-n;if(this===e&&n<t&&t<o)for(i=a-1;i>=0;--i)e[i+t]=this[i+n];else if(a<1e3||!r.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},r.prototype.fill=function(e,t,n,o){if("string"==typeof e){if("string"==typeof t?(o=t,t=0,n=this.length):"string"==typeof n&&(o=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==o&&"string"!=typeof o)throw new TypeError("encoding must be a string");if("string"==typeof o&&!r.isEncoding(o))throw new TypeError("Unknown encoding: "+o)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0);var a;if("number"==typeof e)for(a=t;a<n;++a)this[a]=e;else{var u=r.isBuffer(e)?e:q(new r(e,o).toString()),s=u.length;for(a=0;a<n-t;++a)this[a+t]=u[a%s]}return this};var ee=/[^+\/0-9A-Za-z-_]/g}).call(this,void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer)},{"base64-js":69,buffer:73,ieee754:195,isarray:198}],74:[function(e,t,n){t.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{}],75:[function(e,t,n){t.exports={O_RDONLY:0,O_WRONLY:1,O_RDWR:2,S_IFMT:61440,S_IFREG:32768,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960,S_IFSOCK:49152,O_CREAT:512,O_EXCL:2048,O_NOCTTY:131072,O_TRUNC:1024,O_APPEND:8,O_DIRECTORY:1048576,O_NOFOLLOW:256,O_SYNC:128,O_SYMLINK:2097152,O_NONBLOCK:4,S_IRWXU:448,S_IRUSR:256,S_IWUSR:128,S_IXUSR:64,S_IRWXG:56,S_IRGRP:32,S_IWGRP:16,S_IXGRP:8,S_IRWXO:7,S_IROTH:4,S_IWOTH:2,S_IXOTH:1,E2BIG:7,EACCES:13,EADDRINUSE:48,EADDRNOTAVAIL:49,EAFNOSUPPORT:47,EAGAIN:35,EALREADY:37,EBADF:9,EBADMSG:94,EBUSY:16,ECANCELED:89,ECHILD:10,ECONNABORTED:53,ECONNREFUSED:61,ECONNRESET:54,EDEADLK:11,EDESTADDRREQ:39,EDOM:33,EDQUOT:69,EEXIST:17,EFAULT:14,EFBIG:27,EHOSTUNREACH:65,EIDRM:90,EILSEQ:92,EINPROGRESS:36,EINTR:4,EINVAL:22,EIO:5,EISCONN:56,EISDIR:21,ELOOP:62,EMFILE:24,EMLINK:31,EMSGSIZE:40,EMULTIHOP:95,ENAMETOOLONG:63,ENETDOWN:50,ENETRESET:52,ENETUNREACH:51,ENFILE:23,ENOBUFS:55,ENODATA:96,ENODEV:19,ENOENT:2,ENOEXEC:8,ENOLCK:77,ENOLINK:97,ENOMEM:12,ENOMSG:91,ENOPROTOOPT:42,ENOSPC:28,ENOSR:98,ENOSTR:99,ENOSYS:78,ENOTCONN:57,ENOTDIR:20,ENOTEMPTY:66,ENOTSOCK:38,ENOTSUP:45,ENOTTY:25,ENXIO:6,EOPNOTSUPP:102,EOVERFLOW:84,EPERM:1,EPIPE:32,EPROTO:100,EPROTONOSUPPORT:43,EPROTOTYPE:41,ERANGE:34,EROFS:30,ESPIPE:29,ESRCH:3,ESTALE:70,ETIME:101,ETIMEDOUT:60,ETXTBSY:26,EWOULDBLOCK:35,EXDEV:18,SIGHUP:1,SIGINT:2,SIGQUIT:3,SIGILL:4,SIGTRAP:5,SIGABRT:6,SIGIOT:6,SIGBUS:10,SIGFPE:8,SIGKILL:9,SIGUSR1:30,SIGSEGV:11,SIGUSR2:31,SIGPIPE:13,SIGALRM:14,SIGTERM:15,SIGCHLD:20,SIGCONT:19,SIGSTOP:17,SIGTSTP:18,SIGTTIN:21,SIGTTOU:22,SIGURG:16,SIGXCPU:24,SIGXFSZ:25,SIGVTALRM:26,SIGPROF:27,SIGWINCH:28,SIGIO:23,SIGSYS:12,SSL_OP_ALL:2147486719,SSL_OP_ALLOW_UNSAFE_LEGACY_RENEGOTIATION:262144,SSL_OP_CIPHER_SERVER_PREFERENCE:4194304,SSL_OP_CISCO_ANYCONNECT:32768,SSL_OP_COOKIE_EXCHANGE:8192,SSL_OP_CRYPTOPRO_TLSEXT_BUG:2147483648,SSL_OP_DONT_INSERT_EMPTY_FRAGMENTS:2048,SSL_OP_EPHEMERAL_RSA:0,SSL_OP_LEGACY_SERVER_CONNECT:4,SSL_OP_MICROSOFT_BIG_SSLV3_BUFFER:32,SSL_OP_MICROSOFT_SESS_ID_BUG:1,SSL_OP_MSIE_SSLV2_RSA_PADDING:0,SSL_OP_NETSCAPE_CA_DN_BUG:536870912,SSL_OP_NETSCAPE_CHALLENGE_BUG:2,SSL_OP_NETSCAPE_DEMO_CIPHER_CHANGE_BUG:1073741824,SSL_OP_NETSCAPE_REUSE_CIPHER_CHANGE_BUG:8,SSL_OP_NO_COMPRESSION:131072,SSL_OP_NO_QUERY_MTU:4096,SSL_OP_NO_SESSION_RESUMPTION_ON_RENEGOTIATION:65536,SSL_OP_NO_SSLv2:16777216,SSL_OP_NO_SSLv3:33554432,SSL_OP_NO_TICKET:16384,SSL_OP_NO_TLSv1:67108864,SSL_OP_NO_TLSv1_1:268435456,SSL_OP_NO_TLSv1_2:134217728,SSL_OP_PKCS1_CHECK_1:0,SSL_OP_PKCS1_CHECK_2:0,SSL_OP_SINGLE_DH_USE:1048576,SSL_OP_SINGLE_ECDH_USE:524288,SSL_OP_SSLEAY_080_CLIENT_DH_BUG:128,SSL_OP_SSLREF2_REUSE_CERT_TYPE_BUG:0,SSL_OP_TLS_BLOCK_PADDING_BUG:512,SSL_OP_TLS_D5_BUG:256,SSL_OP_TLS_ROLLBACK_BUG:8388608,ENGINE_METHOD_DSA:2,ENGINE_METHOD_DH:4,ENGINE_METHOD_RAND:8,ENGINE_METHOD_ECDH:16,ENGINE_METHOD_ECDSA:32,ENGINE_METHOD_CIPHERS:64,ENGINE_METHOD_DIGESTS:128,ENGINE_METHOD_STORE:256,ENGINE_METHOD_PKEY_METHS:512,ENGINE_METHOD_PKEY_ASN1_METHS:1024,ENGINE_METHOD_ALL:65535,ENGINE_METHOD_NONE:0,DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6,F_OK:0,R_OK:4,W_OK:2,X_OK:1,UV_UDP_REUSEADDR:4}},{}],76:[function(e,t,n){/*!
 * copy-to - index.js
 * Copyright(c) 2014 dead_horse <dead_horse@qq.com>
 * MIT Licensed
 */
"use strict";function r(e,t){if(!(this instanceof r))return new r(e,t);this.src=e,this._withAccess=t}function o(e,t){return void 0===e[t]&&void 0===e.__lookupGetter__(t)&&void 0===e.__lookupSetter__(t)}var i=Array.prototype.slice;t.exports=r,r.prototype.withAccess=function(e){return this._withAccess=!1!==e,this},r.prototype.pick=function(e){return Array.isArray(e)||(e=i.call(arguments)),e.length&&(this.keys=e),this},r.prototype.to=function(e){if(e=e||{},!this.src)return e;var t=this.keys||Object.keys(this.src);if(!this._withAccess){for(var n=0;n<t.length;n++)r=t[n],void 0===e[r]&&(e[r]=this.src[r]);return e}for(var n=0;n<t.length;n++){var r=t[n];if(o(e,r)){var i=this.src.__lookupGetter__(r),a=this.src.__lookupSetter__(r);i&&e.__defineGetter__(r,i),a&&e.__defineSetter__(r,a),i||a||(e[r]=this.src[r])}}return e},r.prototype.toCover=function(e){for(var t=this.keys||Object.keys(this.src),n=0;n<t.length;n++){var r=t[n];delete e[r];var o=this.src.__lookupGetter__(r),i=this.src.__lookupSetter__(r);o&&e.__defineGetter__(r,o),i&&e.__defineSetter__(r,i),o||i||(e[r]=this.src[r])}},r.prototype.override=r.prototype.toCover,r.prototype.and=function(e){var t={};return this.to(t),this.src=e,this.to(t),this.src=t,this}},{}],77:[function(e,t,n){e("../../modules/es6.string.iterator"),e("../../modules/es6.array.from"),t.exports=e("../../modules/_core").Array.from},{"../../modules/_core":99,"../../modules/es6.array.from":168,"../../modules/es6.string.iterator":180}],78:[function(e,t,n){var r=e("../../modules/_core"),o=r.JSON||(r.JSON={stringify:JSON.stringify});t.exports=function(e){return o.stringify.apply(o,arguments)}},{"../../modules/_core":99}],79:[function(e,t,n){e("../../modules/es6.object.assign"),t.exports=e("../../modules/_core").Object.assign},{"../../modules/_core":99,"../../modules/es6.object.assign":171}],80:[function(e,t,n){e("../../modules/es6.object.create");var r=e("../../modules/_core").Object;t.exports=function(e,t){return r.create(e,t)}},{"../../modules/_core":99,"../../modules/es6.object.create":172}],81:[function(e,t,n){e("../../modules/es6.object.define-property");var r=e("../../modules/_core").Object;t.exports=function(e,t,n){return r.defineProperty(e,t,n)}},{"../../modules/_core":99,"../../modules/es6.object.define-property":173}],82:[function(e,t,n){e("../../modules/es7.object.entries"),t.exports=e("../../modules/_core").Object.entries},{"../../modules/_core":99,"../../modules/es7.object.entries":182}],83:[function(e,t,n){e("../../modules/es6.object.get-own-property-names");var r=e("../../modules/_core").Object;t.exports=function(e){return r.getOwnPropertyNames(e)}},{"../../modules/_core":99,"../../modules/es6.object.get-own-property-names":174}],84:[function(e,t,n){e("../../modules/es6.object.get-prototype-of"),t.exports=e("../../modules/_core").Object.getPrototypeOf},{"../../modules/_core":99,"../../modules/es6.object.get-prototype-of":175}],85:[function(e,t,n){e("../../modules/es6.object.keys"),t.exports=e("../../modules/_core").Object.keys},{"../../modules/_core":99,"../../modules/es6.object.keys":176}],86:[function(e,t,n){e("../modules/es6.object.to-string"),e("../modules/es6.string.iterator"),e("../modules/web.dom.iterable"),e("../modules/es6.promise"),e("../modules/es7.promise.finally"),e("../modules/es7.promise.try"),t.exports=e("../modules/_core").Promise},{"../modules/_core":99,"../modules/es6.object.to-string":177,"../modules/es6.promise":178,"../modules/es6.string.iterator":180,"../modules/es7.promise.finally":183,"../modules/es7.promise.try":184,"../modules/web.dom.iterable":187}],87:[function(e,t,n){e("../modules/web.immediate"),t.exports=e("../modules/_core").setImmediate},{"../modules/_core":99,"../modules/web.immediate":188}],88:[function(e,t,n){e("../../modules/es6.string.from-code-point"),t.exports=e("../../modules/_core").String.fromCodePoint},{"../../modules/_core":99,"../../modules/es6.string.from-code-point":179}],89:[function(e,t,n){e("../../modules/es6.function.has-instance"),t.exports=e("../../modules/_wks-ext").f("hasInstance")},{"../../modules/_wks-ext":165,"../../modules/es6.function.has-instance":170}],90:[function(e,t,n){e("../../modules/es6.symbol"),e("../../modules/es6.object.to-string"),e("../../modules/es7.symbol.async-iterator"),e("../../modules/es7.symbol.observable"),t.exports=e("../../modules/_core").Symbol},{"../../modules/_core":99,"../../modules/es6.object.to-string":177,"../../modules/es6.symbol":181,"../../modules/es7.symbol.async-iterator":185,"../../modules/es7.symbol.observable":186}],91:[function(e,t,n){e("../../modules/es6.string.iterator"),e("../../modules/web.dom.iterable"),t.exports=e("../../modules/_wks-ext").f("iterator")},{"../../modules/_wks-ext":165,"../../modules/es6.string.iterator":180,"../../modules/web.dom.iterable":187}],92:[function(e,t,n){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],93:[function(e,t,n){t.exports=function(){}},{}],94:[function(e,t,n){t.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},{}],95:[function(e,t,n){var r=e("./_is-object");t.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},{"./_is-object":119}],96:[function(e,t,n){var r=e("./_to-iobject"),o=e("./_to-length"),i=e("./_to-absolute-index");t.exports=function(e){return function(t,n,a){var u,s=r(t),c=o(s.length),l=i(a,c);if(e&&n!=n){for(;c>l;)if((u=s[l++])!=u)return!0}else for(;c>l;l++)if((e||l in s)&&s[l]===n)return e||l||0;return!e&&-1}}},{"./_to-absolute-index":156,"./_to-iobject":158,"./_to-length":159}],97:[function(e,t,n){var r=e("./_cof"),o=e("./_wks")("toStringTag"),i="Arguments"==r(function(){return arguments}()),a=function(e,t){try{return e[t]}catch(e){}};t.exports=function(e){var t,n,u;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=a(t=Object(e),o))?n:i?r(t):"Object"==(u=r(t))&&"function"==typeof t.callee?"Arguments":u}},{"./_cof":98,"./_wks":166}],98:[function(e,t,n){var r={}.toString;t.exports=function(e){return r.call(e).slice(8,-1)}},{}],99:[function(e,t,n){var r=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=r)},{}],100:[function(e,t,n){"use strict";var r=e("./_object-dp"),o=e("./_property-desc");t.exports=function(e,t,n){t in e?r.f(e,t,o(0,n)):e[t]=n}},{"./_object-dp":132,"./_property-desc":146}],101:[function(e,t,n){var r=e("./_a-function");t.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},{"./_a-function":92}],102:[function(e,t,n){t.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},{}],103:[function(e,t,n){t.exports=!e("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":108}],104:[function(e,t,n){var r=e("./_is-object"),o=e("./_global").document,i=r(o)&&r(o.createElement);t.exports=function(e){return i?o.createElement(e):{}}},{"./_global":110,"./_is-object":119}],105:[function(e,t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],106:[function(e,t,n){var r=e("./_object-keys"),o=e("./_object-gops"),i=e("./_object-pie");t.exports=function(e){var t=r(e),n=o.f;if(n)for(var a,u=n(e),s=i.f,c=0;u.length>c;)s.call(e,a=u[c++])&&t.push(a);return t}},{"./_object-gops":137,"./_object-keys":140,"./_object-pie":141}],107:[function(e,t,n){var r=e("./_global"),o=e("./_core"),i=e("./_ctx"),a=e("./_hide"),u=e("./_has"),s=function(e,t,n){var c,l,f,d=e&s.F,p=e&s.G,h=e&s.S,m=e&s.P,g=e&s.B,v=e&s.W,b=p?o:o[t]||(o[t]={}),y=b.prototype,w=p?r:h?r[t]:(r[t]||{}).prototype;p&&(n=t);for(c in n)(l=!d&&w&&void 0!==w[c])&&u(b,c)||(f=l?w[c]:n[c],b[c]=p&&"function"!=typeof w[c]?n[c]:g&&l?i(f,r):v&&w[c]==f?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(f):m&&"function"==typeof f?i(Function.call,f):f,m&&((b.virtual||(b.virtual={}))[c]=f,e&s.R&&y&&!y[c]&&a(y,c,f)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,t.exports=s},{"./_core":99,"./_ctx":101,"./_global":110,"./_has":111,"./_hide":112}],108:[function(e,t,n){t.exports=function(e){try{return!!e()}catch(e){return!0}}},{}],109:[function(e,t,n){var r=e("./_ctx"),o=e("./_iter-call"),i=e("./_is-array-iter"),a=e("./_an-object"),u=e("./_to-length"),s=e("./core.get-iterator-method"),c={},l={},n=t.exports=function(e,t,n,f,d){var p,h,m,g,v=d?function(){return e}:s(e),b=r(n,f,t?2:1),y=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(i(v)){for(p=u(e.length);p>y;y++)if((g=t?b(a(h=e[y])[0],h[1]):b(e[y]))===c||g===l)return g}else for(m=v.call(e);!(h=m.next()).done;)if((g=o(m,b,h.value,t))===c||g===l)return g};n.BREAK=c,n.RETURN=l},{"./_an-object":95,"./_ctx":101,"./_is-array-iter":117,"./_iter-call":120,"./_to-length":159,"./core.get-iterator-method":167}],110:[function(e,t,n){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},{}],111:[function(e,t,n){var r={}.hasOwnProperty;t.exports=function(e,t){return r.call(e,t)}},{}],112:[function(e,t,n){var r=e("./_object-dp"),o=e("./_property-desc");t.exports=e("./_descriptors")?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},{"./_descriptors":103,"./_object-dp":132,"./_property-desc":146}],113:[function(e,t,n){var r=e("./_global").document;t.exports=r&&r.documentElement},{"./_global":110}],114:[function(e,t,n){t.exports=!e("./_descriptors")&&!e("./_fails")(function(){return 7!=Object.defineProperty(e("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":103,"./_dom-create":104,"./_fails":108}],115:[function(e,t,n){t.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},{}],116:[function(e,t,n){var r=e("./_cof");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},{"./_cof":98}],117:[function(e,t,n){var r=e("./_iterators"),o=e("./_wks")("iterator"),i=Array.prototype;t.exports=function(e){return void 0!==e&&(r.Array===e||i[o]===e)}},{"./_iterators":125,"./_wks":166}],118:[function(e,t,n){var r=e("./_cof");t.exports=Array.isArray||function(e){return"Array"==r(e)}},{"./_cof":98}],119:[function(e,t,n){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],120:[function(e,t,n){var r=e("./_an-object");t.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&r(i.call(e)),t}}},{"./_an-object":95}],121:[function(e,t,n){"use strict";var r=e("./_object-create"),o=e("./_property-desc"),i=e("./_set-to-string-tag"),a={};e("./_hide")(a,e("./_wks")("iterator"),function(){return this}),t.exports=function(e,t,n){e.prototype=r(a,{next:o(1,n)}),i(e,t+" Iterator")}},{"./_hide":112,"./_object-create":131,"./_property-desc":146,"./_set-to-string-tag":150,"./_wks":166}],122:[function(e,t,n){"use strict";var r=e("./_library"),o=e("./_export"),i=e("./_redefine"),a=e("./_hide"),u=e("./_iterators"),s=e("./_iter-create"),c=e("./_set-to-string-tag"),l=e("./_object-gpo"),f=e("./_wks")("iterator"),d=!([].keys&&"next"in[].keys()),p=function(){return this};t.exports=function(e,t,n,h,m,g,v){s(n,t,h);var b,y,w,x=function(e){if(!d&&e in E)return E[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},_=t+" Iterator",C="values"==m,S=!1,E=e.prototype,k=E[f]||E["@@iterator"]||m&&E[m],T=k||x(m),N=m?C?x("entries"):T:void 0,O="Array"==t?E.entries||k:k;if(O&&(w=l(O.call(new e)))!==Object.prototype&&w.next&&(c(w,_,!0),r||"function"==typeof w[f]||a(w,f,p)),C&&k&&"values"!==k.name&&(S=!0,T=function(){return k.call(this)}),r&&!v||!d&&!S&&E[f]||a(E,f,T),u[t]=T,u[_]=p,m)if(b={values:C?T:x("values"),keys:g?T:x("keys"),entries:N},v)for(y in b)y in E||i(E,y,b[y]);else o(o.P+o.F*(d||S),t,b);return b}},{"./_export":107,"./_hide":112,"./_iter-create":121,"./_iterators":125,"./_library":126,"./_object-gpo":138,"./_redefine":148,"./_set-to-string-tag":150,"./_wks":166}],123:[function(e,t,n){var r=e("./_wks")("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(e){}t.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i=[7],a=i[r]();a.next=function(){return{done:n=!0}},i[r]=function(){return a},e(i)}catch(e){}return n}},{"./_wks":166}],124:[function(e,t,n){t.exports=function(e,t){return{value:t,done:!!e}}},{}],125:[function(e,t,n){t.exports={}},{}],126:[function(e,t,n){t.exports=!0},{}],127:[function(e,t,n){var r=e("./_uid")("meta"),o=e("./_is-object"),i=e("./_has"),a=e("./_object-dp").f,u=0,s=Object.isExtensible||function(){return!0},c=!e("./_fails")(function(){return s(Object.preventExtensions({}))}),l=function(e){a(e,r,{value:{i:"O"+ ++u,w:{}}})},f=function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,r)){if(!s(e))return"F";if(!t)return"E";l(e)}return e[r].i},d=function(e,t){if(!i(e,r)){if(!s(e))return!0;if(!t)return!1;l(e)}return e[r].w},p=function(e){return c&&h.NEED&&s(e)&&!i(e,r)&&l(e),e},h=t.exports={KEY:r,NEED:!1,fastKey:f,getWeak:d,onFreeze:p}},{"./_fails":108,"./_has":111,"./_is-object":119,"./_object-dp":132,"./_uid":162}],128:[function(e,t,n){var r=e("./_global"),o=e("./_task").set,i=r.MutationObserver||r.WebKitMutationObserver,a=r.process,u=r.Promise,s="process"==e("./_cof")(a);t.exports=function(){var e,t,n,c=function(){var r,o;for(s&&(r=a.domain)&&r.exit();e;){o=e.fn,e=e.next;try{o()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(s)n=function(){a.nextTick(c)};else if(!i||r.navigator&&r.navigator.standalone)if(u&&u.resolve){var l=u.resolve(void 0);n=function(){l.then(c)}}else n=function(){o.call(r,c)};else{var f=!0,d=document.createTextNode("");new i(c).observe(d,{characterData:!0}),n=function(){d.data=f=!f}}return function(r){var o={fn:r,next:void 0};t&&(t.next=o),e||(e=o,n()),t=o}}},{"./_cof":98,"./_global":110,"./_task":155}],129:[function(e,t,n){"use strict";function r(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=o(t),this.reject=o(n)}var o=e("./_a-function");t.exports.f=function(e){return new r(e)}},{"./_a-function":92}],130:[function(e,t,n){"use strict";var r=e("./_descriptors"),o=e("./_object-keys"),i=e("./_object-gops"),a=e("./_object-pie"),u=e("./_to-object"),s=e("./_iobject"),c=Object.assign;t.exports=!c||e("./_fails")(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=c({},e)[n]||Object.keys(c({},t)).join("")!=r})?function(e,t){for(var n=u(e),c=arguments.length,l=1,f=i.f,d=a.f;c>l;)for(var p,h=s(arguments[l++]),m=f?o(h).concat(f(h)):o(h),g=m.length,v=0;g>v;)p=m[v++],r&&!d.call(h,p)||(n[p]=h[p]);return n}:c},{"./_descriptors":103,"./_fails":108,"./_iobject":116,"./_object-gops":137,"./_object-keys":140,"./_object-pie":141,"./_to-object":160}],131:[function(e,t,n){var r=e("./_an-object"),o=e("./_object-dps"),i=e("./_enum-bug-keys"),a=e("./_shared-key")("IE_PROTO"),u=function(){},s=function(){var t,n=e("./_dom-create")("iframe"),r=i.length;for(n.style.display="none",e("./_html").appendChild(n),n.src="javascript:",t=n.contentWindow.document,t.open(),t.write("<script>document.F=Object<\/script>"),t.close(),s=t.F;r--;)delete s.prototype[i[r]];return s()};t.exports=Object.create||function(e,t){var n;return null!==e?(u.prototype=r(e),n=new u,u.prototype=null,n[a]=e):n=s(),void 0===t?n:o(n,t)}},{"./_an-object":95,"./_dom-create":104,"./_enum-bug-keys":105,"./_html":113,"./_object-dps":133,"./_shared-key":151}],132:[function(e,t,n){var r=e("./_an-object"),o=e("./_ie8-dom-define"),i=e("./_to-primitive"),a=Object.defineProperty;n.f=e("./_descriptors")?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},{"./_an-object":95,"./_descriptors":103,"./_ie8-dom-define":114,"./_to-primitive":161}],133:[function(e,t,n){var r=e("./_object-dp"),o=e("./_an-object"),i=e("./_object-keys");t.exports=e("./_descriptors")?Object.defineProperties:function(e,t){o(e);for(var n,a=i(t),u=a.length,s=0;u>s;)r.f(e,n=a[s++],t[n]);return e}},{"./_an-object":95,"./_descriptors":103,"./_object-dp":132,"./_object-keys":140}],134:[function(e,t,n){var r=e("./_object-pie"),o=e("./_property-desc"),i=e("./_to-iobject"),a=e("./_to-primitive"),u=e("./_has"),s=e("./_ie8-dom-define"),c=Object.getOwnPropertyDescriptor;n.f=e("./_descriptors")?c:function(e,t){if(e=i(e),t=a(t,!0),s)try{return c(e,t)}catch(e){}if(u(e,t))return o(!r.f.call(e,t),e[t])}},{"./_descriptors":103,"./_has":111,"./_ie8-dom-define":114,"./_object-pie":141,"./_property-desc":146,"./_to-iobject":158,"./_to-primitive":161}],135:[function(e,t,n){var r=e("./_to-iobject"),o=e("./_object-gopn").f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],u=function(e){try{return o(e)}catch(e){return a.slice()}};t.exports.f=function(e){return a&&"[object Window]"==i.call(e)?u(e):o(r(e))}},{"./_object-gopn":136,"./_to-iobject":158}],136:[function(e,t,n){var r=e("./_object-keys-internal"),o=e("./_enum-bug-keys").concat("length","prototype");n.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},{"./_enum-bug-keys":105,"./_object-keys-internal":139}],137:[function(e,t,n){n.f=Object.getOwnPropertySymbols},{}],138:[function(e,t,n){var r=e("./_has"),o=e("./_to-object"),i=e("./_shared-key")("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},{"./_has":111,"./_shared-key":151,"./_to-object":160}],139:[function(e,t,n){var r=e("./_has"),o=e("./_to-iobject"),i=e("./_array-includes")(!1),a=e("./_shared-key")("IE_PROTO");t.exports=function(e,t){var n,u=o(e),s=0,c=[];for(n in u)n!=a&&r(u,n)&&c.push(n);for(;t.length>s;)r(u,n=t[s++])&&(~i(c,n)||c.push(n));return c}},{"./_array-includes":96,"./_has":111,"./_shared-key":151,"./_to-iobject":158}],140:[function(e,t,n){var r=e("./_object-keys-internal"),o=e("./_enum-bug-keys");t.exports=Object.keys||function(e){return r(e,o)}},{"./_enum-bug-keys":105,"./_object-keys-internal":139}],141:[function(e,t,n){n.f={}.propertyIsEnumerable},{}],142:[function(e,t,n){var r=e("./_export"),o=e("./_core"),i=e("./_fails");t.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*i(function(){n(1)}),"Object",a)}},{"./_core":99,"./_export":107,"./_fails":108}],143:[function(e,t,n){var r=e("./_descriptors"),o=e("./_object-keys"),i=e("./_to-iobject"),a=e("./_object-pie").f;t.exports=function(e){return function(t){for(var n,u=i(t),s=o(u),c=s.length,l=0,f=[];c>l;)n=s[l++],r&&!a.call(u,n)||f.push(e?[n,u[n]]:u[n]);return f}}},{"./_descriptors":103,"./_object-keys":140,"./_object-pie":141,"./_to-iobject":158}],144:[function(e,t,n){t.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},{}],145:[function(e,t,n){var r=e("./_an-object"),o=e("./_is-object"),i=e("./_new-promise-capability");t.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;var n=i.f(e);return(0,n.resolve)(t),n.promise}},{"./_an-object":95,"./_is-object":119,"./_new-promise-capability":129}],146:[function(e,t,n){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],147:[function(e,t,n){var r=e("./_hide");t.exports=function(e,t,n){for(var o in t)n&&e[o]?e[o]=t[o]:r(e,o,t[o]);return e}},{"./_hide":112}],148:[function(e,t,n){t.exports=e("./_hide")},{"./_hide":112}],149:[function(e,t,n){"use strict";var r=e("./_global"),o=e("./_core"),i=e("./_object-dp"),a=e("./_descriptors"),u=e("./_wks")("species");t.exports=function(e){var t="function"==typeof o[e]?o[e]:r[e];a&&t&&!t[u]&&i.f(t,u,{configurable:!0,get:function(){return this}})}},{"./_core":99,"./_descriptors":103,"./_global":110,"./_object-dp":132,"./_wks":166}],150:[function(e,t,n){var r=e("./_object-dp").f,o=e("./_has"),i=e("./_wks")("toStringTag");t.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},{"./_has":111,"./_object-dp":132,"./_wks":166}],151:[function(e,t,n){var r=e("./_shared")("keys"),o=e("./_uid");t.exports=function(e){return r[e]||(r[e]=o(e))}},{"./_shared":152,"./_uid":162}],152:[function(e,t,n){var r=e("./_core"),o=e("./_global"),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(t.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:e("./_library")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},{"./_core":99,"./_global":110,"./_library":126}],153:[function(e,t,n){var r=e("./_an-object"),o=e("./_a-function"),i=e("./_wks")("species");t.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||void 0==(n=r(a)[i])?t:o(n)}},{"./_a-function":92,"./_an-object":95,"./_wks":166}],154:[function(e,t,n){var r=e("./_to-integer"),o=e("./_defined");t.exports=function(e){return function(t,n){var i,a,u=String(o(t)),s=r(n),c=u.length;return s<0||s>=c?e?"":void 0:(i=u.charCodeAt(s),i<55296||i>56319||s+1===c||(a=u.charCodeAt(s+1))<56320||a>57343?e?u.charAt(s):i:e?u.slice(s,s+2):a-56320+(i-55296<<10)+65536)}}},{"./_defined":102,"./_to-integer":157}],155:[function(e,t,n){var r,o,i,a=e("./_ctx"),u=e("./_invoke"),s=e("./_html"),c=e("./_dom-create"),l=e("./_global"),f=l.process,d=l.setImmediate,p=l.clearImmediate,h=l.MessageChannel,m=l.Dispatch,g=0,v={},b=function(){var e=+this;if(v.hasOwnProperty(e)){var t=v[e];delete v[e],t()}},y=function(e){b.call(e.data)};d&&p||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return v[++g]=function(){u("function"==typeof e?e:Function(e),t)},r(g),g},p=function(e){delete v[e]},"process"==e("./_cof")(f)?r=function(e){f.nextTick(a(b,e,1))}:m&&m.now?r=function(e){m.now(a(b,e,1))}:h?(o=new h,i=o.port2,o.port1.onmessage=y,r=a(i.postMessage,i,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(e){l.postMessage(e+"","*")},l.addEventListener("message",y,!1)):r="onreadystatechange"in c("script")?function(e){s.appendChild(c("script")).onreadystatechange=function(){s.removeChild(this),b.call(e)}}:function(e){setTimeout(a(b,e,1),0)}),t.exports={set:d,clear:p}},{"./_cof":98,"./_ctx":101,"./_dom-create":104,"./_global":110,"./_html":113,"./_invoke":115}],156:[function(e,t,n){var r=e("./_to-integer"),o=Math.max,i=Math.min;t.exports=function(e,t){return e=r(e),e<0?o(e+t,0):i(e,t)}},{"./_to-integer":157}],157:[function(e,t,n){var r=Math.ceil,o=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(e>0?o:r)(e)}},{}],158:[function(e,t,n){var r=e("./_iobject"),o=e("./_defined");t.exports=function(e){return r(o(e))}},{"./_defined":102,"./_iobject":116}],159:[function(e,t,n){var r=e("./_to-integer"),o=Math.min;t.exports=function(e){return e>0?o(r(e),9007199254740991):0}},{"./_to-integer":157}],160:[function(e,t,n){var r=e("./_defined");t.exports=function(e){return Object(r(e))}},{"./_defined":102}],161:[function(e,t,n){var r=e("./_is-object");t.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":119}],162:[function(e,t,n){var r=0,o=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+o).toString(36))}},{}],163:[function(e,t,n){var r=e("./_global"),o=r.navigator;t.exports=o&&o.userAgent||""},{"./_global":110}],164:[function(e,t,n){var r=e("./_global"),o=e("./_core"),i=e("./_library"),a=e("./_wks-ext"),u=e("./_object-dp").f;t.exports=function(e){var t=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||u(t,e,{value:a.f(e)})}},{"./_core":99,"./_global":110,"./_library":126,"./_object-dp":132,"./_wks-ext":165}],165:[function(e,t,n){n.f=e("./_wks")},{"./_wks":166}],166:[function(e,t,n){var r=e("./_shared")("wks"),o=e("./_uid"),i=e("./_global").Symbol,a="function"==typeof i;(t.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=r},{"./_global":110,"./_shared":152,"./_uid":162}],167:[function(e,t,n){var r=e("./_classof"),o=e("./_wks")("iterator"),i=e("./_iterators");t.exports=e("./_core").getIteratorMethod=function(e){if(void 0!=e)return e[o]||e["@@iterator"]||i[r(e)]}},{"./_classof":97,"./_core":99,"./_iterators":125,"./_wks":166}],168:[function(e,t,n){"use strict";var r=e("./_ctx"),o=e("./_export"),i=e("./_to-object"),a=e("./_iter-call"),u=e("./_is-array-iter"),s=e("./_to-length"),c=e("./_create-property"),l=e("./core.get-iterator-method");o(o.S+o.F*!e("./_iter-detect")(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,o,f,d=i(e),p="function"==typeof this?this:Array,h=arguments.length,m=h>1?arguments[1]:void 0,g=void 0!==m,v=0,b=l(d);if(g&&(m=r(m,h>2?arguments[2]:void 0,2)),void 0==b||p==Array&&u(b))for(t=s(d.length),n=new p(t);t>v;v++)c(n,v,g?m(d[v],v):d[v]);else for(f=b.call(d),n=new p;!(o=f.next()).done;v++)c(n,v,g?a(f,m,[o.value,v],!0):o.value);return n.length=v,n}})},{"./_create-property":100,"./_ctx":101,"./_export":107,"./_is-array-iter":117,"./_iter-call":120,"./_iter-detect":123,"./_to-length":159,"./_to-object":160,"./core.get-iterator-method":167}],169:[function(e,t,n){"use strict";var r=e("./_add-to-unscopables"),o=e("./_iter-step"),i=e("./_iterators"),a=e("./_to-iobject");t.exports=e("./_iter-define")(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):"keys"==t?o(0,n):"values"==t?o(0,e[n]):o(0,[n,e[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},{"./_add-to-unscopables":93,"./_iter-define":122,"./_iter-step":124,"./_iterators":125,"./_to-iobject":158}],170:[function(e,t,n){"use strict";var r=e("./_is-object"),o=e("./_object-gpo"),i=e("./_wks")("hasInstance"),a=Function.prototype;i in a||e("./_object-dp").f(a,i,{value:function(e){if("function"!=typeof this||!r(e))return!1;if(!r(this.prototype))return e instanceof this;for(;e=o(e);)if(this.prototype===e)return!0;return!1}})},{"./_is-object":119,"./_object-dp":132,"./_object-gpo":138,"./_wks":166}],171:[function(e,t,n){var r=e("./_export");r(r.S+r.F,"Object",{assign:e("./_object-assign")})},{"./_export":107,"./_object-assign":130}],172:[function(e,t,n){var r=e("./_export");r(r.S,"Object",{create:e("./_object-create")})},{"./_export":107,"./_object-create":131}],173:[function(e,t,n){var r=e("./_export");r(r.S+r.F*!e("./_descriptors"),"Object",{defineProperty:e("./_object-dp").f})},{"./_descriptors":103,"./_export":107,"./_object-dp":132}],174:[function(e,t,n){e("./_object-sap")("getOwnPropertyNames",function(){return e("./_object-gopn-ext").f})},{"./_object-gopn-ext":135,"./_object-sap":142}],175:[function(e,t,n){var r=e("./_to-object"),o=e("./_object-gpo");e("./_object-sap")("getPrototypeOf",function(){return function(e){return o(r(e))}})},{"./_object-gpo":138,"./_object-sap":142,"./_to-object":160}],176:[function(e,t,n){var r=e("./_to-object"),o=e("./_object-keys");e("./_object-sap")("keys",function(){return function(e){return o(r(e))}})},{"./_object-keys":140,"./_object-sap":142,"./_to-object":160}],177:[function(e,t,n){arguments[4][71][0].apply(n,arguments)},{dup:71}],178:[function(e,t,n){"use strict";var r,o,i,a,u=e("./_library"),s=e("./_global"),c=e("./_ctx"),l=e("./_classof"),f=e("./_export"),d=e("./_is-object"),p=e("./_a-function"),h=e("./_an-instance"),m=e("./_for-of"),g=e("./_species-constructor"),v=e("./_task").set,b=e("./_microtask")(),y=e("./_new-promise-capability"),w=e("./_perform"),x=e("./_user-agent"),_=e("./_promise-resolve"),C=s.TypeError,S=s.process,E=S&&S.versions,k=E&&E.v8||"",T=s.Promise,N="process"==l(S),O=function(){},A=o=y.f,D=!!function(){try{var t=T.resolve(1),n=(t.constructor={})[e("./_wks")("species")]=function(e){e(O,O)};return(N||"function"==typeof PromiseRejectionEvent)&&t.then(O)instanceof n&&0!==k.indexOf("6.6")&&-1===x.indexOf("Chrome/66")}catch(e){}}(),M=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},I=function(e,t){if(!e._n){e._n=!0;var n=e._c;b(function(){for(var r=e._v,o=1==e._s,i=0;n.length>i;)!function(t){var n,i,a,u=o?t.ok:t.fail,s=t.resolve,c=t.reject,l=t.domain;try{u?(o||(2==e._h&&L(e),e._h=1),!0===u?n=r:(l&&l.enter(),n=u(r),l&&(l.exit(),a=!0)),n===t.promise?c(C("Promise-chain cycle")):(i=M(n))?i.call(n,s,c):s(n)):c(r)}catch(e){l&&!a&&l.exit(),c(e)}}(n[i++]);e._c=[],e._n=!1,t&&!e._h&&R(e)})}},R=function(e){v.call(s,function(){var t,n,r,o=e._v,i=P(e);if(i&&(t=w(function(){N?S.emit("unhandledRejection",o,e):(n=s.onunhandledrejection)?n({promise:e,reason:o}):(r=s.console)&&r.error&&r.error("Unhandled promise rejection",o)}),e._h=N||P(e)?2:1),e._a=void 0,i&&t.e)throw t.v})},P=function(e){return 1!==e._h&&0===(e._a||e._c).length},L=function(e){v.call(s,function(){var t;N?S.emit("rejectionHandled",e):(t=s.onrejectionhandled)&&t({promise:e,reason:e._v})})},j=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),I(t,!0))},B=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw C("Promise can't be resolved itself");(t=M(e))?b(function(){var r={_w:n,_d:!1};try{t.call(e,c(B,r,1),c(j,r,1))}catch(e){j.call(r,e)}}):(n._v=e,n._s=1,I(n,!1))}catch(e){j.call({_w:n,_d:!1},e)}}};D||(T=function(e){h(this,T,"Promise","_h"),p(e),r.call(this);try{e(c(B,this,1),c(j,this,1))}catch(e){j.call(this,e)}},r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=e("./_redefine-all")(T.prototype,{then:function(e,t){var n=A(g(this,T));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=N?S.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&I(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r;this.promise=e,this.resolve=c(B,e,1),this.reject=c(j,e,1)},y.f=A=function(e){return e===T||e===a?new i(e):o(e)}),f(f.G+f.W+f.F*!D,{Promise:T}),e("./_set-to-string-tag")(T,"Promise"),e("./_set-species")("Promise"),a=e("./_core").Promise,f(f.S+f.F*!D,"Promise",{reject:function(e){var t=A(this);return(0,t.reject)(e),t.promise}}),f(f.S+f.F*(u||!D),"Promise",{resolve:function(e){return _(u&&this===a?T:this,e)}}),f(f.S+f.F*!(D&&e("./_iter-detect")(function(e){T.all(e).catch(O)})),"Promise",{all:function(e){var t=this,n=A(t),r=n.resolve,o=n.reject,i=w(function(){var n=[],i=0,a=1;m(e,!1,function(e){var u=i++,s=!1;n.push(void 0),a++,t.resolve(e).then(function(e){s||(s=!0,n[u]=e,--a||r(n))},o)}),--a||r(n)});return i.e&&o(i.v),n.promise},race:function(e){var t=this,n=A(t),r=n.reject,o=w(function(){m(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return o.e&&r(o.v),n.promise}})},{"./_a-function":92,"./_an-instance":94,"./_classof":97,"./_core":99,"./_ctx":101,"./_export":107,"./_for-of":109,"./_global":110,"./_is-object":119,"./_iter-detect":123,"./_library":126,"./_microtask":128,"./_new-promise-capability":129,"./_perform":144,"./_promise-resolve":145,"./_redefine-all":147,"./_set-species":149,"./_set-to-string-tag":150,"./_species-constructor":153,"./_task":155,"./_user-agent":163,"./_wks":166}],179:[function(e,t,n){var r=e("./_export"),o=e("./_to-absolute-index"),i=String.fromCharCode,a=String.fromCodePoint;r(r.S+r.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,a=0;r>a;){if(t=+arguments[a++],o(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?i(t):i(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},{"./_export":107,"./_to-absolute-index":156}],180:[function(e,t,n){"use strict";var r=e("./_string-at")(!0);e("./_iter-define")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},{"./_iter-define":122,"./_string-at":154}],181:[function(e,t,n){"use strict";var r=e("./_global"),o=e("./_has"),i=e("./_descriptors"),a=e("./_export"),u=e("./_redefine"),s=e("./_meta").KEY,c=e("./_fails"),l=e("./_shared"),f=e("./_set-to-string-tag"),d=e("./_uid"),p=e("./_wks"),h=e("./_wks-ext"),m=e("./_wks-define"),g=e("./_enum-keys"),v=e("./_is-array"),b=e("./_an-object"),y=e("./_is-object"),w=e("./_to-object"),x=e("./_to-iobject"),_=e("./_to-primitive"),C=e("./_property-desc"),S=e("./_object-create"),E=e("./_object-gopn-ext"),k=e("./_object-gopd"),T=e("./_object-gops"),N=e("./_object-dp"),O=e("./_object-keys"),A=k.f,D=N.f,M=E.f,I=r.Symbol,R=r.JSON,P=R&&R.stringify,L=p("_hidden"),j=p("toPrimitive"),B={}.propertyIsEnumerable,z=l("symbol-registry"),F=l("symbols"),H=l("op-symbols"),U=Object.prototype,V="function"==typeof I&&!!T.f,q=r.QObject,W=!q||!q.prototype||!q.prototype.findChild,G=i&&c(function(){return 7!=S(D({},"a",{get:function(){return D(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=A(U,t);r&&delete U[t],D(e,t,n),r&&e!==U&&D(U,t,r)}:D,$=function(e){var t=F[e]=S(I.prototype);return t._k=e,t},X=V&&"symbol"==typeof I.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof I},Y=function(e,t,n){return e===U&&Y(H,t,n),b(e),t=_(t,!0),b(n),o(F,t)?(n.enumerable?(o(e,L)&&e[L][t]&&(e[L][t]=!1),n=S(n,{enumerable:C(0,!1)})):(o(e,L)||D(e,L,C(1,{})),e[L][t]=!0),G(e,t,n)):D(e,t,n)},K=function(e,t){b(e);for(var n,r=g(t=x(t)),o=0,i=r.length;i>o;)Y(e,n=r[o++],t[n]);return e},J=function(e,t){return void 0===t?S(e):K(S(e),t)},Q=function(e){var t=B.call(this,e=_(e,!0));return!(this===U&&o(F,e)&&!o(H,e))&&(!(t||!o(this,e)||!o(F,e)||o(this,L)&&this[L][e])||t)},Z=function(e,t){if(e=x(e),t=_(t,!0),e!==U||!o(F,t)||o(H,t)){var n=A(e,t);return!n||!o(F,t)||o(e,L)&&e[L][t]||(n.enumerable=!0),n}},ee=function(e){for(var t,n=M(x(e)),r=[],i=0;n.length>i;)o(F,t=n[i++])||t==L||t==s||r.push(t);return r},te=function(e){for(var t,n=e===U,r=M(n?H:x(e)),i=[],a=0;r.length>a;)!o(F,t=r[a++])||n&&!o(U,t)||i.push(F[t]);return i};V||(I=function(){if(this instanceof I)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function(n){this===U&&t.call(H,n),o(this,L)&&o(this[L],e)&&(this[L][e]=!1),G(this,e,C(1,n))};return i&&W&&G(U,e,{configurable:!0,set:t}),$(e)},u(I.prototype,"toString",function(){return this._k}),k.f=Z,N.f=Y,e("./_object-gopn").f=E.f=ee,e("./_object-pie").f=Q,T.f=te,i&&!e("./_library")&&u(U,"propertyIsEnumerable",Q,!0),h.f=function(e){return $(p(e))}),a(a.G+a.W+a.F*!V,{Symbol:I});for(var ne="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),re=0;ne.length>re;)p(ne[re++]);for(var oe=O(p.store),ie=0;oe.length>ie;)m(oe[ie++]);a(a.S+a.F*!V,"Symbol",{for:function(e){return o(z,e+="")?z[e]:z[e]=I(e)},keyFor:function(e){if(!X(e))throw TypeError(e+" is not a symbol!");for(var t in z)if(z[t]===e)return t},useSetter:function(){W=!0},useSimple:function(){W=!1}}),a(a.S+a.F*!V,"Object",{create:J,defineProperty:Y,defineProperties:K,getOwnPropertyDescriptor:Z,getOwnPropertyNames:ee,getOwnPropertySymbols:te});var ae=c(function(){T.f(1)});a(a.S+a.F*ae,"Object",{getOwnPropertySymbols:function(e){return T.f(w(e))}}),R&&a(a.S+a.F*(!V||c(function(){var e=I();return"[null]"!=P([e])||"{}"!=P({a:e})||"{}"!=P(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],o=1;arguments.length>o;)r.push(arguments[o++]);if(n=t=r[1],(y(t)||void 0!==e)&&!X(e))return v(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!X(t))return t}),r[1]=t,P.apply(R,r)}}),I.prototype[j]||e("./_hide")(I.prototype,j,I.prototype.valueOf),f(I,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},{"./_an-object":95,"./_descriptors":103,"./_enum-keys":106,"./_export":107,"./_fails":108,"./_global":110,"./_has":111,"./_hide":112,"./_is-array":118,"./_is-object":119,"./_library":126,"./_meta":127,"./_object-create":131,"./_object-dp":132,"./_object-gopd":134,"./_object-gopn":136,"./_object-gopn-ext":135,"./_object-gops":137,"./_object-keys":140,"./_object-pie":141,"./_property-desc":146,"./_redefine":148,"./_set-to-string-tag":150,"./_shared":152,"./_to-iobject":158,"./_to-object":160,"./_to-primitive":161,"./_uid":162,"./_wks":166,"./_wks-define":164,"./_wks-ext":165}],182:[function(e,t,n){var r=e("./_export"),o=e("./_object-to-array")(!0);r(r.S,"Object",{entries:function(e){return o(e)}})},{"./_export":107,"./_object-to-array":143}],183:[function(e,t,n){"use strict";var r=e("./_export"),o=e("./_core"),i=e("./_global"),a=e("./_species-constructor"),u=e("./_promise-resolve");r(r.P+r.R,"Promise",{finally:function(e){var t=a(this,o.Promise||i.Promise),n="function"==typeof e;return this.then(n?function(n){return u(t,e()).then(function(){return n})}:e,n?function(n){return u(t,e()).then(function(){throw n})}:e)}})},{"./_core":99,"./_export":107,"./_global":110,"./_promise-resolve":145,"./_species-constructor":153}],184:[function(e,t,n){"use strict";var r=e("./_export"),o=e("./_new-promise-capability"),i=e("./_perform");r(r.S,"Promise",{try:function(e){var t=o.f(this),n=i(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},{"./_export":107,"./_new-promise-capability":129,"./_perform":144}],185:[function(e,t,n){e("./_wks-define")("asyncIterator")},{"./_wks-define":164}],186:[function(e,t,n){e("./_wks-define")("observable")},{"./_wks-define":164}],187:[function(e,t,n){e("./es6.array.iterator");for(var r=e("./_global"),o=e("./_hide"),i=e("./_iterators"),a=e("./_wks")("toStringTag"),u="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),s=0;s<u.length;s++){var c=u[s],l=r[c],f=l&&l.prototype;f&&!f[a]&&o(f,a,c),i[c]=i.Array}},{"./_global":110,"./_hide":112,"./_iterators":125,"./_wks":166,"./es6.array.iterator":169}],188:[function(e,t,n){var r=e("./_export"),o=e("./_task");r(r.G+r.B,{setImmediate:o.set,clearImmediate:o.clear})},{"./_export":107,"./_task":155}],189:[function(e,t,n){(function(t){"use strict";function r(e){return Array.isArray?Array.isArray(e):"[object Array]"===v(e)}function o(e){return"boolean"==typeof e}function i(e){return null===e}function a(e){return null==e}function u(e){return"number"==typeof e}function s(e){return"string"==typeof e}function c(e){return"symbol"===(void 0===e?"undefined":(0,y.default)(e))}function l(e){return void 0===e}function f(e){return"[object RegExp]"===v(e)}function d(e){return"object"===(void 0===e?"undefined":(0,y.default)(e))&&null!==e}function p(e){return"[object Date]"===v(e)}function h(e){return"[object Error]"===v(e)||e instanceof Error}function m(e){return"function"==typeof e}function g(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"===(void 0===e?"undefined":(0,y.default)(e))||void 0===e}function v(e){return Object.prototype.toString.call(e)}var b=e("babel-runtime/helpers/typeof"),y=function(e){return e&&e.__esModule?e:{default:e}}(b);n.isArray=r,n.isBoolean=o,n.isNull=i,n.isNullOrUndefined=a,n.isNumber=u,n.isString=s,n.isSymbol=c,n.isUndefined=l,n.isRegExp=f,n.isObject=d,n.isDate=p,n.isError=h,n.isFunction=m,n.isPrimitive=g,n.isBuffer=t.isBuffer}).call(this,{isBuffer:e("../../is-buffer/index.js")})},{"../../is-buffer/index.js":197,"babel-runtime/helpers/typeof":67}],190:[function(e,t,n){"use strict";var r=e("babel-runtime/helpers/typeof"),o=function(e){return e&&e.__esModule?e:{default:e}}(r);!function(e){function r(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}function i(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);var n=new Date(t.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);var r=t.getTimezoneOffset()-n.getTimezoneOffset();t.setHours(t.getHours()-r);var o=(t-n)/6048e5;return 1+Math.floor(o)}function a(e){var t=e.getDay();return 0===t&&(t=7),t}function u(e){return null===e?"null":void 0===e?"undefined":"object"!==(void 0===e?"undefined":(0,o.default)(e))?void 0===e?"undefined":(0,o.default)(e):Array.isArray(e)?"array":{}.toString.call(e).slice(8,-1).toLowerCase()}var s=function(){var e=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|'[^']*'|'[^']*'/g,t=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,n=/[^-+\dA-Z]/g;return function(o,c,l,f){if(1!==arguments.length||"string"!==u(o)||/\d/.test(o)||(c=o,o=void 0),o=o||new Date,o instanceof Date||(o=new Date(o)),isNaN(o))throw TypeError("Invalid date");c=String(s.masks[c]||c||s.masks.default);var d=c.slice(0,4);"UTC:"!==d&&"GMT:"!==d||(c=c.slice(4),l=!0,"GMT:"===d&&(f=!0));var p=l?"getUTC":"get",h=o[p+"Date"](),m=o[p+"Day"](),g=o[p+"Month"](),v=o[p+"FullYear"](),b=o[p+"Hours"](),y=o[p+"Minutes"](),w=o[p+"Seconds"](),x=o[p+"Milliseconds"](),_=l?0:o.getTimezoneOffset(),C=i(o),S=a(o),E={d:h,dd:r(h),ddd:s.i18n.dayNames[m],dddd:s.i18n.dayNames[m+7],m:g+1,mm:r(g+1),mmm:s.i18n.monthNames[g],mmmm:s.i18n.monthNames[g+12],yy:String(v).slice(2),yyyy:v,h:b%12||12,hh:r(b%12||12),H:b,HH:r(b),M:y,MM:r(y),s:w,ss:r(w),l:r(x,3),L:r(Math.round(x/10)),t:b<12?"a":"p",tt:b<12?"am":"pm",T:b<12?"A":"P",TT:b<12?"AM":"PM",Z:f?"GMT":l?"UTC":(String(o).match(t)||[""]).pop().replace(n,""),o:(_>0?"-":"+")+r(100*Math.floor(Math.abs(_)/60)+Math.abs(_)%60,4),S:["th","st","nd","rd"][h%10>3?0:(h%100-h%10!=10)*h%10],W:C,N:S};return c.replace(e,function(e){return e in E?E[e]:e.slice(1,e.length-1)})}}();s.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},s.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},"function"==typeof define&&define.amd?define(function(){return s}):"object"===(void 0===n?"undefined":(0,o.default)(n))?t.exports=s:e.dateFormat=s}(void 0)},{"babel-runtime/helpers/typeof":67}],191:[function(e,t,n){/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */
"use strict";function r(e){var t=""+e,n=o.exec(t);if(!n)return t;var r,i="",a=0,u=0;for(a=n.index;a<t.length;a++){switch(t.charCodeAt(a)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 39:r="&#39;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}u!==a&&(i+=t.substring(u,a)),u=a+1,i+=r}return u!==a?i+t.substring(u,a):i}var o=/["'&<>]/;t.exports=r},{}],192:[function(e,t,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function o(e){return"function"==typeof e}function i(e){return"number"==typeof e}function a(e){return"object"==typeof e&&null!==e}function u(e){return void 0===e}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!i(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,n,r,i,s,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var l=new Error('Uncaught, unspecified "error" event. ('+t+")");throw l.context=t,l}if(n=this._events[e],u(n))return!1;if(o(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),n.apply(this,i)}else if(a(n))for(i=Array.prototype.slice.call(arguments,1),c=n.slice(),r=c.length,s=0;s<r;s++)c[s].apply(this,i);return!0},r.prototype.addListener=function(e,t){var n;if(!o(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,o(t.listener)?t.listener:t),this._events[e]?a(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,a(this._events[e])&&!this._events[e].warned&&(n=u(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}if(!o(t))throw TypeError("listener must be a function");var r=!1;return n.listener=t,this.on(e,n),this},r.prototype.removeListener=function(e,t){var n,r,i,u;if(!o(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],i=n.length,r=-1,n===t||o(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(a(n)){for(u=i;u-- >0;)if(n[u]===t||n[u].listener&&n[u].listener===t){r=u;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],o(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){return this._events&&this._events[e]?o(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(o(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},{}],193:[function(e,t,n){var r=e("http"),o=t.exports;for(var i in r)r.hasOwnProperty(i)&&(o[i]=r[i]);o.request=function(e,t){return e||(e={}),e.scheme="https",e.protocol="https:",r.request.call(this,e,t)}},{http:231}],194:[function(e,t,n){/*!
 * humanize-ms - index.js
 * Copyright(c) 2014 dead_horse <dead_horse@qq.com>
 * MIT Licensed
 */
"use strict";var r=e("util"),o=e("ms");t.exports=function(e){if("number"==typeof e)return e;var t=o(e);if(void 0===t){var n=new Error(r.format("humanize-ms(%j) result undefined",e));console.warn(n.stack)}return t}},{ms:204,util:243}],195:[function(e,t,n){n.read=function(e,t,n,r,o){var i,a,u=8*o-r-1,s=(1<<u)-1,c=s>>1,l=-7,f=n?o-1:0,d=n?-1:1,p=e[t+f];for(f+=d,i=p&(1<<-l)-1,p>>=-l,l+=u;l>0;i=256*i+e[t+f],f+=d,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=r;l>0;a=256*a+e[t+f],f+=d,l-=8);if(0===i)i=1-c;else{if(i===s)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),i-=c}return(p?-1:1)*a*Math.pow(2,i-r)},n.write=function(e,t,n,r,o,i){var a,u,s,c=8*i-o-1,l=(1<<c)-1,f=l>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,h=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(s=Math.pow(2,-a))<1&&(a--,s*=2),t+=a+f>=1?d/s:d*Math.pow(2,1-f),t*s>=2&&(a++,s/=2),a+f>=l?(u=0,a=l):a+f>=1?(u=(t*s-1)*Math.pow(2,o),a+=f):(u=t*Math.pow(2,f-1)*Math.pow(2,o),a=0));o>=8;e[n+p]=255&u,p+=h,u/=256,o-=8);for(a=a<<o|u,c+=o;c>0;e[n+p]=255&a,p+=h,a/=256,c-=8);e[n+p-h]|=128*m}},{}],196:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},{}],197:[function(e,t,n){function r(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function o(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&r(e.slice(0,0))}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(e){return null!=e&&(r(e)||o(e)||!!e._isBuffer)}},{}],198:[function(e,t,n){var r={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},{}],199:[function(require,module,exports){(function(global){!function(e,t){"object"==typeof exports&&void 0!==module?module.exports=t(e):"function"==typeof define&&define.amd?define(t):t(e)}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==global?global:this,function(global){"use strict";global=global||{};var _Base64=global.Base64,version="2.5.2",buffer;if(void 0!==module&&module.exports)try{buffer=eval("require('buffer').Buffer")}catch(e){buffer=void 0}var b64chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b64tab=function(e){for(var t={},n=0,r=e.length;n<r;n++)t[e.charAt(n)]=n;return t}(b64chars),fromCharCode=String.fromCharCode,cb_utob=function(e){if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?fromCharCode(192|t>>>6)+fromCharCode(128|63&t):fromCharCode(224|t>>>12&15)+fromCharCode(128|t>>>6&63)+fromCharCode(128|63&t)}var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return fromCharCode(240|t>>>18&7)+fromCharCode(128|t>>>12&63)+fromCharCode(128|t>>>6&63)+fromCharCode(128|63&t)},re_utob=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,utob=function(e){return e.replace(re_utob,cb_utob)},cb_encode=function(e){var t=[0,2,1][e.length%3],n=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0);return[b64chars.charAt(n>>>18),b64chars.charAt(n>>>12&63),t>=2?"=":b64chars.charAt(n>>>6&63),t>=1?"=":b64chars.charAt(63&n)].join("")},btoa=global.btoa?function(e){return global.btoa(e)}:function(e){return e.replace(/[\s\S]{1,3}/g,cb_encode)},_encode=function(e){return"[object Uint8Array]"===Object.prototype.toString.call(e)?e.toString("base64"):btoa(utob(String(e)))},encode=function(e,t){return t?_encode(String(e)).replace(/[+\/]/g,function(e){return"+"==e?"-":"_"}).replace(/=/g,""):_encode(e)},encodeURI=function(e){return encode(e,!0)},re_btou=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,cb_btou=function(e){switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),n=t-65536;return fromCharCode(55296+(n>>>10))+fromCharCode(56320+(1023&n));case 3:return fromCharCode((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return fromCharCode((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},btou=function(e){return e.replace(re_btou,cb_btou)},cb_decode=function(e){var t=e.length,n=t%4,r=(t>0?b64tab[e.charAt(0)]<<18:0)|(t>1?b64tab[e.charAt(1)]<<12:0)|(t>2?b64tab[e.charAt(2)]<<6:0)|(t>3?b64tab[e.charAt(3)]:0),o=[fromCharCode(r>>>16),fromCharCode(r>>>8&255),fromCharCode(255&r)];return o.length-=[0,0,2,1][n],o.join("")},_atob=global.atob?function(e){return global.atob(e)}:function(e){return e.replace(/\S{1,4}/g,cb_decode)},atob=function(e){return _atob(String(e).replace(/[^A-Za-z0-9\+\/]/g,""))},_decode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(e){return(e.constructor===buffer.constructor?e:buffer.from(e,"base64")).toString()}:function(e){return(e.constructor===buffer.constructor?e:new buffer(e,"base64")).toString()}:function(e){return btou(_atob(e))},decode=function(e){return _decode(String(e).replace(/[-_]/g,function(e){return"-"==e?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))},noConflict=function(){var e=global.Base64;return global.Base64=_Base64,e};if(global.Base64={VERSION:version,atob:atob,btoa:btoa,fromBase64:decode,toBase64:encode,utob:utob,encode:encode,encodeURI:encodeURI,btou:btou,decode:decode,noConflict:noConflict,__buffer__:buffer},"function"==typeof Object.defineProperty){var noEnum=function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}};global.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",noEnum(function(){return decode(this)})),Object.defineProperty(String.prototype,"toBase64",noEnum(function(e){return encode(this,e)})),Object.defineProperty(String.prototype,"toBase64URI",noEnum(function(){return encode(this,!0)}))}}return global.Meteor&&(Base64=global.Base64),void 0!==module&&module.exports?module.exports.Base64=global.Base64:"function"==typeof define&&define.amd&&define([],function(){return global.Base64}),{Base64:global.Base64}})}).call(this,void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],200:[function(e,t,n){/*!
 * merge-descriptors
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */
"use strict";function r(e,t,n){if(!e)throw new TypeError("argument dest is required");if(!t)throw new TypeError("argument src is required");return void 0===n&&(n=!0),Object.getOwnPropertyNames(t).forEach(function(r){if(n||!o.call(e,r)){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,i)}}),e}t.exports=r;var o=Object.prototype.hasOwnProperty},{}],201:[function(e,t,n){"use strict";function r(){this._types=Object.create(null),this._extensions=Object.create(null);for(var e=0;e<arguments.length;e++)this.define(arguments[e]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}r.prototype.define=function(e,t){for(var n in e){var r=e[n].map(function(e){return e.toLowerCase()});n=n.toLowerCase();for(var o=0;o<r.length;o++){var i=r[o];if("*"!=i[0]){if(!t&&i in this._types)throw new Error('Attempt to change mapping for "'+i+'" extension from "'+this._types[i]+'" to "'+n+'". Pass `force=true` to allow this, otherwise remove "'+i+'" from the list of extensions for "'+n+'".');this._types[i]=n}}if(t||!this._extensions[n]){var i=r[0];this._extensions[n]="*"!=i[0]?i:i.substr(1)}}},r.prototype.getType=function(e){e=String(e);var t=e.replace(/^.*[\/\\]/,"").toLowerCase(),n=t.replace(/^.*\./,"").toLowerCase(),r=t.length<e.length;return(n.length<t.length-1||!r)&&this._types[n]||null},r.prototype.getExtension=function(e){return(e=/^\s*([^;\s]*)/.test(e)&&RegExp.$1)&&this._extensions[e.toLowerCase()]||null},t.exports=r},{}],202:[function(e,t,n){"use strict";var r=e("./Mime");t.exports=new r(e("./types/standard"))},{"./Mime":201,"./types/standard":203}],203:[function(e,t,n){t.exports={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["ecma","es"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/mrb-consumer+xml":["*xdf"],"application/mrb-publish+xml":["*xdf"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["*xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/ttml+xml":["ttml"],"application/urc-ressheet+xml":["rsheet"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-error+xml":["xer"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]}},{}],204:[function(e,t,n){function r(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*d;case"weeks":case"week":case"w":return n*f;case"days":case"day":case"d":return n*l;case"hours":case"hour":case"hrs":case"hr":case"h":return n*c;case"minutes":case"minute":case"mins":case"min":case"m":return n*s;case"seconds":case"second":case"secs":case"sec":case"s":return n*u;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function o(e){var t=Math.abs(e);return t>=l?Math.round(e/l)+"d":t>=c?Math.round(e/c)+"h":t>=s?Math.round(e/s)+"m":t>=u?Math.round(e/u)+"s":e+"ms"}function i(e){var t=Math.abs(e);return t>=l?a(e,t,l,"day"):t>=c?a(e,t,c,"hour"):t>=s?a(e,t,s,"minute"):t>=u?a(e,t,u,"second"):e+" ms"}function a(e,t,n,r){var o=t>=1.5*n;return Math.round(e/n)+" "+r+(o?"s":"")}var u=1e3,s=60*u,c=60*s,l=24*c,f=7*l,d=365.25*l;t.exports=function(e,t){t=t||{};var n=typeof e;if("string"===n&&e.length>0)return r(e);if("number"===n&&isFinite(e))return t.long?i(e):o(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},{}],205:[function(e,t,n){(function(e){function t(e,t){for(var n=0,r=e.length-1;r>=0;r--){var o=e[r];"."===o?e.splice(r,1):".."===o?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e){"string"!=typeof e&&(e+="");var t,n=0,r=-1,o=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!o){n=t+1;break}}else-1===r&&(o=!1,r=t+1);return-1===r?"":e.slice(n,r)}function o(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}n.resolve=function(){for(var n="",r=!1,i=arguments.length-1;i>=-1&&!r;i--){var a=i>=0?arguments[i]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(n=a+"/"+n,r="/"===a.charAt(0))}return n=t(o(n.split("/"),function(e){return!!e}),!r).join("/"),(r?"/":"")+n||"."},n.normalize=function(e){var r=n.isAbsolute(e),a="/"===i(e,-1);return e=t(o(e.split("/"),function(e){return!!e}),!r).join("/"),e||r||(e="."),e&&a&&(e+="/"),(r?"/":"")+e},n.isAbsolute=function(e){return"/"===e.charAt(0)},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(o(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},n.relative=function(e,t){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=n.resolve(e).substr(1),t=n.resolve(t).substr(1);for(var o=r(e.split("/")),i=r(t.split("/")),a=Math.min(o.length,i.length),u=a,s=0;s<a;s++)if(o[s]!==i[s]){u=s;break}for(var c=[],s=u;s<o.length;s++)c.push("..");return c=c.concat(i.slice(u)),c.join("/")},n.sep="/",n.delimiter=":",n.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,o=!0,i=e.length-1;i>=1;--i)if(47===(t=e.charCodeAt(i))){if(!o){r=i;break}}else o=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},n.basename=function(e,t){var n=r(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},n.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,n=0,r=-1,o=!0,i=0,a=e.length-1;a>=0;--a){var u=e.charCodeAt(a);if(47!==u)-1===r&&(o=!1,r=a+1),46===u?-1===t?t=a:1!==i&&(i=1):-1!==t&&(i=-1);else if(!o){n=a+1;break}}return-1===t||-1===r||0===i||1===i&&t===r-1&&t===n+1?"":e.slice(t,r)};var i="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,e("_process"))},{_process:208}],206:[function(e,t,n){(function(e){(function(){"use strict";function r(e){return e=String(e),e.charAt(0).toUpperCase()+e.slice(1)}function o(e,t,n){var r={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return t&&n&&/^Win/i.test(e)&&!/^Windows Phone /i.test(e)&&(r=r[/[\d.]+$/.exec(e)])&&(e="Windows "+r),e=String(e),t&&n&&(e=e.replace(RegExp(t,"i"),n)),e=a(e.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}function i(e,t){var n=-1,r=e?e.length:0;if("number"==typeof r&&r>-1&&r<=y)for(;++n<r;)t(e[n],n,e);else u(e,t)}function a(e){return e=d(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:r(e)}function u(e,t){for(var n in e)_.call(e,n)&&t(e[n],n,e)}function s(e){return null==e?r(e):C.call(e).slice(8,-1)}function c(e,t){var n=null!=e?typeof e[t]:"number";return!(/^(?:boolean|number|string|undefined)$/.test(n)||"object"==n&&!e[t])}function l(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function f(e,t){var n=null;return i(e,function(r,o){n=t(n,r,o,e)}),n}function d(e){return String(e).replace(/^ +| +$/g,"")}function p(e){function t(t){return f(t,function(t,n){var r=n.pattern||l(n);return!t&&(t=RegExp("\\b"+r+" *\\d+[.\\w_]*","i").exec(e)||RegExp("\\b"+r+" *\\w+-[\\w]*","i").exec(e)||RegExp("\\b"+r+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(e))&&((t=String(n.label&&!RegExp(r,"i").test(n.label)?n.label:t).split("/"))[1]&&!/[\d.]+/.test(t[0])&&(t[0]+=" "+t[1]),n=n.label||n,t=a(t[0].replace(RegExp(r,"i"),n).replace(RegExp("; *(?:"+n+"[_-])?","i")," ").replace(RegExp("("+n+")[-_.]?(\\w)","i"),"$1 $2"))),t})}function n(){return this.description||""}var r=m,i=e&&"object"==typeof e&&"String"!=s(e);i&&(r=e,e=null);var h=r.navigator||{},g=h.userAgent||"";e||(e=g);var v,b,y=i?!!h.likeChrome:/\bChrome\b/.test(e)&&!/internal|\n/i.test(C.toString()),x=i?"Object":"ScriptBridgingProxyObject",_=i?"Object":"Environment",S=i&&r.java?"JavaPackage":s(r.java),E=i?"Object":"RuntimeObject",k=/\bJava/.test(S)&&r.java,T=k&&s(r.environment)==_,N=k?"a":"α",O=k?"b":"β",A=r.document||{},D=r.operamini||r.opera,M=w.test(M=i&&D?D["[[Class]]"]:s(D))?M:D=null,I=e,R=[],P=null,L=e==g,j=L&&D&&"function"==typeof D.version&&D.version(),B=function(t){return f(t,function(t,n){return t||RegExp("\\b"+(n.pattern||l(n))+"\\b","i").exec(e)&&(n.label||n)})}([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"]),z=function(t){return f(t,function(t,n){return t||RegExp("\\b"+(n.pattern||l(n))+"\\b","i").exec(e)&&(n.label||n)})}(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"Edge"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Waterfox","WebPositive","Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),F=t([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),H=function(t){return f(t,function(t,n,r){return t||(n[F]||n[/^[a-z]+(?: +[a-z]+\b)*/i.exec(F)]||RegExp("\\b"+l(r)+"(?:\\b|\\w*\\d)","i").exec(e))&&r})}({Apple:{iPad:1,iPhone:1,iPod:1},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1}}),U=function(t){return f(t,function(t,n){var r=n.pattern||l(n);return!t&&(t=RegExp("\\b"+r+"(?:/[\\d.]+|[ \\w.]*)","i").exec(e))&&(t=o(t,r,n.label||n)),t})}(["Windows Phone","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);if(B&&(B=[B]),H&&!F&&(F=t([H])),(v=/\bGoogle TV\b/.exec(F))&&(F=v[0]),/\bSimulator\b/i.test(e)&&(F=(F?F+" ":"")+"Simulator"),"Opera Mini"==z&&/\bOPiOS\b/.test(e)&&R.push("running in Turbo/Uncompressed mode"),"IE"==z&&/\blike iPhone OS\b/.test(e)?(v=p(e.replace(/like iPhone OS/,"")),H=v.manufacturer,F=v.product):/^iP/.test(F)?(z||(z="Safari"),U="iOS"+((v=/ OS ([\d_]+)/i.exec(e))?" "+v[1].replace(/_/g,"."):"")):"Konqueror"!=z||/buntu/i.test(U)?H&&"Google"!=H&&(/Chrome/.test(z)&&!/\bMobile Safari\b/i.test(e)||/\bVita\b/.test(F))||/\bAndroid\b/.test(U)&&/^Chrome/.test(z)&&/\bVersion\//i.test(e)?(z="Android Browser",U=/\bAndroid\b/.test(U)?U:"Android"):"Silk"==z?(/\bMobi/i.test(e)||(U="Android",R.unshift("desktop mode")),/Accelerated *= *true/i.test(e)&&R.unshift("accelerated")):"PaleMoon"==z&&(v=/\bFirefox\/([\d.]+)\b/.exec(e))?R.push("identifying as Firefox "+v[1]):"Firefox"==z&&(v=/\b(Mobile|Tablet|TV)\b/i.exec(e))?(U||(U="Firefox OS"),F||(F=v[1])):!z||(v=!/\bMinefield\b/i.test(e)&&/\b(?:Firefox|Safari)\b/.exec(z))?(z&&!F&&/[\/,]|^[^(]+?\)/.test(e.slice(e.indexOf(v+"/")+8))&&(z=null),(v=F||H||U)&&(F||H||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(U))&&(z=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(U)?U:v)+" Browser")):"Electron"==z&&(v=(/\bChrome\/([\d.]+)\b/.exec(e)||0)[1])&&R.push("Chromium "+v):U="Kubuntu",j||(j=function(t){return f(t,function(t,n){return t||(RegExp(n+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(e)||0)[1]||null})}(["(?:Cloud9|CriOS|CrMo|Edge|FxiOS|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$))","Version",l(z),"(?:Firefox|Minefield|NetFront)"])),(v="iCab"==B&&parseFloat(j)>3&&"WebKit"||/\bOpera\b/.test(z)&&(/\bOPR\b/.test(e)?"Blink":"Presto")||/\b(?:Midori|Nook|Safari)\b/i.test(e)&&!/^(?:Trident|EdgeHTML)$/.test(B)&&"WebKit"||!B&&/\bMSIE\b/i.test(e)&&("Mac OS"==U?"Tasman":"Trident")||"WebKit"==B&&/\bPlayStation\b(?! Vita\b)/i.test(z)&&"NetFront")&&(B=[v]),"IE"==z&&(v=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(e)||0)[1])?(z+=" Mobile",U="Windows Phone "+(/\+$/.test(v)?v:v+".x"),R.unshift("desktop mode")):/\bWPDesktop\b/i.test(e)?(z="IE Mobile",U="Windows Phone 8.x",R.unshift("desktop mode"),j||(j=(/\brv:([\d.]+)/.exec(e)||0)[1])):"IE"!=z&&"Trident"==B&&(v=/\brv:([\d.]+)/.exec(e))&&(z&&R.push("identifying as "+z+(j?" "+j:"")),z="IE",j=v[1]),L){if(c(r,"global"))if(k&&(v=k.lang.System,I=v.getProperty("os.arch"),U=U||v.getProperty("os.name")+" "+v.getProperty("os.version")),T){try{j=r.require("ringo/engine").version.join("."),z="RingoJS"}catch(e){(v=r.system)&&v.global.system==r.system&&(z="Narwhal",U||(U=v[0].os||null))}z||(z="Rhino")}else"object"==typeof r.process&&!r.process.browser&&(v=r.process)&&("object"==typeof v.versions&&("string"==typeof v.versions.electron?(R.push("Node "+v.versions.node),z="Electron",j=v.versions.electron):"string"==typeof v.versions.nw&&(R.push("Chromium "+j,"Node "+v.versions.node),z="NW.js",j=v.versions.nw)),z||(z="Node.js",I=v.arch,U=v.platform,j=/[\d.]+/.exec(v.version),j=j?j[0]:null));else s(v=r.runtime)==x?(z="Adobe AIR",U=v.flash.system.Capabilities.os):s(v=r.phantom)==E?(z="PhantomJS",j=(v=v.version||null)&&v.major+"."+v.minor+"."+v.patch):"number"==typeof A.documentMode&&(v=/\bTrident\/(\d+)/i.exec(e))?(j=[j,A.documentMode],(v=+v[1]+4)!=j[1]&&(R.push("IE "+j[1]+" mode"),B&&(B[1]=""),j[1]=v),j="IE"==z?String(j[1].toFixed(1)):j[0]):"number"==typeof A.documentMode&&/^(?:Chrome|Firefox)\b/.test(z)&&(R.push("masking as "+z+" "+j),z="IE",j="11.0",B=["Trident"],U="Windows");U=U&&a(U)}if(j&&(v=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(j)||/(?:alpha|beta)(?: ?\d)?/i.exec(e+";"+(L&&h.appMinorVersion))||/\bMinefield\b/i.test(e)&&"a")&&(P=/b/i.test(v)?"beta":"alpha",j=j.replace(RegExp(v+"\\+?$"),"")+("beta"==P?O:N)+(/\d+\+?/.exec(v)||"")),"Fennec"==z||"Firefox"==z&&/\b(?:Android|Firefox OS)\b/.test(U))z="Firefox Mobile";else if("Maxthon"==z&&j)j=j.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(F))"Xbox 360"==F&&(U=null),"Xbox 360"==F&&/\bIEMobile\b/.test(e)&&R.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(z)&&(!z||F||/Browser|Mobi/.test(z))||"Windows CE"!=U&&!/Mobi/i.test(e))if("IE"==z&&L)try{null===r.external&&R.unshift("platform preview")}catch(e){R.unshift("embedded")}else(/\bBlackBerry\b/.test(F)||/\bBB10\b/.test(e))&&(v=(RegExp(F.replace(/ +/g," *")+"/([.\\d]+)","i").exec(e)||0)[1]||j)?(v=[v,/BB10/.test(e)],U=(v[1]?(F=null,H="BlackBerry"):"Device Software")+" "+v[0],j=null):this!=u&&"Wii"!=F&&(L&&D||/Opera/.test(z)&&/\b(?:MSIE|Firefox)\b/i.test(e)||"Firefox"==z&&/\bOS X (?:\d+\.){2,}/.test(U)||"IE"==z&&(U&&!/^Win/.test(U)&&j>5.5||/\bWindows XP\b/.test(U)&&j>8||8==j&&!/\bTrident\b/.test(e)))&&!w.test(v=p.call(u,e.replace(w,"")+";"))&&v.name&&(v="ing as "+v.name+((v=v.version)?" "+v:""),w.test(z)?(/\bIE\b/.test(v)&&"Mac OS"==U&&(U=null),v="identify"+v):(v="mask"+v,z=M?a(M.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(v)&&(U=null),L||(j=null)),B=["Presto"],R.push(v));else z+=" Mobile";(v=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(e)||0)[1])&&(v=[parseFloat(v.replace(/\.(\d)$/,".0$1")),v],"Safari"==z&&"+"==v[1].slice(-1)?(z="WebKit Nightly",P="alpha",j=v[1].slice(0,-1)):j!=v[1]&&j!=(v[2]=(/\bSafari\/([\d.]+\+?)/i.exec(e)||0)[1])||(j=null),v[1]=(/\bChrome\/([\d.]+)/i.exec(e)||0)[1],537.36==v[0]&&537.36==v[2]&&parseFloat(v[1])>=28&&"WebKit"==B&&(B=["Blink"]),L&&(y||v[1])?(B&&(B[1]="like Chrome"),v=v[1]||(v=v[0],v<530?1:v<532?2:v<532.05?3:v<533?4:v<534.03?5:v<534.07?6:v<534.1?7:v<534.13?8:v<534.16?9:v<534.24?10:v<534.3?11:v<535.01?12:v<535.02?"13+":v<535.07?15:v<535.11?16:v<535.19?17:v<536.05?18:v<536.1?19:v<537.01?20:v<537.11?"21+":v<537.13?23:v<537.18?24:v<537.24?25:v<537.36?26:"Blink"!=B?"27":"28")):(B&&(B[1]="like Safari"),v=v[0],v=v<400?1:v<500?2:v<526?3:v<533?4:v<534?"4+":v<535?5:v<537?6:v<538?7:v<601?8:"8"),B&&(B[1]+=" "+(v+="number"==typeof v?".x":/[.+]/.test(v)?"":"+")),"Safari"==z&&(!j||parseInt(j)>45)&&(j=v)),"Opera"==z&&(v=/\bzbov|zvav$/.exec(U))?(z+=" ",R.unshift("desktop mode"),"zvav"==v?(z+="Mini",j=null):z+="Mobile",U=U.replace(RegExp(" *"+v+"$"),"")):"Safari"==z&&/\bChrome\b/.exec(B&&B[1])&&(R.unshift("desktop mode"),z="Chrome Mobile",j=null,/\bOS X\b/.test(U)?(H="Apple",U="iOS 4.3+"):U=null),j&&0==j.indexOf(v=/[\d.]+$/.exec(U))&&e.indexOf("/"+v+"-")>-1&&(U=d(U.replace(v,""))),B&&!/\b(?:Avant|Nook)\b/.test(z)&&(/Browser|Lunascape|Maxthon/.test(z)||"Safari"!=z&&/^iOS/.test(U)&&/\bSafari\b/.test(B[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|Web)/.test(z)&&B[1])&&(v=B[B.length-1])&&R.push(v),R.length&&(R=["("+R.join("; ")+")"]),H&&F&&F.indexOf(H)<0&&R.push("on "+H),F&&R.push((/^on /.test(R[R.length-1])?"":"on ")+F),U&&(v=/ ([\d.+]+)$/.exec(U),b=v&&"/"==U.charAt(U.length-v[0].length-1),U={architecture:32,family:v&&!b?U.replace(v[0],""):U,version:v?v[1]:null,toString:function(){var e=this.version;return this.family+(e&&!b?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(v=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(I))&&!/\bi686\b/i.test(I)?(U&&(U.architecture=64,U.family=U.family.replace(RegExp(" *"+v),"")),z&&(/\bWOW64\b/i.test(e)||L&&/\w(?:86|32)$/.test(h.cpuClass||h.platform)&&!/\bWin64; x64\b/i.test(e))&&R.unshift("32-bit")):U&&/^OS X/.test(U.family)&&"Chrome"==z&&parseFloat(j)>=39&&(U.architecture=64),e||(e=null);var V={};return V.description=e,V.layout=B&&B[0],V.manufacturer=H,V.name=z,V.prerelease=P,V.product=F,V.ua=e,V.version=z&&j,V.os=U||{architecture:null,family:null,version:null,toString:function(){return"null"}},V.parse=p,V.toString=n,V.version&&R.unshift(j),V.name&&R.unshift(z),U&&z&&(U!=String(U).split(" ")[0]||U!=z.split(" ")[0]&&!F)&&R.push(F?"("+U+")":"on "+U),R.length&&(V.description=R.join(" ")),V}var h={function:!0,object:!0},m=h[typeof window]&&window||this,g=h[typeof n]&&n,v=h[typeof t]&&t&&!t.nodeType&&t,b=g&&v&&"object"==typeof e&&e;!b||b.global!==b&&b.window!==b&&b.self!==b||(m=b);var y=Math.pow(2,53)-1,w=/\bOpera/,x=Object.prototype,_=x.hasOwnProperty,C=x.toString,S=p();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(m.platform=S,define(function(){return S})):g&&v?u(S,function(e,t){g[t]=e}):m.platform=S}).call(this)}).call(this,void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],207:[function(e,t,n){(function(e){"use strict";function n(t,n,r,o){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var i,a,u=arguments.length;switch(u){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function(){t.call(null,n)});case 3:return e.nextTick(function(){t.call(null,n,r)});case 4:return e.nextTick(function(){t.call(null,n,r,o)});default:for(i=new Array(u-1),a=0;a<i.length;)i[a++]=arguments[a];return e.nextTick(function(){t.apply(null,i)})}}void 0===e||!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:n}:t.exports=e}).call(this,e("_process"))},{_process:208}],208:[function(e,t,n){function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(f===setTimeout)return setTimeout(e,0);if((f===r||!f)&&setTimeout)return f=setTimeout,setTimeout(e,0);try{return f(e,0)}catch(t){try{return f.call(null,e,0)}catch(t){return f.call(this,e,0)}}}function a(e){if(d===clearTimeout)return clearTimeout(e);if((d===o||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function u(){g&&h&&(g=!1,h.length?m=h.concat(m):v=-1,m.length&&s())}function s(){if(!g){var e=i(u);g=!0;for(var t=m.length;t;){for(h=m,m=[];++v<t;)h&&h[v].run();v=-1,t=m.length}h=null,g=!1,a(e)}}function c(e,t){this.fun=e,this.array=t}function l(){}var f,d,p=t.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:r}catch(e){f=r}try{d="function"==typeof clearTimeout?clearTimeout:o}catch(e){d=o}}();var h,m=[],g=!1,v=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];m.push(new c(e,t)),1!==m.length||g||i(s)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=l,p.addListener=l,p.once=l,p.off=l,p.removeListener=l,p.removeAllListeners=l,p.emit=l,p.prependListener=l,p.prependOnceListener=l,p.listeners=function(e){return[]},p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}],209:[function(e,t,n){(function(e){!function(r){function o(e){throw new RangeError(I[e])}function i(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function a(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),e=e.replace(M,"."),r+i(e.split("."),t).join(".")}function u(e){for(var t,n,r=[],o=0,i=e.length;o<i;)t=e.charCodeAt(o++),t>=55296&&t<=56319&&o<i?(n=e.charCodeAt(o++),56320==(64512&n)?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--)):r.push(t);return r}function s(e){return i(e,function(e){var t="";return e>65535&&(e-=65536,t+=L(e>>>10&1023|55296),e=56320|1023&e),t+=L(e)}).join("")}function c(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:_}function l(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function f(e,t,n){var r=0;for(e=n?P(e/k):e>>1,e+=P(e/t);e>R*S>>1;r+=_)e=P(e/R);return P(r+(R+1)*e/(e+E))}function d(e){var t,n,r,i,a,u,l,d,p,h,m=[],g=e.length,v=0,b=N,y=T;for(n=e.lastIndexOf(O),n<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&o("not-basic"),m.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<g;){for(a=v,u=1,l=_;i>=g&&o("invalid-input"),d=c(e.charCodeAt(i++)),(d>=_||d>P((x-v)/u))&&o("overflow"),v+=d*u,p=l<=y?C:l>=y+S?S:l-y,!(d<p);l+=_)h=_-p,u>P(x/h)&&o("overflow"),u*=h;t=m.length+1,y=f(v-a,t,0==a),P(v/t)>x-b&&o("overflow"),b+=P(v/t),v%=t,m.splice(v++,0,b)}return s(m)}function p(e){var t,n,r,i,a,s,c,d,p,h,m,g,v,b,y,w=[];for(e=u(e),g=e.length,t=N,n=0,a=T,s=0;s<g;++s)(m=e[s])<128&&w.push(L(m));for(r=i=w.length,i&&w.push(O);r<g;){for(c=x,s=0;s<g;++s)(m=e[s])>=t&&m<c&&(c=m);for(v=r+1,c-t>P((x-n)/v)&&o("overflow"),n+=(c-t)*v,t=c,s=0;s<g;++s)if(m=e[s],m<t&&++n>x&&o("overflow"),m==t){for(d=n,p=_;h=p<=a?C:p>=a+S?S:p-a,!(d<h);p+=_)y=d-h,b=_-h,w.push(L(l(h+y%b,0))),d=P(y/b);w.push(L(l(d,0))),a=f(n,v,r==i),n=0,++r}++n,++t}return w.join("")}function h(e){return a(e,function(e){return A.test(e)?d(e.slice(4).toLowerCase()):e})}function m(e){return a(e,function(e){return D.test(e)?"xn--"+p(e):e})}var g="object"==typeof n&&n&&!n.nodeType&&n,v="object"==typeof t&&t&&!t.nodeType&&t,b="object"==typeof e&&e;b.global!==b&&b.window!==b&&b.self!==b||(r=b);var y,w,x=2147483647,_=36,C=1,S=26,E=38,k=700,T=72,N=128,O="-",A=/^xn--/,D=/[^\x20-\x7E]/,M=/[\x2E\u3002\uFF0E\uFF61]/g,I={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},R=_-C,P=Math.floor,L=String.fromCharCode;if(y={version:"1.4.1",ucs2:{decode:u,encode:s},decode:d,encode:p,toASCII:m,toUnicode:h},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return y});else if(g&&v)if(t.exports==g)v.exports=y;else for(w in y)y.hasOwnProperty(w)&&(g[w]=y[w]);else r.punycode=y}(this)}).call(this,void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],210:[function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,n,i){t=t||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var u=/\+/g;e=e.split(t);var s=1e3;i&&"number"==typeof i.maxKeys&&(s=i.maxKeys);var c=e.length;s>0&&c>s&&(c=s);for(var l=0;l<c;++l){var f,d,p,h,m=e[l].replace(u,"%20"),g=m.indexOf(n);g>=0?(f=m.substr(0,g),d=m.substr(g+1)):(f=m,d=""),p=decodeURIComponent(f),h=decodeURIComponent(d),r(a,p)?o(a[p])?a[p].push(h):a[p]=[a[p],h]:a[p]=h}return a};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],211:[function(e,t,n){"use strict";function r(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var o=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,n,u){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?r(a(e),function(a){var u=encodeURIComponent(o(a))+n;return i(e[a])?r(e[a],function(e){return u+encodeURIComponent(o(e))}).join(t):u+encodeURIComponent(o(e[a]))}).join(t):u?encodeURIComponent(o(u))+n+encodeURIComponent(o(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},a=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},{}],212:[function(e,t,n){"use strict";n.decode=n.parse=e("./decode"),n.encode=n.stringify=e("./encode")},{"./decode":210,"./encode":211}],213:[function(e,t,n){t.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":214}],214:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(!(this instanceof o))return new o(e);h.call(this,e),m.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",i)}function i(){this.allowHalfOpen||this._writableState.ended||f.nextTick(a,this)}function a(e){e.end()}var u=e("babel-runtime/core-js/object/create"),s=r(u),c=e("babel-runtime/core-js/object/keys"),l=r(c),f=e("process-nextick-args"),d=l.default||function(e){var t=[];for(var n in e)t.push(n);return t};t.exports=o;var p=(0,s.default)(e("core-util-is"));p.inherits=e("inherits");var h=e("./_stream_readable"),m=e("./_stream_writable");p.inherits(o,h);for(var g=d(m.prototype),v=0;v<g.length;v++){var b=g[v];o.prototype[b]||(o.prototype[b]=m.prototype[b])}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),o.prototype._destroy=function(e,t){this.push(null),this.end(),f.nextTick(t,e)}},{"./_stream_readable":216,"./_stream_writable":218,"babel-runtime/core-js/object/create":55,"babel-runtime/core-js/object/keys":60,"core-util-is":189,inherits:196,"process-nextick-args":207}],215:[function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);a.call(this,e)}var o=e("babel-runtime/core-js/object/create"),i=function(e){return e&&e.__esModule?e:{default:e}}(o);t.exports=r;var a=e("./_stream_transform"),u=(0,i.default)(e("core-util-is"));u.inherits=e("inherits"),u.inherits(r,a),r.prototype._transform=function(e,t,n){n(null,e)}},{"./_stream_transform":217,"babel-runtime/core-js/object/create":55,"core-util-is":189,inherits:196}],216:[function(e,t,n){(function(n,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e){return U.from(e)}function a(e){return U.isBuffer(e)||e instanceof V}function u(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?z(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}function s(t,n){B=B||e("./_stream_duplex"),t=t||{};var r=n instanceof B;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var o=t.highWaterMark,i=t.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:r&&(i||0===i)?i:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new X,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&($||($=e("string_decoder/").StringDecoder),this.decoder=new $(t.encoding),this.encoding=t.encoding)}function c(t){if(B=B||e("./_stream_duplex"),!(this instanceof c))return new c(t);this._readableState=new s(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),H.call(this)}function l(e,t,n,r,o){var a=e._readableState;if(null===t)a.reading=!1,g(e,a);else{var u;o||(u=d(a,t)),u?e.emit("error",u):a.objectMode||t&&t.length>0?("string"==typeof t||a.objectMode||(0,R.default)(t)===U.prototype||(t=i(t)),r?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):f(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!n?(t=a.decoder.write(t),a.objectMode||0!==t.length?f(e,a,t,!1):y(e,a)):f(e,a,t,!1))):r||(a.reading=!1)}return p(a)}function f(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&v(e)),y(e,t)}function d(e,t){var n;return a(t)||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function p(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function h(e){return e>=J?e=J:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function m(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=h(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function g(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,v(e)}}function v(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(G("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?j.nextTick(b,e):b(e))}function b(e){G("emit readable"),e.emit("readable"),E(e)}function y(e,t){t.readingMore||(t.readingMore=!0,j.nextTick(w,e,t))}function w(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(G("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function x(e){return function(){var t=e._readableState;G("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&F(e,"data")&&(t.flowing=!0,E(e))}}function _(e){G("readable nexttick read 0"),e.read(0)}function C(e,t){t.resumeScheduled||(t.resumeScheduled=!0,j.nextTick(S,e,t))}function S(e,t){t.reading||(G("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),E(e),t.flowing&&!t.reading&&e.read(0)}function E(e){var t=e._readableState;for(G("flow",t.flowing);t.flowing&&null!==e.read(););}function k(e,t){if(0===t.length)return null;var n;return t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=T(e,t.buffer,t.decoder),n}function T(e,t,n){var r;return e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?N(e,t):O(e,t),r}function N(e,t){var n=t.head,r=1,o=n.data;for(e-=o.length;n=n.next;){var i=n.data,a=e>i.length?i.length:e;if(a===i.length?o+=i:o+=i.slice(0,e),0===(e-=a)){a===i.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=i.slice(a));break}++r}return t.length-=r,o}function O(e,t){var n=U.allocUnsafe(e),r=t.head,o=1;for(r.data.copy(n),e-=r.data.length;r=r.next;){var i=r.data,a=e>i.length?i.length:e;if(i.copy(n,n.length-e,0,a),0===(e-=a)){a===i.length?(++o,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=i.slice(a));break}++o}return t.length-=o,n}function A(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,j.nextTick(D,t,e))}function D(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function M(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}var I=e("babel-runtime/core-js/object/get-prototype-of"),R=o(I),P=e("babel-runtime/core-js/object/create"),L=o(P),j=e("process-nextick-args");t.exports=c;var B,z=e("isarray");c.ReadableState=s;var F=(e("events").EventEmitter,function(e,t){return e.listeners(t).length}),H=e("./internal/streams/stream"),U=e("safe-buffer").Buffer,V=r.Uint8Array||function(){},q=(0,L.default)(e("core-util-is"));q.inherits=e("inherits");var W=e("util"),G=void 0;G=W&&W.debuglog?W.debuglog("stream"):function(){};var $,X=e("./internal/streams/BufferList"),Y=e("./internal/streams/destroy");q.inherits(c,H);var K=["error","close","destroy","pause","resume"];Object.defineProperty(c.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),c.prototype.destroy=Y.destroy,c.prototype._undestroy=Y.undestroy,c.prototype._destroy=function(e,t){this.push(null),t(e)},c.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=U.from(e,t),t=""),n=!0),l(this,e,t,!1,n)},c.prototype.unshift=function(e){return l(this,e,null,!0,!1)},c.prototype.isPaused=function(){return!1===this._readableState.flowing},c.prototype.setEncoding=function(t){return $||($=e("string_decoder/").StringDecoder),this._readableState.decoder=new $(t),this._readableState.encoding=t,this};var J=8388608;c.prototype.read=function(e){G("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return G("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?A(this):v(this),null;if(0===(e=m(e,t))&&t.ended)return 0===t.length&&A(this),null;var r=t.needReadable;G("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&(r=!0,G("length less than watermark",r)),t.ended||t.reading?(r=!1,G("reading or ended",r)):r&&(G("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=m(n,t)));var o;return o=e>0?k(e,t):null,null===o?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&A(this)),null!==o&&this.emit("data",o),o},c.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},c.prototype.pipe=function(e,t){function r(e,t){G("onunpipe"),e===d&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,i())}function o(){G("onend"),e.end()}function i(){G("cleanup"),e.removeListener("close",c),e.removeListener("finish",l),e.removeListener("drain",g),e.removeListener("error",s),e.removeListener("unpipe",r),d.removeListener("end",o),d.removeListener("end",f),d.removeListener("data",a),v=!0,!p.awaitDrain||e._writableState&&!e._writableState.needDrain||g()}function a(t){G("ondata"),b=!1,!1!==e.write(t)||b||((1===p.pipesCount&&p.pipes===e||p.pipesCount>1&&-1!==M(p.pipes,e))&&!v&&(G("false write response, pause",d._readableState.awaitDrain),d._readableState.awaitDrain++,b=!0),d.pause())}function s(t){G("onerror",t),f(),e.removeListener("error",s),0===F(e,"error")&&e.emit("error",t)}function c(){e.removeListener("finish",l),f()}function l(){G("onfinish"),e.removeListener("close",c),f()}function f(){G("unpipe"),d.unpipe(e)}var d=this,p=this._readableState;switch(p.pipesCount){case 0:p.pipes=e;break;case 1:p.pipes=[p.pipes,e];break;default:p.pipes.push(e)}p.pipesCount+=1,G("pipe count=%d opts=%j",p.pipesCount,t);var h=(!t||!1!==t.end)&&e!==n.stdout&&e!==n.stderr,m=h?o:f;p.endEmitted?j.nextTick(m):d.once("end",m),e.on("unpipe",r);var g=x(d);e.on("drain",g);var v=!1,b=!1;return d.on("data",a),u(e,"error",s),e.once("close",c),e.once("finish",l),e.emit("pipe",d),p.flowing||(G("pipe resume"),d.resume()),e},c.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,o=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<o;i++)r[i].emit("unpipe",this,n);return this}var a=M(t.pipes,e);return-1===a?this:(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},c.prototype.on=function(e,t){var n=H.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&v(this):j.nextTick(_,this))}return n},c.prototype.addListener=c.prototype.on,c.prototype.resume=function(){var e=this._readableState;return e.flowing||(G("resume"),e.flowing=!0,C(this,e)),this},c.prototype.pause=function(){return G("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(G("pause"),this._readableState.flowing=!1,this.emit("pause")),this},c.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;e.on("end",function(){if(G("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(o){if(G("wrapped data"),n.decoder&&(o=n.decoder.write(o)),(!n.objectMode||null!==o&&void 0!==o)&&(n.objectMode||o&&o.length)){t.push(o)||(r=!0,e.pause())}});for(var o in e)void 0===this[o]&&"function"==typeof e[o]&&(this[o]=function(t){return function(){return e[t].apply(e,arguments)}}(o));for(var i=0;i<K.length;i++)e.on(K[i],this.emit.bind(this,K[i]));return this._read=function(t){G("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(c.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),c._fromList=k}).call(this,e("_process"),void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./_stream_duplex":214,"./internal/streams/BufferList":219,"./internal/streams/destroy":220,"./internal/streams/stream":221,_process:208,"babel-runtime/core-js/object/create":55,"babel-runtime/core-js/object/get-prototype-of":59,"core-util-is":189,events:192,inherits:196,isarray:198,"process-nextick-args":207,"safe-buffer":228,"string_decoder/":235,util:71}],217:[function(e,t,n){"use strict";function r(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var o=this._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}function o(e){if(!(this instanceof o))return new o(e);c.call(this,e),this._transformState={afterTransform:r.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",i)}function i(){var e=this;"function"==typeof this._flush?this._flush(function(t,n){a(e,t,n)}):a(this,null,null)}function a(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}var u=e("babel-runtime/core-js/object/create"),s=function(e){return e&&e.__esModule?e:{default:e}}(u);t.exports=o;var c=e("./_stream_duplex"),l=(0,s.default)(e("core-util-is"));l.inherits=e("inherits"),l.inherits(o,c),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},o.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var o=this._readableState;(r.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},o.prototype._destroy=function(e,t){var n=this;c.prototype._destroy.call(this,e,function(e){t(e),n.emit("close")})}},{"./_stream_duplex":214,"babel-runtime/core-js/object/create":55,"core-util-is":189,inherits:196}],218:[function(e,t,n){(function(n,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){T(t,e)}}function a(e){return q.from(e)}function u(e){return q.isBuffer(e)||e instanceof W}function s(){}function c(t,n){z=z||e("./_stream_duplex"),t=t||{};var r=n instanceof z;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var o=t.highWaterMark,a=t.writableHighWaterMark,u=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:r&&(a||0===a)?a:u,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===t.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){b(n,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function l(t){if(z=z||e("./_stream_duplex"),!($.call(l,this)||this instanceof z))return new l(t);this._writableState=new c(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),V.call(this)}function f(e,t){var n=new Error("write after end");e.emit("error",n),B.nextTick(t,n)}function d(e,t,n,r){var o=!0,i=!1;return null===n?i=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(i=new TypeError("Invalid non-string/buffer chunk")),i&&(e.emit("error",i),B.nextTick(r,i),o=!1),o}function p(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=q.from(t,n)),t}function h(e,t,n,r,o,i){if(!n){var a=p(t,r,o);r!==a&&(n=!0,o="buffer",r=a)}var u=t.objectMode?1:r.length;t.length+=u;var s=t.length<t.highWaterMark;if(s||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:o,isBuf:n,callback:i,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else m(e,t,!1,u,r,o,i);return s}function m(e,t,n,r,o,i,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,n?e._writev(o,t.onwrite):e._write(o,i,t.onwrite),t.sync=!1}function g(e,t,n,r,o){--t.pendingcb,n?(B.nextTick(o,r),B.nextTick(E,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(o(r),e._writableState.errorEmitted=!0,e.emit("error",r),E(e,t))}function v(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function b(e,t){var n=e._writableState,r=n.sync,o=n.writecb;if(v(n),t)g(e,n,r,t,o);else{var i=_(n);i||n.corked||n.bufferProcessing||!n.bufferedRequest||x(e,n),r?F(y,e,n,i,o):y(e,n,i,o)}}function y(e,t,n,r){n||w(e,t),t.pendingcb--,r(),E(e,t)}function w(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function x(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,o=new Array(r),a=t.corkedRequestsFree;a.entry=n;for(var u=0,s=!0;n;)o[u]=n,n.isBuf||(s=!1),n=n.next,u+=1;o.allBuffers=s,m(e,t,!0,t.length,o,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,l=n.encoding,f=n.callback;if(m(e,t,!1,t.objectMode?1:c.length,c,l,f),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function _(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function C(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),E(e,t)})}function S(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,B.nextTick(C,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function E(e,t){var n=_(t);return n&&(S(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}function k(e,t,n){t.ending=!0,E(e,t),n&&(t.finished?B.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}function T(e,t,n){var r=e.entry;for(e.entry=null;r;){var o=r.callback;t.pendingcb--,o(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}var N=e("babel-runtime/core-js/object/define-property"),O=o(N),A=e("babel-runtime/core-js/symbol/has-instance"),D=o(A),M=e("babel-runtime/core-js/symbol"),I=o(M),R=e("babel-runtime/core-js/object/create"),P=o(R),L=e("babel-runtime/core-js/set-immediate"),j=o(L),B=e("process-nextick-args");t.exports=l;var z,F=!n.browser&&["v0.10","v0.9."].indexOf(n.version.slice(0,5))>-1?j.default:B.nextTick;l.WritableState=c;var H=(0,P.default)(e("core-util-is"));H.inherits=e("inherits");var U={deprecate:e("util-deprecate")},V=e("./internal/streams/stream"),q=e("safe-buffer").Buffer,W=r.Uint8Array||function(){},G=e("./internal/streams/destroy");H.inherits(l,V),c.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(c.prototype,"buffer",{get:U.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}();var $;"function"==typeof I.default&&D.default&&"function"==typeof Function.prototype[D.default]?($=Function.prototype[D.default],(0,O.default)(l,D.default,{value:function(e){return!!$.call(this,e)||this===l&&(e&&e._writableState instanceof c)}})):$=function(e){return e instanceof this},l.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},l.prototype.write=function(e,t,n){var r=this._writableState,o=!1,i=!r.objectMode&&u(e);return i&&!q.isBuffer(e)&&(e=a(e)),"function"==typeof t&&(n=t,t=null),i?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof n&&(n=s),r.ended?f(this,n):(i||d(this,r,e,n))&&(r.pendingcb++,o=h(this,r,i,e,t,n)),o},l.prototype.cork=function(){this._writableState.corked++},l.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||x(this,e))},l.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),l.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},l.prototype._writev=null,l.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||k(this,r,n)},Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),l.prototype.destroy=G.destroy,l.prototype._undestroy=G.undestroy,l.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,e("_process"),void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./_stream_duplex":214,"./internal/streams/destroy":220,"./internal/streams/stream":221,_process:208,"babel-runtime/core-js/object/create":55,"babel-runtime/core-js/object/define-property":56,"babel-runtime/core-js/set-immediate":62,"babel-runtime/core-js/symbol":64,"babel-runtime/core-js/symbol/has-instance":65,"core-util-is":189,inherits:196,"process-nextick-args":207,"safe-buffer":228,"util-deprecate":240}],219:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,n){e.copy(t,n)}var i=e("safe-buffer").Buffer,a=e("util");t.exports=function(){function e(){r(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return i.alloc(0);if(1===this.length)return this.head.data;for(var t=i.allocUnsafe(e>>>0),n=this.head,r=0;n;)o(n.data,t,r),r+=n.data.length,n=n.next;return t},e}(),a&&a.inspect&&a.inspect.custom&&(t.exports.prototype[a.inspect.custom]=function(){var e=a.inspect({length:this.length});return this.constructor.name+" "+e})},{"safe-buffer":228,util:71}],220:[function(e,t,n){"use strict";function r(e,t){var n=this,r=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return r||o?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||a.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(a.nextTick(i,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)}),this)}function o(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(e,t){e.emit("error",t)}var a=e("process-nextick-args");t.exports={destroy:r,undestroy:o}},{"process-nextick-args":207}],221:[function(e,t,n){"use strict";t.exports=e("events").EventEmitter},{events:192}],222:[function(e,t,n){t.exports=e("./readable").PassThrough},{"./readable":223}],223:[function(e,t,n){n=t.exports=e("./lib/_stream_readable.js"),n.Stream=n,n.Readable=n,n.Writable=e("./lib/_stream_writable.js"),n.Duplex=e("./lib/_stream_duplex.js"),n.Transform=e("./lib/_stream_transform.js"),n.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":214,"./lib/_stream_passthrough.js":215,"./lib/_stream_readable.js":216,"./lib/_stream_transform.js":217,"./lib/_stream_writable.js":218}],224:[function(e,t,n){t.exports=e("./readable").Transform},{"./readable":223}],225:[function(e,t,n){t.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":218}],226:[function(e,t,n){var r=function(){return this}()||Function("return this")(),o=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,i=o&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,t.exports=e("./runtime"),o)r.regeneratorRuntime=i;else try{delete r.regeneratorRuntime}catch(e){r.regeneratorRuntime=void 0}},{"./runtime":227}],227:[function(e,t,n){!function(e){"use strict";function n(e,t,n,r){var i=t&&t.prototype instanceof o?t:o,a=Object.create(i.prototype),u=new p(r||[]);return a._invoke=c(e,n,u),a}function r(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function o(){}function i(){}function a(){}function u(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function s(e){function t(n,o,i,a){var u=r(e[n],e,o);if("throw"!==u.type){var s=u.arg,c=s.value;return c&&"object"==typeof c&&b.call(c,"__await")?Promise.resolve(c.__await).then(function(e){t("next",e,i,a)},function(e){t("throw",e,i,a)}):Promise.resolve(c).then(function(e){s.value=e,i(s)},a)}a(u.arg)}function n(e,n){function r(){return new Promise(function(r,o){t(e,n,r,o)})}return o=o?o.then(r,r):r()}var o;this._invoke=n}function c(e,t,n){var o=E;return function(i,a){if(o===T)throw new Error("Generator is already running");if(o===N){if("throw"===i)throw a;return m()}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=l(u,n);if(s){if(s===O)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===E)throw o=N,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=T;var c=r(e,t,n);if("normal"===c.type){if(o=n.done?N:k,c.arg===O)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=N,n.method="throw",n.arg=c.arg)}}}function l(e,t){var n=e.iterator[t.method];if(n===g){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=g,l(e,t),"throw"===t.method))return O;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return O}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,O;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=g),t.delegate=null,O):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,O)}function f(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function d(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function p(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(f,this),this.reset(!0)}function h(e){if(e){var t=e[w];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(b.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=g,t.done=!0,t};return r.next=r}}return{next:m}}function m(){return{value:g,done:!0}}var g,v=Object.prototype,b=v.hasOwnProperty,y="function"==typeof Symbol?Symbol:{},w=y.iterator||"@@iterator",x=y.asyncIterator||"@@asyncIterator",_=y.toStringTag||"@@toStringTag",C="object"==typeof t,S=e.regeneratorRuntime;if(S)return void(C&&(t.exports=S));S=e.regeneratorRuntime=C?t.exports:{},S.wrap=n;var E="suspendedStart",k="suspendedYield",T="executing",N="completed",O={},A={};A[w]=function(){return this};var D=Object.getPrototypeOf,M=D&&D(D(h([])));M&&M!==v&&b.call(M,w)&&(A=M);var I=a.prototype=o.prototype=Object.create(A);i.prototype=I.constructor=a,a.constructor=i,a[_]=i.displayName="GeneratorFunction",S.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===i||"GeneratorFunction"===(t.displayName||t.name))},S.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,a):(e.__proto__=a,_ in e||(e[_]="GeneratorFunction")),e.prototype=Object.create(I),e},S.awrap=function(e){return{__await:e}},u(s.prototype),s.prototype[x]=function(){return this},S.AsyncIterator=s,S.async=function(e,t,r,o){var i=new s(n(e,t,r,o));return S.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},u(I),I[_]="Generator",I[w]=function(){return this},I.toString=function(){return"[object Generator]"},S.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},S.values=h,p.prototype={constructor:p,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=g,this.done=!1,this.delegate=null,this.method="next",this.arg=g,this.tryEntries.forEach(d),!e)for(var t in this)"t"===t.charAt(0)&&b.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=g)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,r){return i.type="throw",i.arg=e,n.next=t,r&&(n.method="next",n.arg=g),!!r}if(this.done)throw e;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=b.call(o,"catchLoc"),u=b.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&b.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,O):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),O},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),d(n),O}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;d(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:h(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=g),O}}}(function(){return this}()||Function("return this")())},{}],228:[function(e,t,n){function r(e,t){for(var n in e)t[n]=e[n]}function o(e,t,n){return a(e,t,n)}var i=e("buffer"),a=i.Buffer;a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?t.exports=i:(r(i,n),n.Buffer=o),r(a,o),o.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return a(e,t,n)},o.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=a(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return a(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i.SlowBuffer(e)}},{buffer:73}],229:[function(e,t,n){(function(t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=e("babel-runtime/core-js/string/from-code-point"),i=r(o),a=e("babel-runtime/core-js/json/stringify"),u=r(a),s=e("babel-runtime/helpers/typeof"),c=r(s),l=e("babel-runtime/core-js/object/define-property"),f=r(l),d=e("babel-runtime/core-js/object/keys"),p=r(d),h=e("babel-runtime/core-js/object/create"),m=r(h);!function(n){function r(e,t){if(!(this instanceof r))return new r(e,t);var o=this;a(o),o.q=o.c="",o.bufferCheckPosition=n.MAX_BUFFER_LENGTH,o.opt=t||{},o.opt.lowercase=o.opt.lowercase||o.opt.lowercasetags,o.looseCase=o.opt.lowercase?"toLowerCase":"toUpperCase",o.tags=[],o.closed=o.closedRoot=o.sawRoot=!1,o.tag=o.error=null,o.strict=!!e,o.noscript=!(!e&&!o.opt.noscript),o.state=X.BEGIN,o.strictEntities=o.opt.strictEntities,o.ENTITIES=o.strictEntities?(0,m.default)(n.XML_ENTITIES):(0,m.default)(n.ENTITIES),o.attribList=[],o.opt.xmlns&&(o.ns=(0,m.default)(V)),o.trackPosition=!1!==o.opt.position,o.trackPosition&&(o.position=o.line=o.column=0),w(o,"onready")}function o(e){for(var t=Math.max(n.MAX_BUFFER_LENGTH,10),r=0,o=0,i=L.length;o<i;o++){var a=e[L[o]].length;if(a>t)switch(L[o]){case"textNode":_(e);break;case"cdata":x(e,"oncdata",e.cdata),e.cdata="";break;case"script":x(e,"onscript",e.script),e.script="";break;default:S(e,"Max buffer length exceeded: "+L[o])}r=Math.max(r,a)}var u=n.MAX_BUFFER_LENGTH-r;e.bufferCheckPosition=u+e.position}function a(e){for(var t=0,n=L.length;t<n;t++)e[L[t]]=""}function s(e){_(e),""!==e.cdata&&(x(e,"oncdata",e.cdata),e.cdata=""),""!==e.script&&(x(e,"onscript",e.script),e.script="")}function l(e,t){return new d(e,t)}function d(e,t){if(!(this instanceof d))return new d(e,t);j.apply(this),this._parser=new r(e,t),this.writable=!0,this.readable=!0;var n=this;this._parser.onend=function(){n.emit("end")},this._parser.onerror=function(e){n.emit("error",e),n._parser.error=null},this._decoder=null,B.forEach(function(e){(0,f.default)(n,"on"+e,{get:function(){return n._parser["on"+e]},set:function(t){if(!t)return n.removeAllListeners(e),n._parser["on"+e]=t,t;n.on(e,t)},enumerable:!0,configurable:!1})})}function h(e){return" "===e||"\n"===e||"\r"===e||"\t"===e}function g(e){return'"'===e||"'"===e}function v(e){return">"===e||h(e)}function b(e,t){return e.test(t)}function y(e,t){return!b(e,t)}function w(e,t,n){e[t]&&e[t](n)}function x(e,t,n){e.textNode&&_(e),w(e,t,n)}function _(e){e.textNode=C(e.opt,e.textNode),e.textNode&&w(e,"ontext",e.textNode),e.textNode=""}function C(e,t){return e.trim&&(t=t.trim()),e.normalize&&(t=t.replace(/\s+/g," ")),t}function S(e,t){return _(e),e.trackPosition&&(t+="\nLine: "+e.line+"\nColumn: "+e.column+"\nChar: "+e.c),t=new Error(t),e.error=t,w(e,"onerror",t),e}function E(e){return e.sawRoot&&!e.closedRoot&&k(e,"Unclosed root tag"),e.state!==X.BEGIN&&e.state!==X.BEGIN_WHITESPACE&&e.state!==X.TEXT&&S(e,"Unexpected end"),_(e),e.c="",e.closed=!0,w(e,"onend"),r.call(e,e.strict,e.opt),e}function k(e,t){if("object"!==(void 0===e?"undefined":(0,c.default)(e))||!(e instanceof r))throw new Error("bad call to strictFail");e.strict&&S(e,t)}function T(e){e.strict||(e.tagName=e.tagName[e.looseCase]());var t=e.tags[e.tags.length-1]||e,n=e.tag={name:e.tagName,attributes:{}};e.opt.xmlns&&(n.ns=t.ns),e.attribList.length=0,x(e,"onopentagstart",n)}function N(e,t){var n=e.indexOf(":"),r=n<0?["",e]:e.split(":"),o=r[0],i=r[1];return t&&"xmlns"===e&&(o="xmlns",i=""),{prefix:o,local:i}}function O(e){if(e.strict||(e.attribName=e.attribName[e.looseCase]()),-1!==e.attribList.indexOf(e.attribName)||e.tag.attributes.hasOwnProperty(e.attribName))return void(e.attribName=e.attribValue="");if(e.opt.xmlns){var t=N(e.attribName,!0),n=t.prefix,r=t.local;if("xmlns"===n)if("xml"===r&&e.attribValue!==H)k(e,"xml: prefix must be bound to "+H+"\nActual: "+e.attribValue);else if("xmlns"===r&&e.attribValue!==U)k(e,"xmlns: prefix must be bound to "+U+"\nActual: "+e.attribValue);else{var o=e.tag,i=e.tags[e.tags.length-1]||e;o.ns===i.ns&&(o.ns=(0,m.default)(i.ns)),o.ns[r]=e.attribValue}e.attribList.push([e.attribName,e.attribValue])}else e.tag.attributes[e.attribName]=e.attribValue,x(e,"onattribute",{name:e.attribName,value:e.attribValue});e.attribName=e.attribValue=""}function A(e,t){if(e.opt.xmlns){var n=e.tag,r=N(e.tagName);n.prefix=r.prefix,n.local=r.local,n.uri=n.ns[r.prefix]||"",n.prefix&&!n.uri&&(k(e,"Unbound namespace prefix: "+(0,u.default)(e.tagName)),n.uri=r.prefix);var o=e.tags[e.tags.length-1]||e;n.ns&&o.ns!==n.ns&&(0,p.default)(n.ns).forEach(function(t){x(e,"onopennamespace",{prefix:t,uri:n.ns[t]})});for(var i=0,a=e.attribList.length;i<a;i++){var s=e.attribList[i],c=s[0],l=s[1],f=N(c,!0),d=f.prefix,h=f.local,m=""===d?"":n.ns[d]||"",g={name:c,value:l,prefix:d,local:h,uri:m};d&&"xmlns"!==d&&!m&&(k(e,"Unbound namespace prefix: "+(0,u.default)(d)),g.uri=d),e.tag.attributes[c]=g,x(e,"onattribute",g)}e.attribList.length=0}e.tag.isSelfClosing=!!t,e.sawRoot=!0,e.tags.push(e.tag),x(e,"onopentag",e.tag),t||(e.noscript||"script"!==e.tagName.toLowerCase()?e.state=X.TEXT:e.state=X.SCRIPT,e.tag=null,e.tagName=""),e.attribName=e.attribValue="",e.attribList.length=0}function D(e){if(!e.tagName)return k(e,"Weird empty close tag."),e.textNode+="</>",void(e.state=X.TEXT);if(e.script){if("script"!==e.tagName)return e.script+="</"+e.tagName+">",e.tagName="",void(e.state=X.SCRIPT);x(e,"onscript",e.script),e.script=""}var t=e.tags.length,n=e.tagName;e.strict||(n=n[e.looseCase]());for(var r=n;t--;){if(e.tags[t].name===r)break;k(e,"Unexpected close tag")}if(t<0)return k(e,"Unmatched closing tag: "+e.tagName),e.textNode+="</"+e.tagName+">",void(e.state=X.TEXT);e.tagName=n;for(var o=e.tags.length;o-- >t;){var i=e.tag=e.tags.pop();e.tagName=e.tag.name,x(e,"onclosetag",e.tagName);var a={};for(var u in i.ns)a[u]=i.ns[u];var s=e.tags[e.tags.length-1]||e;e.opt.xmlns&&i.ns!==s.ns&&(0,p.default)(i.ns).forEach(function(t){var n=i.ns[t];x(e,"onclosenamespace",{prefix:t,uri:n})})}0===t&&(e.closedRoot=!0),e.tagName=e.attribValue=e.attribName="",e.attribList.length=0,e.state=X.TEXT}function M(e){var t,n=e.entity,r=n.toLowerCase(),o="";return e.ENTITIES[n]?e.ENTITIES[n]:e.ENTITIES[r]?e.ENTITIES[r]:(n=r,"#"===n.charAt(0)&&("x"===n.charAt(1)?(n=n.slice(2),t=parseInt(n,16),o=t.toString(16)):(n=n.slice(1),t=parseInt(n,10),o=t.toString(10))),n=n.replace(/^0+/,""),isNaN(t)||o.toLowerCase()!==n?(k(e,"Invalid character entity"),"&"+e.entity+";"):(0,i.default)(t))}function I(e,t){"<"===t?(e.state=X.OPEN_WAKA,e.startTagPosition=e.position):h(t)||(k(e,"Non-whitespace before first tag."),e.textNode=t,e.state=X.TEXT)}function R(e,t){var n="";return t<e.length&&(n=e.charAt(t)),n}function P(e){var t=this;if(this.error)throw this.error;if(t.closed)return S(t,"Cannot write after close. Assign an onready handler.");if(null===e)return E(t);"object"===(void 0===e?"undefined":(0,c.default)(e))&&(e=e.toString());for(var n=0,r="";;){if(r=R(e,n++),t.c=r,!r)break;switch(t.trackPosition&&(t.position++,"\n"===r?(t.line++,t.column=0):t.column++),t.state){case X.BEGIN:if(t.state=X.BEGIN_WHITESPACE,"\ufeff"===r)continue;I(t,r);continue;case X.BEGIN_WHITESPACE:I(t,r);continue;case X.TEXT:if(t.sawRoot&&!t.closedRoot){for(var i=n-1;r&&"<"!==r&&"&"!==r;)(r=R(e,n++))&&t.trackPosition&&(t.position++,"\n"===r?(t.line++,t.column=0):t.column++);t.textNode+=e.substring(i,n-1)}"<"!==r||t.sawRoot&&t.closedRoot&&!t.strict?(h(r)||t.sawRoot&&!t.closedRoot||k(t,"Text data outside of root node."),"&"===r?t.state=X.TEXT_ENTITY:t.textNode+=r):(t.state=X.OPEN_WAKA,t.startTagPosition=t.position);continue;case X.SCRIPT:"<"===r?t.state=X.SCRIPT_ENDING:t.script+=r;continue;case X.SCRIPT_ENDING:"/"===r?t.state=X.CLOSE_TAG:(t.script+="<"+r,t.state=X.SCRIPT);continue;case X.OPEN_WAKA:if("!"===r)t.state=X.SGML_DECL,t.sgmlDecl="";else if(h(r));else if(b(q,r))t.state=X.OPEN_TAG,t.tagName=r;else if("/"===r)t.state=X.CLOSE_TAG,t.tagName="";else if("?"===r)t.state=X.PROC_INST,t.procInstName=t.procInstBody="";else{if(k(t,"Unencoded <"),t.startTagPosition+1<t.position){var a=t.position-t.startTagPosition;r=new Array(a).join(" ")+r}t.textNode+="<"+r,t.state=X.TEXT}continue;case X.SGML_DECL:(t.sgmlDecl+r).toUpperCase()===z?(x(t,"onopencdata"),t.state=X.CDATA,t.sgmlDecl="",t.cdata=""):t.sgmlDecl+r==="--"?(t.state=X.COMMENT,t.comment="",t.sgmlDecl=""):(t.sgmlDecl+r).toUpperCase()===F?(t.state=X.DOCTYPE,(t.doctype||t.sawRoot)&&k(t,"Inappropriately located doctype declaration"),t.doctype="",t.sgmlDecl=""):">"===r?(x(t,"onsgmldeclaration",t.sgmlDecl),t.sgmlDecl="",t.state=X.TEXT):g(r)?(t.state=X.SGML_DECL_QUOTED,t.sgmlDecl+=r):t.sgmlDecl+=r;continue;case X.SGML_DECL_QUOTED:r===t.q&&(t.state=X.SGML_DECL,t.q=""),t.sgmlDecl+=r;continue;case X.DOCTYPE:">"===r?(t.state=X.TEXT,x(t,"ondoctype",t.doctype),t.doctype=!0):(t.doctype+=r,"["===r?t.state=X.DOCTYPE_DTD:g(r)&&(t.state=X.DOCTYPE_QUOTED,t.q=r));continue;case X.DOCTYPE_QUOTED:t.doctype+=r,r===t.q&&(t.q="",t.state=X.DOCTYPE);continue;case X.DOCTYPE_DTD:t.doctype+=r,"]"===r?t.state=X.DOCTYPE:g(r)&&(t.state=X.DOCTYPE_DTD_QUOTED,t.q=r);continue;case X.DOCTYPE_DTD_QUOTED:t.doctype+=r,r===t.q&&(t.state=X.DOCTYPE_DTD,t.q="");continue;case X.COMMENT:"-"===r?t.state=X.COMMENT_ENDING:t.comment+=r;continue;case X.COMMENT_ENDING:"-"===r?(t.state=X.COMMENT_ENDED,t.comment=C(t.opt,t.comment),t.comment&&x(t,"oncomment",t.comment),t.comment=""):(t.comment+="-"+r,t.state=X.COMMENT);continue;case X.COMMENT_ENDED:">"!==r?(k(t,"Malformed comment"),t.comment+="--"+r,t.state=X.COMMENT):t.state=X.TEXT;continue;case X.CDATA:"]"===r?t.state=X.CDATA_ENDING:t.cdata+=r;continue;case X.CDATA_ENDING:"]"===r?t.state=X.CDATA_ENDING_2:(t.cdata+="]"+r,t.state=X.CDATA);continue;case X.CDATA_ENDING_2:">"===r?(t.cdata&&x(t,"oncdata",t.cdata),x(t,"onclosecdata"),t.cdata="",t.state=X.TEXT):"]"===r?t.cdata+="]":(t.cdata+="]]"+r,t.state=X.CDATA);continue;case X.PROC_INST:"?"===r?t.state=X.PROC_INST_ENDING:h(r)?t.state=X.PROC_INST_BODY:t.procInstName+=r;continue;case X.PROC_INST_BODY:if(!t.procInstBody&&h(r))continue;"?"===r?t.state=X.PROC_INST_ENDING:t.procInstBody+=r;continue;case X.PROC_INST_ENDING:">"===r?(x(t,"onprocessinginstruction",{name:t.procInstName,body:t.procInstBody}),t.procInstName=t.procInstBody="",t.state=X.TEXT):(t.procInstBody+="?"+r,t.state=X.PROC_INST_BODY);continue;case X.OPEN_TAG:b(W,r)?t.tagName+=r:(T(t),">"===r?A(t):"/"===r?t.state=X.OPEN_TAG_SLASH:(h(r)||k(t,"Invalid character in tag name"),t.state=X.ATTRIB));continue;case X.OPEN_TAG_SLASH:">"===r?(A(t,!0),D(t)):(k(t,"Forward-slash in opening tag not followed by >"),t.state=X.ATTRIB);continue;case X.ATTRIB:if(h(r))continue;">"===r?A(t):"/"===r?t.state=X.OPEN_TAG_SLASH:b(q,r)?(t.attribName=r,t.attribValue="",t.state=X.ATTRIB_NAME):k(t,"Invalid attribute name");continue;case X.ATTRIB_NAME:"="===r?t.state=X.ATTRIB_VALUE:">"===r?(k(t,"Attribute without value"),t.attribValue=t.attribName,O(t),A(t)):h(r)?t.state=X.ATTRIB_NAME_SAW_WHITE:b(W,r)?t.attribName+=r:k(t,"Invalid attribute name");continue;case X.ATTRIB_NAME_SAW_WHITE:if("="===r)t.state=X.ATTRIB_VALUE;else{if(h(r))continue;k(t,"Attribute without value"),t.tag.attributes[t.attribName]="",t.attribValue="",x(t,"onattribute",{name:t.attribName,value:""}),t.attribName="",">"===r?A(t):b(q,r)?(t.attribName=r,t.state=X.ATTRIB_NAME):(k(t,"Invalid attribute name"),t.state=X.ATTRIB)}continue;case X.ATTRIB_VALUE:if(h(r))continue;g(r)?(t.q=r,t.state=X.ATTRIB_VALUE_QUOTED):(k(t,"Unquoted attribute value"),t.state=X.ATTRIB_VALUE_UNQUOTED,t.attribValue=r);continue;case X.ATTRIB_VALUE_QUOTED:if(r!==t.q){"&"===r?t.state=X.ATTRIB_VALUE_ENTITY_Q:t.attribValue+=r;continue}O(t),t.q="",t.state=X.ATTRIB_VALUE_CLOSED;continue;case X.ATTRIB_VALUE_CLOSED:h(r)?t.state=X.ATTRIB:">"===r?A(t):"/"===r?t.state=X.OPEN_TAG_SLASH:b(q,r)?(k(t,"No whitespace between attributes"),t.attribName=r,t.attribValue="",t.state=X.ATTRIB_NAME):k(t,"Invalid attribute name");continue;case X.ATTRIB_VALUE_UNQUOTED:if(!v(r)){"&"===r?t.state=X.ATTRIB_VALUE_ENTITY_U:t.attribValue+=r;continue}O(t),">"===r?A(t):t.state=X.ATTRIB;continue;case X.CLOSE_TAG:if(t.tagName)">"===r?D(t):b(W,r)?t.tagName+=r:t.script?(t.script+="</"+t.tagName,t.tagName="",t.state=X.SCRIPT):(h(r)||k(t,"Invalid tagname in closing tag"),t.state=X.CLOSE_TAG_SAW_WHITE);else{if(h(r))continue;y(q,r)?t.script?(t.script+="</"+r,t.state=X.SCRIPT):k(t,"Invalid tagname in closing tag."):t.tagName=r}continue;case X.CLOSE_TAG_SAW_WHITE:if(h(r))continue;">"===r?D(t):k(t,"Invalid characters in closing tag");continue;case X.TEXT_ENTITY:case X.ATTRIB_VALUE_ENTITY_Q:case X.ATTRIB_VALUE_ENTITY_U:var u,s;switch(t.state){case X.TEXT_ENTITY:u=X.TEXT,s="textNode";break;case X.ATTRIB_VALUE_ENTITY_Q:u=X.ATTRIB_VALUE_QUOTED,s="attribValue";break;case X.ATTRIB_VALUE_ENTITY_U:u=X.ATTRIB_VALUE_UNQUOTED,s="attribValue"}";"===r?(t[s]+=M(t),t.entity="",t.state=u):b(t.entity.length?$:G,r)?t.entity+=r:(k(t,"Invalid character in entity name"),t[s]+="&"+t.entity+r,t.entity="",t.state=u);continue;default:throw new Error(t,"Unknown state: "+t.state)}}return t.position>=t.bufferCheckPosition&&o(t),t}n.parser=function(e,t){return new r(e,t)},n.SAXParser=r,n.SAXStream=d,n.createStream=l,n.MAX_BUFFER_LENGTH=65536;var L=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];n.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],m.default||(Object.create=function(e){function t(){}return t.prototype=e,new t}),p.default||(Object.keys=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}),r.prototype={end:function(){E(this)},write:P,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){s(this)}};var j;try{j=e("stream").Stream}catch(e){j=function(){}}var B=n.EVENTS.filter(function(e){return"error"!==e&&"end"!==e});d.prototype=(0,m.default)(j.prototype,{constructor:{value:d}}),d.prototype.write=function(n){if("function"==typeof t&&"function"==typeof t.isBuffer&&t.isBuffer(n)){if(!this._decoder){var r=e("string_decoder").StringDecoder;this._decoder=new r("utf8")}n=this._decoder.write(n)}return this._parser.write(n.toString()),this.emit("data",n),!0},d.prototype.end=function(e){return e&&e.length&&this.write(e),this._parser.end(),!0},d.prototype.on=function(e,t){var n=this;return n._parser["on"+e]||-1===B.indexOf(e)||(n._parser["on"+e]=function(){var t=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);t.splice(0,0,e),n.emit.apply(n,t)}),j.prototype.on.call(n,e,t)};var z="[CDATA[",F="DOCTYPE",H="http://www.w3.org/XML/1998/namespace",U="http://www.w3.org/2000/xmlns/",V={xml:H,xmlns:U},q=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,W=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,G=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,$=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,X=0;n.STATE={BEGIN:X++,BEGIN_WHITESPACE:X++,TEXT:X++,TEXT_ENTITY:X++,OPEN_WAKA:X++,SGML_DECL:X++,SGML_DECL_QUOTED:X++,DOCTYPE:X++,DOCTYPE_QUOTED:X++,DOCTYPE_DTD:X++,DOCTYPE_DTD_QUOTED:X++,COMMENT_STARTING:X++,COMMENT:X++,COMMENT_ENDING:X++,COMMENT_ENDED:X++,CDATA:X++,CDATA_ENDING:X++,CDATA_ENDING_2:X++,PROC_INST:X++,PROC_INST_BODY:X++,PROC_INST_ENDING:X++,OPEN_TAG:X++,OPEN_TAG_SLASH:X++,ATTRIB:X++,ATTRIB_NAME:X++,ATTRIB_NAME_SAW_WHITE:X++,ATTRIB_VALUE:X++,ATTRIB_VALUE_QUOTED:X++,ATTRIB_VALUE_CLOSED:X++,ATTRIB_VALUE_UNQUOTED:X++,ATTRIB_VALUE_ENTITY_Q:X++,ATTRIB_VALUE_ENTITY_U:X++,CLOSE_TAG:X++,CLOSE_TAG_SAW_WHITE:X++,SCRIPT:X++,SCRIPT_ENDING:X++},n.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},n.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},(0,p.default)(n.ENTITIES).forEach(function(e){var t=n.ENTITIES[e],r="number"==typeof t?String.fromCharCode(t):t;n.ENTITIES[e]=r});for(var Y in n.STATE)n.STATE[n.STATE[Y]]=Y;X=n.STATE,/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */
i.default||function(){var e=String.fromCharCode,t=Math.floor,n=function(){var n,r,o=[],i=-1,a=arguments.length;if(!a)return"";for(var u="";++i<a;){var s=Number(arguments[i]);if(!isFinite(s)||s<0||s>1114111||t(s)!==s)throw RangeError("Invalid code point: "+s);s<=65535?o.push(s):(s-=65536,n=55296+(s>>10),r=s%1024+56320,o.push(n,r)),(i+1===a||o.length>16384)&&(u+=e.apply(null,o),o.length=0)}return u};f.default?Object.defineProperty(String,"fromCodePoint",{value:n,configurable:!0,writable:!0}):String.fromCodePoint=n}()}(void 0===n?(void 0).sax={}:n)}).call(this,e("buffer").Buffer)},{"babel-runtime/core-js/json/stringify":53,"babel-runtime/core-js/object/create":55,"babel-runtime/core-js/object/define-property":56,"babel-runtime/core-js/object/keys":60,"babel-runtime/core-js/string/from-code-point":63,"babel-runtime/helpers/typeof":67,buffer:73,stream:230,string_decoder:72}],230:[function(e,t,n){function r(){o.call(this)}t.exports=r;var o=e("events").EventEmitter;e("inherits")(r,o),r.Readable=e("readable-stream/readable.js"),r.Writable=e("readable-stream/writable.js"),r.Duplex=e("readable-stream/duplex.js"),r.Transform=e("readable-stream/transform.js"),r.PassThrough=e("readable-stream/passthrough.js"),r.Stream=r,r.prototype.pipe=function(e,t){function n(t){e.writable&&!1===e.write(t)&&c.pause&&c.pause()}function r(){c.readable&&c.resume&&c.resume()}function i(){l||(l=!0,e.end())}function a(){l||(l=!0,"function"==typeof e.destroy&&e.destroy())}function u(e){if(s(),0===o.listenerCount(this,"error"))throw e}function s(){c.removeListener("data",n),e.removeListener("drain",r),c.removeListener("end",i),c.removeListener("close",a),c.removeListener("error",u),e.removeListener("error",u),c.removeListener("end",s),c.removeListener("close",s),e.removeListener("close",s)}var c=this;c.on("data",n),e.on("drain",r),e._isStdio||t&&!1===t.end||(c.on("end",i),c.on("close",a));var l=!1;return c.on("error",u),e.on("error",u),c.on("end",s),c.on("close",s),e.on("close",s),e.emit("pipe",c),e}},{events:192,inherits:196,"readable-stream/duplex.js":213,"readable-stream/passthrough.js":222,"readable-stream/readable.js":223,"readable-stream/transform.js":224,"readable-stream/writable.js":225}],231:[function(e,t,n){(function(t){var r=e("./lib/request"),o=e("./lib/response"),i=e("xtend"),a=e("builtin-status-codes"),u=e("url"),s=n;s.request=function(e,n){e="string"==typeof e?u.parse(e):i(e);var o=-1===t.location.protocol.search(/^https?:$/)?"http:":"",a=e.protocol||o,s=e.hostname||e.host,c=e.port,l=e.path||"/";s&&-1!==s.indexOf(":")&&(s="["+s+"]"),e.url=(s?a+"//"+s:"")+(c?":"+c:"")+l,e.method=(e.method||"GET").toUpperCase(),e.headers=e.headers||{};var f=new r(e);return n&&f.on("response",n),f},s.get=function(e,t){var n=s.request(e,t);return n.end(),n},s.ClientRequest=r,s.IncomingMessage=o.IncomingMessage,s.Agent=function(){},s.Agent.defaultMaxSockets=4,s.globalAgent=new s.Agent,s.STATUS_CODES=a,s.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./lib/request":233,"./lib/response":234,"builtin-status-codes":74,url:238,xtend:283}],232:[function(e,t,n){(function(e){"use strict";function t(){if(void 0!==i)return i;if(e.XMLHttpRequest){i=new e.XMLHttpRequest;try{i.open("GET",e.XDomainRequest?"/":"https://example.com")}catch(e){i=null}}else i=null;return i}function r(e){var n=t();if(!n)return!1;try{return n.responseType=e,n.responseType===e}catch(e){}return!1}function o(e){return"function"==typeof e}n.fetch=o(e.fetch)&&o(e.ReadableStream),n.writableStream=o(e.WritableStream),n.abortController=o(e.AbortController),n.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),n.blobConstructor=!0}catch(e){}var i,a=void 0!==e.ArrayBuffer,u=a&&o(e.ArrayBuffer.prototype.slice);n.arraybuffer=n.fetch||a&&r("arraybuffer"),n.msstream=!n.fetch&&u&&r("ms-stream"),n.mozchunkedarraybuffer=!n.fetch&&a&&r("moz-chunked-arraybuffer"),n.overrideMimeType=n.fetch||!!t()&&o(t().overrideMimeType),n.vbArray=o(e.VBArray),i=null}).call(this,void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],233:[function(e,t,n){(function(n,r,o){"use strict";function i(e,t){return c.fetch&&t?"fetch":c.mozchunkedarraybuffer?"moz-chunked-arraybuffer":c.msstream?"ms-stream":c.arraybuffer&&e?"arraybuffer":c.vbArray&&e?"text:vbarray":"text"}function a(e){try{var t=e.status;return null!==t&&0!==t}catch(e){return!1}}var u=e("babel-runtime/core-js/object/keys"),s=function(e){return e&&e.__esModule?e:{default:e}}(u),c=e("./capability"),l=e("inherits"),f=e("./response"),d=e("readable-stream"),p=e("to-arraybuffer"),h=f.IncomingMessage,m=f.readyStates,g=t.exports=function(e){var t=this;d.Writable.call(t),t._opts=e,t._body=[],t._headers={},e.auth&&t.setHeader("Authorization","Basic "+new o(e.auth).toString("base64")),(0,s.default)(e.headers).forEach(function(n){t.setHeader(n,e.headers[n])});var n,r=!0;if("disable-fetch"===e.mode||"requestTimeout"in e&&!c.abortController)r=!1,n=!0;else if("prefer-streaming"===e.mode)n=!1;else if("allow-wrong-content-type"===e.mode)n=!c.overrideMimeType;else{if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw new Error("Invalid value for opts.mode");n=!0}t._mode=i(n,r),t._fetchTimer=null,t.on("finish",function(){t._onFinish()})};l(g,d.Writable),g.prototype.setHeader=function(e,t){var n=this,r=e.toLowerCase();-1===v.indexOf(r)&&(n._headers[r]={name:e,value:t})},g.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];return t?t.value:null},g.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},g.prototype._onFinish=function(){var e=this;if(!e._destroyed){var t=e._opts,i=e._headers,a=null;"GET"!==t.method&&"HEAD"!==t.method&&(a=c.arraybuffer?p(o.concat(e._body)):c.blobConstructor?new r.Blob(e._body.map(function(e){return p(e)}),{type:(i["content-type"]||{}).value||""}):o.concat(e._body).toString());var u=[];if((0,s.default)(i).forEach(function(e){var t=i[e].name,n=i[e].value;Array.isArray(n)?n.forEach(function(e){u.push([t,e])}):u.push([t,n])}),"fetch"===e._mode){var l=null;if(c.abortController){var f=new AbortController;l=f.signal,e._fetchAbortController=f,"requestTimeout"in t&&0!==t.requestTimeout&&(e._fetchTimer=r.setTimeout(function(){e.emit("requestTimeout"),e._fetchAbortController&&e._fetchAbortController.abort()},t.requestTimeout))}r.fetch(e._opts.url,{method:e._opts.method,headers:u,body:a||void 0,mode:"cors",credentials:t.withCredentials?"include":"same-origin",signal:l}).then(function(t){e._fetchResponse=t,e._connect()},function(t){r.clearTimeout(e._fetchTimer),e._destroyed||e.emit("error",t)})}else{var d=e._xhr=new r.XMLHttpRequest;try{d.open(e._opts.method,e._opts.url,!0)}catch(t){return void n.nextTick(function(){e.emit("error",t)})}"responseType"in d&&(d.responseType=e._mode.split(":")[0]),"withCredentials"in d&&(d.withCredentials=!!t.withCredentials),"text"===e._mode&&"overrideMimeType"in d&&d.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in t&&(d.timeout=t.requestTimeout,d.ontimeout=function(){e.emit("requestTimeout")}),u.forEach(function(e){d.setRequestHeader(e[0],e[1])}),e._response=null,d.onreadystatechange=function(){switch(d.readyState){case m.LOADING:case m.DONE:e._onXHRProgress()}},"moz-chunked-arraybuffer"===e._mode&&(d.onprogress=function(){e._onXHRProgress()}),d.onerror=function(){e._destroyed||e.emit("error",new Error("XHR error"))};try{d.send(a)}catch(t){return void n.nextTick(function(){e.emit("error",t)})}}}},g.prototype._onXHRProgress=function(){var e=this;a(e._xhr)&&!e._destroyed&&(e._response||e._connect(),e._response._onXHRProgress())},g.prototype._connect=function(){var e=this;e._destroyed||(e._response=new h(e._xhr,e._fetchResponse,e._mode,e._fetchTimer),e._response.on("error",function(t){e.emit("error",t)}),e.emit("response",e._response))},g.prototype._write=function(e,t,n){this._body.push(e),n()},g.prototype.abort=g.prototype.destroy=function(){var e=this;e._destroyed=!0,r.clearTimeout(e._fetchTimer),e._response&&(e._response._destroyed=!0),e._xhr?e._xhr.abort():e._fetchAbortController&&e._fetchAbortController.abort()},g.prototype.end=function(e,t,n){var r=this;"function"==typeof e&&(n=e,e=void 0),d.Writable.prototype.end.call(r,e,t,n)},g.prototype.flushHeaders=function(){},g.prototype.setTimeout=function(){},g.prototype.setNoDelay=function(){},g.prototype.setSocketKeepAlive=function(){};var v=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"]}).call(this,e("_process"),void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer)},{"./capability":232,"./response":234,_process:208,"babel-runtime/core-js/object/keys":60,buffer:73,inherits:196,"readable-stream":223,"to-arraybuffer":237}],234:[function(e,t,n){(function(t,r,o){"use strict";var i=e("babel-runtime/core-js/promise"),a=function(e){return e&&e.__esModule?e:{default:e}}(i),u=e("./capability"),s=e("inherits"),c=e("readable-stream"),l=n.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},f=n.IncomingMessage=function(e,n,i,s){var l=this;if(c.Readable.call(l),l._mode=i,l.headers={},l.rawHeaders=[],l.trailers={},l.rawTrailers=[],l.on("end",function(){t.nextTick(function(){l.emit("close")})}),"fetch"===i){if(l._fetchResponse=n,l.url=n.url,l.statusCode=n.status,l.statusMessage=n.statusText,n.headers.forEach(function(e,t){l.headers[t.toLowerCase()]=e,l.rawHeaders.push(t,e)}),u.writableStream){var f=new WritableStream({write:function(e){return new a.default(function(t,n){l._destroyed?n():l.push(new o(e))?t():l._resumeFetch=t})},close:function(){r.clearTimeout(s),l._destroyed||l.push(null)},abort:function(e){l._destroyed||l.emit("error",e)}});try{return void n.body.pipeTo(f).catch(function(e){r.clearTimeout(s),l._destroyed||l.emit("error",e)})}catch(e){}}var d=n.body.getReader();!function e(){d.read().then(function(t){if(!l._destroyed){if(t.done)return r.clearTimeout(s),void l.push(null);l.push(new o(t.value)),e()}}).catch(function(e){r.clearTimeout(s),l._destroyed||l.emit("error",e)})}()}else{l._xhr=e,l._pos=0,l.url=e.responseURL,l.statusCode=e.status,l.statusMessage=e.statusText;if(e.getAllResponseHeaders().split(/\r?\n/).forEach(function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var n=t[1].toLowerCase();"set-cookie"===n?(void 0===l.headers[n]&&(l.headers[n]=[]),l.headers[n].push(t[2])):void 0!==l.headers[n]?l.headers[n]+=", "+t[2]:l.headers[n]=t[2],l.rawHeaders.push(t[1],t[2])}}),l._charset="x-user-defined",!u.overrideMimeType){var p=l.rawHeaders["mime-type"];if(p){var h=p.match(/;\s*charset=([^;])(;|$)/);h&&(l._charset=h[1].toLowerCase())}l._charset||(l._charset="utf-8")}}};s(f,c.Readable),f.prototype._read=function(){var e=this,t=e._resumeFetch;t&&(e._resumeFetch=null,t())},f.prototype._onXHRProgress=function(){var e=this,t=e._xhr,n=null;switch(e._mode){case"text:vbarray":if(t.readyState!==l.DONE)break;try{n=new r.VBArray(t.responseBody).toArray()}catch(e){}if(null!==n){e.push(new o(n));break}case"text":try{n=t.responseText}catch(t){e._mode="text:vbarray";break}if(n.length>e._pos){var i=n.substr(e._pos);if("x-user-defined"===e._charset){for(var a=new o(i.length),u=0;u<i.length;u++)a[u]=255&i.charCodeAt(u);e.push(a)}else e.push(i,e._charset);e._pos=n.length}break;case"arraybuffer":if(t.readyState!==l.DONE||!t.response)break;n=t.response,e.push(new o(new Uint8Array(n)));break;case"moz-chunked-arraybuffer":if(n=t.response,t.readyState!==l.LOADING||!n)break;e.push(new o(new Uint8Array(n)));break;case"ms-stream":if(n=t.response,t.readyState!==l.LOADING)break;var s=new r.MSStreamReader;s.onprogress=function(){s.result.byteLength>e._pos&&(e.push(new o(new Uint8Array(s.result.slice(e._pos)))),e._pos=s.result.byteLength)},s.onload=function(){e.push(null)},s.readAsArrayBuffer(n)}e._xhr.readyState===l.DONE&&"ms-stream"!==e._mode&&e.push(null)}}).call(this,e("_process"),void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer)},{"./capability":232,_process:208,"babel-runtime/core-js/promise":61,buffer:73,inherits:196,"readable-stream":223}],235:[function(e,t,n){"use strict";function r(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function o(e){var t=r(e);if("string"!=typeof t&&(b.isEncoding===y||!y(e)))throw new Error("Unknown encoding: "+e);return t||e}function i(e){this.encoding=o(e);var t;switch(this.encoding){case"utf16le":this.text=d,this.end=p,t=4;break;case"utf8":this.fillLast=c,t=4;break;case"base64":this.text=h,this.end=m,t=3;break;default:return this.write=g,void(this.end=v)}this.lastNeed=0,this.lastTotal=0,this.lastChar=b.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function u(e,t,n){var r=t.length-1;if(r<n)return 0;var o=a(t[r]);return o>=0?(o>0&&(e.lastNeed=o-1),o):--r<n||-2===o?0:(o=a(t[r]))>=0?(o>0&&(e.lastNeed=o-2),o):--r<n||-2===o?0:(o=a(t[r]),o>=0?(o>0&&(2===o?o=0:e.lastNeed=o-3),o):0)}function s(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}function c(e){var t=this.lastTotal-this.lastNeed,n=s(this,e,t);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function l(e,t){var n=u(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t}function d(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function p(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function h(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function m(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function g(e){return e.toString(this.encoding)}function v(e){return e&&e.length?this.write(e):""}var b=e("safe-buffer").Buffer,y=b.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};n.StringDecoder=i,i.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},i.prototype.end=f,i.prototype.text=l,i.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},{"safe-buffer":228}],236:[function(e,t,n){(function(t,r){function o(e,t){this._id=e,this._clearFn=t}var i=e("process/browser.js").nextTick,a=Function.prototype.apply,u=Array.prototype.slice,s={},c=0;n.setTimeout=function(){return new o(a.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new o(a.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n.setImmediate="function"==typeof t?t:function(e){var t=c++,r=!(arguments.length<2)&&u.call(arguments,1);return s[t]=!0,i(function(){s[t]&&(r?e.apply(null,r):e.call(null),n.clearImmediate(t))}),t},n.clearImmediate="function"==typeof r?r:function(e){delete s[e]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":208,timers:236}],237:[function(e,t,n){var r=e("buffer").Buffer;t.exports=function(e){if(e instanceof Uint8Array){if(0===e.byteOffset&&e.byteLength===e.buffer.byteLength)return e.buffer;if("function"==typeof e.buffer.slice)return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}if(r.isBuffer(e)){for(var t=new Uint8Array(e.length),n=e.length,o=0;o<n;o++)t[o]=e[o];return t.buffer}throw new Error("Argument must be a Buffer")}},{buffer:73}],238:[function(e,t,n){"use strict";function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function o(e,t,n){if(e&&c.isObject(e)&&e instanceof r)return e;var o=new r;return o.parse(e,t,n),o}function i(e){return c.isString(e)&&(e=o(e)),e instanceof r?e.format():r.prototype.format.call(e)}function a(e,t){return o(e,!1,!0).resolve(t)}function u(e,t){return e?o(e,!1,!0).resolveObject(t):t}var s=e("punycode"),c=e("./util");n.parse=o,n.resolve=a,n.resolveObject=u,n.format=i,n.Url=r;var l=/^([a-z0-9.+-]+:)/i,f=/:[0-9]*$/,d=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,p=["<",">",'"',"`"," ","\r","\n","\t"],h=["{","}","|","\\","^","`"].concat(p),m=["'"].concat(h),g=["%","/","?",";","#"].concat(m),v=["/","?","#"],b=/^[+a-z0-9A-Z_-]{0,63}$/,y=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,w={javascript:!0,"javascript:":!0},x={javascript:!0,"javascript:":!0},_={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},C=e("querystring");r.prototype.parse=function(e,t,n){if(!c.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),o=-1!==r&&r<e.indexOf("#")?"?":"#",i=e.split(o),a=/\\/g;i[0]=i[0].replace(a,"/"),e=i.join(o);var u=e;if(u=u.trim(),!n&&1===e.split("#").length){var f=d.exec(u);if(f)return this.path=u,this.href=u,this.pathname=f[1],f[2]?(this.search=f[2],this.query=t?C.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var p=l.exec(u);if(p){p=p[0];var h=p.toLowerCase();this.protocol=h,u=u.substr(p.length)}if(n||p||u.match(/^\/\/[^@\/]+@[^@\/]+/)){var S="//"===u.substr(0,2);!S||p&&x[p]||(u=u.substr(2),this.slashes=!0)}if(!x[p]&&(S||p&&!_[p])){for(var E=-1,k=0;k<v.length;k++){var T=u.indexOf(v[k]);-1!==T&&(-1===E||T<E)&&(E=T)}var N,O;O=-1===E?u.lastIndexOf("@"):u.lastIndexOf("@",E),-1!==O&&(N=u.slice(0,O),u=u.slice(O+1),this.auth=decodeURIComponent(N)),E=-1;for(var k=0;k<g.length;k++){var T=u.indexOf(g[k]);-1!==T&&(-1===E||T<E)&&(E=T)}-1===E&&(E=u.length),this.host=u.slice(0,E),u=u.slice(E),this.parseHost(),this.hostname=this.hostname||"";var A="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!A)for(var D=this.hostname.split(/\./),k=0,M=D.length;k<M;k++){var I=D[k];if(I&&!I.match(b)){for(var R="",P=0,L=I.length;P<L;P++)I.charCodeAt(P)>127?R+="x":R+=I[P];if(!R.match(b)){var j=D.slice(0,k),B=D.slice(k+1),z=I.match(y);z&&(j.push(z[1]),B.unshift(z[2])),B.length&&(u="/"+B.join(".")+u),this.hostname=j.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),A||(this.hostname=s.toASCII(this.hostname));var F=this.port?":"+this.port:"",H=this.hostname||"";this.host=H+F,this.href+=this.host,A&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==u[0]&&(u="/"+u))}if(!w[h])for(var k=0,M=m.length;k<M;k++){var U=m[k];if(-1!==u.indexOf(U)){var V=encodeURIComponent(U);V===U&&(V=escape(U)),u=u.split(U).join(V)}}var q=u.indexOf("#");-1!==q&&(this.hash=u.substr(q),u=u.slice(0,q));var W=u.indexOf("?");if(-1!==W?(this.search=u.substr(W),this.query=u.substr(W+1),t&&(this.query=C.parse(this.query)),u=u.slice(0,W)):t&&(this.search="",this.query={}),u&&(this.pathname=u),_[h]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var F=this.pathname||"",G=this.search||"";this.path=F+G}return this.href=this.format(),this},r.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,i="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&c.isObject(this.query)&&Object.keys(this.query).length&&(i=C.stringify(this.query));var a=this.search||i&&"?"+i||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||_[t])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),a=a.replace("#","%23"),t+o+n+a+r},r.prototype.resolve=function(e){return this.resolveObject(o(e,!1,!0)).format()},r.prototype.resolveObject=function(e){if(c.isString(e)){var t=new r;t.parse(e,!1,!0),e=t}for(var n=new r,o=Object.keys(this),i=0;i<o.length;i++){var a=o[i];n[a]=this[a]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var u=Object.keys(e),s=0;s<u.length;s++){var l=u[s];"protocol"!==l&&(n[l]=e[l])}return _[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!_[e.protocol]){for(var f=Object.keys(e),d=0;d<f.length;d++){var p=f[d];n[p]=e[p]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||x[e.protocol])n.pathname=e.pathname;else{for(var h=(e.pathname||"").split("/");h.length&&!(e.host=h.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),n.pathname=h.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var m=n.pathname||"",g=n.search||"";n.path=m+g}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var v=n.pathname&&"/"===n.pathname.charAt(0),b=e.host||e.pathname&&"/"===e.pathname.charAt(0),y=b||v||n.host&&e.pathname,w=y,C=n.pathname&&n.pathname.split("/")||[],h=e.pathname&&e.pathname.split("/")||[],S=n.protocol&&!_[n.protocol];if(S&&(n.hostname="",n.port=null,n.host&&(""===C[0]?C[0]=n.host:C.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===h[0]?h[0]=e.host:h.unshift(e.host)),e.host=null),y=y&&(""===h[0]||""===C[0])),b)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,C=h;else if(h.length)C||(C=[]),C.pop(),C=C.concat(h),n.search=e.search,n.query=e.query;else if(!c.isNullOrUndefined(e.search)){if(S){n.hostname=n.host=C.shift();var E=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");E&&(n.auth=E.shift(),n.host=n.hostname=E.shift())}return n.search=e.search,n.query=e.query,c.isNull(n.pathname)&&c.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!C.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var k=C.slice(-1)[0],T=(n.host||e.host||C.length>1)&&("."===k||".."===k)||""===k,N=0,O=C.length;O>=0;O--)k=C[O],"."===k?C.splice(O,1):".."===k?(C.splice(O,1),N++):N&&(C.splice(O,1),N--);if(!y&&!w)for(;N--;N)C.unshift("..");!y||""===C[0]||C[0]&&"/"===C[0].charAt(0)||C.unshift(""),T&&"/"!==C.join("/").substr(-1)&&C.push("");var A=""===C[0]||C[0]&&"/"===C[0].charAt(0);if(S){n.hostname=n.host=A?"":C.length?C.shift():"";var E=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");E&&(n.auth=E.shift(),n.host=n.hostname=E.shift())}return y=y||n.host&&C.length,y&&!A&&C.unshift(""),C.length?n.pathname=C.join("/"):(n.pathname=null,n.path=null),c.isNull(n.pathname)&&c.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},r.prototype.parseHost=function(){var e=this.host,t=f.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},{"./util":239,punycode:209,querystring:212}],239:[function(e,t,n){"use strict";t.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},{}],240:[function(e,t,n){(function(e){function n(e,t){function n(){if(!o){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),o=!0}return e.apply(this,arguments)}if(r("noDeprecation"))return e;var o=!1;return n}function r(t){try{if(!e.localStorage)return!1}catch(e){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}t.exports=n}).call(this,void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],241:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],242:[function(e,t,n){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],243:[function(e,t,n){(function(t,r){function o(e,t){var r={seen:[],stylize:a};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),m(t)?r.showHidden=t:t&&n._extend(r,t),x(r.showHidden)&&(r.showHidden=!1),x(r.depth)&&(r.depth=2),x(r.colors)&&(r.colors=!1),x(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=i),s(r,e,r.depth)}function i(e,t){var n=o.styles[t];return n?"["+o.colors[n][0]+"m"+e+"["+o.colors[n][1]+"m":e}function a(e,t){return e}function u(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function s(e,t,r){if(e.customInspect&&t&&k(t.inspect)&&t.inspect!==n.inspect&&(!t.constructor||t.constructor.prototype!==t)){var o=t.inspect(r,e);return y(o)||(o=s(e,o,r)),o}var i=c(e,t);if(i)return i;var a=Object.keys(t),m=u(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(t)),E(t)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return l(t);if(0===a.length){if(k(t)){var g=t.name?": "+t.name:"";return e.stylize("[Function"+g+"]","special")}if(_(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(S(t))return e.stylize(Date.prototype.toString.call(t),"date");if(E(t))return l(t)}var v="",b=!1,w=["{","}"];if(h(t)&&(b=!0,w=["[","]"]),k(t)){v=" [Function"+(t.name?": "+t.name:"")+"]"}if(_(t)&&(v=" "+RegExp.prototype.toString.call(t)),S(t)&&(v=" "+Date.prototype.toUTCString.call(t)),E(t)&&(v=" "+l(t)),0===a.length&&(!b||0==t.length))return w[0]+v+w[1];if(r<0)return _(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var x;return x=b?f(e,t,r,m,a):a.map(function(n){return d(e,t,r,m,n,b)}),e.seen.pop(),p(x,v,w)}function c(e,t){if(x(t))return e.stylize("undefined","undefined");if(y(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return b(t)?e.stylize(""+t,"number"):m(t)?e.stylize(""+t,"boolean"):g(t)?e.stylize("null","null"):void 0}function l(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,n,r,o){for(var i=[],a=0,u=t.length;a<u;++a)D(t,String(a))?i.push(d(e,t,n,r,String(a),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(d(e,t,n,r,o,!0))}),i}function d(e,t,n,r,o,i){var a,u,c;if(c=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]},c.get?u=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(u=e.stylize("[Setter]","special")),D(r,o)||(a="["+o+"]"),u||(e.seen.indexOf(c.value)<0?(u=g(n)?s(e,c.value,null):s(e,c.value,n-1),u.indexOf("\n")>-1&&(u=i?u.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+u.split("\n").map(function(e){return"   "+e}).join("\n"))):u=e.stylize("[Circular]","special")),x(a)){if(i&&o.match(/^\d+$/))return u;a=JSON.stringify(""+o),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+u}function p(e,t,n){var r=0;return e.reduce(function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function h(e){return Array.isArray(e)}function m(e){return"boolean"==typeof e}function g(e){return null===e}function v(e){return null==e}function b(e){return"number"==typeof e}function y(e){return"string"==typeof e}function w(e){return"symbol"==typeof e}function x(e){return void 0===e}function _(e){return C(e)&&"[object RegExp]"===N(e)}function C(e){return"object"==typeof e&&null!==e}function S(e){return C(e)&&"[object Date]"===N(e)}function E(e){return C(e)&&("[object Error]"===N(e)||e instanceof Error)}function k(e){return"function"==typeof e}function T(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function N(e){return Object.prototype.toString.call(e)}function O(e){return e<10?"0"+e.toString(10):e.toString(10)}function A(){var e=new Date,t=[O(e.getHours()),O(e.getMinutes()),O(e.getSeconds())].join(":");return[e.getDate(),P[e.getMonth()],t].join(" ")}function D(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var M=/%[sdj%]/g;n.format=function(e){if(!y(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(o(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,i=r.length,a=String(e).replace(M,function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),u=r[n];n<i;u=r[++n])g(u)||!C(u)?a+=" "+u:a+=" "+o(u);return a},n.deprecate=function(e,o){function i(){if(!a){if(t.throwDeprecation)throw new Error(o);t.traceDeprecation?console.trace(o):console.error(o),a=!0}return e.apply(this,arguments)}if(x(r.process))return function(){return n.deprecate(e,o).apply(this,arguments)};if(!0===t.noDeprecation)return e;var a=!1;return i};var I,R={};n.debuglog=function(e){if(x(I)&&(I=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!R[e])if(new RegExp("\\b"+e+"\\b","i").test(I)){var r=t.pid;R[e]=function(){var t=n.format.apply(n,arguments);console.error("%s %d: %s",e,r,t)}}else R[e]=function(){};return R[e]},n.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=h,n.isBoolean=m,n.isNull=g,n.isNullOrUndefined=v,n.isNumber=b,n.isString=y,n.isSymbol=w,n.isUndefined=x,n.isRegExp=_,n.isObject=C,n.isDate=S,n.isError=E,n.isFunction=k,n.isPrimitive=T,n.isBuffer=e("./support/isBuffer");var P=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",A(),n.format.apply(n,arguments))},n.inherits=e("inherits"),n._extend=function(e,t){if(!t||!C(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(this,e("_process"),void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":242,_process:208,inherits:241}],244:[function(e,t,n){"use strict";(function(){n.stripBOM=function(e){return"\ufeff"===e[0]?e.substring(1):e}}).call(void 0)},{}],245:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=e("babel-runtime/helpers/typeof"),i=r(o),a=e("babel-runtime/core-js/object/keys"),u=r(a);(function(){var t,r,o,a,s,c={}.hasOwnProperty;t=e("xmlbuilder"),r=e("./defaults").defaults,a=function(e){return"string"==typeof e&&(e.indexOf("&")>=0||e.indexOf(">")>=0||e.indexOf("<")>=0)},s=function(e){return"<![CDATA["+o(e)+"]]>"},o=function(e){return e.replace("]]>","]]]]><![CDATA[>")},n.Builder=function(){function e(e){var t,n,o;this.options={},n=r[.2];for(t in n)c.call(n,t)&&(o=n[t],this.options[t]=o);for(t in e)c.call(e,t)&&(o=e[t],this.options[t]=o)}return e.prototype.buildObject=function(e){var n,o,l,f,d;return n=this.options.attrkey,o=this.options.charkey,1===(0,u.default)(e).length&&this.options.rootName===r[.2].rootName?(d=(0,u.default)(e)[0],e=e[d]):d=this.options.rootName,l=function(e){return function(t,r){var u,f,d,p,h,m;if("object"!==(void 0===r?"undefined":(0,i.default)(r)))e.options.cdata&&a(r)?t.raw(s(r)):t.txt(r);else if(Array.isArray(r)){for(p in r)if(c.call(r,p)){f=r[p];for(h in f)d=f[h],t=l(t.ele(h),d).up()}}else for(h in r)if(c.call(r,h))if(f=r[h],h===n){if("object"===(void 0===f?"undefined":(0,i.default)(f)))for(u in f)m=f[u],t=t.att(u,m)}else if(h===o)t=e.options.cdata&&a(f)?t.raw(s(f)):t.txt(f);else if(Array.isArray(f))for(p in f)c.call(f,p)&&(d=f[p],t="string"==typeof d?e.options.cdata&&a(d)?t.ele(h).raw(s(d)).up():t.ele(h,d).up():l(t.ele(h),d).up());else"object"===(void 0===f?"undefined":(0,i.default)(f))?t=l(t.ele(h),f).up():"string"==typeof f&&e.options.cdata&&a(f)?t=t.ele(h).raw(s(f)).up():(null==f&&(f=""),t=t.ele(h,f.toString()).up());return t}}(this),f=t.create(d,this.options.xmldec,this.options.doctype,{headless:this.options.headless,allowSurrogateChars:this.options.allowSurrogateChars}),l(f,e).end(this.options.renderOpts)},e}()}).call(void 0)},{"./defaults":246,"babel-runtime/core-js/object/keys":60,"babel-runtime/helpers/typeof":67,xmlbuilder:282}],246:[function(e,t,n){"use strict";(function(){n.defaults={.1:{explicitCharkey:!1,trim:!0,normalize:!0,normalizeTags:!1,attrkey:"@",charkey:"#",explicitArray:!1,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!1,validator:null,xmlns:!1,explicitChildren:!1,childkey:"@@",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,emptyTag:""},.2:{explicitCharkey:!1,trim:!1,normalize:!1,normalizeTags:!1,attrkey:"$",charkey:"_",explicitArray:!0,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!0,validator:null,xmlns:!1,explicitChildren:!1,preserveChildrenOrder:!1,childkey:"$$",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,rootName:"root",xmldec:{version:"1.0",encoding:"UTF-8",standalone:!0},doctype:null,renderOpts:{pretty:!0,indent:"  ",newline:"\n"},headless:!1,chunkSize:1e4,emptyTag:"",cdata:!1}}}).call(void 0)},{}],247:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=e("babel-runtime/core-js/promise"),i=r(o),a=e("babel-runtime/core-js/object/get-own-property-names"),u=r(a),s=e("babel-runtime/core-js/object/keys"),c=r(s),l=e("babel-runtime/helpers/typeof"),f=r(l);(function(){var t,r,o,a,s,l,d,p,h=function(e,t){return function(){return e.apply(t,arguments)}},m=function(e,t){function n(){this.constructor=e}for(var r in t)g.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},g={}.hasOwnProperty;d=e("sax"),o=e("events"),t=e("./bom"),l=e("./processors"),p=e("timers").setImmediate,r=e("./defaults").defaults,a=function(e){return"object"===(void 0===e?"undefined":(0,f.default)(e))&&null!=e&&0===(0,c.default)(e).length},s=function(e,t,n){var r,o,i;for(r=0,o=e.length;r<o;r++)i=e[r],t=i(t,n);return t},n.Parser=function(e){function o(e){this.parseStringPromise=h(this.parseStringPromise,this),this.parseString=h(this.parseString,this),this.reset=h(this.reset,this),this.assignOrPush=h(this.assignOrPush,this),this.processAsync=h(this.processAsync,this);var t,o,i;if(!(this instanceof n.Parser))return new n.Parser(e);this.options={},o=r[.2];for(t in o)g.call(o,t)&&(i=o[t],this.options[t]=i);for(t in e)g.call(e,t)&&(i=e[t],this.options[t]=i);this.options.xmlns&&(this.options.xmlnskey=this.options.attrkey+"ns"),this.options.normalizeTags&&(this.options.tagNameProcessors||(this.options.tagNameProcessors=[]),this.options.tagNameProcessors.unshift(l.normalize)),this.reset()}return m(o,e),o.prototype.processAsync=function(){var e,t;try{return this.remaining.length<=this.options.chunkSize?(e=this.remaining,this.remaining="",this.saxParser=this.saxParser.write(e),this.saxParser.close()):(e=this.remaining.substr(0,this.options.chunkSize),this.remaining=this.remaining.substr(this.options.chunkSize,this.remaining.length),this.saxParser=this.saxParser.write(e),p(this.processAsync))}catch(e){if(t=e,!this.saxParser.errThrown)return this.saxParser.errThrown=!0,this.emit(t)}},o.prototype.assignOrPush=function(e,t,n){return t in e?(e[t]instanceof Array||(e[t]=[e[t]]),e[t].push(n)):this.options.explicitArray?e[t]=[n]:e[t]=n},o.prototype.reset=function(){var e,t,n,r;return this.removeAllListeners(),this.saxParser=d.parser(this.options.strict,{trim:!1,normalize:!1,xmlns:this.options.xmlns}),this.saxParser.errThrown=!1,this.saxParser.onerror=function(e){return function(t){if(e.saxParser.resume(),!e.saxParser.errThrown)return e.saxParser.errThrown=!0,e.emit("error",t)}}(this),this.saxParser.onend=function(e){return function(){if(!e.saxParser.ended)return e.saxParser.ended=!0,e.emit("end",e.resultObject)}}(this),this.saxParser.ended=!1,this.EXPLICIT_CHARKEY=this.options.explicitCharkey,this.resultObject=null,r=[],e=this.options.attrkey,t=this.options.charkey,this.saxParser.onopentag=function(n){return function(o){var i,a,u,c,l;if(u={},u[t]="",!n.options.ignoreAttrs){l=o.attributes;for(i in l)g.call(l,i)&&(e in u||n.options.mergeAttrs||(u[e]={}),a=n.options.attrValueProcessors?s(n.options.attrValueProcessors,o.attributes[i],i):o.attributes[i],c=n.options.attrNameProcessors?s(n.options.attrNameProcessors,i):i,n.options.mergeAttrs?n.assignOrPush(u,c,a):u[e][c]=a)}return u["#name"]=n.options.tagNameProcessors?s(n.options.tagNameProcessors,o.name):o.name,n.options.xmlns&&(u[n.options.xmlnskey]={uri:o.uri,local:o.local}),r.push(u)}}(this),this.saxParser.onclosetag=function(e){return function(){var n,o,i,l,d,p,h,m,v,b;if(p=r.pop(),d=p["#name"],e.options.explicitChildren&&e.options.preserveChildrenOrder||delete p["#name"],!0===p.cdata&&(n=p.cdata,delete p.cdata),v=r[r.length-1],p[t].match(/^\s*$/)&&!n?(o=p[t],delete p[t]):(e.options.trim&&(p[t]=p[t].trim()),e.options.normalize&&(p[t]=p[t].replace(/\s{2,}/g," ").trim()),p[t]=e.options.valueProcessors?s(e.options.valueProcessors,p[t],d):p[t],1===(0,c.default)(p).length&&t in p&&!e.EXPLICIT_CHARKEY&&(p=p[t])),a(p)&&(p=""!==e.options.emptyTag?e.options.emptyTag:o),null!=e.options.validator&&(b="/"+function(){var e,t,n;for(n=[],e=0,t=r.length;e<t;e++)l=r[e],n.push(l["#name"]);return n}().concat(d).join("/"),function(){var t;try{p=e.options.validator(b,v&&v[d],p)}catch(n){return t=n,e.emit("error",t)}}()),e.options.explicitChildren&&!e.options.mergeAttrs&&"object"===(void 0===p?"undefined":(0,f.default)(p)))if(e.options.preserveChildrenOrder){if(v){v[e.options.childkey]=v[e.options.childkey]||[],h={};for(i in p)g.call(p,i)&&(h[i]=p[i]);v[e.options.childkey].push(h),delete p["#name"],1===(0,c.default)(p).length&&t in p&&!e.EXPLICIT_CHARKEY&&(p=p[t])}}else l={},e.options.attrkey in p&&(l[e.options.attrkey]=p[e.options.attrkey],delete p[e.options.attrkey]),!e.options.charsAsChildren&&e.options.charkey in p&&(l[e.options.charkey]=p[e.options.charkey],delete p[e.options.charkey]),(0,u.default)(p).length>0&&(l[e.options.childkey]=p),p=l;return r.length>0?e.assignOrPush(v,d,p):(e.options.explicitRoot&&(m=p,p={},p[d]=m),e.resultObject=p,e.saxParser.ended=!0,e.emit("end",e.resultObject))}}(this),n=function(e){return function(n){var o,i;if(i=r[r.length-1])return i[t]+=n,e.options.explicitChildren&&e.options.preserveChildrenOrder&&e.options.charsAsChildren&&(e.options.includeWhiteChars||""!==n.replace(/\\n/g,"").trim())&&(i[e.options.childkey]=i[e.options.childkey]||[],o={"#name":"__text__"},o[t]=n,e.options.normalize&&(o[t]=o[t].replace(/\s{2,}/g," ").trim()),i[e.options.childkey].push(o)),i}}(this),this.saxParser.ontext=n,this.saxParser.oncdata=function(e){return function(e){var t;if(t=n(e))return t.cdata=!0}}()},o.prototype.parseString=function(e,n){var r;null!=n&&"function"==typeof n&&(this.on("end",function(e){return this.reset(),n(null,e)}),this.on("error",function(e){return this.reset(),n(e)}));try{return e=e.toString(),""===e.trim()?(this.emit("end",null),!0):(e=t.stripBOM(e),this.options.async?(this.remaining=e,p(this.processAsync),this.saxParser):this.saxParser.write(e).close())}catch(e){if(r=e,!this.saxParser.errThrown&&!this.saxParser.ended)return this.emit("error",r),this.saxParser.errThrown=!0;if(this.saxParser.ended)throw r}},o.prototype.parseStringPromise=function(e){return new i.default(function(t){return function(n,r){return t.parseString(e,function(e,t){return e?r(e):n(t)})}}(this))},o}(o),n.parseString=function(e,t,r){var o,i,a;return null!=r?("function"==typeof r&&(o=r),"object"===(void 0===t?"undefined":(0,f.default)(t))&&(i=t)):("function"==typeof t&&(o=t),i={}),a=new n.Parser(i),a.parseString(e,o)},n.parseStringPromise=function(e,t){var r,o;return"object"===(void 0===t?"undefined":(0,f.default)(t))&&(r=t),o=new n.Parser(r),o.parseStringPromise(e)}}).call(void 0)},{"./bom":244,"./defaults":246,"./processors":248,"babel-runtime/core-js/object/get-own-property-names":58,"babel-runtime/core-js/object/keys":60,"babel-runtime/core-js/promise":61,"babel-runtime/helpers/typeof":67,events:192,sax:229,timers:236}],248:[function(e,t,n){"use strict";(function(){var e;e=new RegExp(/(?!xmlns)^.*:/),n.normalize=function(e){return e.toLowerCase()},n.firstCharLowerCase=function(e){return e.charAt(0).toLowerCase()+e.slice(1)},n.stripPrefix=function(t){return t.replace(e,"")},n.parseNumbers=function(e){return isNaN(e)||(e=e%1==0?parseInt(e,10):parseFloat(e)),e},n.parseBooleans=function(e){return/^(?:true|false)$/i.test(e)&&(e="true"===e.toLowerCase()),e}}).call(void 0)},{}],249:[function(e,t,n){"use strict";(function(){var t,r,o,i,a=function(e,t){function n(){this.constructor=e}for(var r in t)u.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},u={}.hasOwnProperty;r=e("./defaults"),t=e("./builder"),o=e("./parser"),i=e("./processors"),n.defaults=r.defaults,n.processors=i,n.ValidationError=function(e){function t(e){this.message=e}return a(t,e),t}(Error),n.Builder=t.Builder,n.Parser=o.Parser,n.parseString=o.parseString,n.parseStringPromise=o.parseStringPromise}).call(void 0)},{"./builder":245,"./defaults":246,"./parser":247,"./processors":248}],250:[function(e,t,n){"use strict";(function(){t.exports={Disconnected:1,Preceding:2,Following:4,Contains:8,ContainedBy:16,ImplementationSpecific:32}}).call(void 0)},{}],251:[function(e,t,n){"use strict";(function(){t.exports={Element:1,Attribute:2,Text:3,CData:4,EntityReference:5,EntityDeclaration:6,ProcessingInstruction:7,Comment:8,Document:9,DocType:10,DocumentFragment:11,NotationDeclaration:12,Declaration:201,Raw:202,AttributeDeclaration:203,ElementDeclaration:204,Dummy:205}}).call(void 0)},{}],252:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=e("babel-runtime/core-js/object/get-prototype-of"),i=r(o),a=e("babel-runtime/helpers/typeof"),u=r(a),s=e("babel-runtime/core-js/object/assign"),c=r(s);(function(){var e,n,r,o,a,s,l,f=[].slice,d={}.hasOwnProperty;e=function(){var e,t,n,r,o,i;if(i=arguments[0],o=2<=arguments.length?f.call(arguments,1):[],a(c.default))c.default.apply(null,arguments);else for(e=0,n=o.length;e<n;e++)if(null!=(r=o[e]))for(t in r)d.call(r,t)&&(i[t]=r[t]);return i},a=function(e){return!!e&&"[object Function]"===Object.prototype.toString.call(e)},s=function(e){var t;return!!e&&("function"===(t=void 0===e?"undefined":(0,u.default)(e))||"object"===t)},r=function(e){return a(Array.isArray)?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)},o=function(e){var t;if(r(e))return!e.length;for(t in e)if(d.call(e,t))return!1;return!0},l=function(e){var t,n;return s(e)&&(n=(0,i.default)(e))&&(t=n.constructor)&&"function"==typeof t&&t instanceof t&&Function.prototype.toString.call(t)===Function.prototype.toString.call(Object)},n=function(e){return a(e.valueOf)?e.valueOf():e},t.exports.assign=e,t.exports.isFunction=a,t.exports.isObject=s,t.exports.isArray=r,t.exports.isEmpty=o,t.exports.isPlainObject=l,t.exports.getValue=n}).call(void 0)},{"babel-runtime/core-js/object/assign":54,"babel-runtime/core-js/object/get-prototype-of":59,"babel-runtime/helpers/typeof":67}],253:[function(e,t,n){"use strict";(function(){t.exports={None:0,OpenTag:1,InsideTag:2,CloseTag:3}}).call(void 0)},{}],254:[function(e,t,n){"use strict";var r=e("babel-runtime/core-js/object/create"),o=function(e){return e&&e.__esModule?e:{default:e}}(r);(function(){var n;n=e("./NodeType"),e("./XMLNode"),t.exports=function(){function e(e,t,r){if(this.parent=e,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),null==t)throw new Error("Missing attribute name. "+this.debugInfo(t));this.name=this.stringify.name(t),this.value=this.stringify.attValue(r),this.type=n.Attribute,this.isId=!1,this.schemaTypeInfo=null}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(e.prototype,"ownerElement",{get:function(){return this.parent}}),Object.defineProperty(e.prototype,"textContent",{get:function(){return this.value},set:function(e){return this.value=e||""}}),Object.defineProperty(e.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(e.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(e.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(e.prototype,"specified",{get:function(){return!0}}),e.prototype.clone=function(){return(0,o.default)(this)},e.prototype.toString=function(e){return this.options.writer.attribute(this,this.options.writer.filterOptions(e))},e.prototype.debugInfo=function(e){return e=e||this.name,null==e?"parent: <"+this.parent.name+">":"attribute: {"+e+"}, parent: <"+this.parent.name+">"},e.prototype.isEqualNode=function(e){return e.namespaceURI===this.namespaceURI&&(e.prefix===this.prefix&&(e.localName===this.localName&&e.value===this.value))},e}()}).call(void 0)},{"./NodeType":251,"./XMLNode":273,"babel-runtime/core-js/object/create":55}],255:[function(e,t,n){"use strict";var r=e("babel-runtime/core-js/object/create"),o=function(e){return e&&e.__esModule?e:{default:e}}(r);(function(){var n,r,i=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},a={}.hasOwnProperty;n=e("./NodeType"),r=e("./XMLCharacterData"),t.exports=function(e){function t(e,r){if(t.__super__.constructor.call(this,e),null==r)throw new Error("Missing CDATA text. "+this.debugInfo());this.name="#cdata-section",this.type=n.CData,this.value=this.stringify.cdata(r)}return i(t,e),t.prototype.clone=function(){return(0,o.default)(this)},t.prototype.toString=function(e){return this.options.writer.cdata(this,this.options.writer.filterOptions(e))},t}(r)}).call(void 0)},{"./NodeType":251,"./XMLCharacterData":256,"babel-runtime/core-js/object/create":55}],256:[function(e,t,n){"use strict";var r=e("babel-runtime/core-js/object/create"),o=function(e){return e&&e.__esModule?e:{default:e}}(r);(function(){var n,r=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;n=e("./XMLNode"),t.exports=function(e){function t(e){t.__super__.constructor.call(this,e),this.value=""}return r(t,e),Object.defineProperty(t.prototype,"data",{get:function(){return this.value},set:function(e){return this.value=e||""}}),Object.defineProperty(t.prototype,"length",{get:function(){return this.value.length}}),Object.defineProperty(t.prototype,"textContent",{get:function(){return this.value},set:function(e){return this.value=e||""}}),t.prototype.clone=function(){return(0,o.default)(this)},t.prototype.substringData=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.appendData=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.insertData=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.deleteData=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.replaceData=function(e,t,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.isEqualNode=function(e){return!!t.__super__.isEqualNode.apply(this,arguments).isEqualNode(e)&&e.data===this.data},t}(n)}).call(void 0)},{"./XMLNode":273,"babel-runtime/core-js/object/create":55}],257:[function(e,t,n){"use strict";var r=e("babel-runtime/core-js/object/create"),o=function(e){return e&&e.__esModule?e:{default:e}}(r);(function(){var n,r,i=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},a={}.hasOwnProperty;n=e("./NodeType"),r=e("./XMLCharacterData"),t.exports=function(e){function t(e,r){if(t.__super__.constructor.call(this,e),null==r)throw new Error("Missing comment text. "+this.debugInfo());this.name="#comment",this.type=n.Comment,this.value=this.stringify.comment(r)}return i(t,e),t.prototype.clone=function(){return(0,o.default)(this)},t.prototype.toString=function(e){return this.options.writer.comment(this,this.options.writer.filterOptions(e))},t}(r)}).call(void 0)},{"./NodeType":251,"./XMLCharacterData":256,"babel-runtime/core-js/object/create":55}],258:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=e("babel-runtime/core-js/object/keys"),i=r(o),a=e("babel-runtime/core-js/object/create"),u=r(a);(function(){var n,r;n=e("./XMLDOMErrorHandler"),r=e("./XMLDOMStringList"),t.exports=function(){function e(){this.defaultParams={"canonical-form":!1,"cdata-sections":!1,comments:!1,"datatype-normalization":!1,"element-content-whitespace":!0,entities:!0,"error-handler":new n,infoset:!0,"validate-if-schema":!1,namespaces:!0,"namespace-declarations":!0,"normalize-characters":!1,"schema-location":"","schema-type":"","split-cdata-sections":!0,validate:!1,"well-formed":!0},this.params=(0,u.default)(this.defaultParams)}return Object.defineProperty(e.prototype,"parameterNames",{get:function(){return new r((0,i.default)(this.defaultParams))}}),e.prototype.getParameter=function(e){return this.params.hasOwnProperty(e)?this.params[e]:null},e.prototype.canSetParameter=function(e,t){return!0},e.prototype.setParameter=function(e,t){return null!=t?this.params[e]=t:delete this.params[e]},e}()}).call(void 0)},{"./XMLDOMErrorHandler":259,"./XMLDOMStringList":261,"babel-runtime/core-js/object/create":55,"babel-runtime/core-js/object/keys":60}],259:[function(e,t,n){"use strict";(function(){t.exports=function(){function e(){}return e.prototype.handleError=function(e){throw new Error(e)},e}()}).call(void 0)},{}],260:[function(e,t,n){"use strict";(function(){t.exports=function(){function e(){}return e.prototype.hasFeature=function(e,t){return!0},e.prototype.createDocumentType=function(e,t,n){throw new Error("This DOM method is not implemented.")},e.prototype.createDocument=function(e,t,n){throw new Error("This DOM method is not implemented.")},e.prototype.createHTMLDocument=function(e){throw new Error("This DOM method is not implemented.")},e.prototype.getFeature=function(e,t){throw new Error("This DOM method is not implemented.")},e}()}).call(void 0)},{}],261:[function(e,t,n){"use strict";(function(){t.exports=function(){function e(e){this.arr=e||[]}return Object.defineProperty(e.prototype,"length",{get:function(){return this.arr.length}}),e.prototype.item=function(e){return this.arr[e]||null},e.prototype.contains=function(e){return-1!==this.arr.indexOf(e)},e}()}).call(void 0)},{}],262:[function(e,t,n){"use strict";(function(){var n,r,o=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;r=e("./XMLNode"),n=e("./NodeType"),t.exports=function(e){function t(e,r,o,i,a,u){if(t.__super__.constructor.call(this,e),null==r)throw new Error("Missing DTD element name. "+this.debugInfo());if(null==o)throw new Error("Missing DTD attribute name. "+this.debugInfo(r));if(!i)throw new Error("Missing DTD attribute type. "+this.debugInfo(r));if(!a)throw new Error("Missing DTD attribute default. "+this.debugInfo(r));if(0!==a.indexOf("#")&&(a="#"+a),!a.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(r));if(u&&!a.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(r));this.elementName=this.stringify.name(r),this.type=n.AttributeDeclaration,this.attributeName=this.stringify.name(o),this.attributeType=this.stringify.dtdAttType(i),u&&(this.defaultValue=this.stringify.dtdAttDefault(u)),this.defaultValueType=a}return o(t,e),t.prototype.toString=function(e){return this.options.writer.dtdAttList(this,this.options.writer.filterOptions(e))},t}(r)}).call(void 0)},{"./NodeType":251,"./XMLNode":273}],263:[function(e,t,n){"use strict";(function(){var n,r,o=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;r=e("./XMLNode"),n=e("./NodeType"),t.exports=function(e){function t(e,r,o){if(t.__super__.constructor.call(this,e),null==r)throw new Error("Missing DTD element name. "+this.debugInfo());o||(o="(#PCDATA)"),Array.isArray(o)&&(o="("+o.join(",")+")"),this.name=this.stringify.name(r),this.type=n.ElementDeclaration,this.value=this.stringify.dtdElementValue(o)}return o(t,e),t.prototype.toString=function(e){return this.options.writer.dtdElement(this,this.options.writer.filterOptions(e))},t}(r)}).call(void 0)},{"./NodeType":251,"./XMLNode":273}],264:[function(e,t,n){"use strict";(function(){var n,r,o,i=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},a={}.hasOwnProperty;o=e("./Utility").isObject,r=e("./XMLNode"),n=e("./NodeType"),t.exports=function(e){function t(e,r,i,a){if(t.__super__.constructor.call(this,e),null==i)throw new Error("Missing DTD entity name. "+this.debugInfo(i));if(null==a)throw new Error("Missing DTD entity value. "+this.debugInfo(i));if(this.pe=!!r,this.name=this.stringify.name(i),this.type=n.EntityDeclaration,o(a)){if(!a.pubID&&!a.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(i));if(a.pubID&&!a.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(i));if(this.internal=!1,null!=a.pubID&&(this.pubID=this.stringify.dtdPubID(a.pubID)),null!=a.sysID&&(this.sysID=this.stringify.dtdSysID(a.sysID)),null!=a.nData&&(this.nData=this.stringify.dtdNData(a.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(i))}else this.value=this.stringify.dtdEntityValue(a),this.internal=!0}return i(t,e),Object.defineProperty(t.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(t.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(t.prototype,"notationName",{get:function(){return this.nData||null}}),Object.defineProperty(t.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(t.prototype,"xmlEncoding",{get:function(){return null}}),Object.defineProperty(t.prototype,"xmlVersion",{get:function(){return null}}),t.prototype.toString=function(e){return this.options.writer.dtdEntity(this,this.options.writer.filterOptions(e))},t}(r)}).call(void 0)},{"./NodeType":251,"./Utility":252,"./XMLNode":273}],265:[function(e,t,n){"use strict";(function(){var n,r,o=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;r=e("./XMLNode"),n=e("./NodeType"),t.exports=function(e){function t(e,r,o){if(t.__super__.constructor.call(this,e),null==r)throw new Error("Missing DTD notation name. "+this.debugInfo(r));if(!o.pubID&&!o.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(r));this.name=this.stringify.name(r),this.type=n.NotationDeclaration,null!=o.pubID&&(this.pubID=this.stringify.dtdPubID(o.pubID)),null!=o.sysID&&(this.sysID=this.stringify.dtdSysID(o.sysID))}return o(t,e),Object.defineProperty(t.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(t.prototype,"systemId",{get:function(){return this.sysID}}),t.prototype.toString=function(e){return this.options.writer.dtdNotation(this,this.options.writer.filterOptions(e))},t}(r)}).call(void 0)},{"./NodeType":251,"./XMLNode":273}],266:[function(e,t,n){"use strict";(function(){var n,r,o,i=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},a={}.hasOwnProperty;o=e("./Utility").isObject,r=e("./XMLNode"),n=e("./NodeType"),t.exports=function(e){function t(e,r,i,a){var u;t.__super__.constructor.call(this,e),o(r)&&(u=r,r=u.version,i=u.encoding,a=u.standalone),r||(r="1.0"),this.type=n.Declaration,this.version=this.stringify.xmlVersion(r),null!=i&&(this.encoding=this.stringify.xmlEncoding(i)),null!=a&&(this.standalone=this.stringify.xmlStandalone(a))}return i(t,e),t.prototype.toString=function(e){return this.options.writer.declaration(this,this.options.writer.filterOptions(e))},t}(r)}).call(void 0)},{"./NodeType":251,"./Utility":252,"./XMLNode":273}],267:[function(e,t,n){"use strict";(function(){var n,r,o,i,a,u,s,c,l=function(e,t){function n(){this.constructor=e}for(var r in t)f.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},f={}.hasOwnProperty;c=e("./Utility").isObject,s=e("./XMLNode"),n=e("./NodeType"),r=e("./XMLDTDAttList"),i=e("./XMLDTDEntity"),o=e("./XMLDTDElement"),a=e("./XMLDTDNotation"),u=e("./XMLNamedNodeMap"),t.exports=function(e){function t(e,r,o){var i,a,u,s,l,f;if(t.__super__.constructor.call(this,e),this.type=n.DocType,e.children)for(s=e.children,a=0,u=s.length;a<u;a++)if(i=s[a],i.type===n.Element){this.name=i.name;break}this.documentObject=e,c(r)&&(l=r,r=l.pubID,o=l.sysID),null==o&&(f=[r,o],o=f[0],r=f[1]),null!=r&&(this.pubID=this.stringify.dtdPubID(r)),null!=o&&(this.sysID=this.stringify.dtdSysID(o))}return l(t,e),Object.defineProperty(t.prototype,"entities",{get:function(){var e,t,r,o,i;for(o={},i=this.children,t=0,r=i.length;t<r;t++)e=i[t],e.type!==n.EntityDeclaration||e.pe||(o[e.name]=e);return new u(o)}}),Object.defineProperty(t.prototype,"notations",{get:function(){var e,t,r,o,i;for(o={},i=this.children,t=0,r=i.length;t<r;t++)e=i[t],e.type===n.NotationDeclaration&&(o[e.name]=e);return new u(o)}}),Object.defineProperty(t.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(t.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(t.prototype,"internalSubset",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),t.prototype.element=function(e,t){var n;return n=new o(this,e,t),this.children.push(n),this},t.prototype.attList=function(e,t,n,o,i){var a;return a=new r(this,e,t,n,o,i),this.children.push(a),this},t.prototype.entity=function(e,t){var n;return n=new i(this,!1,e,t),this.children.push(n),this},t.prototype.pEntity=function(e,t){var n;return n=new i(this,!0,e,t),this.children.push(n),this},t.prototype.notation=function(e,t){var n;return n=new a(this,e,t),this.children.push(n),this},t.prototype.toString=function(e){return this.options.writer.docType(this,this.options.writer.filterOptions(e))},t.prototype.ele=function(e,t){return this.element(e,t)},t.prototype.att=function(e,t,n,r,o){return this.attList(e,t,n,r,o)},t.prototype.ent=function(e,t){return this.entity(e,t)},t.prototype.pent=function(e,t){return this.pEntity(e,t)},t.prototype.not=function(e,t){return this.notation(e,t)},t.prototype.up=function(){return this.root()||this.documentObject},t.prototype.isEqualNode=function(e){return!!t.__super__.isEqualNode.apply(this,arguments).isEqualNode(e)&&(e.name===this.name&&(e.publicId===this.publicId&&e.systemId===this.systemId))},t}(s)}).call(void 0)},{"./NodeType":251,"./Utility":252,"./XMLDTDAttList":262,"./XMLDTDElement":263,"./XMLDTDEntity":264,"./XMLDTDNotation":265,"./XMLNamedNodeMap":272,"./XMLNode":273}],268:[function(e,t,n){"use strict";(function(){var n,r,o,i,a,u,s,c=function(e,t){function n(){this.constructor=e}for(var r in t)l.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},l={}.hasOwnProperty;s=e("./Utility").isPlainObject,o=e("./XMLDOMImplementation"),r=e("./XMLDOMConfiguration"),i=e("./XMLNode"),n=e("./NodeType"),u=e("./XMLStringifier"),a=e("./XMLStringWriter"),t.exports=function(e){function t(e){t.__super__.constructor.call(this,null),this.name="#document",this.type=n.Document,this.documentURI=null,this.domConfig=new r,e||(e={}),e.writer||(e.writer=new a),this.options=e,this.stringify=new u(e)}return c(t,e),Object.defineProperty(t.prototype,"implementation",{value:new o}),Object.defineProperty(t.prototype,"doctype",{get:function(){var e,t,r,o;for(o=this.children,t=0,r=o.length;t<r;t++)if(e=o[t],e.type===n.DocType)return e;return null}}),Object.defineProperty(t.prototype,"documentElement",{get:function(){return this.rootObject||null}}),Object.defineProperty(t.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(t.prototype,"strictErrorChecking",{get:function(){return!1}}),Object.defineProperty(t.prototype,"xmlEncoding",{get:function(){return 0!==this.children.length&&this.children[0].type===n.Declaration?this.children[0].encoding:null}}),Object.defineProperty(t.prototype,"xmlStandalone",{get:function(){return 0!==this.children.length&&this.children[0].type===n.Declaration&&"yes"===this.children[0].standalone}}),Object.defineProperty(t.prototype,"xmlVersion",{get:function(){return 0!==this.children.length&&this.children[0].type===n.Declaration?this.children[0].version:"1.0"}}),Object.defineProperty(t.prototype,"URL",{get:function(){return this.documentURI}}),Object.defineProperty(t.prototype,"origin",{get:function(){return null}}),Object.defineProperty(t.prototype,"compatMode",{get:function(){return null}}),Object.defineProperty(t.prototype,"characterSet",{get:function(){return null}}),Object.defineProperty(t.prototype,"contentType",{get:function(){return null}}),t.prototype.end=function(e){var t;return t={},e?s(e)&&(t=e,e=this.options.writer):e=this.options.writer,e.document(this,e.filterOptions(t))},t.prototype.toString=function(e){return this.options.writer.document(this,this.options.writer.filterOptions(e))},t.prototype.createElement=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.createDocumentFragment=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.createTextNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.createComment=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.createCDATASection=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.createProcessingInstruction=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.createAttribute=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.createEntityReference=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.getElementsByTagName=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.importNode=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.createElementNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.createAttributeNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.getElementsByTagNameNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.getElementById=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.adoptNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.normalizeDocument=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.renameNode=function(e,t,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.getElementsByClassName=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.createEvent=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.createRange=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.createNodeIterator=function(e,t,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.createTreeWalker=function(e,t,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},t}(i)}).call(void 0)},{"./NodeType":251,"./Utility":252,"./XMLDOMConfiguration":258,"./XMLDOMImplementation":260,"./XMLNode":273,"./XMLStringWriter":278,"./XMLStringifier":279}],269:[function(e,t,n){"use strict";(function(){var n,r,o,i,a,u,s,c,l,f,d,p,h,m,g,v,b,y,w,x,_,C,S,E={}.hasOwnProperty;S=e("./Utility"),_=S.isObject,x=S.isFunction,C=S.isPlainObject,w=S.getValue,n=e("./NodeType"),p=e("./XMLDocument"),h=e("./XMLElement"),i=e("./XMLCData"),a=e("./XMLComment"),g=e("./XMLRaw"),y=e("./XMLText"),m=e("./XMLProcessingInstruction"),f=e("./XMLDeclaration"),d=e("./XMLDocType"),u=e("./XMLDTDAttList"),c=e("./XMLDTDEntity"),s=e("./XMLDTDElement"),l=e("./XMLDTDNotation"),o=e("./XMLAttribute"),b=e("./XMLStringifier"),v=e("./XMLStringWriter"),r=e("./WriterState"),t.exports=function(){function e(e,t,r){var o;this.name="?xml",this.type=n.Document,e||(e={}),o={},e.writer?C(e.writer)&&(o=e.writer,e.writer=new v):e.writer=new v,this.options=e,this.writer=e.writer,this.writerOptions=this.writer.filterOptions(o),this.stringify=new b(e),this.onDataCallback=t||function(){},this.onEndCallback=r||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return e.prototype.createChildNode=function(e){var t,r,o,i,a,u,s,c;switch(e.type){case n.CData:this.cdata(e.value);break;case n.Comment:this.comment(e.value);break;case n.Element:o={},s=e.attribs;for(r in s)E.call(s,r)&&(t=s[r],o[r]=t.value);this.node(e.name,o);break;case n.Dummy:this.dummy();break;case n.Raw:this.raw(e.value);break;case n.Text:this.text(e.value);break;case n.ProcessingInstruction:this.instruction(e.target,e.value);break;default:throw new Error("This XML node type is not supported in a JS object: "+e.constructor.name)}for(c=e.children,a=0,u=c.length;a<u;a++)i=c[a],this.createChildNode(i),i.type===n.Element&&this.up();return this},e.prototype.dummy=function(){return this},e.prototype.node=function(e,t,n){var r;if(null==e)throw new Error("Missing node name.");if(this.root&&-1===this.currentLevel)throw new Error("Document can only have one root node. "+this.debugInfo(e));return this.openCurrent(),e=w(e),null==t&&(t={}),t=w(t),_(t)||(r=[t,n],n=r[0],t=r[1]),this.currentNode=new h(this,e,t),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,null!=n&&this.text(n),this},e.prototype.element=function(e,t,r){var o,i,a,u,s,c;if(this.currentNode&&this.currentNode.type===n.DocType)this.dtdElement.apply(this,arguments);else if(Array.isArray(e)||_(e)||x(e))for(u=this.options.noValidation,this.options.noValidation=!0,c=new p(this.options).element("TEMP_ROOT"),c.element(e),this.options.noValidation=u,s=c.children,i=0,a=s.length;i<a;i++)o=s[i],this.createChildNode(o),o.type===n.Element&&this.up();else this.node(e,t,r);return this},e.prototype.attribute=function(e,t){var n,r;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(e));if(null!=e&&(e=w(e)),_(e))for(n in e)E.call(e,n)&&(r=e[n],this.attribute(n,r));else x(t)&&(t=t.apply()),this.options.keepNullAttributes&&null==t?this.currentNode.attribs[e]=new o(this,e,""):null!=t&&(this.currentNode.attribs[e]=new o(this,e,t));return this},e.prototype.text=function(e){var t;return this.openCurrent(),t=new y(this,e),this.onData(this.writer.text(t,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.cdata=function(e){var t;return this.openCurrent(),t=new i(this,e),this.onData(this.writer.cdata(t,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.comment=function(e){var t;return this.openCurrent(),t=new a(this,e),this.onData(this.writer.comment(t,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.raw=function(e){var t;return this.openCurrent(),t=new g(this,e),this.onData(this.writer.raw(t,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.instruction=function(e,t){var n,r,o,i,a;if(this.openCurrent(),null!=e&&(e=w(e)),null!=t&&(t=w(t)),Array.isArray(e))for(n=0,i=e.length;n<i;n++)r=e[n],this.instruction(r);else if(_(e))for(r in e)E.call(e,r)&&(o=e[r],this.instruction(r,o));else x(t)&&(t=t.apply()),a=new m(this,e,t),this.onData(this.writer.processingInstruction(a,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this},e.prototype.declaration=function(e,t,n){var r;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return r=new f(this,e,t,n),this.onData(this.writer.declaration(r,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.doctype=function(e,t,n){if(this.openCurrent(),null==e)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new d(this,t,n),this.currentNode.rootNodeName=e,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},e.prototype.dtdElement=function(e,t){var n;return this.openCurrent(),n=new s(this,e,t),this.onData(this.writer.dtdElement(n,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.attList=function(e,t,n,r,o){var i;return this.openCurrent(),i=new u(this,e,t,n,r,o),this.onData(this.writer.dtdAttList(i,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.entity=function(e,t){var n;return this.openCurrent(),n=new c(this,!1,e,t),this.onData(this.writer.dtdEntity(n,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.pEntity=function(e,t){var n;return this.openCurrent(),n=new c(this,!0,e,t),this.onData(this.writer.dtdEntity(n,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.notation=function(e,t){var n;return this.openCurrent(),n=new l(this,e,t),this.onData(this.writer.dtdNotation(n,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},e.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},e.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},e.prototype.openNode=function(e){var t,o,i,a;if(!e.isOpen){if(this.root||0!==this.currentLevel||e.type!==n.Element||(this.root=e),o="",e.type===n.Element){this.writerOptions.state=r.OpenTag,o=this.writer.indent(e,this.writerOptions,this.currentLevel)+"<"+e.name,a=e.attribs;for(i in a)E.call(a,i)&&(t=a[i],o+=this.writer.attribute(t,this.writerOptions,this.currentLevel));o+=(e.children?">":"/>")+this.writer.endline(e,this.writerOptions,this.currentLevel),this.writerOptions.state=r.InsideTag}else this.writerOptions.state=r.OpenTag,o=this.writer.indent(e,this.writerOptions,this.currentLevel)+"<!DOCTYPE "+e.rootNodeName,e.pubID&&e.sysID?o+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"':e.sysID&&(o+=' SYSTEM "'+e.sysID+'"'),e.children?(o+=" [",this.writerOptions.state=r.InsideTag):(this.writerOptions.state=r.CloseTag,o+=">"),o+=this.writer.endline(e,this.writerOptions,this.currentLevel);return this.onData(o,this.currentLevel),e.isOpen=!0}},e.prototype.closeNode=function(e){var t;if(!e.isClosed)return t="",this.writerOptions.state=r.CloseTag,t=e.type===n.Element?this.writer.indent(e,this.writerOptions,this.currentLevel)+"</"+e.name+">"+this.writer.endline(e,this.writerOptions,this.currentLevel):this.writer.indent(e,this.writerOptions,this.currentLevel)+"]>"+this.writer.endline(e,this.writerOptions,this.currentLevel),this.writerOptions.state=r.None,this.onData(t,this.currentLevel),e.isClosed=!0},e.prototype.onData=function(e,t){return this.documentStarted=!0,this.onDataCallback(e,t+1)},e.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},e.prototype.debugInfo=function(e){return null==e?"":"node: <"+e+">"},e.prototype.ele=function(){return this.element.apply(this,arguments)},e.prototype.nod=function(e,t,n){return this.node(e,t,n)},e.prototype.txt=function(e){return this.text(e)},e.prototype.dat=function(e){return this.cdata(e)},e.prototype.com=function(e){return this.comment(e)},e.prototype.ins=function(e,t){return this.instruction(e,t)},e.prototype.dec=function(e,t,n){return this.declaration(e,t,n)},e.prototype.dtd=function(e,t,n){return this.doctype(e,t,n)},e.prototype.e=function(e,t,n){return this.element(e,t,n)},e.prototype.n=function(e,t,n){return this.node(e,t,n)},e.prototype.t=function(e){return this.text(e)},e.prototype.d=function(e){return this.cdata(e)},e.prototype.c=function(e){return this.comment(e)},e.prototype.r=function(e){return this.raw(e)},e.prototype.i=function(e,t){return this.instruction(e,t)},e.prototype.att=function(){return this.currentNode&&this.currentNode.type===n.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},e.prototype.a=function(){return this.currentNode&&this.currentNode.type===n.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},e.prototype.ent=function(e,t){return this.entity(e,t)},e.prototype.pent=function(e,t){return this.pEntity(e,t)},e.prototype.not=function(e,t){return this.notation(e,t)},e}()}).call(void 0)},{"./NodeType":251,"./Utility":252,"./WriterState":253,"./XMLAttribute":254,"./XMLCData":255,"./XMLComment":257,"./XMLDTDAttList":262,"./XMLDTDElement":263,"./XMLDTDEntity":264,"./XMLDTDNotation":265,"./XMLDeclaration":266,"./XMLDocType":267,"./XMLDocument":268,"./XMLElement":271,"./XMLProcessingInstruction":275,"./XMLRaw":276,"./XMLStringWriter":278,"./XMLStringifier":279,"./XMLText":280}],270:[function(e,t,n){"use strict";var r=e("babel-runtime/core-js/object/create"),o=function(e){return e&&e.__esModule?e:{default:e}}(r);(function(){var n,r,i=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},a={}.hasOwnProperty;r=e("./XMLNode"),n=e("./NodeType"),t.exports=function(e){function t(e){t.__super__.constructor.call(this,e),this.type=n.Dummy}return i(t,e),t.prototype.clone=function(){return(0,o.default)(this)},t.prototype.toString=function(e){return""},t}(r)}).call(void 0)},{"./NodeType":251,"./XMLNode":273,"babel-runtime/core-js/object/create":55}],271:[function(e,t,n){"use strict";var r=e("babel-runtime/core-js/object/create"),o=function(e){return e&&e.__esModule?e:{default:e}}(r);(function(){var n,r,i,a,u,s,c,l,f=function(e,t){function n(){this.constructor=e}for(var r in t)d.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},d={}.hasOwnProperty;l=e("./Utility"),c=l.isObject,s=l.isFunction,u=l.getValue,a=e("./XMLNode"),n=e("./NodeType"),r=e("./XMLAttribute"),i=e("./XMLNamedNodeMap"),t.exports=function(e){function t(e,r,o){var i,a,u,s;if(t.__super__.constructor.call(this,e),null==r)throw new Error("Missing element name. "+this.debugInfo());if(this.name=this.stringify.name(r),this.type=n.Element,this.attribs={},this.schemaTypeInfo=null,null!=o&&this.attribute(o),e.type===n.Document&&(this.isRoot=!0,this.documentObject=e,e.rootObject=this,e.children))for(s=e.children,a=0,u=s.length;a<u;a++)if(i=s[a],i.type===n.DocType){i.name=this.name;break}}return f(t,e),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name}}),Object.defineProperty(t.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(t.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(t.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(t.prototype,"id",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(t.prototype,"className",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(t.prototype,"classList",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(t.prototype,"attributes",{get:function(){return this.attributeMap&&this.attributeMap.nodes||(this.attributeMap=new i(this.attribs)),this.attributeMap}}),t.prototype.clone=function(){var e,t,n,r;n=(0,o.default)(this),n.isRoot&&(n.documentObject=null),n.attribs={},r=this.attribs;for(t in r)d.call(r,t)&&(e=r[t],n.attribs[t]=e.clone());return n.children=[],this.children.forEach(function(e){var t;return t=e.clone(),t.parent=n,n.children.push(t)}),n},t.prototype.attribute=function(e,t){var n,o;if(null!=e&&(e=u(e)),c(e))for(n in e)d.call(e,n)&&(o=e[n],this.attribute(n,o));else s(t)&&(t=t.apply()),this.options.keepNullAttributes&&null==t?this.attribs[e]=new r(this,e,""):null!=t&&(this.attribs[e]=new r(this,e,t));return this},t.prototype.removeAttribute=function(e){var t,n,r;if(null==e)throw new Error("Missing attribute name. "+this.debugInfo());if(e=u(e),Array.isArray(e))for(n=0,r=e.length;n<r;n++)t=e[n],delete this.attribs[t];else delete this.attribs[e];return this},t.prototype.toString=function(e){return this.options.writer.element(this,this.options.writer.filterOptions(e))},t.prototype.att=function(e,t){return this.attribute(e,t)},t.prototype.a=function(e,t){return this.attribute(e,t)},t.prototype.getAttribute=function(e){return this.attribs.hasOwnProperty(e)?this.attribs[e].value:null},t.prototype.setAttribute=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.getAttributeNode=function(e){return this.attribs.hasOwnProperty(e)?this.attribs[e]:null},t.prototype.setAttributeNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.removeAttributeNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.getElementsByTagName=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.getAttributeNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.setAttributeNS=function(e,t,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.removeAttributeNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.getAttributeNodeNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.setAttributeNodeNS=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.getElementsByTagNameNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.hasAttribute=function(e){return this.attribs.hasOwnProperty(e)},t.prototype.hasAttributeNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.setIdAttribute=function(e,t){return this.attribs.hasOwnProperty(e)?this.attribs[e].isId:t},t.prototype.setIdAttributeNS=function(e,t,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.setIdAttributeNode=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.getElementsByTagName=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.getElementsByTagNameNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.getElementsByClassName=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.isEqualNode=function(e){var n,r,o;if(!t.__super__.isEqualNode.apply(this,arguments).isEqualNode(e))return!1;if(e.namespaceURI!==this.namespaceURI)return!1;if(e.prefix!==this.prefix)return!1;if(e.localName!==this.localName)return!1;if(e.attribs.length!==this.attribs.length)return!1;for(n=r=0,o=this.attribs.length-1;0<=o?r<=o:r>=o;n=0<=o?++r:--r)if(!this.attribs[n].isEqualNode(e.attribs[n]))return!1;return!0},t}(a)}).call(void 0)},{"./NodeType":251,"./Utility":252,"./XMLAttribute":254,"./XMLNamedNodeMap":272,"./XMLNode":273,"babel-runtime/core-js/object/create":55}],272:[function(e,t,n){"use strict";var r=e("babel-runtime/core-js/object/keys"),o=function(e){return e&&e.__esModule?e:{default:e}}(r);(function(){t.exports=function(){function e(e){this.nodes=e}return Object.defineProperty(e.prototype,"length",{get:function(){return(0,o.default)(this.nodes).length||0}}),e.prototype.clone=function(){return this.nodes=null},e.prototype.getNamedItem=function(e){return this.nodes[e]},e.prototype.setNamedItem=function(e){var t;return t=this.nodes[e.nodeName],this.nodes[e.nodeName]=e,t||null},e.prototype.removeNamedItem=function(e){var t;return t=this.nodes[e],delete this.nodes[e],t||null},e.prototype.item=function(e){return this.nodes[(0,o.default)(this.nodes)[e]]||null},e.prototype.getNamedItemNS=function(e,t){throw new Error("This DOM method is not implemented.")},e.prototype.setNamedItemNS=function(e){throw new Error("This DOM method is not implemented.")},e.prototype.removeNamedItemNS=function(e,t){throw new Error("This DOM method is not implemented.")},e}()}).call(void 0)},{"babel-runtime/core-js/object/keys":60}],273:[function(e,t,n){"use strict";(function(){var n,r,o,i,a,u,s,c,l,f,d,p,h,m,g,v,b,y,w={}.hasOwnProperty;y=e("./Utility"),b=y.isObject,v=y.isFunction,g=y.isEmpty,m=y.getValue,c=null,o=null,i=null,a=null,u=null,p=null,h=null,d=null,s=null,r=null,f=null,l=null,n=null,t.exports=function(){function t(t){this.parent=t,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.value=null,this.children=[],this.baseURI=null,c||(c=e("./XMLElement"),o=e("./XMLCData"),i=e("./XMLComment"),a=e("./XMLDeclaration"),u=e("./XMLDocType"),p=e("./XMLRaw"),h=e("./XMLText"),d=e("./XMLProcessingInstruction"),s=e("./XMLDummy"),r=e("./NodeType"),f=e("./XMLNodeList"),l=e("./XMLNamedNodeMap"),n=e("./DocumentPosition"))}return Object.defineProperty(t.prototype,"nodeName",{get:function(){return this.name}}),Object.defineProperty(t.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.value}}),Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.parent}}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.childNodeList&&this.childNodeList.nodes||(this.childNodeList=new f(this.children)),this.childNodeList}}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this.children[0]||null}}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children[this.children.length-1]||null}}),Object.defineProperty(t.prototype,"previousSibling",{get:function(){var e;return e=this.parent.children.indexOf(this),this.parent.children[e-1]||null}}),Object.defineProperty(t.prototype,"nextSibling",{get:function(){var e;return e=this.parent.children.indexOf(this),this.parent.children[e+1]||null}}),Object.defineProperty(t.prototype,"ownerDocument",{get:function(){return this.document()||null}}),Object.defineProperty(t.prototype,"textContent",{get:function(){var e,t,n,o,i;if(this.nodeType===r.Element||this.nodeType===r.DocumentFragment){for(i="",o=this.children,t=0,n=o.length;t<n;t++)e=o[t],e.textContent&&(i+=e.textContent);return i}return null},set:function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),t.prototype.setParent=function(e){var t,n,r,o,i;for(this.parent=e,e&&(this.options=e.options,this.stringify=e.stringify),o=this.children,i=[],n=0,r=o.length;n<r;n++)t=o[n],i.push(t.setParent(this));return i},t.prototype.element=function(e,t,n){var r,o,i,a,u,s,c,l,f,d,p;if(s=null,null===t&&null==n&&(f=[{},null],t=f[0],n=f[1]),null==t&&(t={}),t=m(t),b(t)||(d=[t,n],n=d[0],t=d[1]),null!=e&&(e=m(e)),Array.isArray(e))for(i=0,c=e.length;i<c;i++)o=e[i],s=this.element(o);else if(v(e))s=this.element(e.apply());else if(b(e)){for(u in e)if(w.call(e,u))if(p=e[u],v(p)&&(p=p.apply()),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&0===u.indexOf(this.stringify.convertAttKey))s=this.attribute(u.substr(this.stringify.convertAttKey.length),p);else if(!this.options.separateArrayItems&&Array.isArray(p)&&g(p))s=this.dummy();else if(b(p)&&g(p))s=this.element(u);else if(this.options.keepNullNodes||null!=p)if(!this.options.separateArrayItems&&Array.isArray(p))for(a=0,l=p.length;a<l;a++)o=p[a],r={},r[u]=o,s=this.element(r);else b(p)?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===u.indexOf(this.stringify.convertTextKey)?s=this.element(p):(s=this.element(u),s.element(p)):s=this.element(u,p);else s=this.dummy()}else s=this.options.keepNullNodes||null!==n?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===e.indexOf(this.stringify.convertTextKey)?this.text(n):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&0===e.indexOf(this.stringify.convertCDataKey)?this.cdata(n):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&0===e.indexOf(this.stringify.convertCommentKey)?this.comment(n):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&0===e.indexOf(this.stringify.convertRawKey)?this.raw(n):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&0===e.indexOf(this.stringify.convertPIKey)?this.instruction(e.substr(this.stringify.convertPIKey.length),n):this.node(e,t,n):this.dummy();if(null==s)throw new Error("Could not create any elements with: "+e+". "+this.debugInfo());return s},t.prototype.insertBefore=function(e,t,n){var r,o,i,a,u;if(null!=e?e.type:void 0)return i=e,a=t,i.setParent(this),a?(o=children.indexOf(a),u=children.splice(o),children.push(i),Array.prototype.push.apply(children,u)):children.push(i),i;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(e));return o=this.parent.children.indexOf(this),u=this.parent.children.splice(o),r=this.parent.element(e,t,n),Array.prototype.push.apply(this.parent.children,u),r},t.prototype.insertAfter=function(e,t,n){var r,o,i;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(e));return o=this.parent.children.indexOf(this),i=this.parent.children.splice(o+1),r=this.parent.element(e,t,n),Array.prototype.push.apply(this.parent.children,i),r},t.prototype.remove=function(){var e;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return e=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[e,e-e+1].concat([])),this.parent},t.prototype.node=function(e,t,n){var r,o;return null!=e&&(e=m(e)),t||(t={}),t=m(t),b(t)||(o=[t,n],n=o[0],t=o[1]),r=new c(this,e,t),null!=n&&r.text(n),this.children.push(r),r},t.prototype.text=function(e){var t;return b(e)&&this.element(e),t=new h(this,e),this.children.push(t),this},t.prototype.cdata=function(e){var t;return t=new o(this,e),this.children.push(t),this},t.prototype.comment=function(e){var t;return t=new i(this,e),this.children.push(t),this},t.prototype.commentBefore=function(e){var t,n;return t=this.parent.children.indexOf(this),n=this.parent.children.splice(t),this.parent.comment(e),Array.prototype.push.apply(this.parent.children,n),this},t.prototype.commentAfter=function(e){var t,n;return t=this.parent.children.indexOf(this),n=this.parent.children.splice(t+1),this.parent.comment(e),Array.prototype.push.apply(this.parent.children,n),this},t.prototype.raw=function(e){var t;return t=new p(this,e),this.children.push(t),this},t.prototype.dummy=function(){return new s(this)},t.prototype.instruction=function(e,t){var n,r,o,i,a;if(null!=e&&(e=m(e)),null!=t&&(t=m(t)),Array.isArray(e))for(i=0,a=e.length;i<a;i++)n=e[i],this.instruction(n);else if(b(e))for(n in e)w.call(e,n)&&(r=e[n],this.instruction(n,r));else v(t)&&(t=t.apply()),o=new d(this,e,t),this.children.push(o);return this},t.prototype.instructionBefore=function(e,t){var n,r;return n=this.parent.children.indexOf(this),r=this.parent.children.splice(n),this.parent.instruction(e,t),Array.prototype.push.apply(this.parent.children,r),this},t.prototype.instructionAfter=function(e,t){var n,r;return n=this.parent.children.indexOf(this),r=this.parent.children.splice(n+1),this.parent.instruction(e,t),Array.prototype.push.apply(this.parent.children,r),this},t.prototype.declaration=function(e,t,n){var o,i;return o=this.document(),i=new a(o,e,t,n),0===o.children.length?o.children.unshift(i):o.children[0].type===r.Declaration?o.children[0]=i:o.children.unshift(i),o.root()||o},t.prototype.dtd=function(e,t){var n,o,i,a,s,c,l,f,d,p;for(o=this.document(),i=new u(o,e,t),d=o.children,a=s=0,l=d.length;s<l;a=++s)if(n=d[a],n.type===r.DocType)return o.children[a]=i,i;for(p=o.children,a=c=0,f=p.length;c<f;a=++c)if(n=p[a],n.isRoot)return o.children.splice(a,0,i),i;return o.children.push(i),i},t.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},t.prototype.root=function(){var e;for(e=this;e;){if(e.type===r.Document)return e.rootObject;if(e.isRoot)return e;e=e.parent}},t.prototype.document=function(){var e;for(e=this;e;){if(e.type===r.Document)return e;e=e.parent}},t.prototype.end=function(e){return this.document().end(e)},t.prototype.prev=function(){var e;if((e=this.parent.children.indexOf(this))<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[e-1]},t.prototype.next=function(){var e;if(-1===(e=this.parent.children.indexOf(this))||e===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[e+1]},t.prototype.importDocument=function(e){var t;return t=e.root().clone(),t.parent=this,t.isRoot=!1,this.children.push(t),this},t.prototype.debugInfo=function(e){var t,n;return e=e||this.name,null!=e||(null!=(t=this.parent)?t.name:void 0)?null==e?"parent: <"+this.parent.name+">":(null!=(n=this.parent)?n.name:void 0)?"node: <"+e+">, parent: <"+this.parent.name+">":"node: <"+e+">":""},t.prototype.ele=function(e,t,n){return this.element(e,t,n)},t.prototype.nod=function(e,t,n){return this.node(e,t,n)},t.prototype.txt=function(e){return this.text(e)},t.prototype.dat=function(e){return this.cdata(e)},t.prototype.com=function(e){return this.comment(e)},t.prototype.ins=function(e,t){return this.instruction(e,t)},t.prototype.doc=function(){return this.document()},t.prototype.dec=function(e,t,n){return this.declaration(e,t,n)},t.prototype.e=function(e,t,n){return this.element(e,t,n)},t.prototype.n=function(e,t,n){return this.node(e,t,n)},t.prototype.t=function(e){return this.text(e)},t.prototype.d=function(e){return this.cdata(e)},t.prototype.c=function(e){return this.comment(e)},t.prototype.r=function(e){return this.raw(e)},t.prototype.i=function(e,t){return this.instruction(e,t)},t.prototype.u=function(){return this.up()},t.prototype.importXMLBuilder=function(e){return this.importDocument(e)},t.prototype.replaceChild=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.removeChild=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.appendChild=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.hasChildNodes=function(){return 0!==this.children.length},t.prototype.cloneNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.normalize=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.isSupported=function(e,t){return!0},t.prototype.hasAttributes=function(){return 0!==this.attribs.length},t.prototype.compareDocumentPosition=function(e){var t,r;return t=this,t===e?0:this.document()!==e.document()?(r=n.Disconnected|n.ImplementationSpecific,Math.random()<.5?r|=n.Preceding:r|=n.Following,r):t.isAncestor(e)?n.Contains|n.Preceding:t.isDescendant(e)?n.Contains|n.Following:t.isPreceding(e)?n.Preceding:n.Following},t.prototype.isSameNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.lookupPrefix=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.isDefaultNamespace=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.lookupNamespaceURI=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.isEqualNode=function(e){var t,n,r;if(e.nodeType!==this.nodeType)return!1;if(e.children.length!==this.children.length)return!1;for(t=n=0,r=this.children.length-1;0<=r?n<=r:n>=r;t=0<=r?++n:--n)if(!this.children[t].isEqualNode(e.children[t]))return!1;return!0},t.prototype.getFeature=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.setUserData=function(e,t,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.getUserData=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.contains=function(e){return!!e&&(e===this||this.isDescendant(e))},t.prototype.isDescendant=function(e){var t,n,r,o;for(o=this.children,n=0,r=o.length;n<r;n++){if(t=o[n],e===t)return!0;if(t.isDescendant(e))return!0}return!1},t.prototype.isAncestor=function(e){return e.isDescendant(this)},t.prototype.isPreceding=function(e){var t,n;return t=this.treePosition(e),n=this.treePosition(this),-1!==t&&-1!==n&&t<n},t.prototype.isFollowing=function(e){var t,n;return t=this.treePosition(e),n=this.treePosition(this),-1!==t&&-1!==n&&t>n},t.prototype.treePosition=function(e){var t,n;return n=0,t=!1,this.foreachTreeNode(this.document(),function(r){if(n++,!t&&r===e)return t=!0}),t?n:-1},t.prototype.foreachTreeNode=function(e,t){var n,r,o,i,a;for(e||(e=this.document()),i=e.children,r=0,o=i.length;r<o;r++){if(n=i[r],a=t(n))return a;if(a=this.foreachTreeNode(n,t))return a}},t}()}).call(void 0)},{"./DocumentPosition":250,"./NodeType":251,"./Utility":252,"./XMLCData":255,"./XMLComment":257,"./XMLDeclaration":266,"./XMLDocType":267,"./XMLDummy":270,"./XMLElement":271,"./XMLNamedNodeMap":272,"./XMLNodeList":274,"./XMLProcessingInstruction":275,"./XMLRaw":276,"./XMLText":280}],274:[function(e,t,n){"use strict";(function(){t.exports=function(){function e(e){this.nodes=e}return Object.defineProperty(e.prototype,"length",{get:function(){return this.nodes.length||0}}),e.prototype.clone=function(){return this.nodes=null},e.prototype.item=function(e){return this.nodes[e]||null},e}()}).call(void 0)},{}],275:[function(e,t,n){"use strict";var r=e("babel-runtime/core-js/object/create"),o=function(e){return e&&e.__esModule?e:{default:e}}(r);(function(){var n,r,i=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},a={}.hasOwnProperty;n=e("./NodeType"),r=e("./XMLCharacterData"),t.exports=function(e){function t(e,r,o){if(t.__super__.constructor.call(this,e),null==r)throw new Error("Missing instruction target. "+this.debugInfo());this.type=n.ProcessingInstruction,this.target=this.stringify.insTarget(r),this.name=this.target,o&&(this.value=this.stringify.insValue(o))}return i(t,e),t.prototype.clone=function(){return(0,o.default)(this)},t.prototype.toString=function(e){return this.options.writer.processingInstruction(this,this.options.writer.filterOptions(e))},t.prototype.isEqualNode=function(e){return!!t.__super__.isEqualNode.apply(this,arguments).isEqualNode(e)&&e.target===this.target},t}(r)}).call(void 0)},{"./NodeType":251,"./XMLCharacterData":256,"babel-runtime/core-js/object/create":55}],276:[function(e,t,n){"use strict";var r=e("babel-runtime/core-js/object/create"),o=function(e){return e&&e.__esModule?e:{default:e}}(r);(function(){var n,r,i=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},a={}.hasOwnProperty;n=e("./NodeType"),r=e("./XMLNode"),t.exports=function(e){function t(e,r){if(t.__super__.constructor.call(this,e),null==r)throw new Error("Missing raw text. "+this.debugInfo());this.type=n.Raw,this.value=this.stringify.raw(r)}return i(t,e),t.prototype.clone=function(){return(0,o.default)(this)},t.prototype.toString=function(e){return this.options.writer.raw(this,this.options.writer.filterOptions(e))},t}(r)}).call(void 0)},{"./NodeType":251,"./XMLNode":273,"babel-runtime/core-js/object/create":55}],277:[function(e,t,n){"use strict";(function(){var n,r,o,i=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},a={}.hasOwnProperty;n=e("./NodeType"),o=e("./XMLWriterBase"),r=e("./WriterState"),t.exports=function(e){function t(e,n){this.stream=e,t.__super__.constructor.call(this,n)}return i(t,e),t.prototype.endline=function(e,n,o){return e.isLastRootNode&&n.state===r.CloseTag?"":t.__super__.endline.call(this,e,n,o)},t.prototype.document=function(e,t){var n,r,o,i,a,u,s,c,l;for(s=e.children,r=o=0,a=s.length;o<a;r=++o)n=s[r],n.isLastRootNode=r===e.children.length-1;for(t=this.filterOptions(t),c=e.children,l=[],i=0,u=c.length;i<u;i++)n=c[i],l.push(this.writeChildNode(n,t,0));return l},t.prototype.attribute=function(e,n,r){return this.stream.write(t.__super__.attribute.call(this,e,n,r))},t.prototype.cdata=function(e,n,r){return this.stream.write(t.__super__.cdata.call(this,e,n,r))},t.prototype.comment=function(e,n,r){return this.stream.write(t.__super__.comment.call(this,e,n,r))},t.prototype.declaration=function(e,n,r){return this.stream.write(t.__super__.declaration.call(this,e,n,r))},t.prototype.docType=function(e,t,n){var o,i,a,u;if(n||(n=0),this.openNode(e,t,n),t.state=r.OpenTag,this.stream.write(this.indent(e,t,n)),this.stream.write("<!DOCTYPE "+e.root().name),e.pubID&&e.sysID?this.stream.write(' PUBLIC "'+e.pubID+'" "'+e.sysID+'"'):e.sysID&&this.stream.write(' SYSTEM "'+e.sysID+'"'),e.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(e,t,n)),t.state=r.InsideTag,u=e.children,i=0,a=u.length;i<a;i++)o=u[i],this.writeChildNode(o,t,n+1);t.state=r.CloseTag,this.stream.write("]")}return t.state=r.CloseTag,this.stream.write(t.spaceBeforeSlash+">"),this.stream.write(this.endline(e,t,n)),t.state=r.None,this.closeNode(e,t,n)},t.prototype.element=function(e,t,o){var i,u,s,c,l,f,d,p,h;o||(o=0),this.openNode(e,t,o),t.state=r.OpenTag,this.stream.write(this.indent(e,t,o)+"<"+e.name),p=e.attribs;for(d in p)a.call(p,d)&&(i=p[d],this.attribute(i,t,o));if(s=e.children.length,c=0===s?null:e.children[0],0===s||e.children.every(function(e){return(e.type===n.Text||e.type===n.Raw)&&""===e.value}))t.allowEmpty?(this.stream.write(">"),t.state=r.CloseTag,this.stream.write("</"+e.name+">")):(t.state=r.CloseTag,this.stream.write(t.spaceBeforeSlash+"/>"));else if(!t.pretty||1!==s||c.type!==n.Text&&c.type!==n.Raw||null==c.value){for(this.stream.write(">"+this.endline(e,t,o)),t.state=r.InsideTag,h=e.children,l=0,f=h.length;l<f;l++)u=h[l],this.writeChildNode(u,t,o+1);t.state=r.CloseTag,this.stream.write(this.indent(e,t,o)+"</"+e.name+">")}else this.stream.write(">"),t.state=r.InsideTag,t.suppressPrettyCount++,!0,this.writeChildNode(c,t,o+1),t.suppressPrettyCount--,!1,t.state=r.CloseTag,this.stream.write("</"+e.name+">");return this.stream.write(this.endline(e,t,o)),t.state=r.None,this.closeNode(e,t,o)},t.prototype.processingInstruction=function(e,n,r){return this.stream.write(t.__super__.processingInstruction.call(this,e,n,r))},t.prototype.raw=function(e,n,r){return this.stream.write(t.__super__.raw.call(this,e,n,r))},t.prototype.text=function(e,n,r){return this.stream.write(t.__super__.text.call(this,e,n,r))},t.prototype.dtdAttList=function(e,n,r){return this.stream.write(t.__super__.dtdAttList.call(this,e,n,r))},t.prototype.dtdElement=function(e,n,r){return this.stream.write(t.__super__.dtdElement.call(this,e,n,r))},t.prototype.dtdEntity=function(e,n,r){return this.stream.write(t.__super__.dtdEntity.call(this,e,n,r))},t.prototype.dtdNotation=function(e,n,r){return this.stream.write(t.__super__.dtdNotation.call(this,e,n,r))},t}(o)}).call(void 0)},{"./NodeType":251,"./WriterState":253,"./XMLWriterBase":281}],278:[function(e,t,n){"use strict";(function(){var n,r=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;n=e("./XMLWriterBase"),t.exports=function(e){function t(e){t.__super__.constructor.call(this,e)}return r(t,e),t.prototype.document=function(e,t){var n,r,o,i,a;for(t=this.filterOptions(t),i="",a=e.children,r=0,o=a.length;r<o;r++)n=a[r],i+=this.writeChildNode(n,t,0);return t.pretty&&i.slice(-t.newline.length)===t.newline&&(i=i.slice(0,-t.newline.length)),i},t}(n)}).call(void 0)},{"./XMLWriterBase":281}],279:[function(e,t,n){"use strict";(function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},n={}.hasOwnProperty;t.exports=function(){function t(t){this.assertLegalName=e(this.assertLegalName,this),this.assertLegalChar=e(this.assertLegalChar,this);var r,o,i;t||(t={}),this.options=t,this.options.version||(this.options.version="1.0"),o=t.stringify||{};for(r in o)n.call(o,r)&&(i=o[r],this[r]=i)}return t.prototype.name=function(e){return this.options.noValidation?e:this.assertLegalName(""+e||"")},t.prototype.text=function(e){return this.options.noValidation?e:this.assertLegalChar(this.textEscape(""+e||""))},t.prototype.cdata=function(e){return this.options.noValidation?e:(e=""+e||"",e=e.replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(e))},t.prototype.comment=function(e){if(this.options.noValidation)return e;if(e=""+e||"",e.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+e);return this.assertLegalChar(e)},t.prototype.raw=function(e){return this.options.noValidation?e:""+e||""},t.prototype.attValue=function(e){return this.options.noValidation?e:this.assertLegalChar(this.attEscape(e=""+e||""))},t.prototype.insTarget=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},t.prototype.insValue=function(e){if(this.options.noValidation)return e;if(e=""+e||"",e.match(/\?>/))throw new Error("Invalid processing instruction value: "+e);return this.assertLegalChar(e)},t.prototype.xmlVersion=function(e){if(this.options.noValidation)return e;if(e=""+e||"",!e.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+e);return e},t.prototype.xmlEncoding=function(e){if(this.options.noValidation)return e;if(e=""+e||"",!e.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+e);return this.assertLegalChar(e)},t.prototype.xmlStandalone=function(e){return this.options.noValidation?e:e?"yes":"no"},t.prototype.dtdPubID=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},t.prototype.dtdSysID=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},t.prototype.dtdElementValue=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},t.prototype.dtdAttType=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},t.prototype.dtdAttDefault=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},t.prototype.dtdEntityValue=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},t.prototype.dtdNData=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},t.prototype.convertAttKey="@",t.prototype.convertPIKey="?",t.prototype.convertTextKey="#text",t.prototype.convertCDataKey="#cdata",t.prototype.convertCommentKey="#comment",t.prototype.convertRawKey="#raw",t.prototype.assertLegalChar=function(e){var t,n;if(this.options.noValidation)return e;if(t="","1.0"===this.options.version){if(t=/[\0-\x08\x0B\f\x0E-\x1F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,n=e.match(t))throw new Error("Invalid character in string: "+e+" at index "+n.index)}else if("1.1"===this.options.version&&(t=/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,n=e.match(t)))throw new Error("Invalid character in string: "+e+" at index "+n.index);return e},t.prototype.assertLegalName=function(e){var t;if(this.options.noValidation)return e;if(this.assertLegalChar(e),t=/^([:A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])([\x2D\.0-:A-Z_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*$/,!e.match(t))throw new Error("Invalid character in name");return e},t.prototype.textEscape=function(e){var t;return this.options.noValidation?e:(t=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,e.replace(t,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;"))},t.prototype.attEscape=function(e){var t;return this.options.noValidation?e:(t=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,e.replace(t,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;"))},t}()}).call(void 0)},{}],280:[function(e,t,n){"use strict";var r=e("babel-runtime/core-js/object/create"),o=function(e){return e&&e.__esModule?e:{default:e}}(r);(function(){var n,r,i=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},a={}.hasOwnProperty;n=e("./NodeType"),r=e("./XMLCharacterData"),t.exports=function(e){function t(e,r){if(t.__super__.constructor.call(this,e),null==r)throw new Error("Missing element text. "+this.debugInfo());this.name="#text",this.type=n.Text,this.value=this.stringify.text(r)}return i(t,e),Object.defineProperty(t.prototype,"isElementContentWhitespace",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(t.prototype,"wholeText",{get:function(){var e,t,n;for(n="",t=this.previousSibling;t;)n=t.data+n,t=t.previousSibling;for(n+=this.data,e=this.nextSibling;e;)n+=e.data,e=e.nextSibling;return n}}),t.prototype.clone=function(){return(0,o.default)(this)},t.prototype.toString=function(e){return this.options.writer.text(this,this.options.writer.filterOptions(e))},t.prototype.splitText=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.replaceWholeText=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t}(r)}).call(void 0)},{"./NodeType":251,"./XMLCharacterData":256,"babel-runtime/core-js/object/create":55}],281:[function(e,t,n){"use strict";(function(){var n,r,o,i={}.hasOwnProperty;o=e("./Utility").assign,n=e("./NodeType"),e("./XMLDeclaration"),e("./XMLDocType"),e("./XMLCData"),e("./XMLComment"),e("./XMLElement"),e("./XMLRaw"),e("./XMLText"),e("./XMLProcessingInstruction"),e("./XMLDummy"),e("./XMLDTDAttList"),e("./XMLDTDElement"),e("./XMLDTDEntity"),e("./XMLDTDNotation"),r=e("./WriterState"),t.exports=function(){function e(e){var t,n,r;e||(e={}),this.options=e,n=e.writer||{};for(t in n)i.call(n,t)&&(r=n[t],this["_"+t]=this[t],this[t]=r)}return e.prototype.filterOptions=function(e){var t,n,i,a,u,s,c,l;return e||(e={}),e=o({},this.options,e),t={writer:this},t.pretty=e.pretty||!1,t.allowEmpty=e.allowEmpty||!1,t.indent=null!=(n=e.indent)?n:"  ",t.newline=null!=(i=e.newline)?i:"\n",t.offset=null!=(a=e.offset)?a:0,t.dontPrettyTextNodes=null!=(u=null!=(s=e.dontPrettyTextNodes)?s:e.dontprettytextnodes)?u:0,t.spaceBeforeSlash=null!=(c=null!=(l=e.spaceBeforeSlash)?l:e.spacebeforeslash)?c:"",!0===t.spaceBeforeSlash&&(t.spaceBeforeSlash=" "),t.suppressPrettyCount=0,t.user={},t.state=r.None,t},e.prototype.indent=function(e,t,n){var r;return!t.pretty||t.suppressPrettyCount?"":t.pretty&&(r=(n||0)+t.offset+1)>0?new Array(r).join(t.indent):""},e.prototype.endline=function(e,t,n){return!t.pretty||t.suppressPrettyCount?"":t.newline},e.prototype.attribute=function(e,t,n){var r;return this.openAttribute(e,t,n),r=" "+e.name+'="'+e.value+'"',this.closeAttribute(e,t,n),r},e.prototype.cdata=function(e,t,n){var o;return this.openNode(e,t,n),t.state=r.OpenTag,o=this.indent(e,t,n)+"<![CDATA[",t.state=r.InsideTag,o+=e.value,t.state=r.CloseTag,o+="]]>"+this.endline(e,t,n),t.state=r.None,this.closeNode(e,t,n),o},e.prototype.comment=function(e,t,n){var o;return this.openNode(e,t,n),t.state=r.OpenTag,o=this.indent(e,t,n)+"\x3c!-- ",t.state=r.InsideTag,o+=e.value,t.state=r.CloseTag,o+=" --\x3e"+this.endline(e,t,n),t.state=r.None,this.closeNode(e,t,n),o},e.prototype.declaration=function(e,t,n){var o;return this.openNode(e,t,n),t.state=r.OpenTag,o=this.indent(e,t,n)+"<?xml",t.state=r.InsideTag,o+=' version="'+e.version+'"',null!=e.encoding&&(o+=' encoding="'+e.encoding+'"'),null!=e.standalone&&(o+=' standalone="'+e.standalone+'"'),t.state=r.CloseTag,o+=t.spaceBeforeSlash+"?>",o+=this.endline(e,t,n),t.state=r.None,this.closeNode(e,t,n),o},e.prototype.docType=function(e,t,n){var o,i,a,u,s;if(n||(n=0),this.openNode(e,t,n),t.state=r.OpenTag,u=this.indent(e,t,n),u+="<!DOCTYPE "+e.root().name,e.pubID&&e.sysID?u+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"':e.sysID&&(u+=' SYSTEM "'+e.sysID+'"'),e.children.length>0){for(u+=" [",u+=this.endline(e,t,n),t.state=r.InsideTag,s=e.children,i=0,a=s.length;i<a;i++)o=s[i],u+=this.writeChildNode(o,t,n+1);t.state=r.CloseTag,u+="]"}return t.state=r.CloseTag,u+=t.spaceBeforeSlash+">",u+=this.endline(e,t,n),t.state=r.None,this.closeNode(e,t,n),u},e.prototype.element=function(e,t,o){var a,u,s,c,l,f,d,p,h,m,g,v,b,y;o||(o=0),m=!1,g="",this.openNode(e,t,o),t.state=r.OpenTag,g+=this.indent(e,t,o)+"<"+e.name,v=e.attribs;for(h in v)i.call(v,h)&&(a=v[h],g+=this.attribute(a,t,o));if(s=e.children.length,c=0===s?null:e.children[0],0===s||e.children.every(function(e){return(e.type===n.Text||e.type===n.Raw)&&""===e.value}))t.allowEmpty?(g+=">",t.state=r.CloseTag,g+="</"+e.name+">"+this.endline(e,t,o)):(t.state=r.CloseTag,g+=t.spaceBeforeSlash+"/>"+this.endline(e,t,o));else if(!t.pretty||1!==s||c.type!==n.Text&&c.type!==n.Raw||null==c.value){if(t.dontPrettyTextNodes)for(b=e.children,l=0,d=b.length;l<d;l++)if(u=b[l],(u.type===n.Text||u.type===n.Raw)&&null!=u.value){t.suppressPrettyCount++,m=!0;break}for(g+=">"+this.endline(e,t,o),t.state=r.InsideTag,y=e.children,f=0,p=y.length;f<p;f++)u=y[f],g+=this.writeChildNode(u,t,o+1);t.state=r.CloseTag,g+=this.indent(e,t,o)+"</"+e.name+">",m&&t.suppressPrettyCount--,g+=this.endline(e,t,o),t.state=r.None}else g+=">",t.state=r.InsideTag,t.suppressPrettyCount++,m=!0,g+=this.writeChildNode(c,t,o+1),t.suppressPrettyCount--,m=!1,t.state=r.CloseTag,g+="</"+e.name+">"+this.endline(e,t,o);return this.closeNode(e,t,o),g},e.prototype.writeChildNode=function(e,t,r){switch(e.type){case n.CData:return this.cdata(e,t,r);case n.Comment:return this.comment(e,t,r);case n.Element:return this.element(e,t,r);case n.Raw:return this.raw(e,t,r);case n.Text:return this.text(e,t,r);case n.ProcessingInstruction:return this.processingInstruction(e,t,r);case n.Dummy:return"";case n.Declaration:return this.declaration(e,t,r);case n.DocType:return this.docType(e,t,r);case n.AttributeDeclaration:return this.dtdAttList(e,t,r);case n.ElementDeclaration:return this.dtdElement(e,t,r);case n.EntityDeclaration:return this.dtdEntity(e,t,r);case n.NotationDeclaration:return this.dtdNotation(e,t,r);default:throw new Error("Unknown XML node type: "+e.constructor.name)}},e.prototype.processingInstruction=function(e,t,n){var o;return this.openNode(e,t,n),t.state=r.OpenTag,o=this.indent(e,t,n)+"<?",t.state=r.InsideTag,o+=e.target,e.value&&(o+=" "+e.value),t.state=r.CloseTag,o+=t.spaceBeforeSlash+"?>",o+=this.endline(e,t,n),t.state=r.None,this.closeNode(e,t,n),o},e.prototype.raw=function(e,t,n){var o;return this.openNode(e,t,n),t.state=r.OpenTag,o=this.indent(e,t,n),t.state=r.InsideTag,o+=e.value,t.state=r.CloseTag,o+=this.endline(e,t,n),t.state=r.None,this.closeNode(e,t,n),o},e.prototype.text=function(e,t,n){var o;return this.openNode(e,t,n),t.state=r.OpenTag,o=this.indent(e,t,n),t.state=r.InsideTag,o+=e.value,t.state=r.CloseTag,o+=this.endline(e,t,n),t.state=r.None,this.closeNode(e,t,n),o},e.prototype.dtdAttList=function(e,t,n){var o;return this.openNode(e,t,n),t.state=r.OpenTag,o=this.indent(e,t,n)+"<!ATTLIST",t.state=r.InsideTag,o+=" "+e.elementName+" "+e.attributeName+" "+e.attributeType,"#DEFAULT"!==e.defaultValueType&&(o+=" "+e.defaultValueType),e.defaultValue&&(o+=' "'+e.defaultValue+'"'),t.state=r.CloseTag,o+=t.spaceBeforeSlash+">"+this.endline(e,t,n),t.state=r.None,this.closeNode(e,t,n),o},e.prototype.dtdElement=function(e,t,n){var o;return this.openNode(e,t,n),t.state=r.OpenTag,o=this.indent(e,t,n)+"<!ELEMENT",t.state=r.InsideTag,o+=" "+e.name+" "+e.value,t.state=r.CloseTag,o+=t.spaceBeforeSlash+">"+this.endline(e,t,n),t.state=r.None,this.closeNode(e,t,n),o},e.prototype.dtdEntity=function(e,t,n){var o;return this.openNode(e,t,n),t.state=r.OpenTag,o=this.indent(e,t,n)+"<!ENTITY",t.state=r.InsideTag,e.pe&&(o+=" %"),o+=" "+e.name,e.value?o+=' "'+e.value+'"':(e.pubID&&e.sysID?o+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"':e.sysID&&(o+=' SYSTEM "'+e.sysID+'"'),e.nData&&(o+=" NDATA "+e.nData)),t.state=r.CloseTag,o+=t.spaceBeforeSlash+">"+this.endline(e,t,n),t.state=r.None,this.closeNode(e,t,n),o},e.prototype.dtdNotation=function(e,t,n){var o;return this.openNode(e,t,n),t.state=r.OpenTag,o=this.indent(e,t,n)+"<!NOTATION",t.state=r.InsideTag,o+=" "+e.name,e.pubID&&e.sysID?o+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"':e.pubID?o+=' PUBLIC "'+e.pubID+'"':e.sysID&&(o+=' SYSTEM "'+e.sysID+'"'),t.state=r.CloseTag,o+=t.spaceBeforeSlash+">"+this.endline(e,t,n),t.state=r.None,this.closeNode(e,t,n),o},e.prototype.openNode=function(e,t,n){},e.prototype.closeNode=function(e,t,n){},e.prototype.openAttribute=function(e,t,n){},e.prototype.closeAttribute=function(e,t,n){},e}()}).call(void 0)},{"./NodeType":251,"./Utility":252,"./WriterState":253,"./XMLCData":255,"./XMLComment":257,"./XMLDTDAttList":262,"./XMLDTDElement":263,"./XMLDTDEntity":264,"./XMLDTDNotation":265,"./XMLDeclaration":266,"./XMLDocType":267,"./XMLDummy":270,"./XMLElement":271,"./XMLProcessingInstruction":275,"./XMLRaw":276,"./XMLText":280}],282:[function(e,t,n){"use strict";(function(){var n,r,o,i,a,u,s,c,l,f;f=e("./Utility"),c=f.assign,l=f.isFunction,o=e("./XMLDOMImplementation"),i=e("./XMLDocument"),a=e("./XMLDocumentCB"),s=e("./XMLStringWriter"),u=e("./XMLStreamWriter"),n=e("./NodeType"),r=e("./WriterState"),t.exports.create=function(e,t,n,r){var o,a;if(null==e)throw new Error("Root element needs a name.");return r=c({},t,n,r),o=new i(r),a=o.element(e),r.headless||(o.declaration(r),null==r.pubID&&null==r.sysID||o.dtd(r)),a},t.exports.begin=function(e,t,n){var r;return l(e)&&(r=[e,t],t=r[0],n=r[1],e={}),t?new a(e,t,n):new i(e)},t.exports.stringWriter=function(e){return new s(e)},t.exports.streamWriter=function(e,t){return new u(e,t)},t.exports.implementation=new o,t.exports.nodeType=n,t.exports.writerState=r}).call(void 0)},{"./NodeType":251,"./Utility":252,"./WriterState":253,"./XMLDOMImplementation":260,"./XMLDocument":268,"./XMLDocumentCB":269,"./XMLStreamWriter":277,"./XMLStringWriter":278}],283:[function(e,t,n){function r(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var r in n)o.call(n,r)&&(e[r]=n[r])}return e}t.exports=r;var o=Object.prototype.hasOwnProperty},{}],284:[function(e,t,n){"use strict";function r(e,t,n){a.isBuffer(t)||(t=a.from(t)),a.isBuffer(n)||(n=a.from(n)),t.length>l?t=e(t):t.length<l&&(t=a.concat([t,f],l));for(var r=a.alloc(l),o=a.alloc(l),i=0;i<l;i++)r[i]=54^t[i],o[i]=92^t[i];var u=e(a.concat([r,n]));return e(a.concat([o,u]))}function o(e,t){e=e||"sha1";var n=c[e],o=[],u=0;return n||i("algorithm:",e,"is not yet supported"),{update:function(e){return a.isBuffer(e)||(e=a.from(e)),o.push(e),u+=e.length,this},digest:function(e){var i=a.concat(o),u=t?r(n,t,i):n(i);return o=null,e?u.toString(e):u}}}function i(){var e=[].slice.call(arguments).join(" ");throw new Error([e,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}var a=e("buffer").Buffer,u=e("./sha"),s=e("./md5"),c={sha1:u,md5:s},l=64,f=a.alloc(l);f.fill(0),n.createHash=function(e){return o(e)},n.createHmac=function(e,t){return o(e,t)},n.createCredentials=function(){i("sorry,createCredentials is not implemented yet")},n.createCipher=function(){i("sorry,createCipher is not implemented yet")},n.createCipheriv=function(){i("sorry,createCipheriv is not implemented yet")},n.createDecipher=function(){i("sorry,createDecipher is not implemented yet")},n.createDecipheriv=function(){i("sorry,createDecipheriv is not implemented yet")},n.createSign=function(){i("sorry,createSign is not implemented yet")},n.createVerify=function(){i("sorry,createVerify is not implemented yet")},n.createDiffieHellman=function(){i("sorry,createDiffieHellman is not implemented yet")},n.pbkdf2=function(){i("sorry,pbkdf2 is not implemented yet")}},{"./md5":286,"./sha":287,buffer:73}],285:[function(e,t,n){"use strict";function r(e,t){if(e.length%u!=0){var n=e.length+(u-e.length%u);e=a.concat([e,s],n)}for(var r=[],o=t?e.readInt32BE:e.readInt32LE,i=0;i<e.length;i+=u)r.push(o.call(e,i));return r}function o(e,t,n){for(var r=a.alloc(t),o=n?r.writeInt32BE:r.writeInt32LE,i=0;i<e.length;i++)o.call(r,e[i],4*i,!0);return r}function i(e,t,n,i){return a.isBuffer(e)||(e=a.from(e)),o(t(r(e,i),e.length*c),n,i)}var a=e("buffer").Buffer,u=4,s=a.alloc(u);s.fill(0);var c=8;t.exports={hash:i}},{buffer:73}],286:[function(e,t,n){"use strict";function r(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var n=1732584193,r=-271733879,o=-1732584194,l=271733878,f=0;f<e.length;f+=16){var d=n,p=r,h=o,m=l;n=i(n,r,o,l,e[f+0],7,-680876936),l=i(l,n,r,o,e[f+1],12,-389564586),o=i(o,l,n,r,e[f+2],17,606105819),r=i(r,o,l,n,e[f+3],22,-1044525330),n=i(n,r,o,l,e[f+4],7,-176418897),l=i(l,n,r,o,e[f+5],12,1200080426),o=i(o,l,n,r,e[f+6],17,-1473231341),r=i(r,o,l,n,e[f+7],22,-45705983),n=i(n,r,o,l,e[f+8],7,1770035416),l=i(l,n,r,o,e[f+9],12,-1958414417),o=i(o,l,n,r,e[f+10],17,-42063),r=i(r,o,l,n,e[f+11],22,-1990404162),n=i(n,r,o,l,e[f+12],7,1804603682),l=i(l,n,r,o,e[f+13],12,-40341101),o=i(o,l,n,r,e[f+14],17,-1502002290),r=i(r,o,l,n,e[f+15],22,1236535329),n=a(n,r,o,l,e[f+1],5,-165796510),l=a(l,n,r,o,e[f+6],9,-1069501632),o=a(o,l,n,r,e[f+11],14,643717713),r=a(r,o,l,n,e[f+0],20,-373897302),n=a(n,r,o,l,e[f+5],5,-701558691),l=a(l,n,r,o,e[f+10],9,38016083),o=a(o,l,n,r,e[f+15],14,-660478335),r=a(r,o,l,n,e[f+4],20,-405537848),n=a(n,r,o,l,e[f+9],5,568446438),l=a(l,n,r,o,e[f+14],9,-1019803690),o=a(o,l,n,r,e[f+3],14,-187363961),r=a(r,o,l,n,e[f+8],20,1163531501),n=a(n,r,o,l,e[f+13],5,-1444681467),l=a(l,n,r,o,e[f+2],9,-51403784),o=a(o,l,n,r,e[f+7],14,1735328473),r=a(r,o,l,n,e[f+12],20,-1926607734),n=u(n,r,o,l,e[f+5],4,-378558),l=u(l,n,r,o,e[f+8],11,-2022574463),o=u(o,l,n,r,e[f+11],16,1839030562),r=u(r,o,l,n,e[f+14],23,-35309556),n=u(n,r,o,l,e[f+1],4,-1530992060),l=u(l,n,r,o,e[f+4],11,1272893353),o=u(o,l,n,r,e[f+7],16,-155497632),r=u(r,o,l,n,e[f+10],23,-1094730640),n=u(n,r,o,l,e[f+13],4,681279174),l=u(l,n,r,o,e[f+0],11,-358537222),o=u(o,l,n,r,e[f+3],16,-722521979),r=u(r,o,l,n,e[f+6],23,76029189),n=u(n,r,o,l,e[f+9],4,-640364487),l=u(l,n,r,o,e[f+12],11,-421815835),o=u(o,l,n,r,e[f+15],16,530742520),r=u(r,o,l,n,e[f+2],23,-995338651),n=s(n,r,o,l,e[f+0],6,-198630844),l=s(l,n,r,o,e[f+7],10,1126891415),o=s(o,l,n,r,e[f+14],15,-1416354905),r=s(r,o,l,n,e[f+5],21,-57434055),n=s(n,r,o,l,e[f+12],6,1700485571),l=s(l,n,r,o,e[f+3],10,-1894986606),o=s(o,l,n,r,e[f+10],15,-1051523),r=s(r,o,l,n,e[f+1],21,-2054922799),n=s(n,r,o,l,e[f+8],6,1873313359),l=s(l,n,r,o,e[f+15],10,-30611744),o=s(o,l,n,r,e[f+6],15,-1560198380),r=s(r,o,l,n,e[f+13],21,1309151649),n=s(n,r,o,l,e[f+4],6,-145523070),l=s(l,n,r,o,e[f+11],10,-1120210379),o=s(o,l,n,r,e[f+2],15,718787259),r=s(r,o,l,n,e[f+9],21,-343485551),n=c(n,d),r=c(r,p),o=c(o,h),l=c(l,m)}return Array(n,r,o,l)}function o(e,t,n,r,o,i){return c(l(c(c(t,e),c(r,i)),o),n)}function i(e,t,n,r,i,a,u){return o(t&n|~t&r,e,t,i,a,u)}function a(e,t,n,r,i,a,u){return o(t&r|n&~r,e,t,i,a,u)}function u(e,t,n,r,i,a,u){return o(t^n^r,e,t,i,a,u)}function s(e,t,n,r,i,a,u){return o(n^(t|~r),e,t,i,a,u)}function c(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function l(e,t){return e<<t|e>>>32-t}var f=e("./helpers");t.exports=function(e){return f.hash(e,r,16)}},{"./helpers":285}],287:[function(e,t,n){"use strict";function r(e,t){e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var n=Array(80),r=1732584193,s=-271733879,c=-1732584194,l=271733878,f=-1009589776,d=0;d<e.length;d+=16){for(var p=r,h=s,m=c,g=l,v=f,b=0;b<80;b++){n[b]=b<16?e[d+b]:u(n[b-3]^n[b-8]^n[b-14]^n[b-16],1);var y=a(a(u(r,5),o(b,s,c,l)),a(a(f,n[b]),i(b)));f=l,l=c,c=u(s,30),s=r,r=y}r=a(r,p),s=a(s,h),c=a(c,m),l=a(l,g),f=a(f,v)}return Array(r,s,c,l,f)}function o(e,t,n,r){return e<20?t&n|~t&r:e<40?t^n^r:e<60?t&n|t&r|n&r:t^n^r}function i(e){return e<20?1518500249:e<40?1859775393:e<60?-1894007588:-899497514}function a(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function u(e,t){return e<<t|e>>>32-t}var s=e("./helpers");t.exports=function(e){return s.hash(e,r,20,!0)}},{"./helpers":285}],288:[function(e,t,n){"use strict";t.exports=function(){return function(){}}},{}],289:[function(e,t,n){(function(n){"use strict";function r(e){return e instanceof u}var o=e("babel-runtime/helpers/typeof"),i=function(e){return e&&e.__esModule?e:{default:e}}(o),a=e("stream"),u=a.Stream,s=e("../lib/common/utils/isArray"),c=s.isArray;t.exports.string=function(e){return"string"==typeof e},t.exports.array=c,t.exports.buffer=n.isBuffer,t.exports.writableStream=function(e){return r(e)&&"function"==typeof e._write&&"object"===(0,i.default)(e._writableState)}}).call(this,{isBuffer:e("../node_modules/is-buffer/index.js")})},{"../lib/common/utils/isArray":42,"../node_modules/is-buffer/index.js":197,"babel-runtime/helpers/typeof":67,stream:230}],290:[function(e,t,n){"use strict";n.encodeURIComponent=function(e){try{return encodeURIComponent(e)}catch(t){return e}},n.escape=e("escape-html"),n.timestamp=function(e){if(e){var t=e;return"string"==typeof t&&(t=Number(t)),10===String(e).length&&(t*=1e3),new Date(t)}return Math.round(Date.now()/1e3)}},{"escape-html":191}],291:[function(e,t,n){(function(t,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return void 0===e?t:e}function a(e,t){return function(n,r,o){if(n)return t(n);e({data:r,status:o.statusCode,headers:o.headers,res:o})}}var u,s=e("babel-runtime/core-js/json/stringify"),c=o(s),l=e("babel-runtime/helpers/typeof"),f=o(l),d=e("util"),p=e("url"),h=e("http"),m=e("https"),g=e("debug")("urllib"),v=e("humanize-ms"),b=0,y=Math.pow(2,31)-10,w=/^https?:\/\//i;n.TIMEOUTS=[v("300s"),v("300s")];var x=["json","text"];n.request=function(t,r,o){return 2===arguments.length&&"function"==typeof r&&(o=r,r=null),"function"==typeof o?n.requestWithCallback(t,r,o):(u||(u=e("any-promise")),new u(function(e,o){n.requestWithCallback(t,r,a(e,o))}))},n.requestWithCallback=function(o,a,u){function s(){X&&(clearTimeout(X),X=null)}function l(){Y&&(clearTimeout(Y),Y=null)}function _(e,r,i){if(l(),!u)return console.warn("[urllib:warn] [%s] [%s] [worker:%s] %s %s callback twice!!!",Date(),O,t.pid,B.method,o),void(e&&console.warn("[urllib:warn] [%s] [%s] [worker:%s] %s: %s\nstack: %s",Date(),O,t.pid,e.name,e.message,e.stack));var s=u;u=null;var f={};if(i&&(ee=i.statusCode,f=i.headers),401===ee&&f["www-authenticate"]&&(!a.headers||!a.headers.Authorization)&&a.digestAuth){var d=f["www-authenticate"];if(d.indexOf("Digest ")>=0)return g("Request#%d %s: got digest auth header WWW-Authenticate: %s",O,o,d),a.headers=a.headers||{},a.headers.Authorization=digestAuthHeader(B.method,B.path,d,a.digestAuth),g("Request#%d %s: auth with digest header: %s",O,o,a.headers.Authorization),i.headers["set-cookie"]&&(a.headers.Cookie=i.headers["set-cookie"].join(";")),n.requestWithCallback(o,a,s)}var p=Date.now()-M;oe&&(oe.contentDownload=p),g("[%sms] done, %s bytes HTTP %s %s %s %s, keepAliveSocket: %s, timing: %j",p,Z,ee,B.method,B.host,B.path,Q,oe);var h={status:ee,statusCode:ee,headers:f,size:Z,aborted:te,rt:p,keepAliveSocket:Q,data:r,requestUrls:a.requestUrls,timing:oe,remoteAddress:ne,remotePort:re};if(e){var m="";L&&"function"==typeof L.getCurrentStatus&&(m=", agent status: "+(0,c.default)(L.getCurrentStatus())),e.message+=", "+B.method+" "+o+" "+ee+" (connected: "+J+", keepalive socket: "+Q+m+")\nheaders: "+(0,c.default)(f),e.data=r,e.path=B.path,e.status=ee,e.headers=f,e.res=h}s(e,r,a.streaming?i:h),a.emitter&&(A.url=o,A.socket=se&&se.connection,A.options=B,A.size=G,a.emitter.emit("response",{requestId:O,error:e,ctx:a.ctx,req:A,res:h}))}function C(e){var t=null;if(a.followRedirect&&statuses.redirect[e.statusCode]){a._followRedirectCount=(a._followRedirectCount||0)+1;var r=e.headers.location;if(r){if(!(a._followRedirectCount>a.maxRedirects)){var i=a.formatRedirectUrl?a.formatRedirectUrl(o,r):p.resolve(o,r);g("Request#%d %s: `redirected` from %s to %s",O,B.path,o,i),l(),a.headers&&a.headers.Host&&w.test(r)&&(a.headers.Host=null);var s=u;return u=null,n.requestWithCallback(i,a,s),{redirect:!0,error:null}}t=new Error("Exceeded maxRedirects. Probably stuck in a redirect loop "+o),t.name="MaxRedirectError"}else t=new Error("Got statusCode "+e.statusCode+" but cannot resolve next location from headers"),t.name="FollowRedirectError"}return{redirect:!1,error:t}}function S(e,t,n){return n(null,t,e.headers["content-encoding"])}function E(e){if(oe&&(oe.waiting=Date.now()-M),g("Request#%d %s `req response` event emit: status %d, headers: %j",O,o,e.statusCode,e.headers),a.streaming){var t=C(e);return t.redirect?void e.resume():t.error?(e.resume(),_(t.error,null,e)):_(null,null,e)}if(e.on("close",function(){g("Request#%d %s: `res close` event emit, total size %d",O,o,Z)}),e.on("error",function(){g("Request#%d %s: `res error` event emit, total size %d",O,o,Z)}),e.on("aborted",function(){te=!0,g("Request#%d %s: `res aborted` event emit, total size %d",O,o,Z)}),ie){var t=C(e);return t.redirect?void e.resume():t.error?(e.resume(),ie.end(),_(t.error,null,e)):(!1===a.consumeWriteStream?e.on("end",_.bind(null,null,null,e)):isNode010||isNode012?first([[ie,"close"],[e,"aborted"]],function(t,n,r){g("Request#%d %s: writeStream or res %s event emitted",O,o,r),_(K||null,null,e)}):ie.on("close",function(){g("Request#%d %s: writeStream close event emitted",O,o),_(K||null,null,e)}),e.pipe(ie))}var n=[];e.on("data",function(e){g("Request#%d %s: `res data` event emit, size %d",O,o,e.length),Z+=e.length,n.push(e)}),e.on("end",function(){var t=r.concat(n,Z);if(g("Request#%d %s: `res end` event emit, total size %d, _dumped: %s",O,o,Z,e._dumped),K)return _(K,t,e);var i=C(e);if(i.error)return _(i.error,t,e);i.redirect||S(e,t,function(n,r,i){if(n)return _(n,t,e);if(!i&&x.indexOf(a.dataType)>=0){try{r=decodeBodyByCharset(r,e)}catch(t){return g("decodeBodyByCharset error: %s",t),_(null,r,e)}if("json"===a.dataType)if(0===Z)r=null;else{var u=parseJSON(r,j);u.error?n=u.error:r=u.data}}te&&g("Request#%d %s: Remote socket was terminated before `response.end()` was called",O,o),_(n,r,e)})})}function k(){g("Response timer ticking, timeout: %d",ue),Y=setTimeout(function(){Y=null;var e="Response timeout for "+ue+"ms";K=new Error(e),K.name="ResponseTimeoutError",K.requestId=O,g("ResponseTimeout: Request#%d %s %s: %s, connected: %s",O,o,K.name,e,J),T()},ue)}function T(){g("Request#%d %s abort, connected: %s",O,o,J),se.socket||(K.noSocket=!0,_(K)),se.abort()}if(!o||"string"!=typeof o&&"object"!==(void 0===o?"undefined":(0,f.default)(o))){var N=d.format("expect request url to be a string or a http request options, but got %j",o);throw new Error(N)}2===arguments.length&&"function"==typeof a&&(u=a,a=null),a=a||{},b>=y&&(b=0);var O=++b;a.requestUrls=a.requestUrls||[];var A={requestId:O,url:o,args:a,ctx:a.ctx};a.emitter&&a.emitter.emit("request",A),a.timeout=a.timeout||n.TIMEOUTS,a.maxRedirects=a.maxRedirects||10,a.streaming=a.streaming||a.customResponse;var D,M=Date.now();"string"==typeof o?(w.test(o)||(o="http://"+o),D=p.parse(o)):D=o;var I=(a.type||a.method||D.method||"GET").toUpperCase(),R=D.port||80,P=h,L=i(a.agent,n.agent),j=a.fixJSONCtlChars;"https:"===D.protocol&&(P=m,L=i(a.httpsAgent,n.httpsAgent),D.port||(R=443));var B={host:D.hostname||D.host||"localhost",path:D.path||"/",method:I,port:R,agent:L,headers:a.headers||{},lookup:a.lookup};Array.isArray(a.timeout)?B.requestTimeout=a.timeout[a.timeout.length-1]:void 0!==a.timeout&&(B.requestTimeout=a.timeout);for(var z=["pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","secureProtocol","secureOptions"],F=0;F<z.length;F++){var H=z[F];a.hasOwnProperty(H)&&(B[H]=a[H])}!1!==B.rejectUnauthorized||B.hasOwnProperty("secureOptions")||(B.secureOptions=e("constants").SSL_OP_NO_TLSv1_2);var U=a.auth||D.auth;U&&(B.auth=U);var V=a.content||a.data,q="GET"===I||"HEAD"===I||a.dataAsQueryString;if(!a.content&&V&&"string"!=typeof V&&!r.isBuffer(V))if(q)V=a.nestedQuerystring?qs.stringify(V):querystring.stringify(V);else{var W=B.headers["Content-Type"]||B.headers["content-type"];W||(W="json"===a.contentType?"application/json":"application/x-www-form-urlencoded",B.headers["Content-Type"]=W),V="application/json"===parseContentType(W).type?(0,c.default)(V):a.nestedQuerystring?qs.stringify(V):querystring.stringify(V)}q&&V&&(B.path+=(D.query?"&":"?")+V,V=null);var G=0;if(V){var $=V.length;r.isBuffer(V)||($=r.byteLength(V)),G=B.headers["Content-Length"]=$}"json"===a.dataType&&(B.headers.Accept="application/json"),"function"==typeof a.beforeRequest&&a.beforeRequest(B);var X=null,Y=null,K=null,J=!1,Q=!1,Z=0,ee=-1,te=!1,ne="",re="",oe=null;a.timing&&(oe={queuing:0,dnslookup:0,connected:0,requestSent:0,waiting:0,contentDownload:0}),B.headers["User-Agent"]||B.headers["user-agent"]||(B.headers["User-Agent"]=navigator.userAgent),a.gzip&&(B.headers["Accept-Encoding"]||B.headers["accept-encoding"]||(B.headers["Accept-Encoding"]="gzip"));var ie=a.writeStream;g("Request#%d %s %s with headers %j, options.path: %s",O,I,o,B.headers,B.path),a.requestUrls.push(o);var ae,ue;Array.isArray(a.timeout)?(ae=v(a.timeout[0]),ue=v(a.timeout[1])):ae=ue=v(a.timeout),g("ConnectTimeout: %d, ResponseTimeout: %d",ae,ue);var se;B.mode=a.mode?a.mode:"";try{se=P.request(B,E)}catch(e){return _(e)}return"undefined"==typeof window?function(){g("Connect timer ticking, timeout: %d",ae),X=setTimeout(function(){X=null,-1===ee&&(ee=-2);var e="Connect timeout for "+ae+"ms",t="ConnectionTimeoutError";se.socket||(t="SocketAssignTimeoutError",e+=", working sockets is full"),K=new Error(e),K.name=t,K.requestId=O,g("ConnectTimeout: Request#%d %s %s: %s, connected: %s",O,o,K.name,e,J),T()},ae)}():se.on("requestTimeout",function(){-1===ee&&(ee=-2);var e="Connect timeout for "+ae+"ms";K=new Error(e),K.name="ConnectionTimeoutError",K.requestId=O,T()}),oe&&se.on("finish",function(){oe.requestSent=Date.now()-M}),se.once("socket",function(e){oe&&(oe.queuing=Date.now()-M),isNode010&&e.socket&&(e=e.socket);var t=e.readyState;if("opening"===t)return e.once("lookup",function(e,t,n){g("Request#%d %s lookup: %s, %s, %s",O,o,e,t,n),oe&&(oe.dnslookup=Date.now()-M),t&&(ne=t)}),void e.once("connect",function(){oe&&(oe.connected=Date.now()-M),s(),k(),g("Request#%d %s new socket connected",O,o),J=!0,ne||(ne=e.remoteAddress),re=e.remotePort});g("Request#%d %s reuse socket connected, readyState: %s",O,o,t),J=!0,Q=!0,ne||(ne=e.remoteAddress),re=e.remotePort,s(),k()}),se.on("error",function(e){"Error"!==e.name&&"TypeError"!==e.name||(e.name=J?"ResponseError":"RequestError"),e.message+=' (req "error")',g("Request#%d %s `req error` event emit, %s: %s",O,o,e.name,e.message),_(K||e)}),ie&&ie.once("error",function(e){e.message+=' (writeStream "error")',K=e,g("Request#%d %s `writeStream error` event emit, %s: %s",O,o,e.name,e.message),T()}),a.stream?(a.stream.pipe(se),a.stream.once("error",function(e){e.message+=' (stream "error")',K=e,g("Request#%d %s `readStream error` event emit, %s: %s",O,o,e.name,e.message),T()})):se.end(V),se.requestId=O,se}}).call(this,e("_process"),e("buffer").Buffer)},{_process:208,"any-promise":49,"babel-runtime/core-js/json/stringify":53,"babel-runtime/helpers/typeof":67,buffer:73,constants:75,debug:288,http:231,https:193,"humanize-ms":194,url:238,util:243}]},{},[1])(1)})}).call(exports,__webpack_require__(0))},function(e,t,n){"use strict";var r=(n(26),n(28),n(30));n.d(t,"a",function(){return r.a});n(31),n(33),n(34),n(2),n(1),n(10)},function(e,t,n){"use strict";function r(){if(!o)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(i)}t.a=r;var o="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),i=new Uint8Array(16)},function(e,t,n){"use strict";function r(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}var o=n(1),i=n(10);t.a=function(e,t,n){function a(e,a,u,s){if("string"==typeof e&&(e=r(e)),"string"==typeof a&&(a=Object(i.a)(a)),16!==a.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var c=new Uint8Array(16+e.length);if(c.set(a),c.set(e,a.length),c=n(c),c[6]=15&c[6]|t,c[8]=63&c[8]|128,u){s=s||0;for(var l=0;l<16;++l)u[s+l]=c[l];return u}return Object(o.a)(c)}try{a.name=e}catch(e){}return a.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",a.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",a}},function(e,t,n){"use strict";function r(e){if(!Object(o.a)(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n}var o=n(2);t.a=r},function(e,t,n){"use strict";var r=n(37),o=(n.n(r),n(38)),i=(n.n(o),n(40)),a=(n.n(i),n(42)),u=(n.n(a),n(44)),s=(n.n(u),n(46)),c=n(6),l=n.n(c),f=n(7),d=null;t.a={name:"Editor",components:{editor:s.a},props:{value:{type:String,default:""},disabled:{type:Boolean,default:!1}},data:function(){return{publicPath:window.XcComponents.path+"public/",client:null,htmlContent:""}},watch:{value:function(e){this.htmlContent=e}},mounted:function(){this.htmlContent=this.value},methods:{editorChange:function(e){this.$emit("input",e)},fileUpLoad:function(e,t,n,r){d||(d="tinyMCE/img/"),this.client||(this.client=new l.a({region:"oss-cn-shenzhen",accessKeyId:"LTAI4G2nbEWcDi9djnDY8tvJ",accessKeySecret:"ZZN02tVv7BpJEhc5bWa2NlNIdL6Vvp",bucket:"gtyzfile"}));var o=Object(f.a)().replace(/-/g,""),i=e.blob(),a=o+i.name.substring(i.name.lastIndexOf("."));this.client.multipartUpload(d+a,i,{progress:function(e){r(100*e)}}).then(function(e){t(e.res.requestUrls[0].replace(/\?.*/g,""))}).catch(function(e){n("Image upload failed due to a XHR Transport error. Code: "+e)})}}}},function(e,t,n){"use strict";n.d(t,"a",function(){return u}),n.d(t,"e",function(){return c}),n.d(t,"c",function(){return l}),n.d(t,"d",function(){return d}),n.d(t,"b",function(){return p});var r=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],o=function(e){return-1!==r.indexOf(e)},i=function(e,t,n){Object.keys(t).filter(o).forEach(function(r){var o=t[r];"function"==typeof o&&("onInit"===r?o(e,n):n.on(r.substring(2),function(e){return o(e,n)}))})},a=function(e,t){var n=e.$props.modelEvents?e.$props.modelEvents:null,r=Array.isArray(n)?n.join(" "):n;e.$watch("value",function(n,r){t&&"string"==typeof n&&n!==r&&n!==t.getContent({format:e.$props.outputFormat})&&t.setContent(n)}),t.on(r||"change keyup undo redo",function(){e.$emit("input",t.getContent({format:e.$props.outputFormat}))})},u=function(e,t,n){var r=t.$props.value?t.$props.value:"",o=t.$props.initialValue?t.$props.initialValue:"";n.setContent(r||o),t.$listeners.input&&a(t,n),i(e,t.$listeners,n)},s=0,c=function(e){var t=Date.now(),n=Math.floor(1e9*Math.random());return s++,e+"_"+n+s+String(t)},l=function(e){return null!==e&&"textarea"===e.tagName.toLowerCase()},f=function(e){return void 0===e||""===e?[]:Array.isArray(e)?e:e.split(" ")},d=function(e,t){return f(e).concat(f(t))},p=function(e){return null===e||void 0===e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(14),o=n(17),i=n(36),a={path:function(){var e=document.currentScript?document.currentScript.src:function(){for(var e,t=document.scripts,n=t.length-1,r=n;r>0;r--)if("interactive"===t[r].readyState){e=t[r].src;break}return e||t[n].src}();return e.substring(0,e.lastIndexOf("/")+1)}(),install:function(e){e.component(r.a.name,r.a),e.component(o.a.name,o.a),e.component(i.a.name,i.a)}};window.XcComponents=a,"Vue"in window&&Vue.use(a),t.default=a},function(e,t,n){"use strict";var r=n(4),o=n(16),i=n(3),a=i(r.a,o.a,!1,null,null,null);t.a=a.exports},function(module,exports){module.exports=function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(t){return e[t]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s="fb15")}({"06cf":function(e,t,n){var r=n("83ab"),o=n("d1e7"),i=n("5c6c"),a=n("fc6a"),u=n("c04e"),s=n("5135"),c=n("0cfb"),l=Object.getOwnPropertyDescriptor;t.f=r?l:function(e,t){if(e=a(e),t=u(t,!0),c)try{return l(e,t)}catch(e){}if(s(e,t))return i(!o.f.call(e,t),e[t])}},"0cfb":function(e,t,n){var r=n("83ab"),o=n("d039"),i=n("cc12");e.exports=!r&&!o(function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a})},1157:function(e,t,n){var r,o;/*!
 * jQuery JavaScript Library v3.5.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2020-05-04T22:49Z
 */
!function(t,n){"use strict";"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,function(n,i){"use strict";function a(e,t,n){n=n||Ee;var r,o,i=n.createElement("script");if(i.text=e,t)for(r in ke)(o=t[r]||t.getAttribute&&t.getAttribute(r))&&i.setAttribute(r,o);n.head.appendChild(i).parentNode.removeChild(i)}function u(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?ve[be.call(e)]||"object":typeof e}function s(e){var t=!!e&&"length"in e&&e.length,n=u(e);return!Ce(e)&&!Se(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function c(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}function l(e,t,n){return Ce(t)?Te.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?Te.grep(e,function(e){return e===t!==n}):"string"!=typeof t?Te.grep(e,function(e){return ge.call(t,e)>-1!==n}):Te.filter(t,e,n)}function f(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function d(e){var t={};return Te.each(e.match(je)||[],function(e,n){t[n]=!0}),t}function p(e){return e}function h(e){throw e}function m(e,t,n,r){var o;try{e&&Ce(o=e.promise)?o.call(e).done(t).fail(n):e&&Ce(o=e.then)?o.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}function g(){Ee.removeEventListener("DOMContentLoaded",g),n.removeEventListener("load",g),Te.ready()}function v(e,t){return t.toUpperCase()}function b(e){return e.replace(He,"ms-").replace(Ue,v)}function y(){this.expando=Te.expando+y.uid++}function w(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Ge.test(e)?JSON.parse(e):e)}function x(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace($e,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=w(n)}catch(e){}We.set(e,t,n)}else n=void 0;return n}function _(e,t,n,r){var o,i,a=20,u=r?function(){return r.cur()}:function(){return Te.css(e,t,"")},s=u(),c=n&&n[3]||(Te.cssNumber[t]?"":"px"),l=e.nodeType&&(Te.cssNumber[t]||"px"!==c&&+s)&&Ye.exec(Te.css(e,t));if(l&&l[3]!==c){for(s/=2,c=c||l[3],l=+s||1;a--;)Te.style(e,t,l+c),(1-i)*(1-(i=u()/s||.5))<=0&&(a=0),l/=i;l*=2,Te.style(e,t,l+c),n=n||[]}return n&&(l=+l||+s||0,o=n[1]?l+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=l,r.end=o)),o}function C(e){var t,n=e.ownerDocument,r=e.nodeName,o=tt[r];return o||(t=n.body.appendChild(n.createElement(r)),o=Te.css(t,"display"),t.parentNode.removeChild(t),"none"===o&&(o="block"),tt[r]=o,o)}function S(e,t){for(var n,r,o=[],i=0,a=e.length;i<a;i++)r=e[i],r.style&&(n=r.style.display,t?("none"===n&&(o[i]=qe.get(r,"display")||null,o[i]||(r.style.display="")),""===r.style.display&&et(r)&&(o[i]=C(r))):"none"!==n&&(o[i]="none",qe.set(r,"display",n)));for(i=0;i<a;i++)null!=o[i]&&(e[i].style.display=o[i]);return e}function E(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&c(e,t)?Te.merge([e],n):n}function k(e,t){for(var n=0,r=e.length;n<r;n++)qe.set(e[n],"globalEval",!t||qe.get(t[n],"globalEval"))}function T(e,t,n,r,o){for(var i,a,s,c,l,f,d=t.createDocumentFragment(),p=[],h=0,m=e.length;h<m;h++)if((i=e[h])||0===i)if("object"===u(i))Te.merge(p,i.nodeType?[i]:i);else if(at.test(i)){for(a=a||d.appendChild(t.createElement("div")),s=(rt.exec(i)||["",""])[1].toLowerCase(),c=it[s]||it._default,a.innerHTML=c[1]+Te.htmlPrefilter(i)+c[2],f=c[0];f--;)a=a.lastChild;Te.merge(p,a.childNodes),a=d.firstChild,a.textContent=""}else p.push(t.createTextNode(i));for(d.textContent="",h=0;i=p[h++];)if(r&&Te.inArray(i,r)>-1)o&&o.push(i);else if(l=Qe(i),a=E(d.appendChild(i),"script"),l&&k(a),n)for(f=0;i=a[f++];)ot.test(i.type||"")&&n.push(i);return d}function N(){return!0}function O(){return!1}function A(e,t){return e===D()==("focus"===t)}function D(){try{return Ee.activeElement}catch(e){}}function M(e,t,n,r,o,i){var a,u;if("object"==typeof t){"string"!=typeof n&&(r=r||n,n=void 0);for(u in t)M(e,u,n,r,t[u],i);return e}if(null==r&&null==o?(o=n,r=n=void 0):null==o&&("string"==typeof n?(o=r,r=void 0):(o=r,r=n,n=void 0)),!1===o)o=O;else if(!o)return e;return 1===i&&(a=o,o=function(e){return Te().off(e),a.apply(this,arguments)},o.guid=a.guid||(a.guid=Te.guid++)),e.each(function(){Te.event.add(this,t,o,r,n)})}function I(e,t,n){if(!n)return void(void 0===qe.get(e,t)&&Te.event.add(e,t,N));qe.set(e,t,!1),Te.event.add(e,t,{namespace:!1,handler:function(e){var r,o,i=qe.get(this,t);if(1&e.isTrigger&&this[t]){if(i.length)(Te.event.special[t]||{}).delegateType&&e.stopPropagation();else if(i=pe.call(arguments),qe.set(this,t,i),r=n(this,t),this[t](),o=qe.get(this,t),i!==o||r?qe.set(this,t,!1):o={},i!==o)return e.stopImmediatePropagation(),e.preventDefault(),o.value}else i.length&&(qe.set(this,t,{value:Te.event.trigger(Te.extend(i[0],Te.Event.prototype),i.slice(1),this)}),e.stopImmediatePropagation())}})}function R(e,t){return c(e,"table")&&c(11!==t.nodeType?t:t.firstChild,"tr")?Te(e).children("tbody")[0]||e:e}function P(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function L(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function j(e,t){var n,r,o,i,a,u,s;if(1===t.nodeType){if(qe.hasData(e)&&(i=qe.get(e),s=i.events)){qe.remove(t,"handle events");for(o in s)for(n=0,r=s[o].length;n<r;n++)Te.event.add(t,o,s[o][n])}We.hasData(e)&&(a=We.access(e),u=Te.extend({},a),We.set(t,u))}}function B(e,t){var n=t.nodeName.toLowerCase();"input"===n&&nt.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function z(e,t,n,r){t=he(t);var o,i,u,s,c,l,f=0,d=e.length,p=d-1,h=t[0],m=Ce(h);if(m||d>1&&"string"==typeof h&&!_e.checkClone&&ft.test(h))return e.each(function(o){var i=e.eq(o);m&&(t[0]=h.call(this,o,i.html())),z(i,t,n,r)});if(d&&(o=T(t,e[0].ownerDocument,!1,e,r),i=o.firstChild,1===o.childNodes.length&&(o=i),i||r)){for(u=Te.map(E(o,"script"),P),s=u.length;f<d;f++)c=o,f!==p&&(c=Te.clone(c,!0,!0),s&&Te.merge(u,E(c,"script"))),n.call(e[f],c,f);if(s)for(l=u[u.length-1].ownerDocument,Te.map(u,L),f=0;f<s;f++)c=u[f],ot.test(c.type||"")&&!qe.access(c,"globalEval")&&Te.contains(l,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?Te._evalUrl&&!c.noModule&&Te._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},l):a(c.textContent.replace(dt,""),c,l))}return e}function F(e,t,n){for(var r,o=t?Te.filter(t,e):e,i=0;null!=(r=o[i]);i++)n||1!==r.nodeType||Te.cleanData(E(r)),r.parentNode&&(n&&Qe(r)&&k(E(r,"script")),r.parentNode.removeChild(r));return e}function H(e,t,n){var r,o,i,a,u=e.style;return n=n||ht(e),n&&(a=n.getPropertyValue(t)||n[t],""!==a||Qe(e)||(a=Te.style(e,t)),!_e.pixelBoxStyles()&&pt.test(a)&&gt.test(t)&&(r=u.width,o=u.minWidth,i=u.maxWidth,u.minWidth=u.maxWidth=u.width=a,a=n.width,u.width=r,u.minWidth=o,u.maxWidth=i)),void 0!==a?a+"":a}function U(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function V(e){for(var t=e[0].toUpperCase()+e.slice(1),n=vt.length;n--;)if((e=vt[n]+t)in bt)return e}function q(e){var t=Te.cssProps[e]||yt[e];return t||(e in bt?e:yt[e]=V(e)||e)}function W(e,t,n){var r=Ye.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function G(e,t,n,r,o,i){var a="width"===t?1:0,u=0,s=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(s+=Te.css(e,n+Ke[a],!0,o)),r?("content"===n&&(s-=Te.css(e,"padding"+Ke[a],!0,o)),"margin"!==n&&(s-=Te.css(e,"border"+Ke[a]+"Width",!0,o))):(s+=Te.css(e,"padding"+Ke[a],!0,o),"padding"!==n?s+=Te.css(e,"border"+Ke[a]+"Width",!0,o):u+=Te.css(e,"border"+Ke[a]+"Width",!0,o));return!r&&i>=0&&(s+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-i-s-u-.5))||0),s}function $(e,t,n){var r=ht(e),o=!_e.boxSizingReliable()||n,i=o&&"border-box"===Te.css(e,"boxSizing",!1,r),a=i,u=H(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(pt.test(u)){if(!n)return u;u="auto"}return(!_e.boxSizingReliable()&&i||!_e.reliableTrDimensions()&&c(e,"tr")||"auto"===u||!parseFloat(u)&&"inline"===Te.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===Te.css(e,"boxSizing",!1,r),(a=s in e)&&(u=e[s])),(u=parseFloat(u)||0)+G(e,t,n||(i?"border":"content"),a,r,u)+"px"}function X(e,t,n,r,o){return new X.prototype.init(e,t,n,r,o)}function Y(){Et&&(!1===Ee.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(Y):n.setTimeout(Y,Te.fx.interval),Te.fx.tick())}function K(){return n.setTimeout(function(){St=void 0}),St=Date.now()}function J(e,t){var n,r=0,o={height:e};for(t=t?1:0;r<4;r+=2-t)n=Ke[r],o["margin"+n]=o["padding"+n]=e;return t&&(o.opacity=o.width=e),o}function Q(e,t,n){for(var r,o=(te.tweeners[t]||[]).concat(te.tweeners["*"]),i=0,a=o.length;i<a;i++)if(r=o[i].call(n,t,e))return r}function Z(e,t,n){var r,o,i,a,u,s,c,l,f="width"in t||"height"in t,d=this,p={},h=e.style,m=e.nodeType&&et(e),g=qe.get(e,"fxshow");n.queue||(a=Te._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,u=a.empty.fire,a.empty.fire=function(){a.unqueued||u()}),a.unqueued++,d.always(function(){d.always(function(){a.unqueued--,Te.queue(e,"fx").length||a.empty.fire()})}));for(r in t)if(o=t[r],kt.test(o)){if(delete t[r],i=i||"toggle"===o,o===(m?"hide":"show")){if("show"!==o||!g||void 0===g[r])continue;m=!0}p[r]=g&&g[r]||Te.style(e,r)}if((s=!Te.isEmptyObject(t))||!Te.isEmptyObject(p)){f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],c=g&&g.display,null==c&&(c=qe.get(e,"display")),l=Te.css(e,"display"),"none"===l&&(c?l=c:(S([e],!0),c=e.style.display||c,l=Te.css(e,"display"),S([e]))),("inline"===l||"inline-block"===l&&null!=c)&&"none"===Te.css(e,"float")&&(s||(d.done(function(){h.display=c}),null==c&&(l=h.display,c="none"===l?"":l)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",d.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),s=!1;for(r in p)s||(g?"hidden"in g&&(m=g.hidden):g=qe.access(e,"fxshow",{display:c}),i&&(g.hidden=!m),m&&S([e],!0),d.done(function(){m||S([e]),qe.remove(e,"fxshow");for(r in p)Te.style(e,r,p[r])})),s=Q(m?g[r]:0,r,d),r in g||(g[r]=s.start,m&&(s.end=s.start,s.start=0))}}function ee(e,t){var n,r,o,i,a;for(n in e)if(r=b(n),o=t[r],i=e[n],Array.isArray(i)&&(o=i[1],i=e[n]=i[0]),n!==r&&(e[r]=i,delete e[n]),(a=Te.cssHooks[r])&&"expand"in a){i=a.expand(i),delete e[r];for(n in i)n in e||(e[n]=i[n],t[n]=o)}else t[r]=o}function te(e,t,n){var r,o,i=0,a=te.prefilters.length,u=Te.Deferred().always(function(){delete s.elem}),s=function(){if(o)return!1;for(var t=St||K(),n=Math.max(0,c.startTime+c.duration-t),r=n/c.duration||0,i=1-r,a=0,s=c.tweens.length;a<s;a++)c.tweens[a].run(i);return u.notifyWith(e,[c,i,n]),i<1&&s?n:(s||u.notifyWith(e,[c,1,0]),u.resolveWith(e,[c]),!1)},c=u.promise({elem:e,props:Te.extend({},t),opts:Te.extend(!0,{specialEasing:{},easing:Te.easing._default},n),originalProperties:t,originalOptions:n,startTime:St||K(),duration:n.duration,tweens:[],createTween:function(t,n){var r=Te.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(r),r},stop:function(t){var n=0,r=t?c.tweens.length:0;if(o)return this;for(o=!0;n<r;n++)c.tweens[n].run(1);return t?(u.notifyWith(e,[c,1,0]),u.resolveWith(e,[c,t])):u.rejectWith(e,[c,t]),this}}),l=c.props;for(ee(l,c.opts.specialEasing);i<a;i++)if(r=te.prefilters[i].call(c,e,l,c.opts))return Ce(r.stop)&&(Te._queueHooks(c.elem,c.opts.queue).stop=r.stop.bind(r)),r;return Te.map(l,Q,c),Ce(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),Te.fx.timer(Te.extend(s,{elem:e,anim:c,queue:c.opts.queue})),c}function ne(e){return(e.match(je)||[]).join(" ")}function re(e){return e.getAttribute&&e.getAttribute("class")||""}function oe(e){return Array.isArray(e)?e:"string"==typeof e?e.match(je)||[]:[]}function ie(e,t,n,r){var o;if(Array.isArray(t))Te.each(t,function(t,o){n||Bt.test(e)?r(e,o):ie(e+"["+("object"==typeof o&&null!=o?t:"")+"]",o,n,r)});else if(n||"object"!==u(t))r(e,t);else for(o in t)ie(e+"["+o+"]",t[o],n,r)}function ae(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,o=0,i=t.toLowerCase().match(je)||[];if(Ce(n))for(;r=i[o++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function ue(e,t,n,r){function o(u){var s;return i[u]=!0,Te.each(e[u]||[],function(e,u){var c=u(t,n,r);return"string"!=typeof c||a||i[c]?a?!(s=c):void 0:(t.dataTypes.unshift(c),o(c),!1)}),s}var i={},a=e===Kt;return o(t.dataTypes[0])||!i["*"]&&o("*")}function se(e,t){var n,r,o=Te.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:r||(r={}))[n]=t[n]);return r&&Te.extend(!0,e,r),e}function ce(e,t,n){for(var r,o,i,a,u=e.contents,s=e.dataTypes;"*"===s[0];)s.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(o in u)if(u[o]&&u[o].test(r)){s.unshift(o);break}if(s[0]in n)i=s[0];else{for(o in n){if(!s[0]||e.converters[o+" "+s[0]]){i=o;break}a||(a=o)}i=i||a}if(i)return i!==s[0]&&s.unshift(i),n[i]}function le(e,t,n,r){var o,i,a,u,s,c={},l=e.dataTypes.slice();if(l[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(i=l.shift();i;)if(e.responseFields[i]&&(n[e.responseFields[i]]=t),!s&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),s=i,i=l.shift())if("*"===i)i=s;else if("*"!==s&&s!==i){if(!(a=c[s+" "+i]||c["* "+i]))for(o in c)if(u=o.split(" "),u[1]===i&&(a=c[s+" "+u[0]]||c["* "+u[0]])){!0===a?a=c[o]:!0!==c[o]&&(i=u[0],l.unshift(u[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+s+" to "+i}}}return{state:"success",data:t}}var fe=[],de=Object.getPrototypeOf,pe=fe.slice,he=fe.flat?function(e){return fe.flat.call(e)}:function(e){return fe.concat.apply([],e)},me=fe.push,ge=fe.indexOf,ve={},be=ve.toString,ye=ve.hasOwnProperty,we=ye.toString,xe=we.call(Object),_e={},Ce=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},Se=function(e){return null!=e&&e===e.window},Ee=n.document,ke={type:!0,src:!0,nonce:!0,noModule:!0},Te=function(e,t){return new Te.fn.init(e,t)};Te.fn=Te.prototype={jquery:"3.5.1",constructor:Te,length:0,toArray:function(){return pe.call(this)},get:function(e){return null==e?pe.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=Te.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return Te.each(this,e)},map:function(e){return this.pushStack(Te.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(pe.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(Te.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(Te.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:me,sort:fe.sort,splice:fe.splice},Te.extend=Te.fn.extend=function(){var e,t,n,r,o,i,a=arguments[0]||{},u=1,s=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[u]||{},u++),"object"==typeof a||Ce(a)||(a={}),u===s&&(a=this,u--);u<s;u++)if(null!=(e=arguments[u]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(c&&r&&(Te.isPlainObject(r)||(o=Array.isArray(r)))?(n=a[t],i=o&&!Array.isArray(n)?[]:o||Te.isPlainObject(n)?n:{},o=!1,a[t]=Te.extend(c,i,r)):void 0!==r&&(a[t]=r));return a},Te.extend({expando:"jQuery"+("3.5.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==be.call(e))&&(!(t=de(e))||"function"==typeof(n=ye.call(t,"constructor")&&t.constructor)&&we.call(n)===xe)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){a(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(s(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(s(Object(e))?Te.merge(n,"string"==typeof e?[e]:e):me.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:ge.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,o=e.length;r<n;r++)e[o++]=t[r];return e.length=o,e},grep:function(e,t,n){for(var r=[],o=0,i=e.length,a=!n;o<i;o++)!t(e[o],o)!==a&&r.push(e[o]);return r},map:function(e,t,n){var r,o,i=0,a=[];if(s(e))for(r=e.length;i<r;i++)null!=(o=t(e[i],i,n))&&a.push(o);else for(i in e)null!=(o=t(e[i],i,n))&&a.push(o);return he(a)},guid:1,support:_e}),"function"==typeof Symbol&&(Te.fn[Symbol.iterator]=fe[Symbol.iterator]),Te.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){ve["[object "+t+"]"]=t.toLowerCase()});var Ne=/*!
 * Sizzle CSS Selector Engine v2.3.5
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://js.foundation/
 *
 * Date: 2020-03-14
 */
function(e){function t(e,t,n,r){var o,i,a,u,s,l,d,p=t&&t.ownerDocument,h=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==h&&9!==h&&11!==h)return n;if(!r&&(A(t),t=t||D,I)){if(11!==h&&(s=ve.exec(e)))if(o=s[1]){if(9===h){if(!(a=t.getElementById(o)))return n;if(a.id===o)return n.push(a),n}else if(p&&(a=p.getElementById(o))&&j(t,a)&&a.id===o)return n.push(a),n}else{if(s[2])return J.apply(n,t.getElementsByTagName(e)),n;if((o=s[3])&&w.getElementsByClassName&&t.getElementsByClassName)return J.apply(n,t.getElementsByClassName(o)),n}if(w.qsa&&!W[e+" "]&&(!R||!R.test(e))&&(1!==h||"object"!==t.nodeName.toLowerCase())){if(d=e,p=t,1===h&&(ce.test(e)||se.test(e))){for(p=be.test(e)&&c(t.parentNode)||t,p===t&&w.scope||((u=t.getAttribute("id"))?u=u.replace(xe,_e):t.setAttribute("id",u=B)),l=S(e),i=l.length;i--;)l[i]=(u?"#"+u:":scope")+" "+f(l[i]);d=l.join(",")}try{return J.apply(n,p.querySelectorAll(d)),n}catch(t){W(e,!0)}finally{u===B&&t.removeAttribute("id")}}}return k(e.replace(ae,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>x.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[B]=!0,e}function o(e){var t=D.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function i(e,t){for(var n=e.split("|"),r=n.length;r--;)x.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function u(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&Se(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function s(e){return r(function(t){return t=+t,r(function(n,r){for(var o,i=e([],n.length,t),a=i.length;a--;)n[o=i[a]]&&(n[o]=!(r[o]=n[o]))})})}function c(e){return e&&void 0!==e.getElementsByTagName&&e}function l(){}function f(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function d(e,t,n){var r=t.dir,o=t.next,i=o||r,a=n&&"parentNode"===i,u=H++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||a)return e(t,n,o);return!1}:function(t,n,s){var c,l,f,d=[F,u];if(s){for(;t=t[r];)if((1===t.nodeType||a)&&e(t,n,s))return!0}else for(;t=t[r];)if(1===t.nodeType||a)if(f=t[B]||(t[B]={}),l=f[t.uniqueID]||(f[t.uniqueID]={}),o&&o===t.nodeName.toLowerCase())t=t[r]||t;else{if((c=l[i])&&c[0]===F&&c[1]===u)return d[2]=c[2];if(l[i]=d,d[2]=e(t,n,s))return!0}return!1}}function p(e){return e.length>1?function(t,n,r){for(var o=e.length;o--;)if(!e[o](t,n,r))return!1;return!0}:e[0]}function h(e,n,r){for(var o=0,i=n.length;o<i;o++)t(e,n[o],r);return r}function m(e,t,n,r,o){for(var i,a=[],u=0,s=e.length,c=null!=t;u<s;u++)(i=e[u])&&(n&&!n(i,r,o)||(a.push(i),c&&t.push(u)));return a}function g(e,t,n,o,i,a){return o&&!o[B]&&(o=g(o)),i&&!i[B]&&(i=g(i,a)),r(function(r,a,u,s){var c,l,f,d=[],p=[],g=a.length,v=r||h(t||"*",u.nodeType?[u]:u,[]),b=!e||!r&&t?v:m(v,d,e,u,s),y=n?i||(r?e:g||o)?[]:a:b;if(n&&n(b,y,u,s),o)for(c=m(y,p),o(c,[],u,s),l=c.length;l--;)(f=c[l])&&(y[p[l]]=!(b[p[l]]=f));if(r){if(i||e){if(i){for(c=[],l=y.length;l--;)(f=y[l])&&c.push(b[l]=f);i(null,y=[],c,s)}for(l=y.length;l--;)(f=y[l])&&(c=i?Z(r,f):d[l])>-1&&(r[c]=!(a[c]=f))}}else y=m(y===a?y.splice(g,y.length):y),i?i(null,a,y,s):J.apply(a,y)})}function v(e){for(var t,n,r,o=e.length,i=x.relative[e[0].type],a=i||x.relative[" "],u=i?1:0,s=d(function(e){return e===t},a,!0),c=d(function(e){return Z(t,e)>-1},a,!0),l=[function(e,n,r){var o=!i&&(r||n!==T)||((t=n).nodeType?s(e,n,r):c(e,n,r));return t=null,o}];u<o;u++)if(n=x.relative[e[u].type])l=[d(p(l),n)];else{if(n=x.filter[e[u].type].apply(null,e[u].matches),n[B]){for(r=++u;r<o&&!x.relative[e[r].type];r++);return g(u>1&&p(l),u>1&&f(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(ae,"$1"),n,u<r&&v(e.slice(u,r)),r<o&&v(e=e.slice(r)),r<o&&f(e))}l.push(n)}return p(l)}function b(e,n){var o=n.length>0,i=e.length>0,a=function(r,a,u,s,c){var l,f,d,p=0,h="0",g=r&&[],v=[],b=T,y=r||i&&x.find.TAG("*",c),w=F+=null==b?1:Math.random()||.1,_=y.length;for(c&&(T=a==D||a||c);h!==_&&null!=(l=y[h]);h++){if(i&&l){for(f=0,a||l.ownerDocument==D||(A(l),u=!I);d=e[f++];)if(d(l,a||D,u)){s.push(l);break}c&&(F=w)}o&&((l=!d&&l)&&p--,r&&g.push(l))}if(p+=h,o&&h!==p){for(f=0;d=n[f++];)d(g,v,a,u);if(r){if(p>0)for(;h--;)g[h]||v[h]||(v[h]=Y.call(s));v=m(v)}J.apply(s,v),c&&!r&&v.length>0&&p+n.length>1&&t.uniqueSort(s)}return c&&(F=w,T=b),g};return o?r(a):a}var y,w,x,_,C,S,E,k,T,N,O,A,D,M,I,R,P,L,j,B="sizzle"+1*new Date,z=e.document,F=0,H=0,U=n(),V=n(),q=n(),W=n(),G=function(e,t){return e===t&&(O=!0),0},$={}.hasOwnProperty,X=[],Y=X.pop,K=X.push,J=X.push,Q=X.slice,Z=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},ee="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",te="[\\x20\\t\\r\\n\\f]",ne="(?:\\\\[\\da-fA-F]{1,6}"+te+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",re="\\["+te+"*("+ne+")(?:"+te+"*([*^$|!~]?=)"+te+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ne+"))|)"+te+"*\\]",oe=":("+ne+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+re+")*)|.*)\\)|)",ie=new RegExp(te+"+","g"),ae=new RegExp("^"+te+"+|((?:^|[^\\\\])(?:\\\\.)*)"+te+"+$","g"),ue=new RegExp("^"+te+"*,"+te+"*"),se=new RegExp("^"+te+"*([>+~]|"+te+")"+te+"*"),ce=new RegExp(te+"|>"),le=new RegExp(oe),fe=new RegExp("^"+ne+"$"),de={ID:new RegExp("^#("+ne+")"),CLASS:new RegExp("^\\.("+ne+")"),TAG:new RegExp("^("+ne+"|[*])"),ATTR:new RegExp("^"+re),PSEUDO:new RegExp("^"+oe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+te+"*(even|odd|(([+-]|)(\\d*)n|)"+te+"*(?:([+-]|)"+te+"*(\\d+)|))"+te+"*\\)|)","i"),bool:new RegExp("^(?:"+ee+")$","i"),needsContext:new RegExp("^"+te+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+te+"*((?:-\\d)?\\d*)"+te+"*\\)|)(?=[^-]|$)","i")},pe=/HTML$/i,he=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,ge=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,ye=new RegExp("\\\\[\\da-fA-F]{1,6}"+te+"?|\\\\([^\\r\\n\\f])","g"),we=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},xe=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,_e=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},Ce=function(){A()},Se=d(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{J.apply(X=Q.call(z.childNodes),z.childNodes),X[z.childNodes.length].nodeType}catch(e){J={apply:X.length?function(e,t){K.apply(e,Q.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}w=t.support={},C=t.isXML=function(e){var t=e.namespaceURI,n=(e.ownerDocument||e).documentElement;return!pe.test(t||n&&n.nodeName||"HTML")},A=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:z;return r!=D&&9===r.nodeType&&r.documentElement?(D=r,M=D.documentElement,I=!C(D),z!=D&&(n=D.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Ce,!1):n.attachEvent&&n.attachEvent("onunload",Ce)),w.scope=o(function(e){return M.appendChild(e).appendChild(D.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),w.attributes=o(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=o(function(e){return e.appendChild(D.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=ge.test(D.getElementsByClassName),w.getById=o(function(e){return M.appendChild(e).id=B,!D.getElementsByName||!D.getElementsByName(B).length}),w.getById?(x.filter.ID=function(e){var t=e.replace(ye,we);return function(e){return e.getAttribute("id")===t}},x.find.ID=function(e,t){if(void 0!==t.getElementById&&I){var n=t.getElementById(e);return n?[n]:[]}}):(x.filter.ID=function(e){var t=e.replace(ye,we);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},x.find.ID=function(e,t){if(void 0!==t.getElementById&&I){var n,r,o,i=t.getElementById(e);if(i){if((n=i.getAttributeNode("id"))&&n.value===e)return[i];for(o=t.getElementsByName(e),r=0;i=o[r++];)if((n=i.getAttributeNode("id"))&&n.value===e)return[i]}return[]}}),x.find.TAG=w.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):w.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[o++];)1===n.nodeType&&r.push(n);return r}return i},x.find.CLASS=w.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&I)return t.getElementsByClassName(e)},P=[],R=[],(w.qsa=ge.test(D.querySelectorAll))&&(o(function(e){var t;M.appendChild(e).innerHTML="<a id='"+B+"'></a><select id='"+B+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&R.push("[*^$]="+te+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||R.push("\\["+te+"*(?:value|"+ee+")"),e.querySelectorAll("[id~="+B+"-]").length||R.push("~="),t=D.createElement("input"),t.setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||R.push("\\["+te+"*name"+te+"*="+te+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||R.push(":checked"),e.querySelectorAll("a#"+B+"+*").length||R.push(".#.+[+~]"),e.querySelectorAll("\\\f"),R.push("[\\r\\n\\f]")}),o(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=D.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&R.push("name"+te+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&R.push(":enabled",":disabled"),M.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&R.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),R.push(",.*:")})),(w.matchesSelector=ge.test(L=M.matches||M.webkitMatchesSelector||M.mozMatchesSelector||M.oMatchesSelector||M.msMatchesSelector))&&o(function(e){w.disconnectedMatch=L.call(e,"*"),L.call(e,"[s!='']:x"),P.push("!=",oe)}),R=R.length&&new RegExp(R.join("|")),P=P.length&&new RegExp(P.join("|")),t=ge.test(M.compareDocumentPosition),j=t||ge.test(M.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},G=t?function(e,t){if(e===t)return O=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!w.sortDetached&&t.compareDocumentPosition(e)===n?e==D||e.ownerDocument==z&&j(z,e)?-1:t==D||t.ownerDocument==z&&j(z,t)?1:N?Z(N,e)-Z(N,t):0:4&n?-1:1)}:function(e,t){if(e===t)return O=!0,0;var n,r=0,o=e.parentNode,i=t.parentNode,u=[e],s=[t];if(!o||!i)return e==D?-1:t==D?1:o?-1:i?1:N?Z(N,e)-Z(N,t):0;if(o===i)return a(e,t);for(n=e;n=n.parentNode;)u.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;u[r]===s[r];)r++;return r?a(u[r],s[r]):u[r]==z?-1:s[r]==z?1:0},D):D},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if(A(e),w.matchesSelector&&I&&!W[n+" "]&&(!P||!P.test(n))&&(!R||!R.test(n)))try{var r=L.call(e,n);if(r||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){W(n,!0)}return t(n,D,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!=D&&A(e),j(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!=D&&A(e);var n=x.attrHandle[t.toLowerCase()],r=n&&$.call(x.attrHandle,t.toLowerCase())?n(e,t,!I):void 0;return void 0!==r?r:w.attributes||!I?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.escape=function(e){return(e+"").replace(xe,_e)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,o=0;if(O=!w.detectDuplicates,N=!w.sortStable&&e.slice(0),e.sort(G),O){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)e.splice(n[r],1)}return N=null,e},_=t.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=_(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=_(t);return n},x=t.selectors={cacheLength:50,createPseudo:r,match:de,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ye,we),e[3]=(e[3]||e[4]||e[5]||"").replace(ye,we),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return de.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&le.test(n)&&(t=S(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ye,we).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=U[e+" "];return t||(t=new RegExp("(^|"+te+")"+e+"("+te+"|$)"))&&U(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(o){var i=t.attr(o,e);return null==i?"!="===n:!n||(i+="","="===n?i===r:"!="===n?i!==r:"^="===n?r&&0===i.indexOf(r):"*="===n?r&&i.indexOf(r)>-1:"$="===n?r&&i.slice(-r.length)===r:"~="===n?(" "+i.replace(ie," ")+" ").indexOf(r)>-1:"|="===n&&(i===r||i.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,o){var i="nth"!==e.slice(0,3),a="last"!==e.slice(-4),u="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,s){var c,l,f,d,p,h,m=i!==a?"nextSibling":"previousSibling",g=t.parentNode,v=u&&t.nodeName.toLowerCase(),b=!s&&!u,y=!1;if(g){if(i){for(;m;){for(d=t;d=d[m];)if(u?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&b){for(d=g,f=d[B]||(d[B]={}),l=f[d.uniqueID]||(f[d.uniqueID]={}),c=l[e]||[],p=c[0]===F&&c[1],y=p&&c[2],d=p&&g.childNodes[p];d=++p&&d&&d[m]||(y=p=0)||h.pop();)if(1===d.nodeType&&++y&&d===t){l[e]=[F,p,y];break}}else if(b&&(d=t,f=d[B]||(d[B]={}),l=f[d.uniqueID]||(f[d.uniqueID]={}),c=l[e]||[],p=c[0]===F&&c[1],y=p),!1===y)for(;(d=++p&&d&&d[m]||(y=p=0)||h.pop())&&((u?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++y||(b&&(f=d[B]||(d[B]={}),l=f[d.uniqueID]||(f[d.uniqueID]={}),l[e]=[F,y]),d!==t)););return(y-=o)===r||y%r==0&&y/r>=0}}},PSEUDO:function(e,n){var o,i=x.pseudos[e]||x.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return i[B]?i(n):i.length>1?(o=[e,e,"",n],x.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,o=i(e,n),a=o.length;a--;)r=Z(e,o[a]),e[r]=!(t[r]=o[a])}):function(e){return i(e,0,o)}):i}},pseudos:{not:r(function(e){var t=[],n=[],o=E(e.replace(ae,"$1"));return o[B]?r(function(e,t,n,r){for(var i,a=o(e,null,r,[]),u=e.length;u--;)(i=a[u])&&(e[u]=!(t[u]=i))}):function(e,r,i){return t[0]=e,o(t,null,i,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(ye,we),function(t){return(t.textContent||_(t)).indexOf(e)>-1}}),lang:r(function(e){return fe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(ye,we).toLowerCase(),function(t){var n;do{if(n=I?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===M},focus:function(e){return e===D.activeElement&&(!D.hasFocus||D.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:u(!1),disabled:u(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!x.pseudos.empty(e)},header:function(e){return me.test(e.nodeName)},input:function(e){return he.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:s(function(){return[0]}),last:s(function(e,t){return[t-1]}),eq:s(function(e,t,n){return[n<0?n+t:n]}),even:s(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:s(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:s(function(e,t,n){for(var r=n<0?n+t:n>t?t:n;--r>=0;)e.push(r);return e}),gt:s(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},x.pseudos.nth=x.pseudos.eq;for(y in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[y]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(y);for(y in{submit:!0,reset:!0})x.pseudos[y]=function(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}(y);return l.prototype=x.filters=x.pseudos,x.setFilters=new l,S=t.tokenize=function(e,n){var r,o,i,a,u,s,c,l=V[e+" "];if(l)return n?0:l.slice(0);for(u=e,s=[],c=x.preFilter;u;){r&&!(o=ue.exec(u))||(o&&(u=u.slice(o[0].length)||u),s.push(i=[])),r=!1,(o=se.exec(u))&&(r=o.shift(),i.push({value:r,type:o[0].replace(ae," ")}),u=u.slice(r.length));for(a in x.filter)!(o=de[a].exec(u))||c[a]&&!(o=c[a](o))||(r=o.shift(),i.push({value:r,type:a,matches:o}),u=u.slice(r.length));if(!r)break}return n?u.length:u?t.error(e):V(e,s).slice(0)},E=t.compile=function(e,t){var n,r=[],o=[],i=q[e+" "];if(!i){for(t||(t=S(e)),n=t.length;n--;)i=v(t[n]),i[B]?r.push(i):o.push(i);i=q(e,b(o,r)),i.selector=e}return i},k=t.select=function(e,t,n,r){var o,i,a,u,s,l="function"==typeof e&&e,d=!r&&S(e=l.selector||e);if(n=n||[],1===d.length){if(i=d[0]=d[0].slice(0),i.length>2&&"ID"===(a=i[0]).type&&9===t.nodeType&&I&&x.relative[i[1].type]){if(!(t=(x.find.ID(a.matches[0].replace(ye,we),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(i.shift().value.length)}for(o=de.needsContext.test(e)?0:i.length;o--&&(a=i[o],!x.relative[u=a.type]);)if((s=x.find[u])&&(r=s(a.matches[0].replace(ye,we),be.test(i[0].type)&&c(t.parentNode)||t))){if(i.splice(o,1),!(e=r.length&&f(i)))return J.apply(n,r),n;break}}return(l||E(e,d))(r,t,!I,n,!t||be.test(e)&&c(t.parentNode)||t),n},w.sortStable=B.split("").sort(G).join("")===B,w.detectDuplicates=!!O,A(),w.sortDetached=o(function(e){return 1&e.compareDocumentPosition(D.createElement("fieldset"))}),o(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||i("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&o(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||i("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),o(function(e){return null==e.getAttribute("disabled")})||i(ee,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(n);Te.find=Ne,Te.expr=Ne.selectors,Te.expr[":"]=Te.expr.pseudos,Te.uniqueSort=Te.unique=Ne.uniqueSort,Te.text=Ne.getText,Te.isXMLDoc=Ne.isXML,Te.contains=Ne.contains,Te.escapeSelector=Ne.escape;var Oe=function(e,t,n){for(var r=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&Te(e).is(n))break;r.push(e)}return r},Ae=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},De=Te.expr.match.needsContext,Me=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;Te.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?Te.find.matchesSelector(r,e)?[r]:[]:Te.find.matches(e,Te.grep(t,function(e){return 1===e.nodeType}))},Te.fn.extend({find:function(e){var t,n,r=this.length,o=this;if("string"!=typeof e)return this.pushStack(Te(e).filter(function(){for(t=0;t<r;t++)if(Te.contains(o[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)Te.find(e,o[t],n);return r>1?Te.uniqueSort(n):n},filter:function(e){return this.pushStack(l(this,e||[],!1))},not:function(e){return this.pushStack(l(this,e||[],!0))},is:function(e){return!!l(this,"string"==typeof e&&De.test(e)?Te(e):e||[],!1).length}});var Ie,Re=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(Te.fn.init=function(e,t,n){var r,o;if(!e)return this;if(n=n||Ie,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:Re.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof Te?t[0]:t,Te.merge(this,Te.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:Ee,!0)),Me.test(r[1])&&Te.isPlainObject(t))for(r in t)Ce(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return o=Ee.getElementById(r[2]),o&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):Ce(e)?void 0!==n.ready?n.ready(e):e(Te):Te.makeArray(e,this)}).prototype=Te.fn,Ie=Te(Ee);var Pe=/^(?:parents|prev(?:Until|All))/,Le={children:!0,contents:!0,next:!0,prev:!0};Te.fn.extend({has:function(e){var t=Te(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(Te.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,o=this.length,i=[],a="string"!=typeof e&&Te(e);if(!De.test(e))for(;r<o;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&Te.find.matchesSelector(n,e))){i.push(n);break}return this.pushStack(i.length>1?Te.uniqueSort(i):i)},index:function(e){return e?"string"==typeof e?ge.call(Te(e),this[0]):ge.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(Te.uniqueSort(Te.merge(this.get(),Te(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Te.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Oe(e,"parentNode")},parentsUntil:function(e,t,n){return Oe(e,"parentNode",n)},next:function(e){return f(e,"nextSibling")},prev:function(e){return f(e,"previousSibling")},nextAll:function(e){return Oe(e,"nextSibling")},prevAll:function(e){return Oe(e,"previousSibling")},nextUntil:function(e,t,n){return Oe(e,"nextSibling",n)},prevUntil:function(e,t,n){return Oe(e,"previousSibling",n)},siblings:function(e){return Ae((e.parentNode||{}).firstChild,e)},children:function(e){return Ae(e.firstChild)},contents:function(e){return null!=e.contentDocument&&de(e.contentDocument)?e.contentDocument:(c(e,"template")&&(e=e.content||e),Te.merge([],e.childNodes))}},function(e,t){Te.fn[e]=function(n,r){var o=Te.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(o=Te.filter(r,o)),this.length>1&&(Le[e]||Te.uniqueSort(o),Pe.test(e)&&o.reverse()),this.pushStack(o)}});var je=/[^\x20\t\r\n\f]+/g;Te.Callbacks=function(e){e="string"==typeof e?d(e):Te.extend({},e);var t,n,r,o,i=[],a=[],s=-1,c=function(){for(o=o||e.once,r=t=!0;a.length;s=-1)for(n=a.shift();++s<i.length;)!1===i[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=i.length,n=!1);e.memory||(n=!1),t=!1,o&&(i=n?[]:"")},l={add:function(){return i&&(n&&!t&&(s=i.length-1,a.push(n)),function t(n){Te.each(n,function(n,r){Ce(r)?e.unique&&l.has(r)||i.push(r):r&&r.length&&"string"!==u(r)&&t(r)})}(arguments),n&&!t&&c()),this},remove:function(){return Te.each(arguments,function(e,t){for(var n;(n=Te.inArray(t,i,n))>-1;)i.splice(n,1),n<=s&&s--}),this},has:function(e){return e?Te.inArray(e,i)>-1:i.length>0},empty:function(){return i&&(i=[]),this},disable:function(){return o=a=[],i=n="",this},disabled:function(){return!i},lock:function(){return o=a=[],n||t||(i=n=""),this},locked:function(){return!!o},fireWith:function(e,n){return o||(n=n||[],n=[e,n.slice?n.slice():n],a.push(n),t||c()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!r}};return l},Te.extend({Deferred:function(e){var t=[["notify","progress",Te.Callbacks("memory"),Te.Callbacks("memory"),2],["resolve","done",Te.Callbacks("once memory"),Te.Callbacks("once memory"),0,"resolved"],["reject","fail",Te.Callbacks("once memory"),Te.Callbacks("once memory"),1,"rejected"]],r="pending",o={state:function(){return r},always:function(){return i.done(arguments).fail(arguments),this},catch:function(e){return o.then(null,e)},pipe:function(){var e=arguments;return Te.Deferred(function(n){Te.each(t,function(t,r){var o=Ce(e[r[4]])&&e[r[4]];i[r[1]](function(){var e=o&&o.apply(this,arguments);e&&Ce(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,o?[e]:arguments)})}),e=null}).promise()},then:function(e,r,o){function i(e,t,r,o){return function(){var u=this,s=arguments,c=function(){var n,c;if(!(e<a)){if((n=r.apply(u,s))===t.promise())throw new TypeError("Thenable self-resolution");c=n&&("object"==typeof n||"function"==typeof n)&&n.then,Ce(c)?o?c.call(n,i(a,t,p,o),i(a,t,h,o)):(a++,c.call(n,i(a,t,p,o),i(a,t,h,o),i(a,t,p,t.notifyWith))):(r!==p&&(u=void 0,s=[n]),(o||t.resolveWith)(u,s))}},l=o?c:function(){try{c()}catch(n){Te.Deferred.exceptionHook&&Te.Deferred.exceptionHook(n,l.stackTrace),e+1>=a&&(r!==h&&(u=void 0,s=[n]),t.rejectWith(u,s))}};e?l():(Te.Deferred.getStackHook&&(l.stackTrace=Te.Deferred.getStackHook()),n.setTimeout(l))}}var a=0;return Te.Deferred(function(n){t[0][3].add(i(0,n,Ce(o)?o:p,n.notifyWith)),t[1][3].add(i(0,n,Ce(e)?e:p)),t[2][3].add(i(0,n,Ce(r)?r:h))}).promise()},promise:function(e){return null!=e?Te.extend(e,o):o}},i={};return Te.each(t,function(e,n){var a=n[2],u=n[5];o[n[1]]=a.add,u&&a.add(function(){r=u},t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),a.add(n[3].fire),i[n[0]]=function(){return i[n[0]+"With"](this===i?void 0:this,arguments),this},i[n[0]+"With"]=a.fireWith}),o.promise(i),e&&e.call(i,i),i},when:function(e){var t=arguments.length,n=t,r=Array(n),o=pe.call(arguments),i=Te.Deferred(),a=function(e){return function(n){r[e]=this,o[e]=arguments.length>1?pe.call(arguments):n,--t||i.resolveWith(r,o)}};if(t<=1&&(m(e,i.done(a(n)).resolve,i.reject,!t),"pending"===i.state()||Ce(o[n]&&o[n].then)))return i.then();for(;n--;)m(o[n],a(n),i.reject);return i.promise()}});var Be=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;Te.Deferred.exceptionHook=function(e,t){n.console&&n.console.warn&&e&&Be.test(e.name)&&n.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},Te.readyException=function(e){n.setTimeout(function(){throw e})};var ze=Te.Deferred();Te.fn.ready=function(e){return ze.then(e).catch(function(e){Te.readyException(e)}),this},Te.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--Te.readyWait:Te.isReady)||(Te.isReady=!0,!0!==e&&--Te.readyWait>0||ze.resolveWith(Ee,[Te]))}}),Te.ready.then=ze.then,"complete"===Ee.readyState||"loading"!==Ee.readyState&&!Ee.documentElement.doScroll?n.setTimeout(Te.ready):(Ee.addEventListener("DOMContentLoaded",g),n.addEventListener("load",g));var Fe=function(e,t,n,r,o,i,a){var s=0,c=e.length,l=null==n;if("object"===u(n)){o=!0;for(s in n)Fe(e,t,s,n[s],!0,i,a)}else if(void 0!==r&&(o=!0,Ce(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(Te(e),n)})),t))for(;s<c;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return o?e:l?t.call(e):c?t(e[0],n):i},He=/^-ms-/,Ue=/-([a-z])/g,Ve=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};y.uid=1,y.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Ve(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,o=this.cache(e);if("string"==typeof t)o[b(t)]=n;else for(r in t)o[b(r)]=t[r];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][b(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){Array.isArray(t)?t=t.map(b):(t=b(t),t=t in r?[t]:t.match(je)||[]),n=t.length;for(;n--;)delete r[t[n]]}(void 0===t||Te.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!Te.isEmptyObject(t)}};var qe=new y,We=new y,Ge=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,$e=/[A-Z]/g;Te.extend({hasData:function(e){return We.hasData(e)||qe.hasData(e)},data:function(e,t,n){return We.access(e,t,n)},removeData:function(e,t){We.remove(e,t)},_data:function(e,t,n){return qe.access(e,t,n)},_removeData:function(e,t){qe.remove(e,t)}}),Te.fn.extend({data:function(e,t){var n,r,o,i=this[0],a=i&&i.attributes;if(void 0===e){if(this.length&&(o=We.get(i),1===i.nodeType&&!qe.get(i,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=b(r.slice(5)),x(i,r,o[r])));qe.set(i,"hasDataAttrs",!0)}return o}return"object"==typeof e?this.each(function(){We.set(this,e)}):Fe(this,function(t){var n;if(i&&void 0===t){if(void 0!==(n=We.get(i,e)))return n;if(void 0!==(n=x(i,e)))return n}else this.each(function(){We.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){We.remove(this,e)})}}),Te.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=qe.get(e,t),n&&(!r||Array.isArray(n)?r=qe.access(e,t,Te.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=Te.queue(e,t),r=n.length,o=n.shift(),i=Te._queueHooks(e,t),a=function(){Te.dequeue(e,t)};"inprogress"===o&&(o=n.shift(),r--),o&&("fx"===t&&n.unshift("inprogress"),delete i.stop,o.call(e,a,i)),!r&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return qe.get(e,n)||qe.access(e,n,{empty:Te.Callbacks("once memory").add(function(){qe.remove(e,[t+"queue",n])})})}}),Te.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?Te.queue(this[0],e):void 0===t?this:this.each(function(){var n=Te.queue(this,e,t);Te._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&Te.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Te.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,o=Te.Deferred(),i=this,a=this.length,u=function(){--r||o.resolveWith(i,[i])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=qe.get(i[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(u));return u(),o.promise(t)}});var Xe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ye=new RegExp("^(?:([+-])=|)("+Xe+")([a-z%]*)$","i"),Ke=["Top","Right","Bottom","Left"],Je=Ee.documentElement,Qe=function(e){return Te.contains(e.ownerDocument,e)},Ze={composed:!0};Je.getRootNode&&(Qe=function(e){return Te.contains(e.ownerDocument,e)||e.getRootNode(Ze)===e.ownerDocument});var et=function(e,t){return e=t||e,"none"===e.style.display||""===e.style.display&&Qe(e)&&"none"===Te.css(e,"display")},tt={};Te.fn.extend({show:function(){return S(this,!0)},hide:function(){return S(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){et(this)?Te(this).show():Te(this).hide()})}});var nt=/^(?:checkbox|radio)$/i,rt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ot=/^$|^module$|\/(?:java|ecma)script/i;!function(){var e=Ee.createDocumentFragment(),t=e.appendChild(Ee.createElement("div")),n=Ee.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),_e.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",_e.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,t.innerHTML="<option></option>",_e.option=!!t.lastChild}();var it={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};it.tbody=it.tfoot=it.colgroup=it.caption=it.thead,it.th=it.td,_e.option||(it.optgroup=it.option=[1,"<select multiple='multiple'>","</select>"]);var at=/<|&#?\w+;/,ut=/^key/,st=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ct=/^([^.]*)(?:\.(.+)|)/;Te.event={global:{},add:function(e,t,n,r,o){var i,a,u,s,c,l,f,d,p,h,m,g=qe.get(e);if(Ve(e))for(n.handler&&(i=n,n=i.handler,o=i.selector),o&&Te.find.matchesSelector(Je,o),n.guid||(n.guid=Te.guid++),(s=g.events)||(s=g.events=Object.create(null)),(a=g.handle)||(a=g.handle=function(t){return void 0!==Te&&Te.event.triggered!==t.type?Te.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(je)||[""],c=t.length;c--;)u=ct.exec(t[c])||[],p=m=u[1],h=(u[2]||"").split(".").sort(),p&&(f=Te.event.special[p]||{},p=(o?f.delegateType:f.bindType)||p,f=Te.event.special[p]||{},l=Te.extend({type:p,origType:m,data:r,handler:n,guid:n.guid,selector:o,needsContext:o&&Te.expr.match.needsContext.test(o),namespace:h.join(".")},i),(d=s[p])||(d=s[p]=[],d.delegateCount=0,f.setup&&!1!==f.setup.call(e,r,h,a)||e.addEventListener&&e.addEventListener(p,a)),f.add&&(f.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),o?d.splice(d.delegateCount++,0,l):d.push(l),Te.event.global[p]=!0)},remove:function(e,t,n,r,o){var i,a,u,s,c,l,f,d,p,h,m,g=qe.hasData(e)&&qe.get(e);if(g&&(s=g.events)){for(t=(t||"").match(je)||[""],c=t.length;c--;)if(u=ct.exec(t[c])||[],p=m=u[1],h=(u[2]||"").split(".").sort(),p){for(f=Te.event.special[p]||{},p=(r?f.delegateType:f.bindType)||p,d=s[p]||[],u=u[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=i=d.length;i--;)l=d[i],!o&&m!==l.origType||n&&n.guid!==l.guid||u&&!u.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(d.splice(i,1),l.selector&&d.delegateCount--,f.remove&&f.remove.call(e,l));a&&!d.length&&(f.teardown&&!1!==f.teardown.call(e,h,g.handle)||Te.removeEvent(e,p,g.handle),delete s[p])}else for(p in s)Te.event.remove(e,p+t[c],n,r,!0);Te.isEmptyObject(s)&&qe.remove(e,"handle events")}},dispatch:function(e){var t,n,r,o,i,a,u=new Array(arguments.length),s=Te.event.fix(e),c=(qe.get(this,"events")||Object.create(null))[s.type]||[],l=Te.event.special[s.type]||{};for(u[0]=s,t=1;t<arguments.length;t++)u[t]=arguments[t];if(s.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,s)){for(a=Te.event.handlers.call(this,s,c),t=0;(o=a[t++])&&!s.isPropagationStopped();)for(s.currentTarget=o.elem,n=0;(i=o.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!1!==i.namespace&&!s.rnamespace.test(i.namespace)||(s.handleObj=i,s.data=i.data,void 0!==(r=((Te.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,u))&&!1===(s.result=r)&&(s.preventDefault(),s.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,r,o,i,a,u=[],s=t.delegateCount,c=e.target;if(s&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(i=[],a={},n=0;n<s;n++)r=t[n],o=r.selector+" ",void 0===a[o]&&(a[o]=r.needsContext?Te(o,this).index(c)>-1:Te.find(o,this,null,[c]).length),a[o]&&i.push(r);i.length&&u.push({elem:c,handlers:i})}return c=this,s<t.length&&u.push({elem:c,handlers:t.slice(s)}),u},addProp:function(e,t){Object.defineProperty(Te.Event.prototype,e,{enumerable:!0,configurable:!0,get:Ce(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[Te.expando]?e:new Te.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return nt.test(t.type)&&t.click&&c(t,"input")&&I(t,"click",N),!1},trigger:function(e){var t=this||e;return nt.test(t.type)&&t.click&&c(t,"input")&&I(t,"click"),!0},_default:function(e){var t=e.target;return nt.test(t.type)&&t.click&&c(t,"input")&&qe.get(t,"click")||c(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},Te.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},Te.Event=function(e,t){if(!(this instanceof Te.Event))return new Te.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?N:O,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&Te.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[Te.expando]=!0},Te.Event.prototype={constructor:Te.Event,isDefaultPrevented:O,isPropagationStopped:O,isImmediatePropagationStopped:O,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=N,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=N,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=N,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},Te.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&ut.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&st.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},Te.event.addProp),Te.each({focus:"focusin",blur:"focusout"},function(e,t){Te.event.special[e]={setup:function(){return I(this,e,A),!1},trigger:function(){return I(this,e),!0},delegateType:t}}),Te.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){Te.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,o=e.relatedTarget,i=e.handleObj;return o&&(o===r||Te.contains(r,o))||(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}}),Te.fn.extend({on:function(e,t,n,r){return M(this,e,t,n,r)},one:function(e,t,n,r){return M(this,e,t,n,r,1)},off:function(e,t,n){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,Te(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=O),this.each(function(){Te.event.remove(this,e,n,t)})}});var lt=/<script|<style|<link/i,ft=/checked\s*(?:[^=]|=\s*.checked.)/i,dt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;Te.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,o,i,a,u=e.cloneNode(!0),s=Qe(e);if(!(_e.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Te.isXMLDoc(e)))for(a=E(u),i=E(e),r=0,o=i.length;r<o;r++)B(i[r],a[r]);if(t)if(n)for(i=i||E(e),a=a||E(u),r=0,o=i.length;r<o;r++)j(i[r],a[r]);else j(e,u);return a=E(u,"script"),a.length>0&&k(a,!s&&E(e,"script")),u},cleanData:function(e){for(var t,n,r,o=Te.event.special,i=0;void 0!==(n=e[i]);i++)if(Ve(n)){if(t=n[qe.expando]){if(t.events)for(r in t.events)o[r]?Te.event.remove(n,r):Te.removeEvent(n,r,t.handle);n[qe.expando]=void 0}n[We.expando]&&(n[We.expando]=void 0)}}}),Te.fn.extend({detach:function(e){return F(this,e,!0)},remove:function(e){return F(this,e)},text:function(e){return Fe(this,function(e){return void 0===e?Te.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return z(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){R(this,e).appendChild(e)}})},prepend:function(){return z(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=R(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return z(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return z(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(Te.cleanData(E(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return Te.clone(this,e,t)})},html:function(e){return Fe(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!lt.test(e)&&!it[(rt.exec(e)||["",""])[1].toLowerCase()]){e=Te.htmlPrefilter(e);try{for(;n<r;n++)t=this[n]||{},1===t.nodeType&&(Te.cleanData(E(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return z(this,arguments,function(t){var n=this.parentNode;Te.inArray(this,e)<0&&(Te.cleanData(E(this)),n&&n.replaceChild(t,this))},e)}}),Te.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Te.fn[e]=function(e){for(var n,r=[],o=Te(e),i=o.length-1,a=0;a<=i;a++)n=a===i?this:this.clone(!0),Te(o[a])[t](n),me.apply(r,n.get());return this.pushStack(r)}});var pt=new RegExp("^("+Xe+")(?!px)[a-z%]+$","i"),ht=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=n),t.getComputedStyle(e)},mt=function(e,t,n){var r,o,i={};for(o in t)i[o]=e.style[o],e.style[o]=t[o];r=n.call(e);for(o in t)e.style[o]=i[o];return r},gt=new RegExp(Ke.join("|"),"i");!function(){function e(){if(l){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Je.appendChild(c).appendChild(l);var e=n.getComputedStyle(l);r="1%"!==e.top,s=12===t(e.marginLeft),l.style.right="60%",a=36===t(e.right),o=36===t(e.width),l.style.position="absolute",i=12===t(l.offsetWidth/3),Je.removeChild(c),l=null}}function t(e){return Math.round(parseFloat(e))}var r,o,i,a,u,s,c=Ee.createElement("div"),l=Ee.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",_e.clearCloneStyle="content-box"===l.style.backgroundClip,Te.extend(_e,{boxSizingReliable:function(){return e(),o},pixelBoxStyles:function(){return e(),a},pixelPosition:function(){return e(),r},reliableMarginLeft:function(){return e(),s},scrollboxSize:function(){return e(),i},reliableTrDimensions:function(){var e,t,r,o;return null==u&&(e=Ee.createElement("table"),t=Ee.createElement("tr"),r=Ee.createElement("div"),e.style.cssText="position:absolute;left:-11111px",t.style.height="1px",r.style.height="9px",Je.appendChild(e).appendChild(t).appendChild(r),o=n.getComputedStyle(t),u=parseInt(o.height)>3,Je.removeChild(e)),u}}))}();var vt=["Webkit","Moz","ms"],bt=Ee.createElement("div").style,yt={},wt=/^(none|table(?!-c[ea]).+)/,xt=/^--/,_t={position:"absolute",visibility:"hidden",display:"block"},Ct={letterSpacing:"0",fontWeight:"400"};Te.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=H(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,i,a,u=b(t),s=xt.test(t),c=e.style;if(s||(t=q(u)),a=Te.cssHooks[t]||Te.cssHooks[u],void 0===n)return a&&"get"in a&&void 0!==(o=a.get(e,!1,r))?o:c[t];i=typeof n,"string"===i&&(o=Ye.exec(n))&&o[1]&&(n=_(e,t,o),i="number"),null!=n&&n===n&&("number"!==i||s||(n+=o&&o[3]||(Te.cssNumber[u]?"":"px")),_e.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(s?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,r){var o,i,a,u=b(t);return xt.test(t)||(t=q(u)),a=Te.cssHooks[t]||Te.cssHooks[u],a&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=H(e,t,r)),"normal"===o&&t in Ct&&(o=Ct[t]),""===n||n?(i=parseFloat(o),!0===n||isFinite(i)?i||0:o):o}}),Te.each(["height","width"],function(e,t){Te.cssHooks[t]={get:function(e,n,r){if(n)return!wt.test(Te.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?$(e,t,r):mt(e,_t,function(){return $(e,t,r)})},set:function(e,n,r){var o,i=ht(e),a=!_e.scrollboxSize()&&"absolute"===i.position,u=a||r,s=u&&"border-box"===Te.css(e,"boxSizing",!1,i),c=r?G(e,t,r,s,i):0;return s&&a&&(c-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(i[t])-G(e,t,"border",!1,i)-.5)),c&&(o=Ye.exec(n))&&"px"!==(o[3]||"px")&&(e.style[t]=n,n=Te.css(e,t)),W(e,n,c)}}}),Te.cssHooks.marginLeft=U(_e.reliableMarginLeft,function(e,t){if(t)return(parseFloat(H(e,"marginLeft"))||e.getBoundingClientRect().left-mt(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),Te.each({margin:"",padding:"",border:"Width"},function(e,t){Te.cssHooks[e+t]={expand:function(n){for(var r=0,o={},i="string"==typeof n?n.split(" "):[n];r<4;r++)o[e+Ke[r]+t]=i[r]||i[r-2]||i[0];return o}},"margin"!==e&&(Te.cssHooks[e+t].set=W)}),Te.fn.extend({css:function(e,t){return Fe(this,function(e,t,n){var r,o,i={},a=0;if(Array.isArray(t)){for(r=ht(e),o=t.length;a<o;a++)i[t[a]]=Te.css(e,t[a],!1,r);return i}return void 0!==n?Te.style(e,t,n):Te.css(e,t)},e,t,arguments.length>1)}}),Te.Tween=X,X.prototype={constructor:X,init:function(e,t,n,r,o,i){this.elem=e,this.prop=n,this.easing=o||Te.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=i||(Te.cssNumber[n]?"":"px")},cur:function(){var e=X.propHooks[this.prop];return e&&e.get?e.get(this):X.propHooks._default.get(this)},run:function(e){var t,n=X.propHooks[this.prop];return this.options.duration?this.pos=t=Te.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):X.propHooks._default.set(this),this}},X.prototype.init.prototype=X.prototype,X.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=Te.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){Te.fx.step[e.prop]?Te.fx.step[e.prop](e):1!==e.elem.nodeType||!Te.cssHooks[e.prop]&&null==e.elem.style[q(e.prop)]?e.elem[e.prop]=e.now:Te.style(e.elem,e.prop,e.now+e.unit)}}},X.propHooks.scrollTop=X.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Te.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},Te.fx=X.prototype.init,Te.fx.step={};var St,Et,kt=/^(?:toggle|show|hide)$/,Tt=/queueHooks$/;Te.Animation=Te.extend(te,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return _(n.elem,e,Ye.exec(t),n),n}]},tweener:function(e,t){Ce(e)?(t=e,e=["*"]):e=e.match(je);for(var n,r=0,o=e.length;r<o;r++)n=e[r],te.tweeners[n]=te.tweeners[n]||[],te.tweeners[n].unshift(t)},prefilters:[Z],prefilter:function(e,t){t?te.prefilters.unshift(e):te.prefilters.push(e)}}),Te.speed=function(e,t,n){var r=e&&"object"==typeof e?Te.extend({},e):{complete:n||!n&&t||Ce(e)&&e,duration:e,easing:n&&t||t&&!Ce(t)&&t};return Te.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in Te.fx.speeds?r.duration=Te.fx.speeds[r.duration]:r.duration=Te.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){Ce(r.old)&&r.old.call(this),r.queue&&Te.dequeue(this,r.queue)},r},Te.fn.extend({fadeTo:function(e,t,n,r){return this.filter(et).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var o=Te.isEmptyObject(e),i=Te.speed(t,n,r),a=function(){var t=te(this,Te.extend({},e),i);(o||qe.get(this,"finish"))&&t.stop(!0)};return a.finish=a,o||!1===i.queue?this.each(a):this.queue(i.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each(function(){var t=!0,o=null!=e&&e+"queueHooks",i=Te.timers,a=qe.get(this);if(o)a[o]&&a[o].stop&&r(a[o]);else for(o in a)a[o]&&a[o].stop&&Tt.test(o)&&r(a[o]);for(o=i.length;o--;)i[o].elem!==this||null!=e&&i[o].queue!==e||(i[o].anim.stop(n),t=!1,i.splice(o,1));!t&&n||Te.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=qe.get(this),r=n[e+"queue"],o=n[e+"queueHooks"],i=Te.timers,a=r?r.length:0;for(n.finish=!0,Te.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=i.length;t--;)i[t].elem===this&&i[t].queue===e&&(i[t].anim.stop(!0),i.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),Te.each(["toggle","show","hide"],function(e,t){var n=Te.fn[t];Te.fn[t]=function(e,r,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(J(t,!0),e,r,o)}}),Te.each({slideDown:J("show"),slideUp:J("hide"),slideToggle:J("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Te.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),Te.timers=[],Te.fx.tick=function(){var e,t=0,n=Te.timers;for(St=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||Te.fx.stop(),St=void 0},Te.fx.timer=function(e){Te.timers.push(e),Te.fx.start()},Te.fx.interval=13,Te.fx.start=function(){Et||(Et=!0,Y())},Te.fx.stop=function(){Et=null},Te.fx.speeds={slow:600,fast:200,_default:400},Te.fn.delay=function(e,t){return e=Te.fx?Te.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,r){var o=n.setTimeout(t,e);r.stop=function(){n.clearTimeout(o)}})},function(){var e=Ee.createElement("input"),t=Ee.createElement("select"),n=t.appendChild(Ee.createElement("option"));e.type="checkbox",_e.checkOn=""!==e.value,_e.optSelected=n.selected,e=Ee.createElement("input"),e.value="t",e.type="radio",_e.radioValue="t"===e.value}();var Nt,Ot=Te.expr.attrHandle;Te.fn.extend({attr:function(e,t){return Fe(this,Te.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Te.removeAttr(this,e)})}}),Te.extend({attr:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return void 0===e.getAttribute?Te.prop(e,t,n):(1===i&&Te.isXMLDoc(e)||(o=Te.attrHooks[t.toLowerCase()]||(Te.expr.match.bool.test(t)?Nt:void 0)),void 0!==n?null===n?void Te.removeAttr(e,t):o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:(e.setAttribute(t,n+""),n):o&&"get"in o&&null!==(r=o.get(e,t))?r:(r=Te.find.attr(e,t),null==r?void 0:r))},attrHooks:{type:{set:function(e,t){if(!_e.radioValue&&"radio"===t&&c(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,o=t&&t.match(je);if(o&&1===e.nodeType)for(;n=o[r++];)e.removeAttribute(n)}}),Nt={set:function(e,t,n){return!1===t?Te.removeAttr(e,n):e.setAttribute(n,n),n}},Te.each(Te.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Ot[t]||Te.find.attr;Ot[t]=function(e,t,r){var o,i,a=t.toLowerCase();return r||(i=Ot[a],Ot[a]=o,o=null!=n(e,t,r)?a:null,Ot[a]=i),o}});var At=/^(?:input|select|textarea|button)$/i,Dt=/^(?:a|area)$/i;Te.fn.extend({prop:function(e,t){return Fe(this,Te.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[Te.propFix[e]||e]})}}),Te.extend({prop:function(e,t,n){var r,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&Te.isXMLDoc(e)||(t=Te.propFix[t]||t,o=Te.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(r=o.set(e,n,t))?r:e[t]=n:o&&"get"in o&&null!==(r=o.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=Te.find.attr(e,"tabindex");return t?parseInt(t,10):At.test(e.nodeName)||Dt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),_e.optSelected||(Te.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),Te.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Te.propFix[this.toLowerCase()]=this}),Te.fn.extend({addClass:function(e){var t,n,r,o,i,a,u,s=0;if(Ce(e))return this.each(function(t){Te(this).addClass(e.call(this,t,re(this)))});if(t=oe(e),t.length)for(;n=this[s++];)if(o=re(n),r=1===n.nodeType&&" "+ne(o)+" "){for(a=0;i=t[a++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");u=ne(r),o!==u&&n.setAttribute("class",u)}return this},removeClass:function(e){var t,n,r,o,i,a,u,s=0;if(Ce(e))return this.each(function(t){Te(this).removeClass(e.call(this,t,re(this)))});if(!arguments.length)return this.attr("class","");if(t=oe(e),t.length)for(;n=this[s++];)if(o=re(n),r=1===n.nodeType&&" "+ne(o)+" "){for(a=0;i=t[a++];)for(;r.indexOf(" "+i+" ")>-1;)r=r.replace(" "+i+" "," ");u=ne(r),o!==u&&n.setAttribute("class",u)}return this},toggleClass:function(e,t){var n=typeof e,r="string"===n||Array.isArray(e);return"boolean"==typeof t&&r?t?this.addClass(e):this.removeClass(e):Ce(e)?this.each(function(n){Te(this).toggleClass(e.call(this,n,re(this),t),t)}):this.each(function(){var t,o,i,a;if(r)for(o=0,i=Te(this),a=oe(e);t=a[o++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==e&&"boolean"!==n||(t=re(this),t&&qe.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":qe.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+ne(re(n))+" ").indexOf(t)>-1)return!0;return!1}});var Mt=/\r/g;Te.fn.extend({val:function(e){var t,n,r,o=this[0];{if(arguments.length)return r=Ce(e),this.each(function(n){var o;1===this.nodeType&&(o=r?e.call(this,n,Te(this).val()):e,null==o?o="":"number"==typeof o?o+="":Array.isArray(o)&&(o=Te.map(o,function(e){return null==e?"":e+""})),(t=Te.valHooks[this.type]||Te.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))});if(o)return(t=Te.valHooks[o.type]||Te.valHooks[o.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(o,"value"))?n:(n=o.value,"string"==typeof n?n.replace(Mt,""):null==n?"":n)}}}),Te.extend({valHooks:{option:{get:function(e){var t=Te.find.attr(e,"value");return null!=t?t:ne(Te.text(e))}},select:{get:function(e){var t,n,r,o=e.options,i=e.selectedIndex,a="select-one"===e.type,u=a?null:[],s=a?i+1:o.length;for(r=i<0?s:a?i:0;r<s;r++)if(n=o[r],(n.selected||r===i)&&!n.disabled&&(!n.parentNode.disabled||!c(n.parentNode,"optgroup"))){if(t=Te(n).val(),a)return t;u.push(t)}return u},set:function(e,t){for(var n,r,o=e.options,i=Te.makeArray(t),a=o.length;a--;)r=o[a],(r.selected=Te.inArray(Te.valHooks.option.get(r),i)>-1)&&(n=!0);return n||(e.selectedIndex=-1),i}}}}),Te.each(["radio","checkbox"],function(){Te.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=Te.inArray(Te(e).val(),t)>-1}},_e.checkOn||(Te.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),_e.focusin="onfocusin"in n;var It=/^(?:focusinfocus|focusoutblur)$/,Rt=function(e){e.stopPropagation()};Te.extend(Te.event,{trigger:function(e,t,r,o){var i,a,u,s,c,l,f,d,p=[r||Ee],h=ye.call(e,"type")?e.type:e,m=ye.call(e,"namespace")?e.namespace.split("."):[];if(a=d=u=r=r||Ee,3!==r.nodeType&&8!==r.nodeType&&!It.test(h+Te.event.triggered)&&(h.indexOf(".")>-1&&(m=h.split("."),h=m.shift(),m.sort()),c=h.indexOf(":")<0&&"on"+h,e=e[Te.expando]?e:new Te.Event(h,"object"==typeof e&&e),e.isTrigger=o?2:3,e.namespace=m.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),t=null==t?[e]:Te.makeArray(t,[e]),f=Te.event.special[h]||{},o||!f.trigger||!1!==f.trigger.apply(r,t))){if(!o&&!f.noBubble&&!Se(r)){for(s=f.delegateType||h,It.test(s+h)||(a=a.parentNode);a;a=a.parentNode)p.push(a),u=a;u===(r.ownerDocument||Ee)&&p.push(u.defaultView||u.parentWindow||n)}for(i=0;(a=p[i++])&&!e.isPropagationStopped();)d=a,e.type=i>1?s:f.bindType||h,l=(qe.get(a,"events")||Object.create(null))[e.type]&&qe.get(a,"handle"),l&&l.apply(a,t),(l=c&&a[c])&&l.apply&&Ve(a)&&(e.result=l.apply(a,t),!1===e.result&&e.preventDefault());return e.type=h,o||e.isDefaultPrevented()||f._default&&!1!==f._default.apply(p.pop(),t)||!Ve(r)||c&&Ce(r[h])&&!Se(r)&&(u=r[c],u&&(r[c]=null),Te.event.triggered=h,e.isPropagationStopped()&&d.addEventListener(h,Rt),r[h](),e.isPropagationStopped()&&d.removeEventListener(h,Rt),Te.event.triggered=void 0,u&&(r[c]=u)),e.result}},simulate:function(e,t,n){var r=Te.extend(new Te.Event,n,{type:e,isSimulated:!0});Te.event.trigger(r,null,t)}}),Te.fn.extend({trigger:function(e,t){return this.each(function(){Te.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return Te.event.trigger(e,t,n,!0)}}),_e.focusin||Te.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){Te.event.simulate(t,e.target,Te.event.fix(e))};Te.event.special[t]={setup:function(){var r=this.ownerDocument||this.document||this,o=qe.access(r,t);o||r.addEventListener(e,n,!0),qe.access(r,t,(o||0)+1)},teardown:function(){var r=this.ownerDocument||this.document||this,o=qe.access(r,t)-1;o?qe.access(r,t,o):(r.removeEventListener(e,n,!0),qe.remove(r,t))}}});var Pt=n.location,Lt={guid:Date.now()},jt=/\?/;Te.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new n.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||Te.error("Invalid XML: "+e),t};var Bt=/\[\]$/,zt=/\r?\n/g,Ft=/^(?:submit|button|image|reset|file)$/i,Ht=/^(?:input|select|textarea|keygen)/i;Te.param=function(e,t){var n,r=[],o=function(e,t){var n=Ce(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!Te.isPlainObject(e))Te.each(e,function(){o(this.name,this.value)});else for(n in e)ie(n,e[n],t,o);return r.join("&")},Te.fn.extend({serialize:function(){return Te.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=Te.prop(this,"elements");return e?Te.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!Te(this).is(":disabled")&&Ht.test(this.nodeName)&&!Ft.test(e)&&(this.checked||!nt.test(e))}).map(function(e,t){var n=Te(this).val();return null==n?null:Array.isArray(n)?Te.map(n,function(e){return{name:t.name,value:e.replace(zt,"\r\n")}}):{name:t.name,value:n.replace(zt,"\r\n")}}).get()}});var Ut=/%20/g,Vt=/#.*$/,qt=/([?&])_=[^&]*/,Wt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Gt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,$t=/^(?:GET|HEAD)$/,Xt=/^\/\//,Yt={},Kt={},Jt="*/".concat("*"),Qt=Ee.createElement("a");Qt.href=Pt.href,Te.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Pt.href,type:"GET",isLocal:Gt.test(Pt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Jt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":Te.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?se(se(e,Te.ajaxSettings),t):se(Te.ajaxSettings,e)},ajaxPrefilter:ae(Yt),ajaxTransport:ae(Kt),ajax:function(e,t){function r(e,t,r,u){var c,d,p,w,x,_=t;l||(l=!0,s&&n.clearTimeout(s),o=void 0,a=u||"",C.readyState=e>0?4:0,c=e>=200&&e<300||304===e,r&&(w=ce(h,C,r)),!c&&Te.inArray("script",h.dataTypes)>-1&&(h.converters["text script"]=function(){}),w=le(h,w,C,c),c?(h.ifModified&&(x=C.getResponseHeader("Last-Modified"),x&&(Te.lastModified[i]=x),(x=C.getResponseHeader("etag"))&&(Te.etag[i]=x)),204===e||"HEAD"===h.type?_="nocontent":304===e?_="notmodified":(_=w.state,d=w.data,p=w.error,c=!p)):(p=_,!e&&_||(_="error",e<0&&(e=0))),C.status=e,C.statusText=(t||_)+"",c?v.resolveWith(m,[d,_,C]):v.rejectWith(m,[C,_,p]),C.statusCode(y),y=void 0,f&&g.trigger(c?"ajaxSuccess":"ajaxError",[C,h,c?d:p]),b.fireWith(m,[C,_]),f&&(g.trigger("ajaxComplete",[C,h]),--Te.active||Te.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var o,i,a,u,s,c,l,f,d,p,h=Te.ajaxSetup({},t),m=h.context||h,g=h.context&&(m.nodeType||m.jquery)?Te(m):Te.event,v=Te.Deferred(),b=Te.Callbacks("once memory"),y=h.statusCode||{},w={},x={},_="canceled",C={readyState:0,getResponseHeader:function(e){var t;if(l){if(!u)for(u={};t=Wt.exec(a);)u[t[1].toLowerCase()+" "]=(u[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=u[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return l?a:null},setRequestHeader:function(e,t){return null==l&&(e=x[e.toLowerCase()]=x[e.toLowerCase()]||e,w[e]=t),this},overrideMimeType:function(e){return null==l&&(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(l)C.always(e[C.status]);else for(t in e)y[t]=[y[t],e[t]];return this},abort:function(e){var t=e||_;return o&&o.abort(t),r(0,t),this}};if(v.promise(C),h.url=((e||h.url||Pt.href)+"").replace(Xt,Pt.protocol+"//"),h.type=t.method||t.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(je)||[""],null==h.crossDomain){c=Ee.createElement("a");try{c.href=h.url,c.href=c.href,h.crossDomain=Qt.protocol+"//"+Qt.host!=c.protocol+"//"+c.host}catch(e){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=Te.param(h.data,h.traditional)),ue(Yt,h,t,C),l)return C;f=Te.event&&h.global,f&&0==Te.active++&&Te.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!$t.test(h.type),i=h.url.replace(Vt,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(Ut,"+")):(p=h.url.slice(i.length),h.data&&(h.processData||"string"==typeof h.data)&&(i+=(jt.test(i)?"&":"?")+h.data,delete h.data),!1===h.cache&&(i=i.replace(qt,"$1"),p=(jt.test(i)?"&":"?")+"_="+Lt.guid+++p),h.url=i+p),h.ifModified&&(Te.lastModified[i]&&C.setRequestHeader("If-Modified-Since",Te.lastModified[i]),Te.etag[i]&&C.setRequestHeader("If-None-Match",Te.etag[i])),(h.data&&h.hasContent&&!1!==h.contentType||t.contentType)&&C.setRequestHeader("Content-Type",h.contentType),C.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Jt+"; q=0.01":""):h.accepts["*"]);for(d in h.headers)C.setRequestHeader(d,h.headers[d]);if(h.beforeSend&&(!1===h.beforeSend.call(m,C,h)||l))return C.abort();if(_="abort",b.add(h.complete),C.done(h.success),C.fail(h.error),o=ue(Kt,h,t,C)){if(C.readyState=1,f&&g.trigger("ajaxSend",[C,h]),l)return C;h.async&&h.timeout>0&&(s=n.setTimeout(function(){C.abort("timeout")},h.timeout));try{l=!1,o.send(w,r)}catch(e){if(l)throw e;r(-1,e)}}else r(-1,"No Transport");return C},getJSON:function(e,t,n){return Te.get(e,t,n,"json")},getScript:function(e,t){return Te.get(e,void 0,t,"script")}}),Te.each(["get","post"],function(e,t){Te[t]=function(e,n,r,o){return Ce(n)&&(o=o||r,r=n,n=void 0),Te.ajax(Te.extend({url:e,type:t,dataType:o,data:n,success:r},Te.isPlainObject(e)&&e))}}),Te.ajaxPrefilter(function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),Te._evalUrl=function(e,t,n){return Te.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){Te.globalEval(e,t,n)}})},Te.fn.extend({wrapAll:function(e){var t;return this[0]&&(Ce(e)&&(e=e.call(this[0])),t=Te(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return Ce(e)?this.each(function(t){Te(this).wrapInner(e.call(this,t))}):this.each(function(){var t=Te(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=Ce(e);return this.each(function(n){Te(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){Te(this).replaceWith(this.childNodes)}),this}}),Te.expr.pseudos.hidden=function(e){return!Te.expr.pseudos.visible(e)},Te.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},Te.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(e){}};var Zt={0:200,1223:204},en=Te.ajaxSettings.xhr();_e.cors=!!en&&"withCredentials"in en,_e.ajax=en=!!en,Te.ajaxTransport(function(e){var t,r;if(_e.cors||en&&!e.crossDomain)return{send:function(o,i){var a,u=e.xhr();if(u.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)u[a]=e.xhrFields[a];e.mimeType&&u.overrideMimeType&&u.overrideMimeType(e.mimeType),e.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest");for(a in o)u.setRequestHeader(a,o[a]);t=function(e){return function(){t&&(t=r=u.onload=u.onerror=u.onabort=u.ontimeout=u.onreadystatechange=null,"abort"===e?u.abort():"error"===e?"number"!=typeof u.status?i(0,"error"):i(u.status,u.statusText):i(Zt[u.status]||u.status,u.statusText,"text"!==(u.responseType||"text")||"string"!=typeof u.responseText?{binary:u.response}:{text:u.responseText},u.getAllResponseHeaders()))}},u.onload=t(),r=u.onerror=u.ontimeout=t("error"),void 0!==u.onabort?u.onabort=r:u.onreadystatechange=function(){4===u.readyState&&n.setTimeout(function(){t&&r()})},t=t("abort");try{u.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}}),Te.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),Te.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return Te.globalEval(e),e}}}),Te.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),Te.ajaxTransport("script",function(e){if(e.crossDomain||e.scriptAttrs){var t,n;return{send:function(r,o){t=Te("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&o("error"===e.type?404:200,e.type)}),Ee.head.appendChild(t[0])},abort:function(){n&&n()}}}});var tn=[],nn=/(=)\?(?=&|$)|\?\?/;Te.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=tn.pop()||Te.expando+"_"+Lt.guid++;return this[e]=!0,e}}),Te.ajaxPrefilter("json jsonp",function(e,t,r){var o,i,a,u=!1!==e.jsonp&&(nn.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&nn.test(e.data)&&"data");if(u||"jsonp"===e.dataTypes[0])return o=e.jsonpCallback=Ce(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,u?e[u]=e[u].replace(nn,"$1"+o):!1!==e.jsonp&&(e.url+=(jt.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return a||Te.error(o+" was not called"),a[0]},e.dataTypes[0]="json",i=n[o],n[o]=function(){a=arguments},r.always(function(){void 0===i?Te(n).removeProp(o):n[o]=i,e[o]&&(e.jsonpCallback=t.jsonpCallback,tn.push(o)),a&&Ce(i)&&i(a[0]),a=i=void 0}),"script"}),_e.createHTMLDocument=function(){var e=Ee.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),Te.parseHTML=function(e,t,n){if("string"!=typeof e)return[];"boolean"==typeof t&&(n=t,t=!1);var r,o,i;return t||(_e.createHTMLDocument?(t=Ee.implementation.createHTMLDocument(""),r=t.createElement("base"),r.href=Ee.location.href,t.head.appendChild(r)):t=Ee),o=Me.exec(e),i=!n&&[],o?[t.createElement(o[1])]:(o=T([e],t,i),i&&i.length&&Te(i).remove(),Te.merge([],o.childNodes))},Te.fn.load=function(e,t,n){var r,o,i,a=this,u=e.indexOf(" ");return u>-1&&(r=ne(e.slice(u)),e=e.slice(0,u)),Ce(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),a.length>0&&Te.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done(function(e){i=arguments,a.html(r?Te("<div>").append(Te.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,i||[e.responseText,t,e])})}),this},Te.expr.pseudos.animated=function(e){return Te.grep(Te.timers,function(t){return e===t.elem}).length},Te.offset={setOffset:function(e,t,n){var r,o,i,a,u,s,c,l=Te.css(e,"position"),f=Te(e),d={};"static"===l&&(e.style.position="relative"),u=f.offset(),i=Te.css(e,"top"),s=Te.css(e,"left"),c=("absolute"===l||"fixed"===l)&&(i+s).indexOf("auto")>-1,c?(r=f.position(),a=r.top,o=r.left):(a=parseFloat(i)||0,o=parseFloat(s)||0),Ce(t)&&(t=t.call(e,n,Te.extend({},u))),null!=t.top&&(d.top=t.top-u.top+a),null!=t.left&&(d.left=t.left-u.left+o),"using"in t?t.using.call(e,d):("number"==typeof d.top&&(d.top+="px"),"number"==typeof d.left&&(d.left+="px"),f.css(d))}},Te.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){Te.offset.setOffset(this,e,t)});var t,n,r=this[0];if(r)return r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var e,t,n,r=this[0],o={top:0,left:0};if("fixed"===Te.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===Te.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&(o=Te(e).offset(),o.top+=Te.css(e,"borderTopWidth",!0),o.left+=Te.css(e,"borderLeftWidth",!0))}return{top:t.top-o.top-Te.css(r,"marginTop",!0),left:t.left-o.left-Te.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===Te.css(e,"position");)e=e.offsetParent;return e||Je})}}),Te.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;Te.fn[e]=function(r){return Fe(this,function(e,r,o){var i;if(Se(e)?i=e:9===e.nodeType&&(i=e.defaultView),void 0===o)return i?i[t]:e[r];i?i.scrollTo(n?i.pageXOffset:o,n?o:i.pageYOffset):e[r]=o},e,r,arguments.length)}}),Te.each(["top","left"],function(e,t){Te.cssHooks[t]=U(_e.pixelPosition,function(e,n){if(n)return n=H(e,t),pt.test(n)?Te(e).position()[t]+"px":n})}),Te.each({Height:"height",Width:"width"},function(e,t){Te.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){Te.fn[r]=function(o,i){var a=arguments.length&&(n||"boolean"!=typeof o),u=n||(!0===o||!0===i?"margin":"border");return Fe(this,function(t,n,o){var i;return Se(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===o?Te.css(t,n,u):Te.style(t,n,o,u)},t,a?o:void 0,a)}})}),Te.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){Te.fn[t]=function(e){return this.on(t,e)}}),Te.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),Te.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){Te.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}});var rn=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;Te.proxy=function(e,t){var n,r,o;if("string"==typeof t&&(n=e[t],t=e,e=n),Ce(e))return r=pe.call(arguments,2),o=function(){return e.apply(t||this,r.concat(pe.call(arguments)))},o.guid=e.guid=e.guid||Te.guid++,o},Te.holdReady=function(e){e?Te.readyWait++:Te.ready(!0)},Te.isArray=Array.isArray,Te.parseJSON=JSON.parse,Te.nodeName=c,Te.isFunction=Ce,Te.isWindow=Se,Te.camelCase=b,Te.type=u,Te.now=Date.now,Te.isNumeric=function(e){var t=Te.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},Te.trim=function(e){return null==e?"":(e+"").replace(rn,"")},r=[],void 0!==(o=function(){return Te}.apply(t,r))&&(e.exports=o);var on=n.jQuery,an=n.$;return Te.noConflict=function(e){return n.$===Te&&(n.$=an),e&&n.jQuery===Te&&(n.jQuery=on),Te},void 0===i&&(n.jQuery=n.$=Te),Te})},"1d80":function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on "+e);return e}},"1dde":function(e,t,n){var r=n("d039"),o=n("b622"),i=n("2d00"),a=o("species");e.exports=function(e){return i>=51||!r(function(){var t=[],n=t.constructor={};return n[a]=function(){return{foo:1}},1!==t[e](Boolean).foo})}},"23cb":function(e,t,n){var r=n("a691"),o=Math.max,i=Math.min;e.exports=function(e,t){var n=r(e);return n<0?o(n+t,0):i(n,t)}},"23e7":function(e,t,n){var r=n("da84"),o=n("06cf").f,i=n("9112"),a=n("6eeb"),u=n("ce4e"),s=n("e893"),c=n("94ca");e.exports=function(e,t){var n,l,f,d,p,h=e.target,m=e.global,g=e.stat;if(n=m?r:g?r[h]||u(h,{}):(r[h]||{}).prototype)for(l in t){if(d=t[l],e.noTargetGet?(p=o(n,l),f=p&&p.value):f=n[l],!c(m?l:h+(g?".":"#")+l,e.forced)&&void 0!==f){if(typeof d==typeof f)continue;s(d,f)}(e.sham||f&&f.sham)&&i(d,"sham",!0),a(n,l,d,e)}}},"241c":function(e,t,n){var r=n("ca84"),o=n("7839"),i=o.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},"24fb":function(e,t,n){"use strict";function r(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var i=o(r);return[n].concat(r.sources.map(function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")})).concat([i]).join("\n")}return[n].join("\n")}function o(e){return"/*# ".concat("sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(e)))))," */")}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=r(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n}).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(o[a]=!0)}for(var u=0;u<e.length;u++){var s=[].concat(e[u]);r&&o[s[0]]||(n&&(s[2]?s[2]="".concat(n," and ").concat(s[2]):s[2]=n),t.push(s))}},t}},"2d00":function(e,t,n){var r,o,i=n("da84"),a=n("342f"),u=i.process,s=u&&u.versions,c=s&&s.v8;c?(r=c.split("."),o=r[0]+r[1]):a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(o=r[1]),e.exports=o&&+o},"342f":function(e,t,n){var r=n("d066");e.exports=r("navigator","userAgent")||""},"428f":function(e,t,n){var r=n("da84");e.exports=r},"44ad":function(e,t,n){var r=n("d039"),o=n("c6b6"),i="".split;e.exports=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==o(e)?i.call(e,""):Object(e)}:Object},4930:function(e,t,n){var r=n("d039");e.exports=!!Object.getOwnPropertySymbols&&!r(function(){return!String(Symbol())})},"499e":function(e,t,n){"use strict";function r(e,t){for(var n=[],r={},o=0;o<t.length;o++){var i=t[o],a=i[0],u=i[1],s=i[2],c=i[3],l={id:e+":"+o,css:u,media:s,sourceMap:c};r[a]?r[a].parts.push(l):n.push(r[a]={id:a,parts:[l]})}return n}function o(e,t,n,o){m=n,v=o||{};var a=r(e,t);return i(a),function(t){for(var n=[],o=0;o<a.length;o++){var u=a[o],s=f[u.id];s.refs--,n.push(s)}t?(a=r(e,t),i(a)):a=[];for(var o=0;o<n.length;o++){var s=n[o];if(0===s.refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete f[s.id]}}}}function i(e){for(var t=0;t<e.length;t++){var n=e[t],r=f[n.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](n.parts[o]);for(;o<n.parts.length;o++)r.parts.push(u(n.parts[o]));r.parts.length>n.parts.length&&(r.parts.length=n.parts.length)}else{for(var i=[],o=0;o<n.parts.length;o++)i.push(u(n.parts[o]));f[n.id]={id:n.id,refs:1,parts:i}}}}function a(){var e=document.createElement("style");return e.type="text/css",d.appendChild(e),e}function u(e){var t,n,r=document.querySelector("style["+b+'~="'+e.id+'"]');if(r){if(m)return g;r.parentNode.removeChild(r)}if(y){var o=h++;r=p||(p=a()),t=s.bind(null,r,o,!1),n=s.bind(null,r,o,!0)}else r=a(),t=c.bind(null,r),n=function(){r.parentNode.removeChild(r)};return t(e),function(r){if(r){if(r.css===e.css&&r.media===e.media&&r.sourceMap===e.sourceMap)return;t(e=r)}else n()}}function s(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=w(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function c(e,t){var n=t.css,r=t.media,o=t.sourceMap;if(r&&e.setAttribute("media",r),v.ssrId&&e.setAttribute(b,t.id),o&&(n+="\n/*# sourceURL="+o.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}n.r(t),n.d(t,"default",function(){return o});var l="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!l)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var f={},d=l&&(document.head||document.getElementsByTagName("head")[0]),p=null,h=0,m=!1,g=function(){},v=null,b="data-vue-ssr-id",y="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase()),w=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},"4d64":function(e,t,n){var r=n("fc6a"),o=n("50c4"),i=n("23cb"),a=function(e){return function(t,n,a){var u,s=r(t),c=o(s.length),l=i(a,c);if(e&&n!=n){for(;c>l;)if((u=s[l++])!=u)return!0}else for(;c>l;l++)if((e||l in s)&&s[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},"50c4":function(e,t,n){var r=n("a691"),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},5135:function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},5692:function(e,t,n){var r=n("c430"),o=n("c6cd");(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:r?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(e,t,n){var r=n("d066"),o=n("241c"),i=n("7418"),a=n("825a");e.exports=r("Reflect","ownKeys")||function(e){var t=o.f(a(e)),n=i.f;return n?t.concat(n(e)):t}},"5c6c":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"60da":function(e,t,n){"use strict";var r=n("83ab"),o=n("d039"),i=n("df75"),a=n("7418"),u=n("d1e7"),s=n("7b0b"),c=n("44ad"),l=Object.assign,f=Object.defineProperty;e.exports=!l||o(function(){if(r&&1!==l({b:1},l(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),o="abcdefghijklmnopqrst";return e[n]=7,o.split("").forEach(function(e){t[e]=e}),7!=l({},e)[n]||i(l({},t)).join("")!=o})?function(e,t){for(var n=s(e),o=arguments.length,l=1,f=a.f,d=u.f;o>l;)for(var p,h=c(arguments[l++]),m=f?i(h).concat(f(h)):i(h),g=m.length,v=0;g>v;)p=m[v++],r&&!d.call(h,p)||(n[p]=h[p]);return n}:l},"65f0":function(e,t,n){var r=n("861d"),o=n("e8b5"),i=n("b622"),a=i("species");e.exports=function(e,t){var n;return o(e)&&(n=e.constructor,"function"!=typeof n||n!==Array&&!o(n.prototype)?r(n)&&null===(n=n[a])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},"69f3":function(e,t,n){var r,o,i,a=n("7f9a"),u=n("da84"),s=n("861d"),c=n("9112"),l=n("5135"),f=n("f772"),d=n("d012"),p=u.WeakMap,h=function(e){return i(e)?o(e):r(e,{})},m=function(e){return function(t){var n;if(!s(t)||(n=o(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}};if(a){var g=new p,v=g.get,b=g.has,y=g.set;r=function(e,t){return y.call(g,e,t),t},o=function(e){return v.call(g,e)||{}},i=function(e){return b.call(g,e)}}else{var w=f("state");d[w]=!0,r=function(e,t){return c(e,w,t),t},o=function(e){return l(e,w)?e[w]:{}},i=function(e){return l(e,w)}}e.exports={set:r,get:o,has:i,enforce:h,getterFor:m}},"6eeb":function(e,t,n){var r=n("da84"),o=n("9112"),i=n("5135"),a=n("ce4e"),u=n("8925"),s=n("69f3"),c=s.get,l=s.enforce,f=String(String).split("String");(e.exports=function(e,t,n,u){var s=!!u&&!!u.unsafe,c=!!u&&!!u.enumerable,d=!!u&&!!u.noTargetGet;if("function"==typeof n&&("string"!=typeof t||i(n,"name")||o(n,"name",t),l(n).source=f.join("string"==typeof t?t:"")),e===r)return void(c?e[t]=n:a(t,n));s?!d&&e[t]&&(c=!0):delete e[t],c?e[t]=n:o(e,t,n)})(Function.prototype,"toString",function(){return"function"==typeof this&&c(this).source||u(this)})},7418:function(e,t){t.f=Object.getOwnPropertySymbols},7839:function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(e,t,n){var r=n("1d80");e.exports=function(e){return Object(r(e))}},"7f9a":function(e,t,n){var r=n("da84"),o=n("8925"),i=r.WeakMap;e.exports="function"==typeof i&&/native code/.test(o(i))},"825a":function(e,t,n){var r=n("861d");e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},"83ab":function(e,t,n){var r=n("d039");e.exports=!r(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},8418:function(e,t,n){"use strict";var r=n("c04e"),o=n("9bf2"),i=n("5c6c");e.exports=function(e,t,n){var a=r(t);a in e?o.f(e,a,i(0,n)):e[a]=n}},8476:function(e,t,n){var r=n("c91b");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var o=n("499e").default;o("e563687c",r,!0,{sourceMap:!1,shadowMode:!1})},"861d":function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},8875:function(e,t,n){var r,o,i;!function(n,a){o=[],r=a,void 0!==(i="function"==typeof r?r.apply(t,o):r)&&(e.exports=i)}("undefined"!=typeof self&&self,function(){function e(){var t=Object.getOwnPropertyDescriptor(document,"currentScript");if(!t&&"currentScript"in document&&document.currentScript)return document.currentScript;if(t&&t.get!==e&&document.currentScript)return document.currentScript;try{throw new Error}catch(e){var n,r,o,i=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,a=/@([^@]*):(\d+):(\d+)\s*$/gi,u=i.exec(e.stack)||a.exec(e.stack),s=u&&u[1]||!1,c=u&&u[2]||!1,l=document.location.href.replace(document.location.hash,""),f=document.getElementsByTagName("script");s===l&&(n=document.documentElement.outerHTML,r=new RegExp("(?:[^\\n]+?\\n){0,"+(c-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),o=n.replace(r,"$1").trim());for(var d=0;d<f.length;d++){if("interactive"===f[d].readyState)return f[d];if(f[d].src===s)return f[d];if(s===l&&f[d].innerHTML&&f[d].innerHTML.trim()===o)return f[d]}return null}}return e})},8925:function(e,t,n){var r=n("c6cd"),o=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return o.call(e)}),e.exports=r.inspectSource},"90e3":function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},9112:function(e,t,n){var r=n("83ab"),o=n("9bf2"),i=n("5c6c");e.exports=r?function(e,t,n){return o.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},"91e5":function(module,exports){!function($){var settings={},roots={},caches={},_consts={className:{BUTTON:"button",LEVEL:"level",ICO_LOADING:"ico_loading",SWITCH:"switch",NAME:"node_name"},event:{NODECREATED:"ztree_nodeCreated",CLICK:"ztree_click",EXPAND:"ztree_expand",COLLAPSE:"ztree_collapse",ASYNC_SUCCESS:"ztree_async_success",ASYNC_ERROR:"ztree_async_error",REMOVE:"ztree_remove",SELECTED:"ztree_selected",UNSELECTED:"ztree_unselected"},id:{A:"_a",ICON:"_ico",SPAN:"_span",SWITCH:"_switch",UL:"_ul"},line:{ROOT:"root",ROOTS:"roots",CENTER:"center",BOTTOM:"bottom",NOLINE:"noline",LINE:"line"},folder:{OPEN:"open",CLOSE:"close",DOCU:"docu"},node:{CURSELECTED:"curSelectedNode"}},_setting={treeId:"",treeObj:null,view:{addDiyDom:null,autoCancelSelected:!0,dblClickExpand:!0,expandSpeed:"fast",fontCss:{},nodeClasses:{},nameIsHTML:!1,selectedMulti:!0,showIcon:!0,showLine:!0,showTitle:!0,txtSelectedEnable:!1},data:{key:{isParent:"isParent",children:"children",name:"name",title:"",url:"url",icon:"icon"},simpleData:{enable:!1,idKey:"id",pIdKey:"pId",rootPId:null},keep:{parent:!1,leaf:!1}},async:{enable:!1,contentType:"application/x-www-form-urlencoded",type:"post",dataType:"text",headers:{},xhrFields:{},url:"",autoParam:[],otherParam:[],dataFilter:null},callback:{beforeAsync:null,beforeClick:null,beforeDblClick:null,beforeRightClick:null,beforeMouseDown:null,beforeMouseUp:null,beforeExpand:null,beforeCollapse:null,beforeRemove:null,onAsyncError:null,onAsyncSuccess:null,onNodeCreated:null,onClick:null,onDblClick:null,onRightClick:null,onMouseDown:null,onMouseUp:null,onExpand:null,onCollapse:null,onRemove:null}},_initRoot=function(e){var t=data.getRoot(e);t||(t={},data.setRoot(e,t)),data.nodeChildren(e,t,[]),t.expandTriggerFlag=!1,t.curSelectedList=[],t.noSelection=!0,t.createdNodes=[],t.zId=0,t._ver=(new Date).getTime()},_initCache=function(e){var t=data.getCache(e);t||(t={},data.setCache(e,t)),t.nodes=[],t.doms=[]},_bindEvent=function(e){var t=e.treeObj,n=consts.event;t.bind(n.NODECREATED,function(t,n,r){tools.apply(e.callback.onNodeCreated,[t,n,r])}),t.bind(n.CLICK,function(t,n,r,o,i){tools.apply(e.callback.onClick,[n,r,o,i])}),t.bind(n.EXPAND,function(t,n,r){tools.apply(e.callback.onExpand,[t,n,r])}),t.bind(n.COLLAPSE,function(t,n,r){tools.apply(e.callback.onCollapse,[t,n,r])}),t.bind(n.ASYNC_SUCCESS,function(t,n,r,o){tools.apply(e.callback.onAsyncSuccess,[t,n,r,o])}),t.bind(n.ASYNC_ERROR,function(t,n,r,o,i,a){tools.apply(e.callback.onAsyncError,[t,n,r,o,i,a])}),t.bind(n.REMOVE,function(t,n,r){tools.apply(e.callback.onRemove,[t,n,r])}),t.bind(n.SELECTED,function(t,n,r){tools.apply(e.callback.onSelected,[n,r])}),t.bind(n.UNSELECTED,function(t,n,r){tools.apply(e.callback.onUnSelected,[n,r])})},_unbindEvent=function(e){var t=e.treeObj,n=consts.event;t.unbind(n.NODECREATED).unbind(n.CLICK).unbind(n.EXPAND).unbind(n.COLLAPSE).unbind(n.ASYNC_SUCCESS).unbind(n.ASYNC_ERROR).unbind(n.REMOVE).unbind(n.SELECTED).unbind(n.UNSELECTED)},_eventProxy=function(e){var t=e.target,n=data.getSetting(e.data.treeId),r="",o=null,i="",a="",u=null,s=null,c=null;if(tools.eqs(e.type,"mousedown")?a="mousedown":tools.eqs(e.type,"mouseup")?a="mouseup":tools.eqs(e.type,"contextmenu")?a="contextmenu":tools.eqs(e.type,"click")?tools.eqs(t.tagName,"span")&&null!==t.getAttribute("treeNode"+consts.id.SWITCH)?(r=tools.getNodeMainDom(t).id,i="switchNode"):(c=tools.getMDom(n,t,[{tagName:"a",attrName:"treeNode"+consts.id.A}]))&&(r=tools.getNodeMainDom(c).id,i="clickNode"):tools.eqs(e.type,"dblclick")&&(a="dblclick",(c=tools.getMDom(n,t,[{tagName:"a",attrName:"treeNode"+consts.id.A}]))&&(r=tools.getNodeMainDom(c).id,i="switchNode")),a.length>0&&0==r.length&&(c=tools.getMDom(n,t,[{tagName:"a",attrName:"treeNode"+consts.id.A}]))&&(r=tools.getNodeMainDom(c).id),r.length>0)switch(o=data.getNodeCache(n,r),i){case"switchNode":data.nodeIsParent(n,o)&&(tools.eqs(e.type,"click")||tools.eqs(e.type,"dblclick")&&tools.apply(n.view.dblClickExpand,[n.treeId,o],n.view.dblClickExpand))?u=handler.onSwitchNode:i="";break;case"clickNode":u=handler.onClickNode}switch(a){case"mousedown":s=handler.onZTreeMousedown;break;case"mouseup":s=handler.onZTreeMouseup;break;case"dblclick":s=handler.onZTreeDblclick;break;case"contextmenu":s=handler.onZTreeContextmenu}return{stop:!1,node:o,nodeEventType:i,nodeEventCallback:u,treeEventType:a,treeEventCallback:s}},_initNode=function(e,t,n,r,o,i,a){if(n){var u=data.getRoot(e),s=data.nodeChildren(e,n);n.level=t,n.tId=e.treeId+"_"+ ++u.zId,n.parentTId=r?r.tId:null,n.open="string"==typeof n.open?tools.eqs(n.open,"true"):!!n.open;var c=data.nodeIsParent(e,n);tools.isArray(s)?(data.nodeIsParent(e,n,!0),n.zAsync=!0):(c=data.nodeIsParent(e,n,c),n.open=!(!c||e.async.enable)&&n.open,n.zAsync=!c),n.isFirstNode=o,n.isLastNode=i,n.getParentNode=function(){return data.getNodeCache(e,n.parentTId)},n.getPreNode=function(){return data.getPreNode(e,n)},n.getNextNode=function(){return data.getNextNode(e,n)},n.getIndex=function(){return data.getNodeIndex(e,n)},n.getPath=function(){return data.getNodePath(e,n)},n.isAjaxing=!1,data.fixPIdKeyValue(e,n)}},_init={bind:[_bindEvent],unbind:[_unbindEvent],caches:[_initCache],nodes:[_initNode],proxys:[_eventProxy],roots:[_initRoot],beforeA:[],afterA:[],innerBeforeA:[],innerAfterA:[],zTreeTools:[]},data={addNodeCache:function(e,t){data.getCache(e).nodes[data.getNodeCacheId(t.tId)]=t},getNodeCacheId:function(e){return e.substring(e.lastIndexOf("_")+1)},addAfterA:function(e){_init.afterA.push(e)},addBeforeA:function(e){_init.beforeA.push(e)},addInnerAfterA:function(e){_init.innerAfterA.push(e)},addInnerBeforeA:function(e){_init.innerBeforeA.push(e)},addInitBind:function(e){_init.bind.push(e)},addInitUnBind:function(e){_init.unbind.push(e)},addInitCache:function(e){_init.caches.push(e)},addInitNode:function(e){_init.nodes.push(e)},addInitProxy:function(e,t){t?_init.proxys.splice(0,0,e):_init.proxys.push(e)},addInitRoot:function(e){_init.roots.push(e)},addNodesData:function(e,t,n,r){var o,i=data.nodeChildren(e,t);i?n>=i.length&&(n=-1):(i=data.nodeChildren(e,t,[]),n=-1),i.length>0&&0===n?(i[0].isFirstNode=!1,view.setNodeLineIcos(e,i[0])):i.length>0&&n<0&&(i[i.length-1].isLastNode=!1,view.setNodeLineIcos(e,i[i.length-1])),data.nodeIsParent(e,t,!0),n<0?data.nodeChildren(e,t,i.concat(r)):(o=[n,0].concat(r),i.splice.apply(i,o))},addSelectedNode:function(e,t){var n=data.getRoot(e);data.isSelectedNode(e,t)||n.curSelectedList.push(t)},addCreatedNode:function(e,t){if(e.callback.onNodeCreated||e.view.addDiyDom){data.getRoot(e).createdNodes.push(t)}},addZTreeTools:function(e){_init.zTreeTools.push(e)},exSetting:function(e){$.extend(!0,_setting,e)},fixPIdKeyValue:function(e,t){e.data.simpleData.enable&&(t[e.data.simpleData.pIdKey]=t.parentTId?t.getParentNode()[e.data.simpleData.idKey]:e.data.simpleData.rootPId)},getAfterA:function(e,t,n){for(var r=0,o=_init.afterA.length;r<o;r++)_init.afterA[r].apply(this,arguments)},getBeforeA:function(e,t,n){for(var r=0,o=_init.beforeA.length;r<o;r++)_init.beforeA[r].apply(this,arguments)},getInnerAfterA:function(e,t,n){for(var r=0,o=_init.innerAfterA.length;r<o;r++)_init.innerAfterA[r].apply(this,arguments)},getInnerBeforeA:function(e,t,n){for(var r=0,o=_init.innerBeforeA.length;r<o;r++)_init.innerBeforeA[r].apply(this,arguments)},getCache:function(e){return caches[e.treeId]},getNodeIndex:function(e,t){if(!t)return null;for(var n=t.parentTId?t.getParentNode():data.getRoot(e),r=data.nodeChildren(e,n),o=0,i=r.length-1;o<=i;o++)if(r[o]===t)return o;return-1},getNextNode:function(e,t){if(!t)return null;for(var n=t.parentTId?t.getParentNode():data.getRoot(e),r=data.nodeChildren(e,n),o=0,i=r.length-1;o<=i;o++)if(r[o]===t)return o==i?null:r[o+1];return null},getNodeByParam:function(e,t,n,r){if(!t||!n)return null;for(var o=0,i=t.length;o<i;o++){var a=t[o];if(a[n]==r)return t[o];var u=data.nodeChildren(e,a),s=data.getNodeByParam(e,u,n,r);if(s)return s}return null},getNodeCache:function(e,t){if(!t)return null;var n=caches[e.treeId].nodes[data.getNodeCacheId(t)];return n||null},getNodePath:function(e,t){if(!t)return null;var n;return n=t.parentTId?t.getParentNode().getPath():[],n&&n.push(t),n},getNodes:function(e){return data.nodeChildren(e,data.getRoot(e))},getNodesByParam:function(e,t,n,r){if(!t||!n)return[];for(var o=[],i=0,a=t.length;i<a;i++){var u=t[i];u[n]==r&&o.push(u);var s=data.nodeChildren(e,u);o=o.concat(data.getNodesByParam(e,s,n,r))}return o},getNodesByParamFuzzy:function(e,t,n,r){if(!t||!n)return[];var o=[];r=r.toLowerCase();for(var i=0,a=t.length;i<a;i++){var u=t[i];"string"==typeof u[n]&&t[i][n].toLowerCase().indexOf(r)>-1&&o.push(u);var s=data.nodeChildren(e,u);o=o.concat(data.getNodesByParamFuzzy(e,s,n,r))}return o},getNodesByFilter:function(e,t,n,r,o){if(!t)return r?null:[];for(var i=r?null:[],a=0,u=t.length;a<u;a++){var s=t[a];if(tools.apply(n,[s,o],!1)){if(r)return s;i.push(s)}var c=data.nodeChildren(e,s),l=data.getNodesByFilter(e,c,n,r,o);if(r&&l)return l;i=r?l:i.concat(l)}return i},getPreNode:function(e,t){if(!t)return null;for(var n=t.parentTId?t.getParentNode():data.getRoot(e),r=data.nodeChildren(e,n),o=0,i=r.length;o<i;o++)if(r[o]===t)return 0==o?null:r[o-1];return null},getRoot:function(e){return e?roots[e.treeId]:null},getRoots:function(){return roots},getSetting:function(e){return settings[e]},getSettings:function(){return settings},getZTreeTools:function(e){var t=this.getRoot(this.getSetting(e));return t?t.treeTools:null},initCache:function(e){for(var t=0,n=_init.caches.length;t<n;t++)_init.caches[t].apply(this,arguments)},initNode:function(e,t,n,r,o,i){for(var a=0,u=_init.nodes.length;a<u;a++)_init.nodes[a].apply(this,arguments)},initRoot:function(e){for(var t=0,n=_init.roots.length;t<n;t++)_init.roots[t].apply(this,arguments)},isSelectedNode:function(e,t){for(var n=data.getRoot(e),r=0,o=n.curSelectedList.length;r<o;r++)if(t===n.curSelectedList[r])return!0;return!1},nodeChildren:function(e,t,n){if(!t)return null;var r=e.data.key.children;return void 0!==n&&(t[r]=n),t[r]},nodeIsParent:function(e,t,n){if(!t)return!1;var r=e.data.key.isParent;return void 0!==n?("string"==typeof n&&(n=tools.eqs(n,"true")),n=!!n,t[r]=n):"string"==typeof t[r]?t[r]=tools.eqs(t[r],"true"):t[r]=!!t[r],t[r]},nodeName:function(e,t,n){var r=e.data.key.name;return void 0!==n&&(t[r]=n),""+t[r]},nodeTitle:function(e,t){return""+t[""===e.data.key.title?e.data.key.name:e.data.key.title]},removeNodeCache:function(e,t){var n=data.nodeChildren(e,t);if(n)for(var r=0,o=n.length;r<o;r++)data.removeNodeCache(e,n[r]);data.getCache(e).nodes[data.getNodeCacheId(t.tId)]=null},removeSelectedNode:function(e,t){for(var n=data.getRoot(e),r=0,o=n.curSelectedList.length;r<o;r++)t!==n.curSelectedList[r]&&data.getNodeCache(e,n.curSelectedList[r].tId)||(n.curSelectedList.splice(r,1),e.treeObj.trigger(consts.event.UNSELECTED,[e.treeId,t]),r--,o--)},setCache:function(e,t){caches[e.treeId]=t},setRoot:function(e,t){roots[e.treeId]=t},setZTreeTools:function(e,t){for(var n=0,r=_init.zTreeTools.length;n<r;n++)_init.zTreeTools[n].apply(this,arguments)},transformToArrayFormat:function(e,t){function n(t){r.push(t);var n=data.nodeChildren(e,t);n&&(r=r.concat(data.transformToArrayFormat(e,n)))}if(!t)return[];var r=[];if(tools.isArray(t))for(var o=0,i=t.length;o<i;o++){var a=t[o];n(a)}else n(t);return r},transformTozTreeFormat:function(e,t){var n,r,o=e.data.simpleData.idKey,i=e.data.simpleData.pIdKey;if(!o||""==o||!t)return[];if(tools.isArray(t)){var a=[],u={};for(n=0,r=t.length;n<r;n++)u[t[n][o]]=t[n];for(n=0,r=t.length;n<r;n++){var s=u[t[n][i]];if(s&&t[n][o]!=t[n][i]){var c=data.nodeChildren(e,s);c||(c=data.nodeChildren(e,s,[])),c.push(t[n])}else a.push(t[n])}return a}return[t]}},event={bindEvent:function(e){for(var t=0,n=_init.bind.length;t<n;t++)_init.bind[t].apply(this,arguments)},unbindEvent:function(e){for(var t=0,n=_init.unbind.length;t<n;t++)_init.unbind[t].apply(this,arguments)},bindTree:function(e){var t={treeId:e.treeId},n=e.treeObj;e.view.txtSelectedEnable||n.bind("selectstart",handler.onSelectStart).css({"-moz-user-select":"-moz-none"}),n.bind("click",t,event.proxy),n.bind("dblclick",t,event.proxy),n.bind("mouseover",t,event.proxy),n.bind("mouseout",t,event.proxy),n.bind("mousedown",t,event.proxy),n.bind("mouseup",t,event.proxy),n.bind("contextmenu",t,event.proxy)},unbindTree:function(e){e.treeObj.unbind("selectstart",handler.onSelectStart).unbind("click",event.proxy).unbind("dblclick",event.proxy).unbind("mouseover",event.proxy).unbind("mouseout",event.proxy).unbind("mousedown",event.proxy).unbind("mouseup",event.proxy).unbind("contextmenu",event.proxy)},doProxy:function(e){for(var t=[],n=0,r=_init.proxys.length;n<r;n++){var o=_init.proxys[n].apply(this,arguments);if(t.push(o),o.stop)break}return t},proxy:function(e){var t=data.getSetting(e.data.treeId);if(!tools.uCanDo(t,e))return!0;for(var n=event.doProxy(e),r=!0,o=0,i=n.length;o<i;o++){var a=n[o];a.nodeEventCallback&&(!0,r=a.nodeEventCallback.apply(a,[e,a.node])&&r),a.treeEventCallback&&(!0,r=a.treeEventCallback.apply(a,[e,a.node])&&r)}return r}},handler={onSwitchNode:function(e,t){var n=data.getSetting(e.data.treeId);if(t.open){if(0==tools.apply(n.callback.beforeCollapse,[n.treeId,t],!0))return!0;data.getRoot(n).expandTriggerFlag=!0,view.switchNode(n,t)}else{if(0==tools.apply(n.callback.beforeExpand,[n.treeId,t],!0))return!0;data.getRoot(n).expandTriggerFlag=!0,view.switchNode(n,t)}return!0},onClickNode:function(e,t){var n=data.getSetting(e.data.treeId),r=n.view.autoCancelSelected&&(e.ctrlKey||e.metaKey)&&data.isSelectedNode(n,t)?0:n.view.autoCancelSelected&&(e.ctrlKey||e.metaKey)&&n.view.selectedMulti?2:1;return 0==tools.apply(n.callback.beforeClick,[n.treeId,t,r],!0)||(0===r?view.cancelPreSelectedNode(n,t):view.selectNode(n,t,2===r),n.treeObj.trigger(consts.event.CLICK,[e,n.treeId,t,r]),!0)},onZTreeMousedown:function(e,t){var n=data.getSetting(e.data.treeId);return tools.apply(n.callback.beforeMouseDown,[n.treeId,t],!0)&&tools.apply(n.callback.onMouseDown,[e,n.treeId,t]),!0},onZTreeMouseup:function(e,t){var n=data.getSetting(e.data.treeId);return tools.apply(n.callback.beforeMouseUp,[n.treeId,t],!0)&&tools.apply(n.callback.onMouseUp,[e,n.treeId,t]),!0},onZTreeDblclick:function(e,t){var n=data.getSetting(e.data.treeId);return tools.apply(n.callback.beforeDblClick,[n.treeId,t],!0)&&tools.apply(n.callback.onDblClick,[e,n.treeId,t]),!0},onZTreeContextmenu:function(e,t){var n=data.getSetting(e.data.treeId);return tools.apply(n.callback.beforeRightClick,[n.treeId,t],!0)&&tools.apply(n.callback.onRightClick,[e,n.treeId,t]),"function"!=typeof n.callback.onRightClick},onSelectStart:function(e){var t=e.originalEvent.srcElement.nodeName.toLowerCase();return"input"===t||"textarea"===t}},tools={apply:function(e,t,n){return"function"==typeof e?e.apply(zt,t||[]):n},canAsync:function(e,t){var n=data.nodeChildren(e,t),r=data.nodeIsParent(e,t);return e.async.enable&&t&&r&&!(t.zAsync||n&&n.length>0)},clone:function(e){if(null===e)return null;var t=tools.isArray(e)?[]:{};for(var n in e)t[n]=e[n]instanceof Date?new Date(e[n].getTime()):"object"==typeof e[n]?tools.clone(e[n]):e[n];return t},eqs:function(e,t){return e.toLowerCase()===t.toLowerCase()},isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},isElement:function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName},$:function(e,t,n){return t&&"string"!=typeof t&&(n=t,t=""),"string"==typeof e?$(e,n?n.treeObj.get(0).ownerDocument:null):$("#"+e.tId+t,n?n.treeObj:null)},getMDom:function(e,t,n){if(!t)return null;for(;t&&t.id!==e.treeId;){for(var r=0,o=n.length;t.tagName&&r<o;r++)if(tools.eqs(t.tagName,n[r].tagName)&&null!==t.getAttribute(n[r].attrName))return t;t=t.parentNode}return null},getNodeMainDom:function(e){return $(e).parent("li").get(0)||$(e).parentsUntil("li").parent().get(0)},isChildOrSelf:function(e,t){return $(e).closest("#"+t).length>0},uCanDo:function(e,t){return!0}},view={addNodes:function(e,t,n,r,o){var i=data.nodeIsParent(e,t);if(!e.data.keep.leaf||!t||i)if(tools.isArray(r)||(r=[r]),e.data.simpleData.enable&&(r=data.transformTozTreeFormat(e,r)),t){var a=$$(t,consts.id.SWITCH,e),u=$$(t,consts.id.ICON,e),s=$$(t,consts.id.UL,e);t.open||(view.replaceSwitchClass(t,a,consts.folder.CLOSE),view.replaceIcoClass(t,u,consts.folder.CLOSE),t.open=!1,s.css({display:"none"})),data.addNodesData(e,t,n,r),view.createNodes(e,t.level+1,r,t,n),o||view.expandCollapseParentNode(e,t,!0)}else data.addNodesData(e,data.getRoot(e),n,r),view.createNodes(e,0,r,null,n)},appendNodes:function(e,t,n,r,o,i,a){if(!n)return[];var u,s,c=[],l=r||data.getRoot(e),f=data.nodeChildren(e,l);(!f||o>=f.length-n.length)&&(o=-1);for(var d=0,p=n.length;d<p;d++){var h=n[d];i&&(u=(0===o||f.length==n.length)&&0==d,s=o<0&&d==n.length-1,data.initNode(e,t,h,r,u,s,a),data.addNodeCache(e,h));var m=data.nodeIsParent(e,h),g=[],v=data.nodeChildren(e,h);v&&v.length>0&&(g=view.appendNodes(e,t+1,v,h,-1,i,a&&h.open)),a&&(view.makeDOMNodeMainBefore(c,e,h),view.makeDOMNodeLine(c,e,h),data.getBeforeA(e,h,c),view.makeDOMNodeNameBefore(c,e,h),data.getInnerBeforeA(e,h,c),view.makeDOMNodeIcon(c,e,h),data.getInnerAfterA(e,h,c),view.makeDOMNodeNameAfter(c,e,h),data.getAfterA(e,h,c),m&&h.open&&view.makeUlHtml(e,h,c,g.join("")),view.makeDOMNodeMainAfter(c,e,h),data.addCreatedNode(e,h))}return c},appendParentULDom:function(e,t){var n=[],r=$$(t,e);!r.get(0)&&t.parentTId&&(view.appendParentULDom(e,t.getParentNode()),r=$$(t,e));var o=$$(t,consts.id.UL,e);o.get(0)&&o.remove();var i=data.nodeChildren(e,t),a=view.appendNodes(e,t.level+1,i,t,-1,!1,!0);view.makeUlHtml(e,t,n,a.join("")),r.append(n.join(""))},asyncNode:function(setting,node,isSilent,callback){var i,l,isParent=data.nodeIsParent(setting,node);if(node&&!isParent)return tools.apply(callback),!1;if(node&&node.isAjaxing)return!1;if(0==tools.apply(setting.callback.beforeAsync,[setting.treeId,node],!0))return tools.apply(callback),!1;if(node){node.isAjaxing=!0;var icoObj=$$(node,consts.id.ICON,setting);icoObj.attr({style:"",class:consts.className.BUTTON+" "+consts.className.ICO_LOADING})}var tmpParam={},autoParam=tools.apply(setting.async.autoParam,[setting.treeId,node],setting.async.autoParam);for(i=0,l=autoParam.length;node&&i<l;i++){var pKey=autoParam[i].split("="),spKey=pKey;pKey.length>1&&(spKey=pKey[1],pKey=pKey[0]),tmpParam[spKey]=node[pKey]}var otherParam=tools.apply(setting.async.otherParam,[setting.treeId,node],setting.async.otherParam);if(tools.isArray(otherParam))for(i=0,l=otherParam.length;i<l;i+=2)tmpParam[otherParam[i]]=otherParam[i+1];else for(var p in otherParam)tmpParam[p]=otherParam[p];var _tmpV=data.getRoot(setting)._ver;return $.ajax({contentType:setting.async.contentType,cache:!1,type:setting.async.type,url:tools.apply(setting.async.url,[setting.treeId,node],setting.async.url),data:setting.async.contentType.indexOf("application/json")>-1?JSON.stringify(tmpParam):tmpParam,dataType:setting.async.dataType,headers:setting.async.headers,xhrFields:setting.async.xhrFields,success:function(msg){if(_tmpV==data.getRoot(setting)._ver){var newNodes=[];try{newNodes=msg&&0!=msg.length?"string"==typeof msg?eval("("+msg+")"):msg:[]}catch(e){newNodes=msg}node&&(node.isAjaxing=null,node.zAsync=!0),view.setNodeLineIcos(setting,node),newNodes&&""!==newNodes?(newNodes=tools.apply(setting.async.dataFilter,[setting.treeId,node,newNodes],newNodes),view.addNodes(setting,node,-1,newNodes?tools.clone(newNodes):[],!!isSilent)):view.addNodes(setting,node,-1,[],!!isSilent),setting.treeObj.trigger(consts.event.ASYNC_SUCCESS,[setting.treeId,node,msg]),tools.apply(callback)}},error:function(e,t,n){_tmpV==data.getRoot(setting)._ver&&(node&&(node.isAjaxing=null),view.setNodeLineIcos(setting,node),setting.treeObj.trigger(consts.event.ASYNC_ERROR,[setting.treeId,node,e,t,n]))}}),!0},cancelPreSelectedNode:function(e,t,n){var r,o,i=data.getRoot(e).curSelectedList;for(r=i.length-1;r>=0;r--)if(o=i[r],t===o||!t&&(!n||n!==o)){if($$(o,consts.id.A,e).removeClass(consts.node.CURSELECTED),t){data.removeSelectedNode(e,t);break}i.splice(r,1),e.treeObj.trigger(consts.event.UNSELECTED,[e.treeId,o])}},createNodeCallback:function(e){if(e.callback.onNodeCreated||e.view.addDiyDom)for(var t=data.getRoot(e);t.createdNodes.length>0;){var n=t.createdNodes.shift();tools.apply(e.view.addDiyDom,[e.treeId,n]),e.callback.onNodeCreated&&e.treeObj.trigger(consts.event.NODECREATED,[e.treeId,n])}},createNodes:function(e,t,n,r,o){if(n&&0!=n.length){var i=data.getRoot(e),a=!r||r.open||!!$$(data.nodeChildren(e,r)[0],e).get(0);i.createdNodes=[];var u,s,c=view.appendNodes(e,t,n,r,o,!0,a);if(r){var l=$$(r,consts.id.UL,e);l.get(0)&&(u=l)}else u=e.treeObj;u&&(o>=0&&(s=u.children()[o]),o>=0&&s?$(s).before(c.join("")):u.append(c.join(""))),view.createNodeCallback(e)}},destroy:function(e){e&&(data.initCache(e),data.initRoot(e),event.unbindTree(e),event.unbindEvent(e),e.treeObj.empty(),delete settings[e.treeId])},expandCollapseNode:function(e,t,n,r,o){var i,a,u=data.getRoot(e);if(!t)return void tools.apply(o,[]);var s=data.nodeChildren(e,t),c=data.nodeIsParent(e,t);if(u.expandTriggerFlag&&(a=o,i=function(){a&&a(),t.open?e.treeObj.trigger(consts.event.EXPAND,[e.treeId,t]):e.treeObj.trigger(consts.event.COLLAPSE,[e.treeId,t])},o=i,u.expandTriggerFlag=!1),!t.open&&c&&(!$$(t,consts.id.UL,e).get(0)||s&&s.length>0&&!$$(s[0],e).get(0))&&(view.appendParentULDom(e,t),view.createNodeCallback(e)),t.open==n)return void tools.apply(o,[]);var l=$$(t,consts.id.UL,e),f=$$(t,consts.id.SWITCH,e),d=$$(t,consts.id.ICON,e);c?(t.open=!t.open,t.iconOpen&&t.iconClose&&d.attr("style",view.makeNodeIcoStyle(e,t)),t.open?(view.replaceSwitchClass(t,f,consts.folder.OPEN),view.replaceIcoClass(t,d,consts.folder.OPEN),0==r||""==e.view.expandSpeed?(l.show(),tools.apply(o,[])):s&&s.length>0?l.slideDown(e.view.expandSpeed,o):(l.show(),tools.apply(o,[]))):(view.replaceSwitchClass(t,f,consts.folder.CLOSE),view.replaceIcoClass(t,d,consts.folder.CLOSE),0!=r&&""!=e.view.expandSpeed&&s&&s.length>0?l.slideUp(e.view.expandSpeed,o):(l.hide(),tools.apply(o,[])))):tools.apply(o,[])},expandCollapseParentNode:function(e,t,n,r,o){if(t){if(!t.parentTId)return void view.expandCollapseNode(e,t,n,r,o);view.expandCollapseNode(e,t,n,r),t.parentTId&&view.expandCollapseParentNode(e,t.getParentNode(),n,r,o)}},expandCollapseSonNode:function(e,t,n,r,o){var i=data.getRoot(e),a=t?data.nodeChildren(e,t):data.nodeChildren(e,i),u=!t&&r,s=data.getRoot(e).expandTriggerFlag;if(data.getRoot(e).expandTriggerFlag=!1,a)for(var c=0,l=a.length;c<l;c++)a[c]&&view.expandCollapseSonNode(e,a[c],n,u);data.getRoot(e).expandTriggerFlag=s,view.expandCollapseNode(e,t,n,r,o)},isSelectedNode:function(e,t){if(!t)return!1;var n,r=data.getRoot(e).curSelectedList;for(n=r.length-1;n>=0;n--)if(t===r[n])return!0;return!1},makeDOMNodeIcon:function(e,t,n){var r=data.nodeName(t,n),o=t.view.nameIsHTML?r:r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");e.push("<span id='",n.tId,consts.id.ICON,"' title='' treeNode",consts.id.ICON," class='",view.makeNodeIcoClass(t,n),"' style='",view.makeNodeIcoStyle(t,n),"'></span><span id='",n.tId,consts.id.SPAN,"' class='",consts.className.NAME,"'>",o,"</span>")},makeDOMNodeLine:function(e,t,n){e.push("<span id='",n.tId,consts.id.SWITCH,"' title='' class='",view.makeNodeLineClass(t,n),"' treeNode",consts.id.SWITCH,"></span>")},makeDOMNodeMainAfter:function(e,t,n){e.push("</li>")},makeDOMNodeMainBefore:function(e,t,n){e.push("<li id='",n.tId,"' class='",consts.className.LEVEL,n.level,"' tabindex='0' hidefocus='true' treenode>")},makeDOMNodeNameAfter:function(e,t,n){e.push("</a>")},makeDOMNodeNameBefore:function(e,t,n){var r=data.nodeTitle(t,n),o=view.makeNodeUrl(t,n),i=view.makeNodeFontCss(t,n),a=view.makeNodeClasses(t,n),u=[];for(var s in i)u.push(s,":",i[s],";");e.push("<a id='",n.tId,consts.id.A,"' class='",consts.className.LEVEL,n.level,a.add?" "+a.add.join(" "):"","' treeNode",consts.id.A,' onclick="',n.click||"",'" ',null!=o&&o.length>0?"href='"+o+"'":""," target='",view.makeNodeTarget(n),"' style='",u.join(""),"'"),tools.apply(t.view.showTitle,[t.treeId,n],t.view.showTitle)&&r&&e.push("title='",r.replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"'"),e.push(">")},makeNodeFontCss:function(e,t){var n=tools.apply(e.view.fontCss,[e.treeId,t],e.view.fontCss);return n&&"function"!=typeof n?n:{}},makeNodeClasses:function(e,t){var n=tools.apply(e.view.nodeClasses,[e.treeId,t],e.view.nodeClasses);return n&&"function"!=typeof n?n:{add:[],remove:[]}},makeNodeIcoClass:function(e,t){var n=["ico"];if(!t.isAjaxing){var r=data.nodeIsParent(e,t);n[0]=(t.iconSkin?t.iconSkin+"_":"")+n[0],r?n.push(t.open?consts.folder.OPEN:consts.folder.CLOSE):n.push(consts.folder.DOCU)}return consts.className.BUTTON+" "+n.join("_")},makeNodeIcoStyle:function(e,t){var n=[];if(!t.isAjaxing){var r=data.nodeIsParent(e,t),o=r&&t.iconOpen&&t.iconClose?t.open?t.iconOpen:t.iconClose:t[e.data.key.icon];o&&n.push("background:url(",o,") 0 0 no-repeat;"),0!=e.view.showIcon&&tools.apply(e.view.showIcon,[e.treeId,t],!0)||n.push("display:none;")}return n.join("")},makeNodeLineClass:function(e,t){var n=[];return e.view.showLine?0==t.level&&t.isFirstNode&&t.isLastNode?n.push(consts.line.ROOT):0==t.level&&t.isFirstNode?n.push(consts.line.ROOTS):t.isLastNode?n.push(consts.line.BOTTOM):n.push(consts.line.CENTER):n.push(consts.line.NOLINE),data.nodeIsParent(e,t)?n.push(t.open?consts.folder.OPEN:consts.folder.CLOSE):n.push(consts.folder.DOCU),view.makeNodeLineClassEx(t)+n.join("_")},makeNodeLineClassEx:function(e){return consts.className.BUTTON+" "+consts.className.LEVEL+e.level+" "+consts.className.SWITCH+" "},makeNodeTarget:function(e){return e.target||"_blank"},makeNodeUrl:function(e,t){var n=e.data.key.url;return t[n]?t[n]:null},makeUlHtml:function(e,t,n,r){n.push("<ul id='",t.tId,consts.id.UL,"' class='",consts.className.LEVEL,t.level," ",view.makeUlLineClass(e,t),"' style='display:",t.open?"block":"none","'>"),n.push(r),n.push("</ul>")},makeUlLineClass:function(e,t){return e.view.showLine&&!t.isLastNode?consts.line.LINE:""},removeChildNodes:function(e,t){if(t){var n=data.nodeChildren(e,t);if(n){for(var r=0,o=n.length;r<o;r++)data.removeNodeCache(e,n[r]);if(data.removeSelectedNode(e),delete t[e.data.key.children],e.data.keep.parent)$$(t,consts.id.UL,e).empty();else{data.nodeIsParent(e,t,!1),t.open=!1;var i=$$(t,consts.id.SWITCH,e),a=$$(t,consts.id.ICON,e);view.replaceSwitchClass(t,i,consts.folder.DOCU),view.replaceIcoClass(t,a,consts.folder.DOCU),$$(t,consts.id.UL,e).remove()}}}},scrollIntoView:function(e,t){if(t){if("undefined"==typeof Element||"undefined"==typeof HTMLElement){var n=e.treeObj.get(0).getBoundingClientRect(),r=t.getBoundingClientRect();return void((r.top<n.top||r.bottom>n.bottom||r.right>n.right||r.left<n.left)&&t.scrollIntoView())}Element.prototype.scrollIntoViewIfNeeded||(Element.prototype.scrollIntoViewIfNeeded=function(e){"use strict";function t(e,t){return{start:e,length:t,end:e+t}}function n(t,n){return!1===e||n.start<t.end&&t.start<n.end?Math.max(t.end-n.length,Math.min(n.start,t.start)):(t.start+t.end-n.length)/2}function r(e,t){return{x:e,y:t,translate:function(n,o){return r(e+n,t+o)}}}function o(e,t){for(;e;)t=t.translate(e.offsetLeft,e.offsetTop),e=e.offsetParent;return t}for(var i,a=o(this,r(0,0)),u=r(this.offsetWidth,this.offsetHeight),s=this.parentNode;s instanceof HTMLElement;)i=o(s,r(s.clientLeft,s.clientTop)),s.scrollLeft=n(t(a.x-i.x,u.x),t(s.scrollLeft,s.clientWidth)),s.scrollTop=n(t(a.y-i.y,u.y),t(s.scrollTop,s.clientHeight)),a=a.translate(-s.scrollLeft,-s.scrollTop),s=s.parentNode}),t.scrollIntoViewIfNeeded()}},setFirstNode:function(e,t){var n=data.nodeChildren(e,t);n.length>0&&(n[0].isFirstNode=!0)},setLastNode:function(e,t){var n=data.nodeChildren(e,t);n.length>0&&(n[n.length-1].isLastNode=!0)},removeNode:function(e,t){var n=data.getRoot(e),r=t.parentTId?t.getParentNode():n;if(t.isFirstNode=!1,t.isLastNode=!1,t.getPreNode=function(){return null},t.getNextNode=function(){return null},data.getNodeCache(e,t.tId)){$$(t,e).remove(),data.removeNodeCache(e,t),data.removeSelectedNode(e,t);for(var o=data.nodeChildren(e,r),i=0,a=o.length;i<a;i++)if(o[i].tId==t.tId){o.splice(i,1);break}view.setFirstNode(e,r),view.setLastNode(e,r);var u,s,c,l=o.length;if(e.data.keep.parent||0!=l){if(e.view.showLine&&l>0){var f=o[l-1];if(u=$$(f,consts.id.UL,e),s=$$(f,consts.id.SWITCH,e),c=$$(f,consts.id.ICON,e),r==n)if(1==o.length)view.replaceSwitchClass(f,s,consts.line.ROOT);else{var d=$$(o[0],consts.id.SWITCH,e);view.replaceSwitchClass(o[0],d,consts.line.ROOTS),view.replaceSwitchClass(f,s,consts.line.BOTTOM)}else view.replaceSwitchClass(f,s,consts.line.BOTTOM);u.removeClass(consts.line.LINE)}}else data.nodeIsParent(e,r,!1),r.open=!1,delete r[e.data.key.children],u=$$(r,consts.id.UL,e),s=$$(r,consts.id.SWITCH,e),c=$$(r,consts.id.ICON,e),view.replaceSwitchClass(r,s,consts.folder.DOCU),view.replaceIcoClass(r,c,consts.folder.DOCU),u.css("display","none")}},replaceIcoClass:function(e,t,n){if(t&&!e.isAjaxing){var r=t.attr("class");if(void 0!=r){var o=r.split("_");switch(n){case consts.folder.OPEN:case consts.folder.CLOSE:case consts.folder.DOCU:o[o.length-1]=n}t.attr("class",o.join("_"))}}},replaceSwitchClass:function(e,t,n){if(t){var r=t.attr("class");if(void 0!=r){var o=r.split("_");switch(n){case consts.line.ROOT:case consts.line.ROOTS:case consts.line.CENTER:case consts.line.BOTTOM:case consts.line.NOLINE:o[0]=view.makeNodeLineClassEx(e)+n;break;case consts.folder.OPEN:case consts.folder.CLOSE:case consts.folder.DOCU:o[1]=n}t.attr("class",o.join("_")),n!==consts.folder.DOCU?t.removeAttr("disabled"):t.attr("disabled","disabled")}}},selectNode:function(e,t,n){n||view.cancelPreSelectedNode(e,null,t),$$(t,consts.id.A,e).addClass(consts.node.CURSELECTED),data.addSelectedNode(e,t),e.treeObj.trigger(consts.event.SELECTED,[e.treeId,t])},setNodeFontCss:function(e,t){var n=$$(t,consts.id.A,e),r=view.makeNodeFontCss(e,t);r&&n.css(r)},setNodeClasses:function(e,t){var n=$$(t,consts.id.A,e),r=view.makeNodeClasses(e,t);"add"in r&&r.add.length&&n.addClass(r.add.join(" ")),"remove"in r&&r.remove.length&&n.removeClass(r.remove.join(" "))},setNodeLineIcos:function(e,t){if(t){var n=$$(t,consts.id.SWITCH,e),r=$$(t,consts.id.UL,e),o=$$(t,consts.id.ICON,e),i=view.makeUlLineClass(e,t);0==i.length?r.removeClass(consts.line.LINE):r.addClass(i),n.attr("class",view.makeNodeLineClass(e,t)),data.nodeIsParent(e,t)?n.removeAttr("disabled"):n.attr("disabled","disabled"),o.removeAttr("style"),o.attr("style",view.makeNodeIcoStyle(e,t)),o.attr("class",view.makeNodeIcoClass(e,t))}},setNodeName:function(e,t){var n=data.nodeTitle(e,t),r=$$(t,consts.id.SPAN,e);if(r.empty(),e.view.nameIsHTML?r.html(data.nodeName(e,t)):r.text(data.nodeName(e,t)),tools.apply(e.view.showTitle,[e.treeId,t],e.view.showTitle)){$$(t,consts.id.A,e).attr("title",n||"")}},setNodeTarget:function(e,t){$$(t,consts.id.A,e).attr("target",view.makeNodeTarget(t))},setNodeUrl:function(e,t){var n=$$(t,consts.id.A,e),r=view.makeNodeUrl(e,t);null==r||0==r.length?n.removeAttr("href"):n.attr("href",r)},switchNode:function(e,t){if(t.open||!tools.canAsync(e,t))view.expandCollapseNode(e,t,!t.open);else if(e.async.enable){if(!view.asyncNode(e,t))return void view.expandCollapseNode(e,t,!t.open)}else t&&view.expandCollapseNode(e,t,!t.open)}};$.fn.zTree={consts:_consts,_z:{tools:tools,view:view,event:event,data:data},getZTreeObj:function(e){var t=data.getZTreeTools(e);return t||null},destroy:function(e){if(e&&e.length>0)view.destroy(data.getSetting(e));else for(var t in settings)view.destroy(settings[t])},init:function(e,t,n){var r=tools.clone(_setting);$.extend(!0,r,t),r.treeId=e.attr("id"),r.treeObj=e,r.treeObj.empty(),settings[r.treeId]=r,void 0===document.body.style.maxHeight&&(r.view.expandSpeed=""),data.initRoot(r);var o=data.getRoot(r);n=n?tools.clone(tools.isArray(n)?n:[n]):[],r.data.simpleData.enable?data.nodeChildren(r,o,data.transformTozTreeFormat(r,n)):data.nodeChildren(r,o,n),data.initCache(r),event.unbindTree(r),event.bindTree(r),event.unbindEvent(r),event.bindEvent(r);var i={setting:r,addNodes:function(e,t,n,o){function i(){view.addNodes(r,e,t,s,1==o)}e||(e=null);var a=data.nodeIsParent(r,e);if(e&&!a&&r.data.keep.leaf)return null;var u=parseInt(t,10);if(isNaN(u)?(o=!!n,n=t,t=-1):t=u,!n)return null;var s=tools.clone(tools.isArray(n)?n:[n]);return tools.canAsync(r,e)?view.asyncNode(r,e,o,i):i(),s},cancelSelectedNode:function(e){view.cancelPreSelectedNode(r,e)},destroy:function(){view.destroy(r)},expandAll:function(e){return e=!!e,view.expandCollapseSonNode(r,null,e,!0),e},expandNode:function(e,t,n,o,i){function a(){var t=$$(e,r).get(0);t&&!1!==o&&view.scrollIntoView(r,t)}return e&&data.nodeIsParent(r,e)?(!0!==t&&!1!==t&&(t=!e.open),(i=!!i)&&t&&0==tools.apply(r.callback.beforeExpand,[r.treeId,e],!0)?null:i&&!t&&0==tools.apply(r.callback.beforeCollapse,[r.treeId,e],!0)?null:(t&&e.parentTId&&view.expandCollapseParentNode(r,e.getParentNode(),t,!1),t!==e.open||n?(data.getRoot(r).expandTriggerFlag=i,!tools.canAsync(r,e)&&n?view.expandCollapseSonNode(r,e,t,!0,a):(e.open=!t,view.switchNode(this.setting,e),a()),t):null)):null},getNodes:function(){return data.getNodes(r)},getNodeByParam:function(e,t,n){return e?data.getNodeByParam(r,n?data.nodeChildren(r,n):data.getNodes(r),e,t):null},getNodeByTId:function(e){return data.getNodeCache(r,e)},getNodesByParam:function(e,t,n){return e?data.getNodesByParam(r,n?data.nodeChildren(r,n):data.getNodes(r),e,t):null},getNodesByParamFuzzy:function(e,t,n){return e?data.getNodesByParamFuzzy(r,n?data.nodeChildren(r,n):data.getNodes(r),e,t):null},getNodesByFilter:function(e,t,n,o){return t=!!t,e&&"function"==typeof e?data.getNodesByFilter(r,n?data.nodeChildren(r,n):data.getNodes(r),e,t,o):t?null:[]},getNodeIndex:function(e){if(!e)return null;for(var t=e.parentTId?e.getParentNode():data.getRoot(r),n=data.nodeChildren(r,t),o=0,i=n.length;o<i;o++)if(n[o]==e)return o;return-1},getSelectedNodes:function(){for(var e=[],t=data.getRoot(r).curSelectedList,n=0,o=t.length;n<o;n++)e.push(t[n]);return e},isSelectedNode:function(e){return data.isSelectedNode(r,e)},reAsyncChildNodesPromise:function(e,t,n){return new Promise(function(r,o){try{i.reAsyncChildNodes(e,t,n,function(){r(e)})}catch(e){o(e)}})},reAsyncChildNodes:function(e,t,n,o){if(this.setting.async.enable){var i=!e;if(i&&(e=data.getRoot(r)),"refresh"==t){for(var a=data.nodeChildren(r,e),u=0,s=a?a.length:0;u<s;u++)data.removeNodeCache(r,a[u]);if(data.removeSelectedNode(r),data.nodeChildren(r,e,[]),i)this.setting.treeObj.empty();else{$$(e,consts.id.UL,r).empty()}}view.asyncNode(this.setting,i?null:e,!!n,o)}},refresh:function(){this.setting.treeObj.empty();var e=data.getRoot(r),t=data.nodeChildren(r,e);data.initRoot(r),data.nodeChildren(r,e,t),data.initCache(r),view.createNodes(r,0,data.nodeChildren(r,e),null,-1)},removeChildNodes:function(e){if(!e)return null;var t=data.nodeChildren(r,e);return view.removeChildNodes(r,e),t||null},removeNode:function(e,t){e&&((t=!!t)&&0==tools.apply(r.callback.beforeRemove,[r.treeId,e],!0)||(view.removeNode(r,e),t&&this.setting.treeObj.trigger(consts.event.REMOVE,[r.treeId,e])))},selectNode:function(e,t,n){function o(){if(!n){var t=$$(e,r).get(0);view.scrollIntoView(r,t)}}if(e&&tools.uCanDo(r)){if(t=r.view.selectedMulti&&t,e.parentTId)view.expandCollapseParentNode(r,e.getParentNode(),!0,!1,o);else if(!n)try{$$(e,r).focus().blur()}catch(e){}view.selectNode(r,e,t)}},transformTozTreeNodes:function(e){return data.transformTozTreeFormat(r,e)},transformToArray:function(e){return data.transformToArrayFormat(r,e)},updateNode:function(e,t){if(e){$$(e,r).get(0)&&tools.uCanDo(r)&&(view.setNodeName(r,e),view.setNodeTarget(r,e),view.setNodeUrl(r,e),view.setNodeLineIcos(r,e),view.setNodeFontCss(r,e),view.setNodeClasses(r,e))}}};o.treeTools=i,data.setZTreeTools(r,i);var a=data.nodeChildren(r,o);return a&&a.length>0?view.createNodes(r,0,a,null,-1):r.async.enable&&r.async.url&&""!==r.async.url&&view.asyncNode(r),i}};var zt=$.fn.zTree,$$=tools.$,consts=zt.consts}(jQuery),function(e){var t={event:{CHECK:"ztree_check"},id:{CHECK:"_check"},checkbox:{STYLE:"checkbox",DEFAULT:"chk",DISABLED:"disable",FALSE:"false",TRUE:"true",FULL:"full",PART:"part",FOCUS:"focus"},radio:{STYLE:"radio",TYPE_ALL:"all",TYPE_LEVEL:"level"}},n={check:{enable:!1,autoCheckTrigger:!1,chkStyle:t.checkbox.STYLE,nocheckInherit:!1,chkDisabledInherit:!1,radioType:t.radio.TYPE_LEVEL,chkboxType:{Y:"ps",N:"ps"}},data:{key:{checked:"checked"}},callback:{beforeCheck:null,onCheck:null}},r=function(e){x.getRoot(e).radioCheckedList=[]},o=function(e){},i=function(e){var t=e.treeObj,n=y.event;t.bind(n.CHECK,function(t,n,r,o){t.srcEvent=n,b.apply(e.callback.onCheck,[t,r,o])})},a=function(e){var t=e.treeObj,n=y.event;t.unbind(n.CHECK)},u=function(e){var t=e.target,n=x.getSetting(e.data.treeId),r="",o=null,i="",a=null;if(b.eqs(e.type,"mouseover")?n.check.enable&&b.eqs(t.tagName,"span")&&null!==t.getAttribute("treeNode"+y.id.CHECK)&&(r=b.getNodeMainDom(t).id,i="mouseoverCheck"):b.eqs(e.type,"mouseout")?n.check.enable&&b.eqs(t.tagName,"span")&&null!==t.getAttribute("treeNode"+y.id.CHECK)&&(r=b.getNodeMainDom(t).id,i="mouseoutCheck"):b.eqs(e.type,"click")&&n.check.enable&&b.eqs(t.tagName,"span")&&null!==t.getAttribute("treeNode"+y.id.CHECK)&&(r=b.getNodeMainDom(t).id,i="checkNode"),r.length>0)switch(o=x.getNodeCache(n,r),i){case"checkNode":a=p.onCheckNode;break;case"mouseoverCheck":a=p.onMouseoverCheck;break;case"mouseoutCheck":a=p.onMouseoutCheck}return{stop:"checkNode"===i,node:o,nodeEventType:i,nodeEventCallback:a,treeEventType:"",treeEventCallback:null}},s=function(e,t,n,r,o,i,a){if(n){var u=x.nodeChecked(e,n);if(n.checkedOld=u,"string"==typeof n.nocheck&&(n.nocheck=b.eqs(n.nocheck,"true")),n.nocheck=!!n.nocheck||e.check.nocheckInherit&&r&&!!r.nocheck,"string"==typeof n.chkDisabled&&(n.chkDisabled=b.eqs(n.chkDisabled,"true")),n.chkDisabled=!!n.chkDisabled||e.check.chkDisabledInherit&&r&&!!r.chkDisabled,"string"==typeof n.halfCheck&&(n.halfCheck=b.eqs(n.halfCheck,"true")),n.halfCheck=!!n.halfCheck,n.check_Child_State=-1,n.check_Focus=!1,n.getCheckStatus=function(){return x.getCheckStatus(e,n)},e.check.chkStyle==y.radio.STYLE&&e.check.radioType==y.radio.TYPE_ALL&&u){x.getRoot(e).radioCheckedList.push(n)}}},c=function(e,t,n){e.check.enable&&(x.makeChkFlag(e,t),n.push("<span ID='",t.tId,y.id.CHECK,"' class='",w.makeChkClass(e,t),"' treeNode",y.id.CHECK,!0===t.nocheck?" style='display:none;'":"","></span>"))},l=function(e,t){t.checkNode=function(t,n,r,o){var i=x.nodeChecked(e,t);if(!0!==t.chkDisabled&&(!0!==n&&!1!==n&&(n=!i),o=!!o,(i!==n||r)&&(!o||0!=b.apply(this.setting.callback.beforeCheck,[this.setting.treeId,t],!0))&&b.uCanDo(this.setting)&&this.setting.check.enable&&!0!==t.nocheck)){x.nodeChecked(e,t,n);var a=_(t,y.id.CHECK,this.setting);(r||this.setting.check.chkStyle===y.radio.STYLE)&&w.checkNodeRelation(this.setting,t),w.setChkClass(this.setting,a,t),w.repairParentChkClassWithSelf(this.setting,t),o&&this.setting.treeObj.trigger(y.event.CHECK,[null,this.setting.treeId,t])}},t.checkAllNodes=function(e){w.repairAllChk(this.setting,!!e)},t.getCheckedNodes=function(t){t=!1!==t;var n=x.nodeChildren(e,x.getRoot(this.setting));return x.getTreeCheckedNodes(this.setting,n,t)},t.getChangeCheckedNodes=function(){var t=x.nodeChildren(e,x.getRoot(this.setting));return x.getTreeChangeCheckedNodes(this.setting,t)},t.setChkDisabled=function(e,t,n,r){t=!!t,n=!!n,r=!!r,w.repairSonChkDisabled(this.setting,e,t,r),w.repairParentChkDisabled(this.setting,e.getParentNode(),t,n)};var n=t.updateNode;t.updateNode=function(e,r){if(n&&n.apply(t,arguments),e&&this.setting.check.enable){if(_(e,this.setting).get(0)&&b.uCanDo(this.setting)){var o=_(e,y.id.CHECK,this.setting);1!=r&&this.setting.check.chkStyle!==y.radio.STYLE||w.checkNodeRelation(this.setting,e),w.setChkClass(this.setting,o,e),w.repairParentChkClassWithSelf(this.setting,e)}}}},f={getRadioCheckedList:function(e){for(var t=x.getRoot(e).radioCheckedList,n=0,r=t.length;n<r;n++)x.getNodeCache(e,t[n].tId)||(t.splice(n,1),n--,r--);return t},getCheckStatus:function(e,t){if(!e.check.enable||t.nocheck||t.chkDisabled)return null;var n=x.nodeChecked(e,t);return{checked:n,half:t.halfCheck?t.halfCheck:e.check.chkStyle==y.radio.STYLE?2===t.check_Child_State:n?t.check_Child_State>-1&&t.check_Child_State<2:t.check_Child_State>0}},getTreeCheckedNodes:function(e,t,n,r){if(!t)return[];var o=n&&e.check.chkStyle==y.radio.STYLE&&e.check.radioType==y.radio.TYPE_ALL;r=r||[];for(var i=0,a=t.length;i<a;i++){var u=t[i],s=x.nodeChildren(e,u),c=x.nodeChecked(e,u);if(!0!==u.nocheck&&!0!==u.chkDisabled&&c==n&&(r.push(u),o))break;if(x.getTreeCheckedNodes(e,s,n,r),o&&r.length>0)break}return r},getTreeChangeCheckedNodes:function(e,t,n){if(!t)return[];n=n||[];for(var r=0,o=t.length;r<o;r++){var i=t[r],a=x.nodeChildren(e,i),u=x.nodeChecked(e,i);!0!==i.nocheck&&!0!==i.chkDisabled&&u!=i.checkedOld&&n.push(i),x.getTreeChangeCheckedNodes(e,a,n)}return n},makeChkFlag:function(e,t){if(t){var n=-1,r=x.nodeChildren(e,t);if(r)for(var o=0,i=r.length;o<i;o++){var a=r[o],u=x.nodeChecked(e,a),s=-1;if(e.check.chkStyle==y.radio.STYLE){if(2==(s=!0===a.nocheck||!0===a.chkDisabled?a.check_Child_State:!0===a.halfCheck?2:u?2:a.check_Child_State>0?2:0)){n=2;break}0==s&&(n=0)}else if(e.check.chkStyle==y.checkbox.STYLE){if(1===(s=!0===a.nocheck||!0===a.chkDisabled?a.check_Child_State:!0===a.halfCheck?1:u?-1===a.check_Child_State||2===a.check_Child_State?2:1:a.check_Child_State>0?1:0)){n=1;break}if(2===s&&n>-1&&o>0&&s!==n){n=1;break}if(2===n&&s>-1&&s<2){n=1;break}s>-1&&(n=s)}}t.check_Child_State=n}}},d={},p={onCheckNode:function(e,t){if(!0===t.chkDisabled)return!1;var n=x.getSetting(e.data.treeId);if(0==b.apply(n.callback.beforeCheck,[n.treeId,t],!0))return!0;var r=x.nodeChecked(n,t);x.nodeChecked(n,t,!r),w.checkNodeRelation(n,t);var o=_(t,y.id.CHECK,n);return w.setChkClass(n,o,t),w.repairParentChkClassWithSelf(n,t),n.treeObj.trigger(y.event.CHECK,[e,n.treeId,t]),!0},onMouseoverCheck:function(e,t){if(!0===t.chkDisabled)return!1;var n=x.getSetting(e.data.treeId),r=_(t,y.id.CHECK,n);return t.check_Focus=!0,w.setChkClass(n,r,t),!0},onMouseoutCheck:function(e,t){if(!0===t.chkDisabled)return!1;var n=x.getSetting(e.data.treeId),r=_(t,y.id.CHECK,n);return t.check_Focus=!1,w.setChkClass(n,r,t),!0}},h={},m={checkNodeRelation:function(e,t){var n,r,o,i=y.radio,a=x.nodeChecked(e,t);if(e.check.chkStyle==i.STYLE){var u=x.getRadioCheckedList(e);if(a)if(e.check.radioType==i.TYPE_ALL){for(r=u.length-1;r>=0;r--){n=u[r];var s=x.nodeChecked(e,n);s&&n!=t&&(x.nodeChecked(e,n,!1),u.splice(r,1),w.setChkClass(e,_(n,y.id.CHECK,e),n),n.parentTId!=t.parentTId&&w.repairParentChkClassWithSelf(e,n))}u.push(t)}else{var c=t.parentTId?t.getParentNode():x.getRoot(e),l=x.nodeChildren(e,c);for(r=0,o=l.length;r<o;r++){n=l[r];var s=x.nodeChecked(e,n);s&&n!=t&&(x.nodeChecked(e,n,!1),w.setChkClass(e,_(n,y.id.CHECK,e),n))}}else if(e.check.radioType==i.TYPE_ALL)for(r=0,o=u.length;r<o;r++)if(t==u[r]){u.splice(r,1);break}}else{var l=x.nodeChildren(e,t);a&&(!l||0==l.length||e.check.chkboxType.Y.indexOf("s")>-1)&&w.setSonNodeCheckBox(e,t,!0),a||l&&0!=l.length&&!(e.check.chkboxType.N.indexOf("s")>-1)||w.setSonNodeCheckBox(e,t,!1),a&&e.check.chkboxType.Y.indexOf("p")>-1&&w.setParentNodeCheckBox(e,t,!0),!a&&e.check.chkboxType.N.indexOf("p")>-1&&w.setParentNodeCheckBox(e,t,!1)}},makeChkClass:function(e,t){var n=y.checkbox,r=y.radio,o="",i=x.nodeChecked(e,t);o=!0===t.chkDisabled?n.DISABLED:t.halfCheck?n.PART:e.check.chkStyle==r.STYLE?t.check_Child_State<1?n.FULL:n.PART:i?2===t.check_Child_State||-1===t.check_Child_State?n.FULL:n.PART:t.check_Child_State<1?n.FULL:n.PART;var a=e.check.chkStyle+"_"+(i?n.TRUE:n.FALSE)+"_"+o;return a=t.check_Focus&&!0!==t.chkDisabled?a+"_"+n.FOCUS:a,y.className.BUTTON+" "+n.DEFAULT+" "+a},repairAllChk:function(e,t){if(e.check.enable&&e.check.chkStyle===y.checkbox.STYLE)for(var n=x.getRoot(e),r=x.nodeChildren(e,n),o=0,i=r.length;o<i;o++){var a=r[o];!0!==a.nocheck&&!0!==a.chkDisabled&&x.nodeChecked(e,a,t),w.setSonNodeCheckBox(e,a,t)}},repairChkClass:function(e,t){if(t&&(x.makeChkFlag(e,t),!0!==t.nocheck)){var n=_(t,y.id.CHECK,e);w.setChkClass(e,n,t)}},repairParentChkClass:function(e,t){if(t&&t.parentTId){var n=t.getParentNode();w.repairChkClass(e,n),w.repairParentChkClass(e,n)}},repairParentChkClassWithSelf:function(e,t){if(t){var n=x.nodeChildren(e,t);n&&n.length>0?w.repairParentChkClass(e,n[0]):w.repairParentChkClass(e,t)}},repairSonChkDisabled:function(e,t,n,r){if(t){t.chkDisabled!=n&&(t.chkDisabled=n),w.repairChkClass(e,t);var o=x.nodeChildren(e,t);if(o&&r)for(var i=0,a=o.length;i<a;i++){var u=o[i];w.repairSonChkDisabled(e,u,n,r)}}},repairParentChkDisabled:function(e,t,n,r){t&&(t.chkDisabled!=n&&r&&(t.chkDisabled=n),w.repairChkClass(e,t),w.repairParentChkDisabled(e,t.getParentNode(),n,r))},setChkClass:function(e,t,n){t&&(!0===n.nocheck?t.hide():t.show(),t.attr("class",w.makeChkClass(e,n)))},setParentNodeCheckBox:function(e,t,n,r){var o=_(t,y.id.CHECK,e);if(r||(r=t),x.makeChkFlag(e,t),!0!==t.nocheck&&!0!==t.chkDisabled&&(x.nodeChecked(e,t,n),w.setChkClass(e,o,t),e.check.autoCheckTrigger&&t!=r&&e.treeObj.trigger(y.event.CHECK,[null,e.treeId,t])),t.parentTId){var i=!0;if(!n)for(var a=x.nodeChildren(e,t.getParentNode()),u=0,s=a.length;u<s;u++){var c=a[u],l=x.nodeChecked(e,c);if(!0!==c.nocheck&&!0!==c.chkDisabled&&l||(!0===c.nocheck||!0===c.chkDisabled)&&c.check_Child_State>0){i=!1;break}}i&&w.setParentNodeCheckBox(e,t.getParentNode(),n,r)}},setSonNodeCheckBox:function(e,t,n,r){if(t){var o=_(t,y.id.CHECK,e);r||(r=t);var i=!1,a=x.nodeChildren(e,t);if(a)for(var u=0,s=a.length;u<s;u++){var c=a[u];w.setSonNodeCheckBox(e,c,n,r),!0===c.chkDisabled&&(i=!0)}t!=x.getRoot(e)&&!0!==t.chkDisabled&&(i&&!0!==t.nocheck&&x.makeChkFlag(e,t),!0!==t.nocheck&&!0!==t.chkDisabled?(x.nodeChecked(e,t,n),i||(t.check_Child_State=a&&a.length>0?n?2:0:-1)):t.check_Child_State=-1,w.setChkClass(e,o,t),e.check.autoCheckTrigger&&t!=r&&!0!==t.nocheck&&!0!==t.chkDisabled&&e.treeObj.trigger(y.event.CHECK,[null,e.treeId,t]))}}},g={tools:h,view:m,event:d,data:f};e.extend(!0,e.fn.zTree.consts,t),e.extend(!0,e.fn.zTree._z,g);var v=e.fn.zTree,b=v._z.tools,y=v.consts,w=v._z.view,x=v._z.data,_=(v._z.event,b.$);x.nodeChecked=function(e,t,n){if(!t)return!1;var r=e.data.key.checked;return void 0!==n?("string"==typeof n&&(n=b.eqs(n,"true")),n=!!n,t[r]=n):"string"==typeof t[r]?t[r]=b.eqs(t[r],"true"):t[r]=!!t[r],t[r]},x.exSetting(n),x.addInitBind(i),x.addInitUnBind(a),x.addInitCache(o),x.addInitNode(s),x.addInitProxy(u,!0),x.addInitRoot(r),x.addBeforeA(c),x.addZTreeTools(l);var C=w.createNodes;w.createNodes=function(e,t,n,r,o){C&&C.apply(w,arguments),n&&w.repairParentChkClassWithSelf(e,r)};var S=w.removeNode;w.removeNode=function(e,t){var n=t.getParentNode();S&&S.apply(w,arguments),t&&n&&(w.repairChkClass(e,n),w.repairParentChkClass(e,n))};var E=w.appendNodes;w.appendNodes=function(e,t,n,r,o,i,a){var u="";return E&&(u=E.apply(w,arguments)),r&&x.makeChkFlag(e,r),u}}(jQuery),function(e){var t={event:{DRAG:"ztree_drag",DROP:"ztree_drop",RENAME:"ztree_rename",DRAGMOVE:"ztree_dragmove"},id:{EDIT:"_edit",INPUT:"_input",REMOVE:"_remove"},move:{TYPE_INNER:"inner",TYPE_PREV:"prev",TYPE_NEXT:"next"},node:{CURSELECTED_EDIT:"curSelectedNode_Edit",TMPTARGET_TREE:"tmpTargetzTree",TMPTARGET_NODE:"tmpTargetNode"}},n={edit:{enable:!1,editNameSelectAll:!1,showRemoveBtn:!0,showRenameBtn:!0,removeTitle:"remove",renameTitle:"rename",drag:{autoExpandTrigger:!1,isCopy:!0,isMove:!0,prev:!0,next:!0,inner:!0,minMoveSize:5,borderMax:10,borderMin:-5,maxShowNodeNum:5,autoOpenTime:500}},view:{addHoverDom:null,removeHoverDom:null},callback:{beforeDrag:null,beforeDragOpen:null,beforeDrop:null,beforeEditName:null,beforeRename:null,onDrag:null,onDragMove:null,onDrop:null,onRename:null}},r=function(e){var t=w.getRoot(e),n=w.getRoots();t.curEditNode=null,t.curEditInput=null,t.curHoverNode=null,t.dragFlag=0,t.dragNodeShowBefore=[],t.dragMaskList=new Array,n.showHoverDom=!0},o=function(e){},i=function(e){var t=e.treeObj,n=b.event;t.bind(n.RENAME,function(t,n,r,o){v.apply(e.callback.onRename,[t,n,r,o])}),t.bind(n.DRAG,function(t,n,r,o){v.apply(e.callback.onDrag,[n,r,o])}),t.bind(n.DRAGMOVE,function(t,n,r,o){v.apply(e.callback.onDragMove,[n,r,o])}),t.bind(n.DROP,function(t,n,r,o,i,a,u){v.apply(e.callback.onDrop,[n,r,o,i,a,u])})},a=function(e){var t=e.treeObj,n=b.event;t.unbind(n.RENAME),t.unbind(n.DRAG),t.unbind(n.DRAGMOVE),t.unbind(n.DROP)},u=function(e){var t=e.target,n=w.getSetting(e.data.treeId),r=e.relatedTarget,o="",i=null,a="",u=null,s=null;if(v.eqs(e.type,"mouseover")?(s=v.getMDom(n,t,[{tagName:"a",attrName:"treeNode"+b.id.A}]))&&(o=v.getNodeMainDom(s).id,a="hoverOverNode"):v.eqs(e.type,"mouseout")?(s=v.getMDom(n,r,[{tagName:"a",attrName:"treeNode"+b.id.A}]))||(o="remove",a="hoverOutNode"):v.eqs(e.type,"mousedown")&&(s=v.getMDom(n,t,[{tagName:"a",attrName:"treeNode"+b.id.A}]))&&(o=v.getNodeMainDom(s).id,a="mousedownNode"),o.length>0)switch(i=w.getNodeCache(n,o),a){case"mousedownNode":u=d.onMousedownNode;break;case"hoverOverNode":u=d.onHoverOverNode;break;case"hoverOutNode":u=d.onHoverOutNode}return{stop:!1,node:i,nodeEventType:a,nodeEventCallback:u,treeEventType:"",treeEventCallback:null}},s=function(e,t,n,r,o,i,a){n&&(n.isHover=!1,n.editNameFlag=!1)},c=function(e,t){t.cancelEditName=function(e){w.getRoot(this.setting).curEditNode&&y.cancelCurEditNode(this.setting,e||null,!0)},t.copyNode=function(t,n,r,o){function i(){y.addNodes(u.setting,t,-1,[s],o)}if(!n)return null;var a=w.nodeIsParent(e,t);if(t&&!a&&this.setting.data.keep.leaf&&r===b.move.TYPE_INNER)return null;var u=this,s=v.clone(n);return t||(t=null,r=b.move.TYPE_INNER),r==b.move.TYPE_INNER?v.canAsync(this.setting,t)?y.asyncNode(this.setting,t,o,i):i():(y.addNodes(this.setting,t.parentNode,-1,[s],o),y.moveNode(this.setting,t,s,r,!1,o)),s},t.editName=function(e){e&&e.tId&&e===w.getNodeCache(this.setting,e.tId)&&(e.parentTId&&y.expandCollapseParentNode(this.setting,e.getParentNode(),!0),y.editNode(this.setting,e))},t.moveNode=function(t,n,r,o){function i(){y.moveNode(u.setting,t,n,r,!1,o)}if(!n)return n;var a=w.nodeIsParent(e,t);if(t&&!a&&this.setting.data.keep.leaf&&r===b.move.TYPE_INNER)return null;if(t&&(n.parentTId==t.tId&&r==b.move.TYPE_INNER||x(n,this.setting).find("#"+t.tId).length>0))return null;t||(t=null);var u=this;return v.canAsync(this.setting,t)&&r===b.move.TYPE_INNER?y.asyncNode(this.setting,t,o,i):i(),n},t.setEditable=function(e){return this.setting.edit.enable=e,this.refresh()}},l={setSonNodeLevel:function(e,t,n){if(n){var r=w.nodeChildren(e,n);if(n.level=t?t.level+1:0,r)for(var o=0,i=r.length;o<i;o++)r[o]&&w.setSonNodeLevel(e,n,r[o])}}},f={},d={onHoverOverNode:function(e,t){var n=w.getSetting(e.data.treeId),r=w.getRoot(n);r.curHoverNode!=t&&d.onHoverOutNode(e),r.curHoverNode=t,y.addHoverDom(n,t)},onHoverOutNode:function(e,t){var n=w.getSetting(e.data.treeId),r=w.getRoot(n);r.curHoverNode&&!w.isSelectedNode(n,r.curHoverNode)&&(y.removeTreeDom(n,r.curHoverNode),r.curHoverNode=null)},onMousedownNode:function(n,r){function o(n){function r(){_=null,M="",I=b.move.TYPE_INNER,g.css({display:"none"}),window.zTreeMoveTimer&&(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null)}if(0==l.dragFlag&&Math.abs(R-n.clientX)<c.edit.drag.minMoveSize&&Math.abs(P-n.clientY)<c.edit.drag.minMoveSize)return!0;var o,a,u,s,d;if(k.css("cursor","pointer"),0==l.dragFlag){if(0==v.apply(c.callback.beforeDrag,[c.treeId,h],!0))return i(n),!0;for(o=0,a=h.length;o<a;o++)0==o&&(l.dragNodeShowBefore=[]),u=h[o],w.nodeIsParent(c,u)&&u.open?(y.expandCollapseNode(c,u,!u.open),l.dragNodeShowBefore[u.tId]=!0):l.dragNodeShowBefore[u.tId]=!1;l.dragFlag=1,f.showHoverDom=!1,v.showIfameMask(c,!0);var p=!0,O=-1;if(h.length>1){var j=h[0].parentTId?w.nodeChildren(c,h[0].getParentNode()):w.getNodes(c);for(d=[],o=0,a=j.length;o<a;o++)if(void 0!==l.dragNodeShowBefore[j[o].tId]&&(p&&O>-1&&O+1!==o&&(p=!1),d.push(j[o]),O=o),h.length===d.length){h=d;break}}for(p&&(C=h[0].getPreNode(),S=h[h.length-1].getNextNode()),m=x("<ul class='zTreeDragUL'></ul>",c),o=0,a=h.length;o<a;o++)u=h[o],u.editNameFlag=!1,y.selectNode(c,u,o>0),y.removeTreeDom(c,u),o>c.edit.drag.maxShowNodeNum-1||(s=x("<li id='"+u.tId+"_tmp'></li>",c),s.append(x(u,b.id.A,c).clone()),s.css("padding","0"),s.children("#"+u.tId+b.id.A).removeClass(b.node.CURSELECTED),m.append(s),o==c.edit.drag.maxShowNodeNum-1&&(s=x("<li id='"+u.tId+"_moretmp'><a>  ...  </a></li>",c),m.append(s)));m.attr("id",h[0].tId+b.id.UL+"_tmp"),m.addClass(c.treeObj.attr("class")),m.appendTo(k),g=x("<span class='tmpzTreeMove_arrow'></span>",c),g.attr("id","zTreeMove_arrow_tmp"),g.appendTo(k),c.treeObj.trigger(b.event.DRAG,[n,c.treeId,h])}if(1==l.dragFlag){if(_&&g.attr("id")==n.target.id&&M&&n.clientX+E.scrollLeft()+2>e("#"+M+b.id.A,_).offset().left){var B=e("#"+M+b.id.A,_);n.target=B.length>0?B.get(0):n.target}else _&&(_.removeClass(b.node.TMPTARGET_TREE),M&&e("#"+M+b.id.A,_).removeClass(b.node.TMPTARGET_NODE+"_"+b.move.TYPE_PREV).removeClass(b.node.TMPTARGET_NODE+"_"+t.move.TYPE_NEXT).removeClass(b.node.TMPTARGET_NODE+"_"+t.move.TYPE_INNER));_=null,M=null,T=!1,N=c;var z=w.getSettings();for(var F in z)z[F].treeId&&z[F].edit.enable&&z[F].treeId!=c.treeId&&(n.target.id==z[F].treeId||e(n.target).parents("#"+z[F].treeId).length>0)&&(T=!0,N=z[F]);var H=E.scrollTop(),U=E.scrollLeft(),V=N.treeObj.offset(),q=N.treeObj.get(0).scrollHeight,W=N.treeObj.get(0).scrollWidth,G=n.clientY+H-V.top,$=N.treeObj.height()+V.top-n.clientY-H,X=n.clientX+U-V.left,Y=N.treeObj.width()+V.left-n.clientX-U,K=G<c.edit.drag.borderMax&&G>c.edit.drag.borderMin,J=$<c.edit.drag.borderMax&&$>c.edit.drag.borderMin,Q=X<c.edit.drag.borderMax&&X>c.edit.drag.borderMin,Z=Y<c.edit.drag.borderMax&&Y>c.edit.drag.borderMin,ee=G>c.edit.drag.borderMin&&$>c.edit.drag.borderMin&&X>c.edit.drag.borderMin&&Y>c.edit.drag.borderMin,te=K&&N.treeObj.scrollTop()<=0,ne=J&&N.treeObj.scrollTop()+N.treeObj.height()+10>=q,re=Q&&N.treeObj.scrollLeft()<=0,oe=Z&&N.treeObj.scrollLeft()+N.treeObj.width()+10>=W;if(n.target&&v.isChildOrSelf(n.target,N.treeId)){for(var ie=n.target;ie&&ie.tagName&&!v.eqs(ie.tagName,"li")&&ie.id!=N.treeId;)ie=ie.parentNode;var ae=!0;for(o=0,a=h.length;o<a;o++){if(u=h[o],ie.id===u.tId){ae=!1;break}if(x(u,c).find("#"+ie.id).length>0){ae=!1;break}}ae&&n.target&&v.isChildOrSelf(n.target,ie.id+b.id.A)&&(_=e(ie),M=ie.id)}u=h[0],ee&&v.isChildOrSelf(n.target,N.treeId)&&(!_&&(n.target.id==N.treeId||te||ne||re||oe)&&(T||!T&&u.parentTId)&&(_=N.treeObj),K?N.treeObj.scrollTop(N.treeObj.scrollTop()-10):J&&N.treeObj.scrollTop(N.treeObj.scrollTop()+10),Q?N.treeObj.scrollLeft(N.treeObj.scrollLeft()-10):Z&&N.treeObj.scrollLeft(N.treeObj.scrollLeft()+10),_&&_!=N.treeObj&&_.offset().left<N.treeObj.offset().left&&N.treeObj.scrollLeft(N.treeObj.scrollLeft()+_.offset().left-N.treeObj.offset().left)),m.css({top:n.clientY+H+3+"px",left:n.clientX+U+3+"px"});var ue=0,se=0;if(_&&_.attr("id")!=N.treeId){var ce=null==M?null:w.getNodeCache(N,M),le=(n.ctrlKey||n.metaKey)&&c.edit.drag.isMove&&c.edit.drag.isCopy||!c.edit.drag.isMove&&c.edit.drag.isCopy,fe=!(!C||M!==C.tId),de=!(!S||M!==S.tId),pe=u.parentTId&&u.parentTId==M,he=(le||!de)&&v.apply(N.edit.drag.prev,[N.treeId,h,ce],!!N.edit.drag.prev),me=(le||!fe)&&v.apply(N.edit.drag.next,[N.treeId,h,ce],!!N.edit.drag.next),ge=(le||!pe)&&!(N.data.keep.leaf&&!w.nodeIsParent(c,ce))&&v.apply(N.edit.drag.inner,[N.treeId,h,ce],!!N.edit.drag.inner);if(he||me||ge){var ve=e("#"+M+b.id.A,_),be=ce.isLastNode?null:e("#"+ce.getNextNode().tId+b.id.A,_.next()),ye=ve.offset().top,we=ve.offset().left,xe=he?ge?.25:me?.5:1:-1,_e=me?ge?.75:he?.5:0:-1,Ce=(n.clientY+H-ye)/ve.height();if((1==xe||Ce<=xe&&Ce>=-.2)&&he?(ue=1-g.width(),se=ye-g.height()/2,I=b.move.TYPE_PREV):(0==_e||Ce>=_e&&Ce<=1.2)&&me?(ue=1-g.width(),se=null==be||w.nodeIsParent(c,ce)&&ce.open?ye+ve.height()-g.height()/2:be.offset().top-g.height()/2,I=b.move.TYPE_NEXT):ge?(ue=5-g.width(),se=ye,I=b.move.TYPE_INNER):r(),_&&(g.css({display:"block",top:se+"px",left:we+ue+"px"}),ve.addClass(b.node.TMPTARGET_NODE+"_"+I),A==M&&D==I||(L=(new Date).getTime()),ce&&w.nodeIsParent(c,ce)&&I==b.move.TYPE_INNER)){var Se=!0;window.zTreeMoveTimer&&window.zTreeMoveTargetNodeTId!==ce.tId?(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null):window.zTreeMoveTimer&&window.zTreeMoveTargetNodeTId===ce.tId&&(Se=!1),Se&&(window.zTreeMoveTimer=setTimeout(function(){I==b.move.TYPE_INNER&&ce&&w.nodeIsParent(c,ce)&&!ce.open&&(new Date).getTime()-L>N.edit.drag.autoOpenTime&&v.apply(N.callback.beforeDragOpen,[N.treeId,ce],!0)&&(y.switchNode(N,ce),N.edit.drag.autoExpandTrigger&&N.treeObj.trigger(b.event.EXPAND,[N.treeId,ce]))},N.edit.drag.autoOpenTime+50),window.zTreeMoveTargetNodeTId=ce.tId)}}else r()}else I=b.move.TYPE_INNER,_&&v.apply(N.edit.drag.inner,[N.treeId,h,null],!!N.edit.drag.inner)?_.addClass(b.node.TMPTARGET_TREE):_=null,g.css({display:"none"}),window.zTreeMoveTimer&&(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null);A=M,D=I,c.treeObj.trigger(b.event.DRAGMOVE,[n,c.treeId,h])}return!1}function i(n){function r(){if(T){if(!p)for(var e=0,t=h.length;e<t;e++)y.removeNode(c,h[e]);I==b.move.TYPE_INNER?y.addNodes(N,C,-1,S):y.addNodes(N,C.getParentNode(),I==b.move.TYPE_PREV?C.getIndex():C.getIndex()+1,S)}else if(p&&I==b.move.TYPE_INNER)y.addNodes(N,C,-1,S);else if(p)y.addNodes(N,C.getParentNode(),I==b.move.TYPE_PREV?C.getIndex():C.getIndex()+1,S);else if(I!=b.move.TYPE_NEXT)for(e=0,t=S.length;e<t;e++)y.moveNode(N,C,S[e],I,!1);else for(e=-1,t=S.length-1;e<t;t--)y.moveNode(N,C,S[t],I,!1);y.selectNodes(N,S);var r=x(S[0],c).get(0);y.scrollIntoView(c,r),c.treeObj.trigger(b.event.DROP,[n,N.treeId,S,C,I,p])}if(window.zTreeMoveTimer&&(clearTimeout(window.zTreeMoveTimer),window.zTreeMoveTargetNodeTId=null),A=null,D=null,E.unbind("mousemove",o),E.unbind("mouseup",i),E.unbind("selectstart",a),k.css("cursor",""),_&&(_.removeClass(b.node.TMPTARGET_TREE),M&&e("#"+M+b.id.A,_).removeClass(b.node.TMPTARGET_NODE+"_"+b.move.TYPE_PREV).removeClass(b.node.TMPTARGET_NODE+"_"+t.move.TYPE_NEXT).removeClass(b.node.TMPTARGET_NODE+"_"+t.move.TYPE_INNER)),v.showIfameMask(c,!1),f.showHoverDom=!0,0!=l.dragFlag){l.dragFlag=0;var u,s,d;for(u=0,s=h.length;u<s;u++)d=h[u],w.nodeIsParent(c,d)&&l.dragNodeShowBefore[d.tId]&&!d.open&&(y.expandCollapseNode(c,d,!d.open),delete l.dragNodeShowBefore[d.tId]);m&&m.remove(),g&&g.remove();var p=(n.ctrlKey||n.metaKey)&&c.edit.drag.isMove&&c.edit.drag.isCopy||!c.edit.drag.isMove&&c.edit.drag.isCopy;if(!p&&_&&M&&h[0].parentTId&&M==h[0].parentTId&&I==b.move.TYPE_INNER&&(_=null),_){var C=null==M?null:w.getNodeCache(N,M);if(0==v.apply(c.callback.beforeDrop,[N.treeId,h,C,I,p],!0))return void y.selectNodes(O,h);var S=p?v.clone(h):h;I==b.move.TYPE_INNER&&v.canAsync(N,C)?y.asyncNode(N,C,!1,r):r()}else y.selectNodes(O,h),c.treeObj.trigger(b.event.DROP,[n,c.treeId,h,null,null,null])}}function a(){return!1}var u,s,c=w.getSetting(n.data.treeId),l=w.getRoot(c),f=w.getRoots();if(2==n.button||!c.edit.enable||!c.edit.drag.isCopy&&!c.edit.drag.isMove)return!0;var d=n.target,p=w.getRoot(c).curSelectedList,h=[];if(w.isSelectedNode(c,r))for(u=0,s=p.length;u<s;u++){if(p[u].editNameFlag&&v.eqs(d.tagName,"input")&&null!==d.getAttribute("treeNode"+b.id.INPUT))return!0;if(h.push(p[u]),h[0].parentTId!==p[u].parentTId){h=[r];break}}else h=[r];y.editNodeBlur=!0,y.cancelCurEditNode(c);var m,g,_,C,S,E=e(c.treeObj.get(0).ownerDocument),k=e(c.treeObj.get(0).ownerDocument.body),T=!1,N=c,O=c,A=null,D=null,M=null,I=b.move.TYPE_INNER,R=n.clientX,P=n.clientY,L=(new Date).getTime();return v.uCanDo(c)&&E.bind("mousemove",o),E.bind("mouseup",i),E.bind("selectstart",a),!0}},p={getAbs:function(e){var t=e.getBoundingClientRect(),n=document.body.scrollTop+document.documentElement.scrollTop,r=document.body.scrollLeft+document.documentElement.scrollLeft;return[t.left+r,t.top+n]},inputFocus:function(e){e.get(0)&&(e.focus(),v.setCursorPosition(e.get(0),e.val().length))},inputSelect:function(e){e.get(0)&&(e.focus(),e.select())},setCursorPosition:function(e,t){if(e.setSelectionRange)e.focus(),e.setSelectionRange(t,t);else if(e.createTextRange){var n=e.createTextRange();n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",t),n.select()}},showIfameMask:function(e,t){for(var n=w.getRoot(e);n.dragMaskList.length>0;)n.dragMaskList[0].remove(),n.dragMaskList.shift();if(t)for(var r=x("iframe",e),o=0,i=r.length;o<i;o++){var a=r.get(o),u=v.getAbs(a),s=x("<div id='zTreeMask_"+o+"' class='zTreeMask' style='top:"+u[1]+"px; left:"+u[0]+"px; width:"+a.offsetWidth+"px; height:"+a.offsetHeight+"px;'></div>",e);s.appendTo(x("body",e)),n.dragMaskList.push(s)}}},h={addEditBtn:function(e,t){if(!(t.editNameFlag||x(t,b.id.EDIT,e).length>0)&&v.apply(e.edit.showRenameBtn,[e.treeId,t],e.edit.showRenameBtn)){var n=x(t,b.id.A,e),r="<span class='"+b.className.BUTTON+" edit' id='"+t.tId+b.id.EDIT+"' title='"+v.apply(e.edit.renameTitle,[e.treeId,t],e.edit.renameTitle)+"' treeNode"+b.id.EDIT+" style='display:none;'></span>";n.append(r),x(t,b.id.EDIT,e).bind("click",function(){return!(!v.uCanDo(e)||0==v.apply(e.callback.beforeEditName,[e.treeId,t],!0))&&(y.editNode(e,t),!1)}).show()}},addRemoveBtn:function(e,t){if(!(t.editNameFlag||x(t,b.id.REMOVE,e).length>0)&&v.apply(e.edit.showRemoveBtn,[e.treeId,t],e.edit.showRemoveBtn)){var n=x(t,b.id.A,e),r="<span class='"+b.className.BUTTON+" remove' id='"+t.tId+b.id.REMOVE+"' title='"+v.apply(e.edit.removeTitle,[e.treeId,t],e.edit.removeTitle)+"' treeNode"+b.id.REMOVE+" style='display:none;'></span>";n.append(r),x(t,b.id.REMOVE,e).bind("click",function(){return!(!v.uCanDo(e)||0==v.apply(e.callback.beforeRemove,[e.treeId,t],!0))&&(y.removeNode(e,t),e.treeObj.trigger(b.event.REMOVE,[e.treeId,t]),!1)}).bind("mousedown",function(e){return!0}).show()}},addHoverDom:function(e,t){w.getRoots().showHoverDom&&(t.isHover=!0,e.edit.enable&&(y.addEditBtn(e,t),y.addRemoveBtn(e,t)),v.apply(e.view.addHoverDom,[e.treeId,t]))},cancelCurEditNode:function(e,t,n){var r=w.getRoot(e),o=r.curEditNode;if(o){var i=r.curEditInput,a=t||(n?w.nodeName(e,o):i.val());if(!1===v.apply(e.callback.beforeRename,[e.treeId,o,a,n],!0))return!1;w.nodeName(e,o,a);x(o,b.id.A,e).removeClass(b.node.CURSELECTED_EDIT),i.unbind(),y.setNodeName(e,o),o.editNameFlag=!1,r.curEditNode=null,r.curEditInput=null,y.selectNode(e,o,!1),e.treeObj.trigger(b.event.RENAME,[e.treeId,o,n])}return r.noSelection=!0,!0},editNode:function(e,t){var n=w.getRoot(e);if(y.editNodeBlur=!1,w.isSelectedNode(e,t)&&n.curEditNode==t&&t.editNameFlag)return void setTimeout(function(){v.inputFocus(n.curEditInput)},0);t.editNameFlag=!0,y.removeTreeDom(e,t),y.cancelCurEditNode(e),y.selectNode(e,t,!1),x(t,b.id.SPAN,e).html("<input type=text class='rename' id='"+t.tId+b.id.INPUT+"' treeNode"+b.id.INPUT+" >");var r=x(t,b.id.INPUT,e);r.attr("value",w.nodeName(e,t)),e.edit.editNameSelectAll?v.inputSelect(r):v.inputFocus(r),r.bind("blur",function(t){y.editNodeBlur||y.cancelCurEditNode(e)}).bind("keydown",function(t){"13"==t.keyCode?(y.editNodeBlur=!0,y.cancelCurEditNode(e)):"27"==t.keyCode&&y.cancelCurEditNode(e,null,!0)}).bind("click",function(e){return!1}).bind("dblclick",function(e){return!1}),x(t,b.id.A,e).addClass(b.node.CURSELECTED_EDIT),n.curEditInput=r,n.noSelection=!1,n.curEditNode=t},moveNode:function(e,t,n,r,o,i){var a=w.getRoot(e);if(t!=n&&(!e.data.keep.leaf||!t||w.nodeIsParent(e,t)||r!=b.move.TYPE_INNER)){var u=n.parentTId?n.getParentNode():a,s=null===t||t==a;s&&null===t&&(t=a),s&&(r=b.move.TYPE_INNER);var c=t.parentTId?t.getParentNode():a;r!=b.move.TYPE_PREV&&r!=b.move.TYPE_NEXT&&(r=b.move.TYPE_INNER),r==b.move.TYPE_INNER&&(s?n.parentTId=null:(w.nodeIsParent(e,t)||(w.nodeIsParent(e,t,!0),t.open=!!t.open,y.setNodeLineIcos(e,t)),n.parentTId=t.tId));var l,f;if(s)l=e.treeObj,f=l;else{if(i||r!=b.move.TYPE_INNER?i||y.expandCollapseNode(e,t.getParentNode(),!0,!1):y.expandCollapseNode(e,t,!0,!1),l=x(t,e),f=x(t,b.id.UL,e),l.get(0)&&!f.get(0)){var d=[];y.makeUlHtml(e,t,d,""),l.append(d.join(""))}f=x(t,b.id.UL,e)}var p=x(n,e);p.get(0)?l.get(0)||p.remove():p=y.appendNodes(e,n.level,[n],null,-1,!1,!0).join(""),f.get(0)&&r==b.move.TYPE_INNER?f.append(p):l.get(0)&&r==b.move.TYPE_PREV?l.before(p):l.get(0)&&r==b.move.TYPE_NEXT&&l.after(p);var h,m,g=-1,v=0,_=null,C=null,S=n.level,E=w.nodeChildren(e,u),k=w.nodeChildren(e,c),T=w.nodeChildren(e,t);if(n.isFirstNode)g=0,E.length>1&&(_=E[1],_.isFirstNode=!0);else if(n.isLastNode)g=E.length-1,_=E[g-1],_.isLastNode=!0;else for(h=0,m=E.length;h<m;h++)if(E[h].tId==n.tId){g=h;break}if(g>=0&&E.splice(g,1),r!=b.move.TYPE_INNER)for(h=0,m=k.length;h<m;h++)k[h].tId==t.tId&&(v=h);if(r==b.move.TYPE_INNER?(T||(T=w.nodeChildren(e,t,[])),T.length>0&&(C=T[T.length-1],C.isLastNode=!1),T.splice(T.length,0,n),n.isLastNode=!0,n.isFirstNode=1==T.length):t.isFirstNode&&r==b.move.TYPE_PREV?(k.splice(v,0,n),C=t,C.isFirstNode=!1,n.parentTId=t.parentTId,n.isFirstNode=!0,n.isLastNode=!1):t.isLastNode&&r==b.move.TYPE_NEXT?(k.splice(v+1,0,n),C=t,C.isLastNode=!1,n.parentTId=t.parentTId,n.isFirstNode=!1,n.isLastNode=!0):(r==b.move.TYPE_PREV?k.splice(v,0,n):k.splice(v+1,0,n),n.parentTId=t.parentTId,n.isFirstNode=!1,n.isLastNode=!1),w.fixPIdKeyValue(e,n),w.setSonNodeLevel(e,n.getParentNode(),n),y.setNodeLineIcos(e,n),y.repairNodeLevelClass(e,n,S),!e.data.keep.parent&&E.length<1){w.nodeIsParent(e,u,!1),u.open=!1;var N=x(u,b.id.UL,e),O=x(u,b.id.SWITCH,e),A=x(u,b.id.ICON,e);y.replaceSwitchClass(u,O,b.folder.DOCU),y.replaceIcoClass(u,A,b.folder.DOCU),N.css("display","none")}else _&&y.setNodeLineIcos(e,_);C&&y.setNodeLineIcos(e,C),e.check&&e.check.enable&&y.repairChkClass&&(y.repairChkClass(e,u),y.repairParentChkClassWithSelf(e,u),u!=n.parent&&y.repairParentChkClassWithSelf(e,n)),i||y.expandCollapseParentNode(e,n.getParentNode(),!0,o)}},removeEditBtn:function(e,t){x(t,b.id.EDIT,e).unbind().remove()},removeRemoveBtn:function(e,t){x(t,b.id.REMOVE,e).unbind().remove()},removeTreeDom:function(e,t){t.isHover=!1,y.removeEditBtn(e,t),y.removeRemoveBtn(e,t),v.apply(e.view.removeHoverDom,[e.treeId,t])},repairNodeLevelClass:function(e,t,n){if(n!==t.level){var r=x(t,e),o=x(t,b.id.A,e),i=x(t,b.id.UL,e),a=b.className.LEVEL+n,u=b.className.LEVEL+t.level;r.removeClass(a),r.addClass(u),o.removeClass(a),o.addClass(u),i.removeClass(a),i.addClass(u)}},selectNodes:function(e,t){for(var n=0,r=t.length;n<r;n++)y.selectNode(e,t[n],n>0)}},m={tools:p,view:h,event:f,data:l};e.extend(!0,e.fn.zTree.consts,t),e.extend(!0,e.fn.zTree._z,m);var g=e.fn.zTree,v=g._z.tools,b=g.consts,y=g._z.view,w=g._z.data,x=(g._z.event,v.$);w.exSetting(n),w.addInitBind(i),w.addInitUnBind(a),w.addInitCache(o),w.addInitNode(s),w.addInitProxy(u),w.addInitRoot(r),w.addZTreeTools(c);var _=y.cancelPreSelectedNode;y.cancelPreSelectedNode=function(e,t){for(var n=w.getRoot(e).curSelectedList,r=0,o=n.length;r<o&&(t&&t!==n[r]||(y.removeTreeDom(e,n[r]),!t));r++);_&&_.apply(y,arguments)};var C=y.createNodes;y.createNodes=function(e,t,n,r,o){C&&C.apply(y,arguments),n&&y.repairParentChkClassWithSelf&&y.repairParentChkClassWithSelf(e,r)};var S=y.makeNodeUrl;y.makeNodeUrl=function(e,t){return e.edit.enable?null:S.apply(y,arguments)};var E=y.removeNode;y.removeNode=function(e,t){var n=w.getRoot(e);n.curEditNode===t&&(n.curEditNode=null),E&&E.apply(y,arguments)};var k=y.selectNode;y.selectNode=function(e,t,n){var r=w.getRoot(e);return(!w.isSelectedNode(e,t)||r.curEditNode!=t||!t.editNameFlag)&&(k&&k.apply(y,arguments),y.addHoverDom(e,t),!0)};var T=v.uCanDo;v.uCanDo=function(e,t){var n=w.getRoot(e);return!(!t||!(v.eqs(t.type,"mouseover")||v.eqs(t.type,"mouseout")||v.eqs(t.type,"mousedown")||v.eqs(t.type,"mouseup")))||(n.curEditNode&&(y.editNodeBlur=!1,n.curEditInput.focus()),!n.curEditNode&&(!T||T.apply(y,arguments)))}}(jQuery)},"94ca":function(e,t,n){var r=n("d039"),o=/#|\.prototype\./,i=function(e,t){var n=u[a(e)];return n==c||n!=s&&("function"==typeof t?r(t):!!t)},a=i.normalize=function(e){return String(e).replace(o,".").toLowerCase()},u=i.data={},s=i.NATIVE="N",c=i.POLYFILL="P";e.exports=i},"99af":function(e,t,n){"use strict";var r=n("23e7"),o=n("d039"),i=n("e8b5"),a=n("861d"),u=n("7b0b"),s=n("50c4"),c=n("8418"),l=n("65f0"),f=n("1dde"),d=n("b622"),p=n("2d00"),h=d("isConcatSpreadable"),m=p>=51||!o(function(){var e=[];return e[h]=!1,e.concat()[0]!==e}),g=f("concat"),v=function(e){if(!a(e))return!1;var t=e[h];return void 0!==t?!!t:i(e)};r({target:"Array",proto:!0,forced:!m||!g},{concat:function(e){var t,n,r,o,i,a=u(this),f=l(a,0),d=0;for(t=-1,r=arguments.length;t<r;t++)if(i=-1===t?a:arguments[t],v(i)){if(o=s(i.length),d+o>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<o;n++,d++)n in i&&c(f,d,i[n])}else{if(d>=9007199254740991)throw TypeError("Maximum allowed index exceeded");c(f,d++,i)}return f.length=d,f}})},"9bf2":function(e,t,n){var r=n("83ab"),o=n("0cfb"),i=n("825a"),a=n("c04e"),u=Object.defineProperty;t.f=r?u:function(e,t,n){if(i(e),t=a(t,!0),i(n),o)try{return u(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},a691:function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},b622:function(e,t,n){var r=n("da84"),o=n("5692"),i=n("5135"),a=n("90e3"),u=n("4930"),s=n("fdbf"),c=o("wks"),l=r.Symbol,f=s?l:l&&l.withoutSetter||a;e.exports=function(e){return i(c,e)||(u&&i(l,e)?c[e]=l[e]:c[e]=f("Symbol."+e)),c[e]}},c04e:function(e,t,n){var r=n("861d");e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},c430:function(e,t){e.exports=!1},c6b6:function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},c6cd:function(e,t,n){var r=n("da84"),o=n("ce4e"),i=r["__core-js_shared__"]||o("__core-js_shared__",{});e.exports=i},c8ba:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},c91b:function(e,t,n){t=n("24fb")(!1),t.push([e.i,'.ztree[data-v-6e9ae177]{text-align:left;font-size:14px}.ztree[data-v-6e9ae177] li{list-style-type:none;white-space:nowrap;outline:none}.ztree[data-v-6e9ae177] li ul{position:relative;padding:0 0 0 20px;margin:0}.ztree[data-v-6e9ae177] .line:before{position:absolute;top:0;left:10px;height:100%;content:"";border-right:1px dotted #dbdbdb}.ztree[data-v-6e9ae177] .bottom_docu:after,.ztree[data-v-6e9ae177] .bottom_docu:before,.ztree[data-v-6e9ae177] .center_docu:after,.ztree[data-v-6e9ae177] .center_docu:before,.ztree[data-v-6e9ae177] .roots_docu:after,.ztree[data-v-6e9ae177] .roots_docu:before{position:absolute;content:"";border:0 dotted #dbdbdb}.ztree[data-v-6e9ae177] .roots_docu:before{left:10px;height:50%;top:50%;border-left-width:1px}.ztree[data-v-6e9ae177] .roots_docu:after{top:50%;left:11px;width:50%;border-top-width:1px}.ztree[data-v-6e9ae177] .center_docu:before{left:10px;height:100%;border-left-width:1px}.ztree[data-v-6e9ae177] .center_docu:after{top:50%;left:11px;width:50%;border-top-width:1px}.ztree[data-v-6e9ae177] .bottom_docu:before{left:10px;height:50%;border-left-width:1px}.ztree[data-v-6e9ae177] .bottom_docu:after{top:50%;left:11px;width:50%;border-top-width:1px}.ztree[data-v-6e9ae177] li a{display:inline-block;line-height:22px;height:22px;margin:0;cursor:pointer;-webkit-transition:none;transition:none;vertical-align:middle;color:#555}.ztree[data-v-6e9ae177] .node_name{display:inline-block;padding:0 3px;border-radius:4px}.ztree[data-v-6e9ae177] .curSelectedNode .node_name{color:#000;background-color:#c9e9f7}.ztree[data-v-6e9ae177] .curSelectedNode_Edit{height:20px;opacity:.8;color:#000;border:1px solid #6cc2e8;background-color:#9dd6f0}.ztree[data-v-6e9ae177] .tmpTargetNode_inner{opacity:.8;color:#fff;background-color:#4fcbf0;filter:alpha(opacity=80)}.ztree[data-v-6e9ae177] .rename{font-size:12px;line-height:22px;width:80px;height:22px;margin:0;padding:0;vertical-align:top;border:0;background:none}.ztree[data-v-6e9ae177] .button{position:relative;display:inline-block;line-height:22px;height:22px;width:22px;cursor:pointer;text-align:center;vertical-align:middle}.ztree[data-v-6e9ae177] .button.edit{color:#25ae88}.ztree[data-v-6e9ae177] .button.remove{color:#cb4042}.ztree[data-v-6e9ae177] .button.chk{position:relative;width:14px;height:14px;margin:0 4px 0 0;border:1px solid #d7dde4;border-radius:2px;background:#fff}.ztree[data-v-6e9ae177] .chk.radio_false_disable,.ztree[data-v-6e9ae177] .chk.radio_false_full,.ztree[data-v-6e9ae177] .chk.radio_false_full_focus,.ztree[data-v-6e9ae177] .chk.radio_false_part,.ztree[data-v-6e9ae177] .chk.radio_false_part_focus,.ztree[data-v-6e9ae177] .chk.radio_true_disable,.ztree[data-v-6e9ae177] .chk.radio_true_full,.ztree[data-v-6e9ae177] .chk.radio_true_full_focus,.ztree[data-v-6e9ae177] .chk.radio_true_part,.ztree[data-v-6e9ae177] .chk.radio_true_part_focus{border-radius:8px}.ztree[data-v-6e9ae177] .button.chk:after{position:absolute;top:1px;left:4px;width:4px;height:8px;content:"";transition:-webkit-transform .2s ease-in-out;-webkit-transition:-webkit-transform .2s ease-in-out;transition:transform .2s ease-in-out;transition:transform .2s ease-in-out,-webkit-transform .2s ease-in-out;-webkit-transform:rotate(0deg) scale(0);transform:rotate(0deg) scale(0);border-right:2px solid #fff;border-bottom:2px solid #fff}.ztree[data-v-6e9ae177] .button.checkbox_false_full_focus{border-color:#ccc}.ztree[data-v-6e9ae177] .button.checkbox_true_disable,.ztree[data-v-6e9ae177] .button.checkbox_true_full,.ztree[data-v-6e9ae177] .button.checkbox_true_full_focus,.ztree[data-v-6e9ae177] .button.checkbox_true_part,.ztree[data-v-6e9ae177] .button.checkbox_true_part_focus{border-color:#39f;background-color:#39f}.ztree[data-v-6e9ae177] .button.checkbox_true_disable:after,.ztree[data-v-6e9ae177] .button.checkbox_true_full:after,.ztree[data-v-6e9ae177] .button.checkbox_true_full_focus:after{-webkit-transform:rotate(45deg) scale(1);transform:rotate(45deg) scale(1)}.ztree[data-v-6e9ae177] .button.checkbox_true_part:after,.ztree[data-v-6e9ae177] .button.checkbox_true_part_focus:after{top:5px;left:2px;width:10px;height:1px;-webkit-transform:rotate(0deg) scale(1);transform:rotate(0deg) scale(1);border-right:0}.ztree[data-v-6e9ae177] .button.radio_true_full,.ztree[data-v-6e9ae177] .chk.radio_true_full_focus,.ztree[data-v-6e9ae177] .chk.radio_true_part,.ztree[data-v-6e9ae177] .chk.radio_true_part_focus{border-color:#39f}.ztree[data-v-6e9ae177] .button.radio_true_full:after,.ztree[data-v-6e9ae177] .chk.radio_true_full_focus:after,.ztree[data-v-6e9ae177] .chk.radio_true_part:after,.ztree[data-v-6e9ae177] .chk.radio_true_part_focus:after{top:3px;left:3px;width:8px;-webkit-transform:rotate(0deg) scale(1);transform:rotate(0deg) scale(1);border:0;border-radius:4px;background:#39f}.ztree[data-v-6e9ae177] .button.checkbox_false_disable,.ztree[data-v-6e9ae177] .button.checkbox_true_disable,.ztree[data-v-6e9ae177] .chk.radio_false_disable,.ztree[data-v-6e9ae177] .chk.radio_true_disable{cursor:not-allowed}.ztree[data-v-6e9ae177] .button.checkbox_false_disable{background-color:#f3f3f3}.ztree[data-v-6e9ae177] .button.bottom_close:before,.ztree[data-v-6e9ae177] .button.bottom_open:before,.ztree[data-v-6e9ae177] .button.center_close:before,.ztree[data-v-6e9ae177] .button.center_open:before,.ztree[data-v-6e9ae177] .button.noline_close:before,.ztree[data-v-6e9ae177] .button.noline_open:before,.ztree[data-v-6e9ae177] .button.root_close:before,.ztree[data-v-6e9ae177] .button.root_open:before,.ztree[data-v-6e9ae177] .button.roots_close:before,.ztree[data-v-6e9ae177] .button.roots_open:before{position:absolute;top:5px;left:5px;content:"";transition:-webkit-transform .3s ease;-webkit-transition:-webkit-transform .3s ease;transition:transform .3s ease;transition:transform .3s ease,-webkit-transform .3s ease;-webkit-transform:rotate(0deg);transform:rotate(0deg);-webkit-transform-origin:25% 50%;transform-origin:25% 50%;border:6px solid;border-color:transparent transparent transparent #666}.ztree[data-v-6e9ae177] .button.bottom_open:before,.ztree[data-v-6e9ae177] .button.center_open:before,.ztree[data-v-6e9ae177] .button.noline_open:before,.ztree[data-v-6e9ae177] .button.root_open:before,.ztree[data-v-6e9ae177] .button.roots_open:before{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.ztree[data-v-6e9ae177] .button.ico_loading{margin-right:2px;background:url("data:image/gif;base64,R0lGODlhEAAQAKIGAMLY8YSx5HOm4Mjc88/g9Ofw+v///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFCgAGACwAAAAAEAAQAAADMGi6RbUwGjKIXCAA016PgRBElAVlG/RdLOO0X9nK61W39qvqiwz5Ls/rRqrggsdkAgAh+QQFCgAGACwCAAAABwAFAAADD2hqELAmiFBIYY4MAutdCQAh+QQFCgAGACwGAAAABwAFAAADD1hU1kaDOKMYCGAGEeYFCQAh+QQFCgAGACwKAAIABQAHAAADEFhUZjSkKdZqBQG0IELDQAIAIfkEBQoABgAsCgAGAAUABwAAAxBoVlRKgyjmlAIBqCDCzUoCACH5BAUKAAYALAYACgAHAAUAAAMPaGpFtYYMAgJgLogA610JACH5BAUKAAYALAIACgAHAAUAAAMPCAHWFiI4o1ghZZJB5i0JACH5BAUKAAYALAAABgAFAAcAAAMQCAFmIaEp1motpDQySMNFAgA7") 0 no-repeat}.ztree[data-v-6e9ae177] .tmpTargetzTree{opacity:.8;background-color:#2ea9df;filter:alpha(opacity=80)}.ztree[data-v-6e9ae177] .tmpzTreeMove_arrow{position:absolute;width:18px;height:18px;color:#4fcbf0}.ztree[data-v-6e9ae177] .ztree.zTreeDragUL{overflow:hidden;position:absolute;width:auto;height:auto;margin:0;padding:0;opacity:.8;border:1px dotted #176b53;background-color:#dbdbdb;filter:alpha(opacity=80)}.zTreeMask[data-v-6e9ae177]{position:absolute;z-index:10000;opacity:0;background-color:#cfcfcf;filter:alpha(opacity=0)}',""]),e.exports=t},ca84:function(e,t,n){var r=n("5135"),o=n("fc6a"),i=n("4d64").indexOf,a=n("d012");e.exports=function(e,t){var n,u=o(e),s=0,c=[];for(n in u)!r(a,n)&&r(u,n)&&c.push(n);for(;t.length>s;)r(u,n=t[s++])&&(~i(c,n)||c.push(n));return c}},cc12:function(e,t,n){var r=n("da84"),o=n("861d"),i=r.document,a=o(i)&&o(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},cca6:function(e,t,n){var r=n("23e7"),o=n("60da");r({target:"Object",stat:!0,forced:Object.assign!==o},{assign:o})},ce4e:function(e,t,n){var r=n("da84"),o=n("9112");e.exports=function(e,t){try{o(r,e,t)}catch(n){r[e]=t}return t}},d012:function(e,t){e.exports={}},d039:function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},d066:function(e,t,n){var r=n("428f"),o=n("da84"),i=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?i(r[e])||i(o[e]):r[e]&&r[e][t]||o[e]&&o[e][t]}},d1e7:function(e,t,n){"use strict";var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!r.call({1:2},1);t.f=i?function(e){var t=o(this,e);return!!t&&t.enumerable}:r},da84:function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||Function("return this")()}).call(this,n("c8ba"))},df75:function(e,t,n){var r=n("ca84"),o=n("7839");e.exports=Object.keys||function(e){return r(e,o)}},e893:function(e,t,n){var r=n("5135"),o=n("56ef"),i=n("06cf"),a=n("9bf2");e.exports=function(e,t){for(var n=o(t),u=a.f,s=i.f,c=0;c<n.length;c++){var l=n[c];r(e,l)||u(e,l,s(t,l))}}},e8b5:function(e,t,n){var r=n("c6b6");e.exports=Array.isArray||function(e){return"Array"==r(e)}},f10a:function(e,t,n){"use strict";var r=n("8476"),o=n.n(r);o.a},f772:function(e,t,n){var r=n("5692"),o=n("90e3"),i=r("keys");e.exports=function(e){return i[e]||(i[e]=o(e))}},fb15:function(e,t,n){"use strict";if(n.r(t),"undefined"!=typeof window){var r=window.document.currentScript,o=n("8875");r=o(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:o});var i=r&&r.src.match(/(.+\/)[^\/]+\.js(\?.*)?$/);i&&(n.p=i[1])}var a=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"ztree",attrs:{id:e.ztreeId}})},u=[],s=(n("99af"),n("cca6"),n("1157"));window.jQuery||(window.jQuery=s),n("91e5");var c={props:{setting:{type:Object,require:!1,default:function(){return{}}},nodes:{type:Array,require:!0,default:function(){return[]}}},data:function(){var e=this;return{ztreeId:"ztree_"+parseInt(1e10*Math.random()),ztreeObj:null,list:[],ztreeSetting:{view:{showIcon:!1},callback:{onAsyncError:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.$emit.apply(e,["onAsyncError"].concat(n))},onAsyncSuccess:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.$emit.apply(e,["onAsyncSuccess"].concat(n))},onCheck:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.$emit.apply(e,["onCheck"].concat(n))},onClick:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.$emit.apply(e,["onClick"].concat(n))},onCollapse:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.$emit.apply(e,["onCollapse"].concat(n))},onDblClick:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.$emit.apply(e,["onDblClick"].concat(n))},onDrag:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.$emit.apply(e,["onDrag"].concat(n))},onDragMove:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.$emit.apply(e,["onDragMove"].concat(n))},onDrop:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.$emit.apply(e,["onDrop"].concat(n))},onExpand:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.$emit.apply(e,["onExpand"].concat(n))},onMouseDown:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.$emit.apply(e,["onMouseDown"].concat(n))},onMouseUp:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.$emit.apply(e,["onMouseUp"].concat(n))},onRemove:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.$emit.apply(e,["onRemove"].concat(n))},onRename:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.$emit.apply(e,["onRename"].concat(n))},onRightClick:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.$emit.apply(e,["onRightClick"].concat(n))}}}}},watch:{nodes:{handler:function(e){var t=this;this.list=e,this.ztreeObj&&this.ztreeObj.destroy(),this.$nextTick(function(){t.ztreeObj=s.fn.zTree.init(s("#"+t.ztreeId),Object.assign({},t.ztreeSetting,t.setting),t.list),t.$emit("onCreated",t.ztreeObj)})},deep:!0,immediate:!0}}},l=c,f=(n("f10a"),function(e,t,n,r,o,i,a,u){var s="function"==typeof e?e.options:e;t&&(s.render=t,s.staticRenderFns=n,s._compiled=!0),r&&(s.functional=!0),i&&(s._scopeId="data-v-"+i);var c;if(a?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},s._ssrRegister=c):o&&(c=u?function(){o.call(this,(s.functional?this.parent:this).$root.$options.shadowRoot)}:o),c)if(s.functional){s._injectStyles=c;var l=s.render;s.render=function(e,t){return c.call(t),l(e,t)}}else{var f=s.beforeCreate;s.beforeCreate=f?[].concat(f,c):[c]}return{exports:e,options:s}}(l,a,u,!1,null,"6e9ae177",null)),d=f.exports;t.default=d},fc6a:function(e,t,n){var r=n("44ad"),o=n("1d80");e.exports=function(e){return r(o(e))}},fdbf:function(e,t,n){var r=n("4930");e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator}}).default},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("div",{staticClass:"user-container"},[n("div",{on:{click:function(t){return t.preventDefault(),e.showInput(t)}}},[e._l(e.dynamicTags,function(t){return n("el-tag",{key:t,attrs:{closable:"","disable-transitions":!1},on:{close:function(n){return e.handleClose(t)}}},[e._v("\n        "+e._s(t)+"\n      ")])}),e._v(" "),e.inputVisible&&e.allowWrite?n("el-autocomplete",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"small","highlight-first-item":!0,"fetch-suggestions":e.querySearchAsync,"select-when-unmatched":!0},on:{select:e.handleSelect,change:e.changeSelect},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.item;return[n("div",{staticClass:"name"},[e._v(e._s(r.name)+" "+e._s(r.orgName))])]}}],null,!1,3835672382),model:{value:e.inputVal,callback:function(t){e.inputVal=t},expression:"inputVal"}}):e._e()],2),e._v(" "),n("el-button",{attrs:{slot:"append"},nativeOn:{click:function(t){return e.chooseUser(t)}},slot:"append"},[e._v("...")])],1),e._v(" "),n("el-dialog",{staticClass:"abow_dialog",attrs:{title:"选择成员对象",visible:e.dialogVisible,width:"1000",top:"0",fullscreen:e.isFullScreen},on:{"update:visible":function(t){e.dialogVisible=t},open:e.openChooseUserModal}},[n("div",{staticClass:"choose-selector"},[n("el-button",{staticStyle:{position:"absolute",right:"0",top:"0","z-index":"1"},attrs:{type:"text"},on:{click:e.clearAll}},[e._v("全部清空")]),e._v(" "),n("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[e.tabRoles.includes("orgUser")?n("el-tab-pane",{attrs:{label:"组织",name:"org"}},[n("div",{staticClass:"choose-selector-select-container"},[n("el-autocomplete",{attrs:{"popper-class":"my-autocomplete","fetch-suggestions":e.treeSearch,"select-when-unmatched":!0,placeholder:"快速查找组织与人",clearable:""},on:{select:function(t){return e.handleTreeSelect(t,"orgUser")}},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.item;return[n("div",[e._v(e._s(r.name)+"<"+e._s(r.orgName)+">")])]}}],null,!1,4240750070),model:{value:e.orgUserSearchValue,callback:function(t){e.orgUserSearchValue=t},expression:"orgUserSearchValue"}},[n("i",{staticClass:"el-icon-search el-input__icon",attrs:{slot:"prefix"},on:{click:e.handleIconClick},slot:"prefix"})]),e._v(" "),n("tree",{ref:"orgUserNodes",attrs:{nodes:e.orgUserNodes,setting:e.setting},on:{onCheck:e.onCheck,onCreated:function(t){return e.handleCreated(t,"orgUserTree")},onClick:function(t,n,r){return e.clickNode(t,n,r,"orgUserTree")}}})],1)]):e._e(),e._v(" "),e.tabRoles.includes("group")?n("el-tab-pane",{attrs:{label:"群组",name:"group"}},[n("div",{staticClass:"choose-selector-select-container"},[n("tree",{ref:"groupNodes",attrs:{nodes:e.groupNodes,setting:e.setting},on:{onCheck:e.onCheck,onCreated:function(t){return e.handleCreated(t,"groupTree")},onClick:function(t,n,r){return e.clickNode(t,n,r,"groupTree")}}})],1)]):e._e(),e._v(" "),e.tabRoles.includes("myGroup")?n("el-tab-pane",{attrs:{label:"我的群组",name:"my"}},[n("div",{staticClass:"choose-selector-select-container"},[n("tree",{ref:"myGroupNodes",attrs:{nodes:e.myGroupNodes,setting:e.setting},on:{onCheck:e.onCheck,onCreated:function(t){return e.handleCreated(t,"myGroupTree")},onClick:function(t,n,r){return e.clickNode(t,n,r,"myGroupTree")}}})],1)]):e._e()],1),e._v(" "),n("div",{staticClass:"choose-selector-selected-container"},[n("el-input",{attrs:{placeholder:"快速查找"},model:{value:e.selectedSearchValue,callback:function(t){e.selectedSearchValue=t},expression:"selectedSearchValue"}},[n("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"prefix"},slot:"prefix"})]),e._v(" "),n("div",e._l(e.filterSelectedList,function(t,r){return n("p",{key:r},[n("span",[n("i",{class:"icon-"+t.iconSkin}),n("em",[e._v(e._s(t.name))])]),n("i",{staticClass:"icon-close-x",on:{click:function(n){return e.delItem(r,t.id)}}})])}),0)],1)],1),e._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:e.submitSelectedValue}},[e._v("确 定")]),e._v(" "),n("i",{staticClass:"icon-fullscreen"})],1)])],1)},o=[],i={render:r,staticRenderFns:o};t.a=i},function(e,t,n){"use strict";function r(e){n(18)}var o=n(5),i=n(35),a=n(3),u=r,s=a(o.a,i.a,!1,u,"data-v-0586b7ea",null);t.a=s.exports},function(e,t,n){var r=n(19);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n(21)("2a920116",r,!0,{})},function(e,t,n){t=e.exports=n(20)(!1),t.push([e.i,".xc-file-up[data-v-0586b7ea]{line-height:23px}.xc-file-up .upload-demo[data-v-0586b7ea]{line-height:40px}.xc-file-up .file-container .file-item[data-v-0586b7ea]{padding:8px}.xc-file-up .file-container .file-item img[data-v-0586b7ea]{width:46px;height:46px;margin-right:8px}.xc-file-up .file-container .file-item .file-info[data-v-0586b7ea]{width:280px}.xc-file-up .file-container .image-item[data-v-0586b7ea]{position:relative;float:left;width:94px;height:94px;border:1px solid #eee;margin:10px 110px 10px 0}.xc-file-up .file-container .image-item ::v-deep .el-image[data-v-0586b7ea]{width:100%;height:100%}.xc-file-up .file-container .image-item .image-info[data-v-0586b7ea]{position:absolute;left:103px;bottom:0;white-space:nowrap}.xc-file-up .file-container .image-item .file-process-bar[data-v-0586b7ea]{bottom:-3px}",""])},function(e,t){function n(e,t){var n=e[1]||"",o=e[3];if(!o)return n;if(t&&"function"==typeof btoa){var i=r(o);return[n].concat(o.sources.map(function(e){return"/*# sourceURL="+o.sourceRoot+e+" */"})).concat([i]).join("\n")}return[n].join("\n")}function r(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var r=n(t,e);return t[2]?"@media "+t[2]+"{"+r+"}":r}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<e.length;o++){var a=e[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){function r(e){for(var t=0;t<e.length;t++){var n=e[t],r=l[n.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](n.parts[o]);for(;o<n.parts.length;o++)r.parts.push(i(n.parts[o]));r.parts.length>n.parts.length&&(r.parts.length=n.parts.length)}else{for(var a=[],o=0;o<n.parts.length;o++)a.push(i(n.parts[o]));l[n.id]={id:n.id,refs:1,parts:a}}}}function o(){var e=document.createElement("style");return e.type="text/css",f.appendChild(e),e}function i(e){var t,n,r=document.querySelector("style["+v+'~="'+e.id+'"]');if(r){if(h)return m;r.parentNode.removeChild(r)}if(b){var i=p++;r=d||(d=o()),t=a.bind(null,r,i,!1),n=a.bind(null,r,i,!0)}else r=o(),t=u.bind(null,r),n=function(){r.parentNode.removeChild(r)};return t(e),function(r){if(r){if(r.css===e.css&&r.media===e.media&&r.sourceMap===e.sourceMap)return;t(e=r)}else n()}}function a(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=y(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function u(e,t){var n=t.css,r=t.media,o=t.sourceMap;if(r&&e.setAttribute("media",r),g.ssrId&&e.setAttribute(v,t.id),o&&(n+="\n/*# sourceURL="+o.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var s="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!s)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var c=n(22),l={},f=s&&(document.head||document.getElementsByTagName("head")[0]),d=null,p=0,h=!1,m=function(){},g=null,v="data-vue-ssr-id",b="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());e.exports=function(e,t,n,o){h=n,g=o||{};var i=c(e,t);return r(i),function(t){for(var n=[],o=0;o<i.length;o++){var a=i[o],u=l[a.id];u.refs--,n.push(u)}t?(i=c(e,t),r(i)):i=[];for(var o=0;o<n.length;o++){var u=n[o];if(0===u.refs){for(var s=0;s<u.parts.length;s++)u.parts[s]();delete l[u.id]}}}};var y=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t){e.exports=function(e,t){for(var n=[],r={},o=0;o<t.length;o++){var i=t[o],a=i[0],u=i[1],s=i[2],c=i[3],l={id:e+":"+o,css:u,media:s,sourceMap:c};r[a]?r[a].parts.push(l):n.push(r[a]={id:a,parts:[l]})}return n}},function(e,t,n){"use strict";function r(e){return i.axios.post("/api-base/attachments/save",e)}function o(e){return i.axios.get("/api-base/attachments/infoList",{params:e})}t.b=r,t.a=o;var i=n(24);n.n(i)},function(e,t,n){"use strict";function r(e){window.singleSpaNavigate&&window.System&&window.SystemjsWebapckInterop.setPublicPath(e)}function o(e){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t,n){if(void 0===o(window.Vue))throw new ReferenceError("No Gobal Vue found!");VuexRouterSync.sync(e,t);var r,i,a,u={router:t,store:e,render:function(e){return e(n)}};if(window.singleSpaNavigate&&window.singleSpaVue){var s=window.singleSpaVue({Vue:Vue,appOptions:u});r=s.bootstrap,i=s.mount,a=s.unmount}else new Vue(u).$mount("#app");return{bootstrap:r,mount:i,unmount:a}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return Object.keys(e).reduce(function(e,t){return e.push("".concat(t,"=").concat(query[t])),e},[]).join("&")};Vue.mixin({beforeMount:function(){var e=this.$options.asyncData;e&&e({store:this.$store,route:this.$route})},beforeRouteUpdate:function(e,t,n){var r=this.$options.asyncData;r&&r({store:this.$store,route:e}),n()}}),Vue.mixin({methods:{navigateToUrl:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=a(t),r=n?"".concat(e,"?").concat(n):e;if(window.singleSpaNavigate)window.singleSpa.navigateToUrl(r);else{var o=location.protocol,i=location.host;location.href="".concat(o,"//").concat(i).concat(r)}}}});var u=function(e){return localStorage.getItem(e)||""},s=function(e,t){return localStorage.setItem(e,t)},c=function(){var e=u("token");return e?"Bearer "+e:""},l=function(e){return s("token",e)},f=function(){return u("refreshToken")},d=function(e){return s("refreshToken",e)},p=function(){localStorage.removeItem("token"),localStorage.removeItem("refreshToken")},h=Object.freeze({__proto__:null,getToken:c,setToken:l,getRefreshToken:f,setRefreshToken:d,clearToken:p}),m=axios.create({baseURL:"/api/v1",headers:{"Content-Type":"application/json"},transformRequest:[function(e){return JSON.stringify(e)}],responseType:"json"});m.interceptors.request.use(function(e){var t=c();return t&&(e.headers.Authorization=t),e});var g=function(e){return m.post("/sysUserLogin/refreshToken",{refreshToken:f()}).then(function(t){return l(t.access_token),d(t.refresh_token),m.request(e)})},v=function(e){return 401===e.status&&403===e.request.response.code&&f()};m.interceptors.response.use(function(e){if(e.data)return e.data.data},function(e){return v(e.response)?g(e.config):(401===e.response.status&&(p(),window.singleSpa.navigateToUrl("/user/login")),Promise.reject(e))}),Vue.use(ELEMENT),Vue.config.productionTip=!1,t.axios=m,t.boot=i,t.setPublicPath=r,t.token=h},function(e,t,n){"use strict";function r(e,t){return axios({url:e,method:"get",responseType:"blob"}).then(function(e){var n=new Blob([e.data]);if("msSaveOrOpenBlob"in window.navigator)window.navigator.msSaveOrOpenBlob(n,t);else{var r=window.URL||window.webkitURL,o=r.createObjectURL(n),i=document.createElement("a");i.style.display="none",i.href=o,i.setAttribute("download",t),void 0===i.download&&i.setAttribute("target","_blank"),document.body.appendChild(i),i.click(),document.body.removeChild(i),r.revokeObjectURL(o)}})}t.a=r},function(e,t,n){"use strict";n(8),n(1)},function(e,t,n){"use strict";t.a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},function(e,t,n){"use strict";var r=n(9),o=n(29);Object(r.a)("v3",48,o.a)},function(e,t,n){"use strict";function r(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return o(a(u(e),8*e.length))}function o(e){for(var t=[],n=32*e.length,r="0123456789abcdef",o=0;o<n;o+=8){var i=e[o>>5]>>>o%32&255,a=parseInt(r.charAt(i>>>4&15)+r.charAt(15&i),16);t.push(a)}return t}function i(e){return 14+(e+64>>>9<<4)+1}function a(e,t){e[t>>5]|=128<<t%32,e[i(t)-1]=t;for(var n=1732584193,r=-271733879,o=-1732584194,a=271733878,u=0;u<e.length;u+=16){var c=n,l=r,m=o,g=a;n=f(n,r,o,a,e[u],7,-680876936),a=f(a,n,r,o,e[u+1],12,-389564586),o=f(o,a,n,r,e[u+2],17,606105819),r=f(r,o,a,n,e[u+3],22,-1044525330),n=f(n,r,o,a,e[u+4],7,-176418897),a=f(a,n,r,o,e[u+5],12,1200080426),o=f(o,a,n,r,e[u+6],17,-1473231341),r=f(r,o,a,n,e[u+7],22,-45705983),n=f(n,r,o,a,e[u+8],7,1770035416),a=f(a,n,r,o,e[u+9],12,-1958414417),o=f(o,a,n,r,e[u+10],17,-42063),r=f(r,o,a,n,e[u+11],22,-1990404162),n=f(n,r,o,a,e[u+12],7,1804603682),a=f(a,n,r,o,e[u+13],12,-40341101),o=f(o,a,n,r,e[u+14],17,-1502002290),r=f(r,o,a,n,e[u+15],22,1236535329),n=d(n,r,o,a,e[u+1],5,-165796510),a=d(a,n,r,o,e[u+6],9,-1069501632),o=d(o,a,n,r,e[u+11],14,643717713),r=d(r,o,a,n,e[u],20,-373897302),n=d(n,r,o,a,e[u+5],5,-701558691),a=d(a,n,r,o,e[u+10],9,38016083),o=d(o,a,n,r,e[u+15],14,-660478335),r=d(r,o,a,n,e[u+4],20,-405537848),n=d(n,r,o,a,e[u+9],5,568446438),a=d(a,n,r,o,e[u+14],9,-1019803690),o=d(o,a,n,r,e[u+3],14,-187363961),r=d(r,o,a,n,e[u+8],20,1163531501),n=d(n,r,o,a,e[u+13],5,-1444681467),a=d(a,n,r,o,e[u+2],9,-51403784),o=d(o,a,n,r,e[u+7],14,1735328473),r=d(r,o,a,n,e[u+12],20,-1926607734),n=p(n,r,o,a,e[u+5],4,-378558),a=p(a,n,r,o,e[u+8],11,-2022574463),o=p(o,a,n,r,e[u+11],16,1839030562),r=p(r,o,a,n,e[u+14],23,-35309556),n=p(n,r,o,a,e[u+1],4,-1530992060),a=p(a,n,r,o,e[u+4],11,1272893353),o=p(o,a,n,r,e[u+7],16,-155497632),r=p(r,o,a,n,e[u+10],23,-1094730640),n=p(n,r,o,a,e[u+13],4,681279174),a=p(a,n,r,o,e[u],11,-358537222),o=p(o,a,n,r,e[u+3],16,-722521979),r=p(r,o,a,n,e[u+6],23,76029189),n=p(n,r,o,a,e[u+9],4,-640364487),a=p(a,n,r,o,e[u+12],11,-421815835),o=p(o,a,n,r,e[u+15],16,530742520),r=p(r,o,a,n,e[u+2],23,-995338651),n=h(n,r,o,a,e[u],6,-198630844),a=h(a,n,r,o,e[u+7],10,1126891415),o=h(o,a,n,r,e[u+14],15,-1416354905),r=h(r,o,a,n,e[u+5],21,-57434055),n=h(n,r,o,a,e[u+12],6,1700485571),a=h(a,n,r,o,e[u+3],10,-1894986606),o=h(o,a,n,r,e[u+10],15,-1051523),r=h(r,o,a,n,e[u+1],21,-2054922799),n=h(n,r,o,a,e[u+8],6,1873313359),a=h(a,n,r,o,e[u+15],10,-30611744),o=h(o,a,n,r,e[u+6],15,-1560198380),r=h(r,o,a,n,e[u+13],21,1309151649),n=h(n,r,o,a,e[u+4],6,-145523070),a=h(a,n,r,o,e[u+11],10,-1120210379),o=h(o,a,n,r,e[u+2],15,718787259),r=h(r,o,a,n,e[u+9],21,-343485551),n=s(n,c),r=s(r,l),o=s(o,m),a=s(a,g)}return[n,r,o,a]}function u(e){if(0===e.length)return[];for(var t=8*e.length,n=new Uint32Array(i(t)),r=0;r<t;r+=8)n[r>>5]|=(255&e[r/8])<<r%32;return n}function s(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function c(e,t){return e<<t|e>>>32-t}function l(e,t,n,r,o,i){return s(c(s(s(t,e),s(r,i)),o),n)}function f(e,t,n,r,o,i,a){return l(t&n|~t&r,e,t,o,i,a)}function d(e,t,n,r,o,i,a){return l(t&r|n&~r,e,t,o,i,a)}function p(e,t,n,r,o,i,a){return l(t^n^r,e,t,o,i,a)}function h(e,t,n,r,o,i,a){return l(n^(t|~r),e,t,o,i,a)}t.a=r},function(e,t,n){"use strict";function r(e,t,n){e=e||{};var r=e.random||(e.rng||o.a)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var a=0;a<16;++a)t[n+a]=r[a];return t}return Object(i.a)(r)}var o=n(8),i=n(1);t.a=r},function(e,t,n){"use strict";var r=n(9),o=n(32);Object(r.a)("v5",80,o.a)},function(e,t,n){"use strict";function r(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:return t^n^r;case 2:return t&n^t&r^n&r;case 3:return t^n^r}}function o(e,t){return e<<t|e>>>32-t}function i(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var i=unescape(encodeURIComponent(e));e=[];for(var a=0;a<i.length;++a)e.push(i.charCodeAt(a))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var u=e.length/4+2,s=Math.ceil(u/16),c=new Array(s),l=0;l<s;++l){for(var f=new Uint32Array(16),d=0;d<16;++d)f[d]=e[64*l+4*d]<<24|e[64*l+4*d+1]<<16|e[64*l+4*d+2]<<8|e[64*l+4*d+3];c[l]=f}c[s-1][14]=8*(e.length-1)/Math.pow(2,32),c[s-1][14]=Math.floor(c[s-1][14]),c[s-1][15]=8*(e.length-1)&4294967295;for(var p=0;p<s;++p){for(var h=new Uint32Array(80),m=0;m<16;++m)h[m]=c[p][m];for(var g=16;g<80;++g)h[g]=o(h[g-3]^h[g-8]^h[g-14]^h[g-16],1);for(var v=n[0],b=n[1],y=n[2],w=n[3],x=n[4],_=0;_<80;++_){var C=Math.floor(_/20),S=o(v,5)+r(C,b,y,w)+x+t[C]+h[_]>>>0;x=w,w=y,y=o(b,30)>>>0,b=v,v=S}n[0]=n[0]+v>>>0,n[1]=n[1]+b>>>0,n[2]=n[2]+y>>>0,n[3]=n[3]+w>>>0,n[4]=n[4]+x>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]}t.a=i},function(e,t,n){"use strict"},function(e,t,n){"use strict";n(2)},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"xc-file-up"},[e.readonly?e._e():n("el-upload",{staticClass:"upload-demo",attrs:{action:"",accept:e.fileAccept,multiple:e.isMutiple,"show-file-list":e.isShowList,disabled:e.isDisabled,"before-upload":e.beforeUpload,"http-request":e.fileUpLoad,"on-change":e.fileChange}},[n("el-button",{attrs:{type:"primary",size:"small"}},[e._v("上传"),n("i",{staticClass:"el-icon-upload el-icon--right"})])],1),e._v(" "),e.readonly?e._e():n("em",{staticClass:"size-small"},[e._v(e._s(e.tip))]),e._v(" "),n("div",{staticClass:"file-container el-row"},["file"===e.uploadType?e._l(e.fileList,function(t,r){return n("div",{key:t.id,staticClass:"file-item"},[n("img",{attrs:{src:e.publicPath+"public/file/unknown.png"}}),e._v(" "),n("div",{staticClass:"file-info"},[n("p",[n("span",{attrs:{title:t.displayName}},[e._v(e._s(t.displayName))]),e._v(" "),n("strong",[e._v(e._s(e.getFileSize(t.fileSize)))])]),e._v(" "),"ready"!==t.status?n("p",[n("a",{staticClass:"color",attrs:{href:"javascript:void(0)"},on:{click:function(n){return e.download(t)}}},[e._v("下载")]),e._v(" "),n("a",{staticClass:"color",attrs:{href:t.url}},[e._v("预览")]),e._v(" "),e.readonly?e._e():n("a",{staticClass:"color",attrs:{href:"javascript:void(0)"},on:{click:function(t){return e.delFile(r)}}},[e._v("删除")])]):e._e()]),e._v(" "),-1!==t.progress?n("span",{staticClass:"file-process-bar",style:{width:t.progress+"%"}}):e._e()])}):e._l(e.fileList,function(t,r){return n("div",{key:t.id,staticClass:"image-item"},[n("el-image",{ref:"imageBox",refInFor:!0,attrs:{src:t.url,"preview-src-list":[t.url]}}),e._v(" "),n("div",{staticClass:"image-info"},["ready"!==t.status?n("div",[n("a",{staticClass:"color",attrs:{href:"javascript:void(0)"},on:{click:function(n){return e.download(t)}}},[e._v("下载")]),e._v(" "),n("a",{staticClass:"color",attrs:{href:"javascript:void(0)"},on:{click:function(t){return e.previewImage(r)}}},[e._v("预览")]),e._v(" "),e.readonly?e._e():n("a",{staticClass:"color",attrs:{href:"javascript:void(0)"},on:{click:function(t){return e.delFile(r)}}},[e._v("删除")])]):e._e()]),e._v(" "),-1!==t.progress?n("span",{staticClass:"file-process-bar",style:{width:t.progress+"%"}}):e._e()],1)})],2)],1)},o=[],i={render:r,staticRenderFns:o};t.a=i},function(e,t,n){"use strict";var r=n(11),o=n(51),i=n(3),a=i(r.a,o.a,!1,null,null,null);t.a=a.exports},function(e,t,n){(function(t){!function(n){"use strict";function r(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=t.concat(n);return e.apply(null,o)}}function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function i(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),o=0,t=0;t<n;t++)for(var i=arguments[t],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r}function a(e){var t={},n={},r=[],o={},i={},a=function(t,n,r){var o=e[t];return o?o=Mi(o,/[, ]/,Mi(o.toUpperCase(),/[, ]/)):(o=Ai[t])||(o=Mi(n," ",Mi(n.toUpperCase()," ")),o=Ri(o,r),Ai[t]=o),o};e=e||{};var u=Bi(e.schema);!1===e.verify_html&&(e.valid_elements="*[*]");var s=zi(e.valid_styles),c=zi(e.invalid_styles,"map"),l=zi(e.valid_classes,"map"),f=a("whitespace_elements","pre script noscript style textarea video audio iframe object code"),d=a("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),p=a("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),h=a("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),m=a("non_empty_elements","td th iframe video audio object script pre code",p),g=a("move_caret_before_on_enter_elements","table",m),v=a("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),b=a("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",v),y=a("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp");Ii((e.special||"script noscript iframe noframes noembed title style textarea xmp").split(" "),function(e){i[e]=new RegExp("</"+e+"[^>]*>","gi")});var w=function(e){return new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$")},x=function(e){var n,o,i,a,u,s,c,l,f,d,p,h,m,g,v,b,y,x,_=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,C=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,S=/[*?+]/;if(e)for(e=ji(e,","),t["@"]&&(b=t["@"].attributes,y=t["@"].attributesOrder),n=0,o=e.length;n<o;n++)if(u=_.exec(e[n])){if(g=u[1],f=u[2],v=u[3],l=u[5],h={},m=[],s={attributes:h,attributesOrder:m},"#"===g&&(s.paddEmpty=!0),"-"===g&&(s.removeEmpty=!0),"!"===u[4]&&(s.removeEmptyAttrs=!0),b&&(mt(b,function(e,t){h[t]=e}),m.push.apply(m,y)),l)for(l=ji(l,"|"),i=0,a=l.length;i<a;i++)if(u=C.exec(l[i])){if(c={},p=u[1],d=u[2].replace(/[\\:]:/g,":"),g=u[3],x=u[4],"!"===p&&(s.attributesRequired=s.attributesRequired||[],s.attributesRequired.push(d),c.required=!0),"-"===p){delete h[d],m.splice(Li(m,d),1);continue}g&&("="===g&&(s.attributesDefault=s.attributesDefault||[],s.attributesDefault.push({name:d,value:x}),c.defaultValue=x),":"===g&&(s.attributesForced=s.attributesForced||[],s.attributesForced.push({name:d,value:x}),c.forcedValue=x),"<"===g&&(c.validValues=Mi(x,"?"))),S.test(d)?(s.attributePatterns=s.attributePatterns||[],c.pattern=w(d),s.attributePatterns.push(c)):(h[d]||m.push(d),h[d]=c)}b||"@"!==f||(b=h,y=m),v&&(s.outputName=f,t[v]=s),S.test(f)?(s.pattern=w(f),r.push(s)):t[f]=s}},_=function(e){t={},r=[],x(e),Ii(u,function(e,t){n[t]=e.children})},C=function(e){var r=/^(~)?(.+)$/;e&&(Ai.text_block_elements=Ai.block_elements=null,Ii(ji(e,","),function(e){var i=r.exec(e),a="~"===i[1],u=a?"span":"div",s=i[2];if(n[s]=n[u],o[s]=u,a||(b[s.toUpperCase()]={},b[s]={}),!t[s]){var c=t[u];c=Ri({},c),delete c.removeEmptyAttrs,delete c.removeEmpty,t[s]=c}Ii(n,function(e,t){e[u]&&(n[t]=e=Ri({},n[t]),e[s]=e[u])})}))},S=function(t){var r=/^([+\-]?)([A-Za-z0-9_\-\.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)\]$/;Ai[e.schema]=null,t&&Ii(ji(t,","),function(e){var t,o,i=r.exec(e);i&&(o=i[1],t=o?n[i[2]]:n[i[2]]={"#comment":{}},t=n[i[2]],Ii(ji(i[3],"|"),function(e){"-"===o?delete t[e]:t[e]={}}))})},E=function(e){var n,o=t[e];if(o)return o;for(n=r.length;n--;)if(o=r[n],o.pattern.test(e))return o};e.valid_elements?_(e.valid_elements):(Ii(u,function(e,r){t[r]={attributes:e.attributes,attributesOrder:e.attributesOrder},n[r]=e.children}),"html5"!==e.schema&&Ii(ji("strong/b em/i"),function(e){e=ji(e,"/"),t[e[1]].outputName=e[0]}),Ii(ji("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(e){t[e]&&(t[e].removeEmpty=!0)}),Ii(ji("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(e){t[e].paddEmpty=!0}),Ii(ji("span"),function(e){t[e].removeEmptyAttrs=!0})),C(e.custom_elements),S(e.valid_children),x(e.extended_valid_elements),S("+ol[ul|ol],+ul[ul|ol]"),Ii({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(e,n){t[n]&&(t[n].parentsRequired=ji(e))}),e.invalid_elements&&Ii(Pi(e.invalid_elements),function(e){t[e]&&delete t[e]}),E("span")||x("span[!data-mce-type|*]");var k=function(){return s},T=function(){return c},N=function(){return l},O=function(){return h},A=function(){return b},D=function(){return v},M=function(){return y};return{children:n,elements:t,getValidStyles:k,getValidClasses:N,getBlockElements:A,getInvalidStyles:T,getShortEndedElements:function(){return p},getTextBlockElements:D,getTextInlineElements:M,getBoolAttrs:O,getElementRule:E,getSelfClosingElements:function(){return d},getNonEmptyElements:function(){return m},getMoveCaretBeforeOnEnterElements:function(){return g},getWhiteSpaceElements:function(){return f},getSpecialElements:function(){return i},isValidChild:function(e,t){var r=n[e.toLowerCase()];return!(!r||!r[t.toLowerCase()])},isValid:function(e,t){var n,r,o=E(e);if(o){if(!t)return!0;if(o.attributes[t])return!0;if(n=o.attributePatterns)for(r=n.length;r--;)if(n[r].pattern.test(e))return!0}return!1},getCustomElements:function(){return o},addValidElements:x,setValidElements:_,addCustomElements:C,addValidChildren:S}}function u(){function e(n,r){return t.push(n+" ")>F.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function s(e){return e[na]=!0,e}function c(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||fa)-(~e.sourceIndex||fa);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function l(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function f(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function d(e){return s(function(t){return t=+t,s(function(n,r){for(var o,i=e([],n.length,t),a=i.length;a--;)n[o=i[a]]&&(n[o]=!(r[o]=n[o]))})})}function p(e){return e&&typeof e.getElementsByTagName!==la&&e}function h(){}function m(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function g(e,t,n){var r=t.dir,o=n&&"parentNode"===r,i=ia++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||o)return e(t,n,i)}:function(t,n,a){var u,s,c=[oa,i];if(a){for(;t=t[r];)if((1===t.nodeType||o)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||o){if(s=t[na]||(t[na]={}),(u=s[r])&&u[0]===oa&&u[1]===i)return c[2]=u[2];if(s[r]=c,c[2]=e(t,n,a))return!0}}}function v(e){return e.length>1?function(t,n,r){for(var o=e.length;o--;)if(!e[o](t,n,r))return!1;return!0}:e[0]}function b(e,t,n){for(var r=0,o=t.length;r<o;r++)Ba(e,t[r],n);return n}function y(e,t,n,r,o){for(var i,a=[],u=0,s=e.length,c=null!=t;u<s;u++)(i=e[u])&&(n&&!n(i,r,o)||(a.push(i),c&&t.push(u)));return a}function w(e,t,n,r,o,i){return r&&!r[na]&&(r=w(r)),o&&!o[na]&&(o=w(o,i)),s(function(i,a,u,s){var c,l,f,d=[],p=[],h=a.length,m=i||b(t||"*",u.nodeType?[u]:u,[]),g=!e||!i&&t?m:y(m,d,e,u,s),v=n?o||(i?e:h||r)?[]:a:g;if(n&&n(g,v,u,s),r)for(c=y(v,p),r(c,[],u,s),l=c.length;l--;)(f=c[l])&&(v[p[l]]=!(g[p[l]]=f));if(i){if(o||e){if(o){for(c=[],l=v.length;l--;)(f=v[l])&&c.push(g[l]=f);o(null,v=[],c,s)}for(l=v.length;l--;)(f=v[l])&&(c=o?ba.call(i,f):d[l])>-1&&(i[c]=!(a[c]=f))}}else v=y(v===a?v.splice(h,v.length):v),o?o(null,a,v,s):ga.apply(a,v)})}function x(e){for(var t,n,r,o=e.length,i=F.relative[e[0].type],a=i||F.relative[" "],u=i?1:0,s=g(function(e){return e===t},a,!0),c=g(function(e){return ba.call(t,e)>-1},a,!0),l=[function(e,n,r){return!i&&(r||n!==G)||((t=n).nodeType?s(e,n,r):c(e,n,r))}];u<o;u++)if(n=F.relative[e[u].type])l=[g(v(l),n)];else{if(n=F.filter[e[u].type].apply(null,e[u].matches),n[na]){for(r=++u;r<o&&!F.relative[e[r].type];r++);return w(u>1&&v(l),u>1&&m(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(Ca,"$1"),n,u<r&&x(e.slice(u,r)),r<o&&x(e=e.slice(r)),r<o&&m(e))}l.push(n)}return v(l)}function _(e,t){var n=t.length>0,r=e.length>0,o=function(o,i,a,u,s){var c,l,f,d=0,p="0",h=o&&[],m=[],g=G,v=o||r&&F.find.TAG("*",s),b=oa+=null==g?1:Math.random()||.1,w=v.length;for(s&&(G=i!==K&&i);p!==w&&null!=(c=v[p]);p++){if(r&&c){for(l=0;f=e[l++];)if(f(c,i,a)){u.push(c);break}s&&(oa=b)}n&&((c=!f&&c)&&d--,o&&h.push(c))}if(d+=p,n&&p!==d){for(l=0;f=t[l++];)f(h,m,i,a);if(o){if(d>0)for(;p--;)h[p]||m[p]||(m[p]=ha.call(u));m=y(m)}ga.apply(u,m),s&&!o&&m.length>0&&d+t.length>1&&Ba.uniqueSort(u)}return s&&(oa=b,G=g),h};return n?s(o):o}function C(e,t){void 0===t&&(t={});var r=0,o={},i=Wn.fromDom(e),a=pr(i),u=t.maxLoadTime||5e3,s=function(e){t.referrerPolicy=e},c=function(e){jr(Dr(i),e)},l=function(i,s,l){var f,d,p,h=function(e){p.status=e,p.passed=[],p.failed=[],f&&(f.onload=null,f.onerror=null,f=null)},m=function(){for(var e=p.passed,t=e.length;t--;)e[t]();h(2)},g=function(){for(var e=p.failed,t=e.length;t--;)e[t]();h(3)},v=function(e,t){e()||((new Date).getTime()-w<u?qu.setTimeout(t):g())},b=function(){v(function(){for(var t,n,r=e.styleSheets,o=r.length;o--;)if(t=r[o],(n=t.ownerNode?t.ownerNode:t.owningElement)&&n.id===f.id)return m(),!0},b)},y=function(){v(function(){try{var e=d.sheet.cssRules;return m(),!!e}catch(e){}},y)};if(i=zn._addCacheSuffix(i),o[i]?p=o[i]:(p={passed:[],failed:[]},o[i]=p),s&&p.passed.push(s),l&&p.failed.push(l),1!==p.status){if(2===p.status)return void m();if(3===p.status)return void g();p.status=1,f=a.dom().createElement("link"),f.rel="stylesheet",f.type="text/css",f.id="u"+r++,f.async=!1,f.defer=!1;var w=(new Date).getTime();if(t.contentCssCors&&(f.crossOrigin="anonymous"),t.referrerPolicy&&So(Wn.fromDom(f),"referrerpolicy",t.referrerPolicy),"onload"in f&&!function(){var e=n.navigator.userAgent.match(/WebKit\/(\d*)/);return!!(e&&parseInt(e[1],10)<536)}())f.onload=b,f.onerror=g;else{if(n.navigator.userAgent.indexOf("Firefox")>0)return d=a.dom().createElement("style"),d.textContent='@import "'+i+'"',y(),void c(Wn.fromDom(d));b()}c(Wn.fromDom(f)),f.href=i}},f=function(e){return Tu.nu(function(t){l(e,me(t,ve(Iu.value(e))),me(t,ve(Iu.error(e))))})};return{load:l,loadAll:function(e,t,n){Ou($e(e,f)).get(function(e){var r=Ke(e,function(e){return e.isValue()});r.fail.length>0?n(r.fail.map(Lu)):t(r.pass.map(Lu))})},_setReferrerPolicy:s}}function S(e,t){var r=this;void 0===t&&(t={});var o={},i=n.window,u={},s=0,c=Wu.forElement(Wn.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),l=[],f=t.schema?t.schema:a({}),d=Vi({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),p=t.ownEvents?new ta:ta.Event,h=f.getBlockElements(),m=hu.overrideDefaults(function(){return{context:e,element:Te.getRoot()}}),g=function(e){if("string"==typeof e)return!!h[e];if(e){var t=e.nodeType;if(t)return!(1!==t||!h[e.nodeName])}return!1},v=function(t){return t&&e&&Me(t)?e.getElementById(t):t},b=function(e){return m("string"==typeof e?v(e):e)},y=function(e,t,n){var r,o,i=b(e);return i.length&&(r=Ne[t],o=r&&r.get?r.get(i,t):i.attr(t)),void 0===o&&(o=n||""),o},w=function(e){var t=v(e);return t?t.attributes:[]},x=function(e,n,r){""===r&&(r=null);var o=b(e),i=o.attr(n);if(o.length){var a=Ne[n];a&&a.set?a.set(o,r,n):o.attr(n,r),i!==r&&t.onSetAttrib&&t.onSetAttrib({attrElm:o,attrName:n,attrValue:r})}},_=function(t,n){if(!Xu||1!==t.nodeType||n)return t.cloneNode(n);var r=e.createElement(t.nodeName);return Gu(w(t),function(e){x(r,e.nodeName,y(t,e.nodeName))}),r},C=function(){return t.root_element||e.body},E=function(e){var t=no(e);return{x:t.x,y:t.y,w:t.width,h:t.height}},k=function(t,n){return Fo(e.body,v(t),n)},T=function(e,n,r){var o=Me(n)?b(e).css(n,r):b(e).css(n);t.update_styles&&Qu(d,o)},N=function(e,n){var r=b(e).css(n);t.update_styles&&Qu(d,r)},O=function(e,t,n){var r=b(e);return n?r.css(t):(t=t.replace(/-(\D)/g,function(e,t){return t.toUpperCase()}),"float"===t&&(t=kn.browser.isIE()?"styleFloat":"cssFloat"),r[0]&&r[0].style?r[0].style[t]:void 0)},A=function(e){var t,n;return e=v(e),t=O(e,"width"),n=O(e,"height"),-1===t.indexOf("px")&&(t=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(t,10)||e.offsetWidth||e.clientWidth,h:parseInt(n,10)||e.offsetHeight||e.clientHeight}},D=function(e){e=v(e);var t=k(e),n=A(e);return{x:t.x,y:t.y,w:n.w,h:n.h}},M=function(e,t){var n;if(!e)return!1;if(!Array.isArray(e)){if("*"===t)return 1===e.nodeType;if(Yu.test(t)){var r=t.toLowerCase().split(/,/),o=e.nodeName.toLowerCase();for(n=r.length-1;n>=0;n--)if(r[n]===o)return!0;return!1}if(e.nodeType&&1!==e.nodeType)return!1}var i=Array.isArray(e)?e:[e];return Ba(t,i[0].ownerDocument||i[0],null,i).length>0},I=function(e,t,n,r){var o,i=[],a=v(e);for(r=void 0===r,n=n||("BODY"!==C().nodeName?C().parentNode:null),zn.is(t,"string")&&(o=t,t="*"===t?function(e){return 1===e.nodeType}:function(e){return M(e,o)});a&&a!==n&&a.nodeType&&9!==a.nodeType;){if(!t||"function"==typeof t&&t(a)){if(!r)return[a];i.push(a)}a=a.parentNode}return r?i:null},R=function(e,t,n){var r=I(e,t,n,!1);return r&&r.length>0?r[0]:null},P=function(e,t,n){var r=t;if(e)for("string"==typeof t&&(r=function(e){return M(e,t)}),e=e[n];e;e=e[n])if("function"==typeof r&&r(e))return e;return null},L=function(e,t){return P(e,t,"nextSibling")},j=function(e,t){return P(e,t,"previousSibling")},B=function(n,r){return Ba(n,v(r)||t.root_element||e,[])},z=function(e,t,n){var o,i="string"==typeof e?v(e):e;if(!i)return!1;if(zn.isArray(i)&&(i.length||0===i.length))return o=[],Gu(i,function(e,r){e&&("string"==typeof e&&(e=v(e)),o.push(t.call(n,e,r)))}),o;var a=n||r;return t.call(a,i)},F=function(e,t){b(e).each(function(e,n){Gu(t,function(e,t){x(n,t,e)})})},H=function(e,t){var n=b(e);Xu?n.each(function(e,n){if(!1!==n.canHaveHTML){for(;n.firstChild;)n.removeChild(n.firstChild);try{n.innerHTML="<br>"+t,n.removeChild(n.firstChild)}catch(e){hu("<div></div>").html("<br>"+t).contents().slice(1).appendTo(n)}return t}}):n.html(t)},U=function(t,n,r,o,i){return z(t,function(t){var a="string"==typeof n?e.createElement(n):n;return F(a,r),o&&("string"!=typeof o&&o.nodeType?a.appendChild(o):"string"==typeof o&&H(a,o)),i?a:t.appendChild(a)})},V=function(t,n,r){return U(e.createElement(t),t,n,r,!0)},q=Oi.decode,W=Oi.encodeAllRaw,G=function(e,t,n){var r,o="";o+="<"+e;for(r in t)t.hasOwnProperty(r)&&null!==t[r]&&void 0!==t[r]&&(o+=" "+r+'="'+W(t[r])+'"');return void 0!==n?o+">"+n+"</"+e+">":o+" />"},$=function(t){var n,r=e.createElement("div"),o=e.createDocumentFragment();for(o.appendChild(r),t&&(r.innerHTML=t);n=r.firstChild;)o.appendChild(n);return o.removeChild(r),o},X=function(e,t){var n=b(e);return t?n.each(function(){for(var e;e=this.firstChild;)3===e.nodeType&&0===e.data.length?this.removeChild(e):this.parentNode.insertBefore(e,this)}).remove():n.remove(),n.length>1?n.toArray():n[0]},Y=function(e){return z(e,function(e){var t,n=e.attributes;for(t=n.length-1;t>=0;t--)e.removeAttributeNode(n.item(t))})},K=function(e){return d.parse(e)},J=function(e,t){return d.serialize(e,t)},Q=function(t){var r,i;if(Te!==S.DOM&&e===n.document){if(o[t])return;o[t]=!0}i=e.getElementById("mceDefaultStyles"),i||(i=e.createElement("style"),i.id="mceDefaultStyles",i.type="text/css",r=e.getElementsByTagName("head")[0],r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i)),i.styleSheet?i.styleSheet.cssText+=t:i.appendChild(e.createTextNode(t))},Z=function(r){if(Te!==S.DOM&&e===n.document)return void S.DOM.loadCSS(r);r||(r="");var o=e.getElementsByTagName("head")[0];Gu(r.split(","),function(e){if(e=zn._addCacheSuffix(e),!u[e]){u[e]=!0;var n=V("link",Lt(Lt({rel:"stylesheet",type:"text/css",href:e},t.contentCssCors?{crossOrigin:"anonymous"}:{}),t.referrerPolicy?{referrerPolicy:t.referrerPolicy}:{}));o.appendChild(n)}})},ee=function(e,t,n){b(e).toggleClass(t,n).each(function(){""===this.className&&hu(this).attr("class",null)})},te=function(e,t){b(e).addClass(t)},ne=function(e,t){ee(e,t,!1)},re=function(e,t){return b(e).hasClass(t)},oe=function(e){b(e).show()},ie=function(e){b(e).hide()},ae=function(e){return"none"===b(e).css("display")},ue=function(e){return(e||"mce_")+s++},se=function(e){var t="string"==typeof e?v(e):e;return io(t)?t.outerHTML:hu("<div></div>").append(hu(t).clone()).html()},ce=function(e,t){b(e).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=t)}catch(e){}X(hu(this).html(t),!0)})},le=function(e,t){var n=v(t);return z(e,function(e){var t=n.parentNode,r=n.nextSibling;return r?t.insertBefore(e,r):t.appendChild(e),e})},fe=function(e,t,n){return z(t,function(t){return zn.is(t,"array")&&(e=e.cloneNode(!0)),n&&Gu($u(t.childNodes),function(t){e.appendChild(t)}),t.parentNode.replaceChild(e,t)})},de=function(e,t){var n;return e.nodeName!==t.toUpperCase()&&(n=V(t),Gu(w(e),function(t){x(n,t.nodeName,y(e,t.nodeName))}),fe(n,e,!0)),n||e},pe=function(e,t){for(var n,r=e;r;){for(n=t;n&&r!==n;)n=n.parentNode;if(r===n)break;r=r.parentNode}return!r&&e.ownerDocument?e.ownerDocument.documentElement:r},he=function(e){return d.toHex(zn.trim(e))},me=function(e){if(io(e)){var t="a"===e.nodeName.toLowerCase()&&!y(e,"href")&&y(e,"id");if(y(e,"name")||y(e,"data-mce-bookmark")||t)return!0}return!1},ge=function(e,t){var n,r,o=0;if(me(e))return!1;if(e=e.firstChild){var i=new mu(e,e.parentNode),a=f?f.getWhiteSpaceElements():{};t=t||(f?f.getNonEmptyElements():null);do{if(n=e.nodeType,io(e)){var u=e.getAttribute("data-mce-bogus");if(u){e=i.next("all"===u);continue}if(r=e.nodeName.toLowerCase(),t&&t[r]){if("br"===r){o++,e=i.next();continue}return!1}if(me(e))return!1}if(8===n)return!1;if(3===n&&!Ku.test(e.nodeValue))return!1;if(3===n&&e.parentNode&&a[e.parentNode.nodeName]&&Ku.test(e.nodeValue))return!1;e=i.next()}while(e)}return o<=1},ve=function(){return e.createRange()},be=function(e,t,n){var r,o,i,a=ve();if(e&&t)return a.setStart(e.parentNode,Zu(e)),a.setEnd(t.parentNode,Zu(t)),r=a.extractContents(),a=ve(),a.setStart(t.parentNode,Zu(t)+1),a.setEnd(e.parentNode,Zu(e)+1),o=a.extractContents(),i=e.parentNode,i.insertBefore(fi(Te,r),e),n?i.insertBefore(n,e):i.insertBefore(t,e),i.insertBefore(fi(Te,o),e),X(e),n||t},ye=function(n,r,o,a){if(zn.isArray(n)){for(var u=n.length,s=[];u--;)s[u]=ye(n[u],r,o,a);return s}return!t.collect||n!==e&&n!==i||l.push([n,r,o,a]),p.bind(n,r,o,a||Te)},we=function(t,n,r){var o;if(zn.isArray(t)){o=t.length;for(var a=[];o--;)a[o]=we(t[o],n,r);return a}if(l.length>0&&(t===e||t===i))for(o=l.length;o--;){var u=l[o];t!==u[0]||n&&n!==u[1]||r&&r!==u[2]||p.unbind(u[0],u[1],u[2])}return p.unbind(t,n,r)},xe=function(e,t,n){return p.fire(e,t,n)},_e=function(e){if(e&&io(e)){var t=e.getAttribute("data-mce-contenteditable");return t&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null}return null},Ce=function(e){for(var t=C(),n=null;e&&e!==t&&null===(n=_e(e));e=e.parentNode);return n},Se=function(){if(l.length>0)for(var e=l.length;e--;){var t=l[e];p.unbind(t[0],t[1],t[2])}Ba.setDocument&&Ba.setDocument()},Ee=function(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},ke=function(e){return"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset},Te={doc:e,settings:t,win:i,files:u,stdMode:!0,boxModel:!0,styleSheetLoader:c,boundEvents:l,styles:d,schema:f,events:p,isBlock:g,$:m,$$:b,root:null,clone:_,getRoot:C,getViewPort:E,getRect:D,getSize:A,getParent:R,getParents:I,get:v,getNext:L,getPrev:j,select:B,is:M,add:U,create:V,createHTML:G,createFragment:$,remove:X,setStyle:T,getStyle:O,setStyles:N,removeAllAttribs:Y,setAttrib:x,setAttribs:F,getAttrib:y,getPos:k,parseStyle:K,serializeStyle:J,addStyle:Q,loadCSS:Z,addClass:te,removeClass:ne,hasClass:re,toggleClass:ee,show:oe,hide:ie,isHidden:ae,uniqueId:ue,setHTML:H,getOuterHTML:se,setOuterHTML:ce,decode:q,encode:W,insertAfter:le,replace:fe,rename:de,findCommonAncestor:pe,toHex:he,run:z,getAttribs:w,isEmpty:ge,createRng:ve,nodeIndex:Zu,split:be,bind:ye,unbind:we,fire:xe,getContentEditable:_e,getContentEditableParent:Ce,destroy:Se,isChildOf:Ee,dumpRng:ke},Ne=Ju(d,t,function(){return Te});return Te}function E(){var e=this,t=[],n={},r={},o=[],i=function(e,t){var n=Je(o,function(n){return n.name===e&&n.state===t});Xe(n,function(e){return e.callback()})},a=function(e){if(r[e])return r[e].instance},u=function(e){var t;return r[e]&&(t=r[e].dependencies),t||[]},s=function(e,t){!1!==E.languageLoad&&m(e,function(){var r=bs.getCode(),o=","+(t||"")+",";!r||t&&-1===o.indexOf(","+r+",")||os.ScriptLoader.add(n[e]+"/langs/"+r+".js")},"loaded")},c=function(e,n,o){var a=n;return t.push(a),r[e]={instance:a,dependencies:o},i(e,"added"),a},l=function(e){delete n[e],delete r[e]},f=function(e,t){return"object"==typeof t?t:"string"==typeof e?{prefix:"",resource:t,suffix:""}:{prefix:e.prefix,resource:t,suffix:e.suffix}},d=function(t,n){var r=e.urls[t];Xe(n,function(e){os.ScriptLoader.add(r+"/"+e)})},p=function(e,t,n,r){var o=u(e);Xe(o,function(e){var n=f(t,e);h(n.resource,n,void 0,void 0)}),n&&(r?n.call(r):n.call(os))},h=function(e,t,o,a,u){if(!n[e]){var s="string"==typeof t?t:t.prefix+t.resource+t.suffix;0!==s.indexOf("/")&&-1===s.indexOf("://")&&(s=E.baseURL+"/"+s),n[e]=s.substring(0,s.lastIndexOf("/"));var c=function(){i(e,"loaded"),p(e,t,o,a)};r[e]?c():os.ScriptLoader.add(s,c,a,u)}},m=function(e,t,i){void 0===i&&(i="added"),Et(r,e)&&"added"===i?t():Et(n,e)&&"loaded"===i?t():o.push({name:e,state:i,callback:t})};return{items:t,urls:n,lookup:r,_listeners:o,get:a,dependencies:u,requireLangPack:s,add:c,remove:l,createUrl:f,addComponents:d,load:h,waitFor:m}}function k(e,t,n,r,o){return e(n,r)?Te.some(n):Be(o)&&o(n)?Te.none():t(n,r,o)}function T(e,t,n){var r=function(){return ll(e),0===t},o=function(){return ll(e)?t>=e.data.length:t>=e.childNodes.length},i=function(){var n=hl(e.ownerDocument);return n.setStart(e,t),n.setEnd(e,t),n},a=function(){return n||(n=Cl(T(e,t))),n},u=function(){return a().length>0},s=function(n){return n&&e===n.container()&&t===n.offset()},c=function(n){return pl(e,n?t-1:t)};return{container:ve(e),offset:ve(t),toRange:i,getClientRects:a,isVisible:u,isAtStart:r,isAtEnd:o,isEqual:s,getNode:c}}function N(e,t){void 0===t&&(t=a());var n=function(){};e=e||{},!1!==e.fix_self_closing&&(e.fix_self_closing=!0);var r=e.comment?e.comment:n,o=e.cdata?e.cdata:n,i=e.text?e.text:n,u=e.start?e.start:n,s=e.end?e.end:n,c=e.pi?e.pi:n,l=e.doctype?e.doctype:n,f=function(n,a){void 0===a&&(a="html");for(var f,d,p,h,m,g,v,b,y,w,x,_,C,S,E,k,T,N,O,A,D=n.html,M=0,I=[],R=0,P=Oi.decode,L=zn.makeMap("src,href,data,background,formaction,poster,xlink:href"),j=/((java|vb)script|mhtml):/i,B="html"===a?0:1,z=function(e){var t,n;for(t=I.length;t--&&I[t].name!==e;);if(t>=0){for(n=I.length-1;n>=t;n--)e=I[n],e.valid&&s(e.name);I.length=t}},F=function(e,t){return i(xm(e,n),t)},H=function(t){""!==t&&(">"===t.charAt(0)&&(t=" "+t),e.allow_conditional_comments||"[if"!==t.substr(0,3).toLowerCase()||(t=" "+t),r(xm(t,n)))},U=function(e){return St(n.uris,e).getOr(e)},V=function(e,t){var n=e||"",r=!nn(n,"--"),o=Tm(D,r,t);return e=D.substr(t,o-t),H(r?n+e:e),o+1},q=(function(t,n,r,o,i){var a,u,s=/[\s\u0000-\u001F]+/g;if(n=n.toLowerCase(),r=U(n in Y?n:P(r||o||i||"")),K&&!b&&!1===Cm(n)){if(!(a=S[n])&&E){for(u=E.length;u--&&(a=E[u],!a.pattern.test(n)););-1===u&&(a=null)}if(!a)return;if(a.validValues&&!(r in a.validValues))return}if(L[n]&&!e.allow_script_urls){var c=r.replace(s,"");try{c=decodeURIComponent(c)}catch(e){c=unescape(c)}if(j.test(c))return;if(Sm(e,c))return}b&&(n in L||0===n.indexOf("on"))||(h.map[n]=r,h.push({name:n,value:r}))}),W=new RegExp("<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\w\\W]*?)>)|(?:!(--)?)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),G=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,$=t.getShortEndedElements(),X=e.self_closing_elements||t.getSelfClosingElements(),Y=t.getBoolAttrs(),K=e.validate,J=e.remove_internals,Q=e.fix_self_closing,Z=t.getSpecialElements(),ee=D+">";f=W.exec(ee);){var te=f[0];if(M<f.index&&F(P(D.substr(M,f.index-M))),d=f[7])d=d.toLowerCase(),":"===d.charAt(0)&&(d=d.substr(1)),z(d);else if(d=f[8]){if(f.index+te.length>D.length){F(P(D.substr(f.index))),M=f.index+te.length;continue}d=d.toLowerCase(),":"===d.charAt(0)&&(d=d.substr(1)),y=d in $,Q&&X[d]&&I.length>0&&I[I.length-1].name===d&&z(d);var ne=Nm(G,f[9]);if(null!==ne){if("all"===ne){M=Em(t,D,W.lastIndex),W.lastIndex=M;continue}x=!1}if(!K||(w=t.getElementRule(d))){if(x=!0,K&&(S=w.attributes,E=w.attributePatterns),(C=f[9])?(b=-1!==C.indexOf("data-mce-type"),b&&J&&(x=!1),h=[],h.map={},C.replace(G,q)):(h=[],h.map={}),K&&!b){if(k=w.attributesRequired,T=w.attributesDefault,N=w.attributesForced,O=w.removeEmptyAttrs,O&&!h.length&&(x=!1),N)for(m=N.length;m--;)_=N[m],v=_.name,A=_.value,"{$uid}"===A&&(A="mce_"+R++),h.map[v]=A,h.push({name:v,value:A});if(T)for(m=T.length;m--;)_=T[m],(v=_.name)in h.map||(A=_.value,"{$uid}"===A&&(A="mce_"+R++),h.map[v]=A,h.push({name:v,value:A}));if(k){for(m=k.length;m--&&!(k[m]in h.map););-1===m&&(x=!1)}if(_=h.map["data-mce-bogus"]){if("all"===_){M=Em(t,D,W.lastIndex),W.lastIndex=M;continue}x=!1}}x&&u(d,h,y)}else x=!1;if(p=Z[d]){p.lastIndex=M=f.index+te.length,(f=p.exec(D))?(x&&(g=D.substr(M,f.index-M)),M=f.index+f[0].length):(g=D.substr(M),M=D.length),x&&(g.length>0&&F(g,!0),s(d)),W.lastIndex=M;continue}y||(C&&C.indexOf("/")===C.length-1?x&&s(d):I.push({name:d,valid:x}))}else if(d=f[1])H(d);else if(d=f[2]){var re=1===B||e.preserve_cdata||I.length>0&&t.isValidChild(I[I.length-1].name,"#cdata");if(!re){M=V("",f.index+2),W.lastIndex=M;continue}o(d)}else if(d=f[3])l(d);else{if((d=f[4])||"<!"===te){M=V(d,f.index+te.length),W.lastIndex=M;continue}if(d=f[5]){if(1!==B){M=V("?",f.index+2),W.lastIndex=M;continue}c(d,f[6])}}M=f.index+te.length}for(M<D.length&&F(P(D.substr(M))),m=I.length-1;m>=0;m--)d=I[m],d.valid&&s(d.name)};return{parse:function(e,t){void 0===t&&(t="html"),f(wm(e),t)}}}function O(){var e=function(){throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,reposition:e,getArgs:e}}function A(e){var t=[],n=function(){var t=e.theme;return t&&t.getNotificationManagerImpl?t.getNotificationManagerImpl():O()},r=function(){return Te.from(t[0])},o=function(e,t){return!(e.type!==t.type||e.text!==t.text||e.progressBar||e.timeout||t.progressBar||t.timeout)},i=function(){t.length>0&&n().reposition(t)},a=function(e){t.push(e)},u=function(e){nt(t,function(t){return t===e}).each(function(e){t.splice(e,1)})},s=function(r){if(!e.removed&&QC(e))return tt(t,function(e){return o(n().getArgs(e),r)}).getOrThunk(function(){e.editorManager.setActive(e);var t=n().open(r,function(){u(t),i()});return a(t),i(),t})},c=function(){r().each(function(e){n().close(e),u(e),i()})},l=function(){return t};return function(e){e.on("SkinLoaded",function(){var t=$f(e);t&&s({text:t,type:"warning",timeout:0})}),e.on("ResizeEditor ResizeWindow NodeChange",function(){qu.requestAnimationFrame(i)}),e.on("remove",function(){Xe(t.slice(),function(e){n().close(e)})})}(e),{open:s,close:c,getNotifications:l}}function D(){var e=function(){throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e,getParams:e,setParams:e}}function M(e){return{getBookmark:r(th,e),moveToBookmark:r(nh,e)}}function I(e,t){var n,r;return{selectorChangedWithUnbind:function(o,i){return n||(n={},r={},t.on("NodeChange",function(t){var o=t.element,i=e.getParents(o,null,e.getRoot()),a={};zn.each(n,function(t,n){zn.each(i,function(o){if(e.is(o,n))return r[n]||(zn.each(t,function(e){e(!0,{node:o,selector:n,parents:i})}),r[n]=t),a[n]=t,!1})}),zn.each(r,function(e,t){a[t]||(delete r[t],zn.each(e,function(e){e(!1,{node:o,selector:t,parents:i})}))})})),n[o]||(n[o]=[]),n[o].push(i),{unbind:function(){DE(n,o,i),DE(r,o,i)}}}}}function R(e,t){var n={};return{findAll:function(r,o){o||(o=ve(!0));var i=Je(KE(r),function(t){var n=t.src;return!!kn.fileApi&&(!t.hasAttribute("data-mce-bogus")&&(!t.hasAttribute("data-mce-placeholder")&&(!(!n||n===kn.transparentSrc)&&(0===n.indexOf("blob:")?!e.isUploaded(n)&&o(t):0===n.indexOf("data:")&&o(t)))))}),a=$e(i,function(e){if(void 0!==n[e.src])return new ju(function(t){n[e.src].then(function(n){if("string"==typeof n)return n;t({image:e,blobInfo:n.blobInfo})})});var r=new ju(function(n,r){YE(t,e,n,r)}).then(function(e){return delete n[e.image.src],e}).catch(function(t){return delete n[e.src],t});return n[e.src]=r,r});return ju.all(a)}}}function P(e,t){var r={},o=function(e,t){return e?e.replace(/\/$/,"")+"/"+t.replace(/^\//,""):t},i=function(e,r,i,a){var u=new n.XMLHttpRequest;u.open("POST",t.url),u.withCredentials=t.credentials,u.upload.onprogress=function(e){a(e.loaded/e.total*100)},u.onerror=function(){i("Image upload failed due to a XHR Transport error. Code: "+u.status)},u.onload=function(){if(u.status<200||u.status>=300)return void i("HTTP Error: "+u.status);var e=JSON.parse(u.responseText);if(!e||"string"!=typeof e.location)return void i("Invalid JSON: "+u.responseText);r(o(t.basePath,e.location))};var s=new n.FormData;s.append("file",e.blob(),e.filename()),u.send(s)},a=function(){return new ju(function(e){e([])})},u=function(e,t){return{url:t,blobInfo:e,status:!0}},s=function(e,t){return{url:"",blobInfo:e,status:!1,error:t}},c=function(e,t){zn.each(r[e],function(e){e(t)}),delete r[e]},l=function(t,n,r){return e.markPending(t.blobUri()),new ju(function(o){var i,a,l=function(){};try{var f=function(){i&&(i.close(),a=l)},d=function(n){f(),e.markUploaded(t.blobUri(),n),c(t.blobUri(),u(t,n)),o(u(t,n))},p=function(n){f(),e.removeFailed(t.blobUri()),c(t.blobUri(),s(t,n)),o(s(t,n))};a=function(e){e<0||e>100||(i||(i=r()),i.progressBar.value(e))},n(t,d,p,a)}catch(e){o(s(t,e.message))}})},f=function(e){return e===i},d=function(e){var t=e.blobUri();return new ju(function(e){r[t]=r[t]||[],r[t].push(e)})},p=function(n,r){return n=zn.grep(n,function(t){return!e.isUploaded(t.blobUri())}),ju.all(zn.map(n,function(n){return e.isPending(n.blobUri())?d(n):l(n,t.handler,r)}))},h=function(e,n){return!t.url&&f(t.handler)?a():p(e,n)};return!1===Be(t.handler)&&(t.handler=i),{upload:h}}function L(){var e={},t=function(e,t){return{status:e,resultUri:t}},n=function(t){return t in e};return{hasBlobUri:n,getResultUri:function(t){var n=e[t];return n?n.resultUri:null},isPending:function(t){return!!n(t)&&1===e[t].status},isUploaded:function(t){return!!n(t)&&2===e[t].status},markPending:function(n){e[n]=t(1,null)},markUploaded:function(n,r){e[n]=t(2,r)},removeFailed:function(t){delete e[t]},destroy:function(){e={}}}}function j(e){var t={},n=function(e){return e?t[e]:t},r=function(e){return Et(t,e)},o=function(e,n){e&&("string"!=typeof e?zn.each(e,function(e,t){o(t,e)}):(Re(n)||(n=[n]),zn.each(n,function(e){void 0===e.deep&&(e.deep=!e.selector),void 0===e.split&&(e.split=!e.selector||e.inline),void 0===e.remove&&e.selector&&!e.inline&&(e.remove="none"),e.selector&&e.inline&&(e.mixed=!0,e.block_expand=!0),"string"==typeof e.classes&&(e.classes=e.classes.split(/\s+/))}),t[e]=n))},i=function(e){return e&&t[e]&&delete t[e],t};return o(jk(e.dom)),o(Jf(e)),{get:n,has:r,register:o,unregister:i}}function B(e){return{walk:function(t,n){return zh(e,t,n)},split:By,normalize:function(t){return gE(e,t).fold(ve(!1),function(e){return t.setStart(e.startContainer,e.startOffset),t.setEnd(e.endContainer,e.endOffset),!0})}}}var z,F,H,U,V,q,W,G,$,X,Y,K,J,Q,Z,ee,te,ne,re=function(e){if(null===e)return"null";if(void 0===e)return"undefined";var t=typeof e;return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},oe=function(e){return-1!==["undefined","boolean","number","string","function","xml","null"].indexOf(e)},ie=function(e,t){return Array.prototype.slice.call(e).sort(t)},ae=function(e,t){return ue(function(n,r){return e.eq(t(n),t(r))})},ue=function(e){return{eq:e}},se=ue(function(e,t){return e===t}),ce=se,le=function(e){return ue(function(t,n){if(t.length!==n.length)return!1;for(var r=t.length,o=0;o<r;o++)if(!e.eq(t[o],n[o]))return!1;return!0})},fe=function(e,t){return ae(le(e),function(e){return ie(e,t)})},de=function(e){return ue(function(t,n){var r=Object.keys(t),o=Object.keys(n);if(!fe(ce).eq(r,o))return!1;for(var i=r.length,a=0;a<i;a++){var u=r[a];if(!e.eq(t[u],n[u]))return!1}return!0})},pe=ue(function(e,t){if(e===t)return!0;var n=re(e);return n===re(t)&&(oe(n)?e===t:"array"===n?le(pe).eq(e,t):"object"===n&&de(pe).eq(e,t))}),he=function(){},me=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e(t.apply(null,n))}},ge=function(e,t){return function(n){return e(t(n))}},ve=function(e){return function(){return e}},be=function(e){return e},ye=function(e){return function(t){return!e(t)}},we=function(e){return function(){throw new Error(e)}},xe=ve(!1),_e=ve(!0),Ce=function(){return Se},Se=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e};return{fold:function(e,t){return e()},is:xe,isSome:xe,isNone:_e,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:ve(null),getOrUndefined:ve(void 0),or:n,orThunk:t,map:Ce,each:he,bind:Ce,exists:xe,forall:_e,filter:Ce,equals:e,equals_:e,toArray:function(){return[]},toString:ve("none()")}}(),Ee=function(e){var t=ve(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:_e,isNone:xe,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return Ee(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:Se},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(xe,function(t){return n(e,t)})}};return o},ke=function(e){return null===e||void 0===e?Se:Ee(e)},Te={some:Ee,none:Ce,from:ke},Ne=function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},Oe=function(e){return function(t){return Ne(t)===e}},Ae=function(e){return function(t){return typeof t===e}},De=function(e){return function(t){return e===t}},Me=Oe("string"),Ie=Oe("object"),Re=Oe("array"),Pe=De(null),Le=Ae("boolean"),je=De(void 0),Be=Ae("function"),ze=Ae("number"),Fe=Array.prototype.slice,He=Array.prototype.indexOf,Ue=Array.prototype.push,Ve=function(e,t){return He.call(e,t)},qe=function(e,t){var n=Ve(e,t);return-1===n?Te.none():Te.some(n)},We=function(e,t){return Ve(e,t)>-1},Ge=function(e,t){for(var n=0,r=e.length;n<r;n++){if(t(e[n],n))return!0}return!1},$e=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},Xe=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n)}},Ye=function(e,t){for(var n=e.length-1;n>=0;n--){t(e[n],n)}},Ke=function(e,t){for(var n=[],r=[],o=0,i=e.length;o<i;o++){var a=e[o];(t(a,o)?n:r).push(a)}return{pass:n,fail:r}},Je=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n},Qe=function(e,t,n){return Ye(e,function(e){n=t(n,e)}),n},Ze=function(e,t,n){return Xe(e,function(e){n=t(n,e)}),n},et=function(e,t,n){for(var r=0,o=e.length;r<o;r++){var i=e[r];if(t(i,r))return Te.some(i);if(n(i,r))break}return Te.none()},tt=function(e,t){return et(e,t,xe)},nt=function(e,t){for(var n=0,r=e.length;n<r;n++){if(t(e[n],n))return Te.some(n)}return Te.none()},rt=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!Re(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);Ue.apply(t,e[n])}return t},ot=function(e,t){return rt($e(e,t))},it=function(e,t){for(var n=0,r=e.length;n<r;++n){if(!0!==t(e[n],n))return!1}return!0},at=function(e){var t=Fe.call(e,0);return t.reverse(),t},ut=function(e,t){return Je(e,function(e){return!We(t,e)})},st=function(e,t){for(var n={},r=0,o=e.length;r<o;r++){var i=e[r];n[String(i)]=t(i,r)}return n},ct=function(e,t){var n=Fe.call(e,0);return n.sort(t),n},lt=function(e){return 0===e.length?Te.none():Te.some(e[0])},ft=function(e){return 0===e.length?Te.none():Te.some(e[e.length-1])},dt=Be(Array.from)?Array.from:function(e){return Fe.call(e)},pt=Object.keys,ht=Object.hasOwnProperty,mt=function(e,t){for(var n=pt(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i)}},gt=function(e,t){return vt(e,function(e,n){return{k:n,v:t(e,n)}})},vt=function(e,t){var n={};return mt(e,function(e,r){var o=t(e,r);n[o.k]=o.v}),n},bt=function(e){return function(t,n){e[n]=t}},yt=function(e,t,n,r){var o={};return mt(e,function(e,o){(t(e,o)?n:r)(e,o)}),o},wt=function(e,t){var n={},r={};return yt(e,t,bt(n),bt(r)),{t:n,f:r}},xt=function(e,t){var n={};return yt(e,t,bt(n),he),n},_t=function(e,t){var n=[];return mt(e,function(e,r){n.push(t(e,r))}),n},Ct=function(e){return _t(e,function(e){return e})},St=function(e,t){return Et(e,t)?Te.from(e[t]):Te.none()},Et=function(e,t){return ht.call(e,t)},kt=function(e,t,n){return void 0===n&&(n=pe),de(n).eq(e,t)},Tt=Array.isArray,Nt=function(e){var t,n,r=e;if(!Tt(e))for(r=[],t=0,n=e.length;t<n;t++)r[t]=e[t];return r},Ot=function(e,t,n){var r,o;if(!e)return 0;if(n=n||e,void 0!==e.length){for(r=0,o=e.length;r<o;r++)if(!1===t.call(n,e[r],r,e))return 0}else for(r in e)if(e.hasOwnProperty(r)&&!1===t.call(n,e[r],r,e))return 0;return 1},At=function(e,t){var n=[];return Ot(e,function(r,o){n.push(t(r,o,e))}),n},Dt=function(e,t){var n=[];return Ot(e,function(r,o){t&&!t(r,o,e)||n.push(r)}),n},Mt=function(e,t){var n,r;if(e)for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},It=function(e,t,n,r){var o=0;for(arguments.length<3&&(n=e[0]);o<e.length;o++)n=t.call(r,n,e[o],o);return n},Rt=function(e,t,n){var r,o;for(r=0,o=e.length;r<o;r++)if(t.call(n,e[r],r,e))return r;return-1},Pt=function(e){return e[e.length-1]},Lt=function(){return Lt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Lt.apply(this,arguments)},jt=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}},Bt=function(e,t){var n=jt(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return Ht(r(1),r(2))},zt=function(e,t){var n=String(t).toLowerCase();return 0===e.length?Ft():Bt(e,n)},Ft=function(){return Ht(0,0)},Ht=function(e,t){return{major:e,minor:t}},Ut={nu:Ht,detect:zt,unknown:Ft},Vt=function(){return qt({current:void 0,version:Ut.unknown()})},qt=function(e){var t=e.current,n=e.version,r=function(e){return function(){return t===e}};return{current:t,version:n,isEdge:r("Edge"),isChrome:r("Chrome"),isIE:r("IE"),isOpera:r("Opera"),isFirefox:r("Firefox"),isSafari:r("Safari")}},Wt={unknown:Vt,nu:qt,edge:ve("Edge"),chrome:ve("Chrome"),ie:ve("IE"),opera:ve("Opera"),firefox:ve("Firefox"),safari:ve("Safari")},Gt=function(){return $t({current:void 0,version:Ut.unknown()})},$t=function(e){var t=e.current,n=e.version,r=function(e){return function(){return t===e}};return{current:t,version:n,isWindows:r("Windows"),isiOS:r("iOS"),isAndroid:r("Android"),isOSX:r("OSX"),isLinux:r("Linux"),isSolaris:r("Solaris"),isFreeBSD:r("FreeBSD"),isChromeOS:r("ChromeOS")}},Xt={unknown:Gt,nu:$t,windows:ve("Windows"),ios:ve("iOS"),android:ve("Android"),linux:ve("Linux"),osx:ve("OSX"),solaris:ve("Solaris"),freebsd:ve("FreeBSD"),chromeos:ve("ChromeOS")},Yt=function(e,t,n,r){var o=e.isiOS()&&!0===/ipad/i.test(n),i=e.isiOS()&&!o,a=e.isiOS()||e.isAndroid(),u=a||r("(pointer:coarse)"),s=o||!i&&a&&r("(min-device-width:768px)"),c=i||a&&!s,l=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),f=!c&&!s&&!l;return{isiPad:ve(o),isiPhone:ve(i),isTablet:ve(s),isPhone:ve(c),isTouch:ve(u),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:ve(l),isDesktop:ve(f)}},Kt=function(e,t){var n=String(t).toLowerCase();return tt(e,function(e){return e.search(n)})},Jt=function(e,t){return Kt(e,t).map(function(e){var n=Ut.detect(e.versionRegexes,t);return{current:e.name,version:n}})},Qt=function(e,t){return Kt(e,t).map(function(e){var n=Ut.detect(e.versionRegexes,t);return{current:e.name,version:n}})},Zt={detectBrowser:Jt,detectOs:Qt},en=function(e,t,n){return""===t||e.length>=t.length&&e.substr(n,n+t.length)===t},tn=function(e,t){return-1!==e.indexOf(t)},nn=function(e,t){return en(e,t,0)},rn=function(e){return function(t){return t.replace(e,"")}},on=rn(/^\s+|\s+$/g),an=rn(/^\s+/g),un=rn(/\s+$/g),sn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,cn=function(e){return function(t){return tn(t,e)}},ln=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return tn(e,"edge/")&&tn(e,"chrome")&&tn(e,"safari")&&tn(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,sn],search:function(e){return tn(e,"chrome")&&!tn(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return tn(e,"msie")||tn(e,"trident")}},{name:"Opera",versionRegexes:[sn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:cn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:cn("firefox")},{name:"Safari",versionRegexes:[sn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(tn(e,"safari")||tn(e,"mobile/"))&&tn(e,"applewebkit")}}],fn=[{name:"Windows",search:cn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return tn(e,"iphone")||tn(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:cn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:cn("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:cn("linux"),versionRegexes:[]},{name:"Solaris",search:cn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:cn("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:cn("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],dn={browsers:ve(ln),oses:ve(fn)},pn=function(e,t){var n=dn.browsers(),r=dn.oses(),o=Zt.detectBrowser(n,e).fold(Wt.unknown,Wt.nu),i=Zt.detectOs(r,e).fold(Xt.unknown,Xt.nu);return{browser:o,os:i,deviceType:Yt(i,o,e,t)}},hn={detect:pn},mn=function(e){return n.window.matchMedia(e).matches},gn=function(e){var t,n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n||(n=!0,t=e.apply(null,r)),t}}(function(){return hn.detect(n.navigator.userAgent,mn)}),vn=function(){return gn()},bn=n.navigator.userAgent,yn=vn(),wn=yn.browser,xn=yn.os,_n=yn.deviceType,Cn=/WebKit/.test(bn)&&!wn.isEdge(),Sn="FormData"in n.window&&"FileReader"in n.window&&"URL"in n.window&&!!n.URL.createObjectURL,En=-1!==bn.indexOf("Windows Phone"),kn={opera:wn.isOpera(),webkit:Cn,ie:!(!wn.isIE()&&!wn.isEdge())&&wn.version.major,gecko:wn.isFirefox(),mac:xn.isOSX()||xn.isiOS(),iOS:_n.isiPad()||_n.isiPhone(),android:xn.isAndroid(),contentEditable:!0,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:!0,range:n.window.getSelection&&"Range"in n.window,documentMode:wn.isIE()?n.document.documentMode||7:10,fileApi:Sn,ceFalse:!0,cacheSuffix:null,container:null,experimentalShadowDom:!1,canHaveCSP:!wn.isIE(),desktop:_n.isDesktop(),windowsPhone:En,browser:{current:wn.current,version:wn.version,isChrome:wn.isChrome,isEdge:wn.isEdge,isFirefox:wn.isFirefox,isIE:wn.isIE,isOpera:wn.isOpera,isSafari:wn.isSafari},os:{current:xn.current,version:xn.version,isAndroid:xn.isAndroid,isChromeOS:xn.isChromeOS,isFreeBSD:xn.isFreeBSD,isiOS:xn.isiOS,isLinux:xn.isLinux,isOSX:xn.isOSX,isSolaris:xn.isSolaris,isWindows:xn.isWindows},deviceType:{isDesktop:_n.isDesktop,isiPad:_n.isiPad,isiPhone:_n.isiPhone,isPhone:_n.isPhone,isTablet:_n.isTablet,isTouch:_n.isTouch,isWebView:_n.isWebView}},Tn=/^\s*|\s*$/g,Nn=function(e){return null===e||void 0===e?"":(""+e).replace(Tn,"")},On=function(e,t){return t?!("array"!==t||!Tt(e))||typeof e===t:void 0!==e},An=function(e,t,n){var r;for(e=e||[],t=t||",","string"==typeof e&&(e=e.split(t)),n=n||{},r=e.length;r--;)n[e[r]]={};return n},Dn=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},Mn=function(e,t,n){var r,o,i,a=this,u=0;e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e);var s=e[3].match(/(^|\.)(\w+)$/i)[2],c=a.createNS(e[3].replace(/\.\w+$/,""),n);if(!c[s]){if("static"===e[2])return c[s]=t,void(this.onCreate&&this.onCreate(e[2],e[3],c[s]));t[s]||(t[s]=function(){},u=1),c[s]=t[s],a.extend(c[s].prototype,t),e[5]&&(r=a.resolve(e[5]).prototype,o=e[5].match(/\.(\w+)$/i)[1],i=c[s],c[s]=u?function(){return r[o].apply(this,arguments)}:function(){return this.parent=r[o],i.apply(this,arguments)},c[s].prototype[s]=c[s],a.each(r,function(e,t){c[s].prototype[t]=r[t]}),a.each(t,function(e,t){r[t]?c[s].prototype[t]=function(){return this.parent=r[t],e.apply(this,arguments)}:t!==s&&(c[s].prototype[t]=e)})),a.each(t.static,function(e,t){c[s][t]=e})}},In=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++){var o=t[r];for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];void 0!==a&&(e[i]=a)}}return e},Rn=function(e,t,n,r){r=r||this,e&&(n&&(e=e[n]),Ot(e,function(e,o){if(!1===t.call(r,e,o,n))return!1;Rn(e,t,n,r)}))},Pn=function(e,t){var r,o;for(t=t||n.window,e=e.split("."),r=0;r<e.length;r++)o=e[r],t[o]||(t[o]={}),t=t[o];return t},Ln=function(e,t){var r,o;for(t=t||n.window,e=e.split("."),r=0,o=e.length;r<o&&(t=t[e[r]]);r++);return t},jn=function(e,t){return!e||On(e,"array")?e:At(e.split(t||","),Nn)},Bn=function(e){var t=kn.cacheSuffix;return t&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e},zn={trim:Nn,isArray:Tt,is:On,toArray:Nt,makeMap:An,each:Ot,map:At,grep:Dt,inArray:Mt,hasOwn:Dn,extend:In,create:Mn,walk:Rn,createNS:Pn,resolve:Ln,explode:jn,_addCacheSuffix:Bn},Fn=function(e,t){var r=t||n.document,o=r.createElement("div");if(o.innerHTML=e,!o.hasChildNodes()||o.childNodes.length>1)throw n.console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return Vn(o.childNodes[0])},Hn=function(e,t){var r=t||n.document,o=r.createElement(e);return Vn(o)},Un=function(e,t){var r=t||n.document,o=r.createTextNode(e);return Vn(o)},Vn=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:ve(e)}},qn=function(e,t,n){var r=e.dom();return Te.from(r.elementFromPoint(t,n)).map(Vn)},Wn={fromHtml:Fn,fromTag:Hn,fromText:Un,fromDom:Vn,fromPoint:qn},Gn=(void 0!==n.window?n.window:Function("return this;")(),function(e){return e.dom().nodeName.toLowerCase()}),$n=function(e){return e.dom().nodeType},Xn=function(e){return function(t){return $n(t)===e}},Yn=function(e){return 8===$n(e)||"#comment"===Gn(e)},Kn=Xn(1),Jn=Xn(3),Qn=Xn(9),Zn=Xn(11),er=function(e){var t=e.dom().head;if(null===t||void 0===t)throw new Error("Head is not available yet");return Wn.fromDom(t)},tr=function(e,t){var n=[],r=function(e){return n.push(e),t(e)},o=t(e);do{o=o.bind(r)}while(o.isSome());return n},nr=function(e,t,n){return 0!=(e.compareDocumentPosition(t)&n)},rr=function(e,t){return nr(e,t,n.Node.DOCUMENT_POSITION_CONTAINED_BY)},or=function(e,t){var n=e.dom();if(1!==n.nodeType)return!1;var r=n;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},ir=function(e){return 1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount},ar=function(e,t){var r=void 0===t?n.document:t.dom();return ir(r)?[]:$e(r.querySelectorAll(e),Wn.fromDom)},ur=function(e,t){var r=void 0===t?n.document:t.dom();return ir(r)?Te.none():Te.from(r.querySelector(e)).map(Wn.fromDom)},sr=function(e,t){return e.dom()===t.dom()},cr=function(e,t){var n=e.dom(),r=t.dom();return n!==r&&n.contains(r)},lr=function(e,t){return rr(e.dom(),t.dom())},fr=function(e,t){return vn().browser.isIE()?lr(e,t):cr(e,t)},dr=function(e){return Wn.fromDom(e.dom().ownerDocument)},pr=function(e){return Qn(e)?e:dr(e)},hr=function(e){return Wn.fromDom(e.dom().ownerDocument.documentElement)},mr=function(e){return Wn.fromDom(e.dom().ownerDocument.defaultView)},gr=function(e){return Te.from(e.dom().parentNode).map(Wn.fromDom)},vr=function(e,t){for(var n=Be(t)?t:xe,r=e.dom(),o=[];null!==r.parentNode&&void 0!==r.parentNode;){var i=r.parentNode,a=Wn.fromDom(i);if(o.push(a),!0===n(a))break;r=i}return o},br=function(e){var t=function(t){return Je(t,function(t){return!sr(e,t)})};return gr(e).map(Cr).map(t).getOr([])},yr=function(e){return Te.from(e.dom().previousSibling).map(Wn.fromDom)},wr=function(e){return Te.from(e.dom().nextSibling).map(Wn.fromDom)},xr=function(e){return at(tr(e,yr))},_r=function(e){return tr(e,wr)},Cr=function(e){return $e(e.dom().childNodes,Wn.fromDom)},Sr=function(e,t){var n=e.dom().childNodes;return Te.from(n[t]).map(Wn.fromDom)},Er=function(e){return Sr(e,0)},kr=function(e){return Sr(e,e.dom().childNodes.length-1)},Tr=function(e){return e.dom().childNodes.length},Nr=function(e){return Zn(e)},Or=Be(n.Element.prototype.attachShadow)&&Be(n.Node.prototype.getRootNode),Ar=Or?function(e){return Wn.fromDom(e.dom().getRootNode())}:pr,Dr=function(e){return Nr(e)?e:er(pr(e))},Mr=function(e){var t=Ar(e);return Nr(t)?Te.some(t):Te.none()},Ir=function(e){return Wn.fromDom(e.dom().host)},Rr=function(e,t){gr(e).each(function(n){n.dom().insertBefore(t.dom(),e.dom())})},Pr=function(e,t){wr(e).fold(function(){gr(e).each(function(e){jr(e,t)})},function(e){Rr(e,t)})},Lr=function(e,t){Er(e).fold(function(){jr(e,t)},function(n){e.dom().insertBefore(t.dom(),n.dom())})},jr=function(e,t){e.dom().appendChild(t.dom())},Br=function(e,t){Rr(e,t),jr(t,e)},zr=function(e,t){Xe(t,function(t){Rr(e,t)})},Fr=function(e,t){Xe(t,function(t){jr(e,t)})},Hr=function(e){e.dom().textContent="",Xe(Cr(e),function(e){Ur(e)})},Ur=function(e){var t=e.dom();null!==t.parentNode&&t.parentNode.removeChild(t)},Vr=function(e){var t=Cr(e);t.length>0&&zr(e,t),Ur(e)},qr=function(e){var t=Jn(e)?e.dom().parentNode:e.dom();return void 0!==t&&null!==t&&null!==t.ownerDocument&&Mr(Wn.fromDom(t)).fold(function(){return t.ownerDocument.body.contains(t)},ge(qr,Ir))},Wr=function(e,t){var n=function(n,r){return Wr(e+n,t+r)};return{left:ve(e),top:ve(t),translate:n}},Gr=Wr,$r=function(e){var t=e.getBoundingClientRect();return Gr(t.left,t.top)},Xr=function(e,t){return void 0!==e?e:void 0!==t?t:0},Yr=function(e){var t=e.dom().ownerDocument,n=t.body,r=t.defaultView,o=t.documentElement;if(n===e.dom())return Gr(n.offsetLeft,n.offsetTop);var i=Xr(r.pageYOffset,o.scrollTop),a=Xr(r.pageXOffset,o.scrollLeft),u=Xr(o.clientTop,n.clientTop),s=Xr(o.clientLeft,n.clientLeft);return Kr(e).translate(a-s,i-u)},Kr=function(e){var t=e.dom(),n=t.ownerDocument,r=n.body;return r===t?Gr(r.offsetLeft,r.offsetTop):qr(e)?$r(t):Gr(0,0)},Jr=function(e){var t=void 0!==e?e.dom():n.document,r=t.body.scrollLeft||t.documentElement.scrollLeft,o=t.body.scrollTop||t.documentElement.scrollTop;return Gr(r,o)},Qr=function(e,t,r){(void 0!==r?r.dom():n.document).defaultView.scrollTo(e,t)},Zr=function(e,t){vn().browser.isSafari()&&Be(e.dom().scrollIntoViewIfNeeded)?e.dom().scrollIntoViewIfNeeded(!1):e.dom().scrollIntoView(t)},eo=function(e){var t=void 0===e?n.window:e;return Te.from(t.visualViewport)},to=function(e,t,n,r){return{x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}},no=function(e){var t=void 0===e?n.window:e,r=t.document,o=Jr(Wn.fromDom(r));return eo(t).fold(function(){var e=t.document.documentElement,n=e.clientWidth,r=e.clientHeight;return to(o.left(),o.top(),n,r)},function(e){return to(Math.max(e.pageLeft,o.left()),Math.max(e.pageTop,o.top()),e.width,e.height)})},ro=function(e){return function(t){return!!t&&t.nodeType===e}},oo=function(e){return!!e&&!Object.getPrototypeOf(e)},io=ro(1),ao=function(e){var t=e.map(function(e){return e.toLowerCase()});return function(e){if(e&&e.nodeName){var n=e.nodeName.toLowerCase();return We(t,n)}return!1}},uo=function(e,t){var n=t.toLowerCase().split(" ");return function(t){var r;if(io(t))for(r=0;r<n.length;r++){var o=t.ownerDocument.defaultView.getComputedStyle(t,null);if((o?o.getPropertyValue(e):null)===n[r])return!0}return!1}},so=function(e){return function(t){return io(t)&&t.hasAttribute(e)}},co=function(e){return io(e)&&e.hasAttribute("data-mce-bogus")},lo=function(e){return io(e)&&"all"===e.getAttribute("data-mce-bogus")},fo=function(e){return io(e)&&"TABLE"===e.tagName},po=function(e){return function(t){if(io(t)){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1}},ho=ao(["textarea","input"]),mo=ro(3),go=ro(8),vo=ro(9),bo=ro(11),yo=ao(["br"]),wo=po("true"),xo=po("false"),_o=function(e){return void 0!==e.style&&Be(e.style.getPropertyValue)},Co=function(e,t,r){if(!(Me(r)||Le(r)||ze(r)))throw n.console.error("Invalid call to Attr.set. Key ",t,":: Value ",r,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,r+"")},So=function(e,t,n){Co(e.dom(),t,n)},Eo=function(e,t){var n=e.dom();mt(t,function(e,t){Co(n,t,e)})},ko=function(e,t){var n=e.dom().getAttribute(t);return null===n?void 0:n},To=function(e,t){return Te.from(ko(e,t))},No=function(e,t){var n=e.dom();return!(!n||!n.hasAttribute)&&n.hasAttribute(t)},Oo=function(e,t){e.dom().removeAttribute(t)},Ao=function(e){return Ze(e.dom().attributes,function(e,t){return e[t.name]=t.value,e},{})},Do=function(e,t){var r=e.dom(),o=n.window.getComputedStyle(r),i=o.getPropertyValue(t);return""!==i||qr(e)?i:Mo(r,t)},Mo=function(e,t){return _o(e)?e.style.getPropertyValue(t):""},Io=function(e,t){var n=e.dom(),r=Mo(n,t);return Te.from(r).filter(function(e){return e.length>0})},Ro=function(e){var t={},n=e.dom();if(_o(n))for(var r=0;r<n.style.length;r++){var o=n.style.item(r);t[o]=n.style[o]}return t},Po=function(e){return e.dom().offsetWidth},Lo=vn().browser,jo=function(e){return tt(e,Kn)},Bo=function(e){return Lo.isFirefox()&&"table"===Gn(e)?jo(Cr(e)).filter(function(e){return"caption"===Gn(e)}).bind(function(e){return jo(_r(e)).map(function(t){var n=t.dom().offsetTop,r=e.dom().offsetTop,o=e.dom().offsetHeight;return n<=r?-o:0})}).getOr(0):0},zo=function(e,t){return e.children&&We(e.children,t)},Fo=function(e,t,n){var r,o,i=0,a=0,u=e.ownerDocument;if(n=n||e,t){if(n===e&&t.getBoundingClientRect&&"static"===Do(Wn.fromDom(e),"position"))return o=t.getBoundingClientRect(),i=o.left+(u.documentElement.scrollLeft||e.scrollLeft)-u.documentElement.clientLeft,a=o.top+(u.documentElement.scrollTop||e.scrollTop)-u.documentElement.clientTop,{x:i,y:a};for(r=t;r&&r!==n&&r.nodeType&&!zo(r,n);)i+=r.offsetLeft||0,a+=r.offsetTop||0,r=r.offsetParent;for(r=t.parentNode;r&&r!==n&&r.nodeType&&!zo(r,n);)i-=r.scrollLeft||0,a-=r.scrollTop||0,r=r.parentNode;a+=Bo(Wn.fromDom(t))}return{x:i,y:a}},Ho=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],Uo=["area","base","basefont","br","col","frame","hr","img","input","isindex","link","meta","param","embed","source","wbr","track"],Vo=["td","th"],qo=["thead","tbody","tfoot"],Wo=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],Go=["h1","h2","h3","h4","h5","h6"],$o=["li","dd","dt"],Xo=["ul","ol","dl"],Yo=["pre","script","textarea","style"],Ko=function(e){var t;return function(n){return t=t||st(e,ve(!0)),t.hasOwnProperty(Gn(n))}},Jo=Ko(Go),Qo=Ko(Ho),Zo=function(e){return"table"===Gn(e)},ei=function(e){return Kn(e)&&!Qo(e)},ti=function(e){return Kn(e)&&"br"===Gn(e)},ni=Ko(Wo),ri=Ko(Xo),oi=Ko($o),ii=Ko(Uo),ai=Ko(qo),ui=Ko(Vo),si=Ko(Yo),ci=function(e){var t=e.previousSibling&&"SPAN"===e.previousSibling.nodeName,n=e.nextSibling&&"SPAN"===e.nextSibling.nodeName;return t&&n},li=function(e){return e&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")},fi=function(e,t){var n,r=t.childNodes;if(!io(t)||!li(t)){for(n=r.length-1;n>=0;n--)fi(e,r[n]);if(!1===vo(t)){if(mo(t)&&t.nodeValue.length>0){var o=zn.trim(t.nodeValue).length;if(e.isBlock(t.parentNode)||o>0)return;if(0===o&&ci(t))return}else if(io(t)&&(r=t.childNodes,1===r.length&&li(r[0])&&t.parentNode.insertBefore(r[0],t),r.length||ii(Wn.fromDom(t))))return;e.remove(t)}return t}},di=zn.makeMap,pi=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,hi=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,mi=/[<>&\"\']/g,gi=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,vi={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},bi={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},yi={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},wi=function(e){var t=Wn.fromTag("div").dom();return t.innerHTML=e,t.textContent||t.innerText||e},xi=function(e,t){var n,r,o,i={};if(e){for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)r=String.fromCharCode(parseInt(e[n],t)),bi[r]||(o="&"+e[n+1]+";",i[r]=o,i[o]=r);return i}},_i=xi("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Ci=function(e,t){return e.replace(t?pi:hi,function(e){return bi[e]||e})},Si=function(e){return(""+e).replace(mi,function(e){return bi[e]||e})},Ei=function(e,t){return e.replace(t?pi:hi,function(e){return e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":bi[e]||"&#"+e.charCodeAt(0)+";"})},ki=function(e,t,n){return n=n||_i,e.replace(t?pi:hi,function(e){return bi[e]||n[e]||e})},Ti=function(e,t){var n=xi(t)||_i,r=function(e,t){return e.replace(t?pi:hi,function(e){return void 0!==bi[e]?bi[e]:void 0!==n[e]?n[e]:e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":"&#"+e.charCodeAt(0)+";"})},o=function(e,t){return ki(e,t,n)},i=di(e.replace(/\+/g,","));return i.named&&i.numeric?r:i.named?t?o:ki:i.numeric?Ei:Ci},Ni=function(e){return e.replace(gi,function(e,t){return t?(t="x"===t.charAt(0).toLowerCase()?parseInt(t.substr(1),16):parseInt(t,10),t>65535?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):vi[t]||String.fromCharCode(t)):yi[e]||_i[e]||wi(e)})},Oi={encodeRaw:Ci,encodeAllRaw:Si,encodeNumeric:Ei,encodeNamed:ki,getEncodeFunc:Ti,decode:Ni},Ai={},Di={},Mi=zn.makeMap,Ii=zn.each,Ri=zn.extend,Pi=zn.explode,Li=zn.inArray,ji=function(e,t){return e=zn.trim(e),e?e.split(t||" "):[]},Bi=function(e){var t,n,r,o,i,a,u={},s=function(e,n,r){var o,i,a,s=function(e,t){var n,r,o={};for(n=0,r=e.length;n<r;n++)o[e[n]]=t||{};return o};for(r=r||[],n=n||"","string"==typeof r&&(r=ji(r)),e=ji(e),o=e.length;o--;)i=ji([t,n].join(" ")),a={attributes:s(i),attributesOrder:i,children:s(r,Di)},u[e[o]]=a},c=function(e,t){var n,r,o,i;for(e=ji(e),n=e.length,t=ji(t);n--;)for(r=u[e[n]],o=0,i=t.length;o<i;o++)r.attributes[t[o]]={},r.attributesOrder.push(t[o])};return Ai[e]?Ai[e]:(t="id accesskey class dir lang style tabindex title role",n="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",r="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==e&&(t+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",n+=" article aside details dialog figure main header footer hgroup section nav",r+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==e&&(t+=" xml:lang",a="acronym applet basefont big font strike tt",r=[r,a].join(" "),Ii(ji(a),function(e){s(e,"",r)}),i="center dir isindex noframes",n=[n,i].join(" "),o=[n,r].join(" "),Ii(ji(i),function(e){s(e,"",o)})),o=o||[n,r].join(" "),s("html","manifest","head body"),s("head","","base command link meta noscript script style title"),s("title hr noscript br"),s("base","href target"),s("link","href rel media hreflang type sizes hreflang"),s("meta","name http-equiv content charset"),s("style","media type scoped"),s("script","src async defer type charset"),s("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",o),s("address dt dd div caption","",o),s("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",r),s("blockquote","cite",o),s("ol","reversed start type","li"),s("ul","","li"),s("li","value",o),s("dl","","dt dd"),s("a","href target rel media hreflang type",r),s("q","cite",r),s("ins del","cite datetime",o),s("img","src sizes srcset alt usemap ismap width height"),s("iframe","src name width height",o),s("embed","src type width height"),s("object","data type typemustmatch name usemap form width height",[o,"param"].join(" ")),s("param","name value"),s("map","name",[o,"area"].join(" ")),s("area","alt coords shape href target rel media hreflang type"),s("table","border","caption colgroup thead tfoot tbody tr"+("html4"===e?" col":"")),s("colgroup","span","col"),s("col","span"),s("tbody thead tfoot","","tr"),s("tr","","td th"),s("td","colspan rowspan headers",o),s("th","colspan rowspan headers scope abbr",o),s("form","accept-charset action autocomplete enctype method name novalidate target",o),s("fieldset","disabled form name",[o,"legend"].join(" ")),s("label","form for",r),s("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),s("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===e?o:r),s("select","disabled form multiple name required size","option optgroup"),s("optgroup","disabled label","option"),s("option","disabled label selected value"),s("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),s("menu","type label",[o,"li"].join(" ")),s("noscript","",o),"html4"!==e&&(s("wbr"),s("ruby","",[r,"rt rp"].join(" ")),s("figcaption","",o),s("mark rt rp summary bdi","",r),s("canvas","width height",o),s("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[o,"track source"].join(" ")),s("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[o,"track source"].join(" ")),s("picture","","img source"),s("source","src srcset type media sizes"),s("track","kind src srclang label default"),s("datalist","",[r,"option"].join(" ")),s("article section nav aside main header footer","",o),s("hgroup","","h1 h2 h3 h4 h5 h6"),s("figure","",[o,"figcaption"].join(" ")),s("time","datetime",r),s("dialog","open",o),s("command","type label icon disabled checked radiogroup command"),s("output","for form name",r),s("progress","value max",r),s("meter","value min max low high optimum",r),s("details","open",[o,"summary"].join(" ")),s("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==e&&(c("script","language xml:space"),c("style","xml:space"),c("object","declare classid code codebase codetype archive standby align border hspace vspace"),c("embed","align name hspace vspace"),c("param","valuetype type"),c("a","charset name rev shape coords"),c("br","clear"),c("applet","codebase archive code object alt name width height align hspace vspace"),c("img","name longdesc align border hspace vspace"),c("iframe","longdesc frameborder marginwidth marginheight scrolling align"),c("font basefont","size color face"),c("input","usemap align"),c("select"),c("textarea"),c("h1 h2 h3 h4 h5 h6 div p legend caption","align"),c("ul","type compact"),c("li","type"),c("ol dl menu dir","compact"),c("pre","width xml:space"),c("hr","align noshade size width"),c("isindex","prompt"),c("table","summary width frame rules cellspacing cellpadding align bgcolor"),c("col","width align char charoff valign"),c("colgroup","width align char charoff valign"),c("thead","align char charoff valign"),c("tr","align char charoff valign bgcolor"),c("th","axis align char charoff valign nowrap bgcolor width height"),c("form","accept"),c("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),c("tfoot","align char charoff valign"),c("tbody","align char charoff valign"),c("area","nohref"),c("body","background bgcolor text link vlink alink")),"html4"!==e&&(c("input button select textarea","autofocus"),c("input textarea","placeholder"),c("a","download"),c("link script img","crossorigin"),c("img","loading"),c("iframe","sandbox seamless allowfullscreen loading")),Ii(ji("a form meter progress dfn"),function(e){u[e]&&delete u[e].children[e]}),delete u.caption.children.table,delete u.script,Ai[e]=u,u)},zi=function(e,t){var n;return e&&(n={},"string"==typeof e&&(e={"*":e}),Ii(e,function(e,r){n[r]=n[r.toUpperCase()]="map"===t?Mi(e,/[, ]/):Pi(e,/[, ]/)})),n},Fi=function(e){return"\ufeff"===e},Hi=function(e){return e.replace(/\uFEFF/g,"")},Ui=function(e,t,n,r){var o=function(e){return e=parseInt(e,10).toString(16),e.length>1?e:"0"+e};return"#"+o(t)+o(n)+o(r)},Vi=function(e,t){var n,r,o,i=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,a=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,u=/\s*([^:]+):\s*([^;]+);?/g,s=/\s+$/,c={};e=e||{},t&&(r=t.getValidStyles(),o=t.getInvalidStyles());var l="\\\" \\' \\; \\: ; : \ufeff".split(" ");for(n=0;n<l.length;n++)c[l[n]]="\ufeff"+n,c["\ufeff"+n]=l[n];return{toHex:function(e){return e.replace(i,Ui)},parse:function(t){var r,o,l,f,d={},p=e.url_converter,h=e.url_converter_scope||this,m=function(e,t,r){var o=d[e+"-top"+t];if(o){var i=d[e+"-right"+t];if(i){var a=d[e+"-bottom"+t];if(a){var u=d[e+"-left"+t];if(u){var s=[o,i,a,u];for(n=s.length-1;n--&&s[n]===s[n+1];);n>-1&&r||(d[e+t]=-1===n?s[0]:s.join(" "),delete d[e+"-top"+t],delete d[e+"-right"+t],delete d[e+"-bottom"+t],delete d[e+"-left"+t])}}}}},g=function(e){var t,n=d[e];if(n){for(n=n.split(" "),t=n.length;t--;)if(n[t]!==n[0])return!1;return d[e]=n[0],!0}},v=function(e){return f=!0,c[e]},b=function(e,t){return f&&(e=e.replace(/\uFEFF[0-9]/g,function(e){return c[e]})),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e},y=function(e){return String.fromCharCode(parseInt(e.slice(1),16))},w=function(e){return e.replace(/\\[0-9a-f]+/gi,y)},x=function(t,n,r,o,i,a){if(i=i||a)return i=b(i),"'"+i.replace(/\'/g,"\\'")+"'";if(n=b(n||r||o),!e.allow_script_urls){var u=n.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(u))return"";if(!e.allow_svg_data_urls&&/^data:image\/svg/i.test(u))return""}return p&&(n=p.call(h,n,"style")),"url('"+n.replace(/\'/g,"\\'")+"')"};if(t){for(t=t.replace(/[\u0000-\u001F]/g,""),t=t.replace(/\\[\"\';:\uFEFF]/g,v).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(e){return e.replace(/[;:]/g,v)});r=u.exec(t);)if(u.lastIndex=r.index+r[0].length,o=r[1].replace(s,"").toLowerCase(),l=r[2].replace(s,""),o&&l){if(o=w(o),l=w(l),-1!==o.indexOf("\ufeff")||-1!==o.indexOf('"'))continue;if(!e.allow_script_urls&&("behavior"===o||/expression\s*\(|\/\*|\*\//.test(l)))continue;"font-weight"===o&&"700"===l?l="bold":"color"!==o&&"background-color"!==o||(l=l.toLowerCase()),l=l.replace(i,Ui),l=l.replace(a,x),d[o]=f?b(l,!0):l}m("border","",!0),m("border","-width"),m("border","-color"),m("border","-style"),m("padding",""),m("margin",""),function(e,t,n,r){g(t)&&g(n)&&g(r)&&(d[e]=d[t]+" "+d[n]+" "+d[r],delete d[t],delete d[n],delete d[r])}("border","border-width","border-style","border-color"),"medium none"===d.border&&delete d.border,"none"===d["border-image"]&&delete d["border-image"]}return d},serialize:function(e,t){var n="",i=function(t){var o,i=r[t];if(i)for(var a=0,u=i.length;a<u;a++)t=i[a],(o=e[t])&&(n+=(n.length>0?" ":"")+t+": "+o+";")},a=function(e,t){var n=o["*"];return(!n||!n[e])&&!((n=o[t])&&n[e])};return t&&r?(i("*"),i(t)):mt(e,function(e,r){!e||o&&!a(r,t)||(n+=(n.length>0?" ":"")+r+": "+e+";")}),n}}},qi="mce-data-",Wi=/^(?:mouse|contextmenu)|click/,Gi={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1,mozPressure:1},$i=function(e){return e.isDefaultPrevented===Yi||e.isDefaultPrevented===Xi},Xi=function(){return!1},Yi=function(){return!0},Ki=function(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r||!1):e.attachEvent&&e.attachEvent("on"+t,n)},Ji=function(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r||!1):e.detachEvent&&e.detachEvent("on"+t,n)},Qi=function(e,t){if(e.composedPath){var n=e.composedPath();if(n&&n.length>0)return n[0]}return t},Zi=function(e,t){var r,o=t||{};for(r in e)Gi[r]||(o[r]=e[r]);if(o.target||(o.target=o.srcElement||n.document),kn.experimentalShadowDom&&(o.target=Qi(e,o.target)),e&&Wi.test(e.type)&&void 0===e.pageX&&void 0!==e.clientX){var i=o.target.ownerDocument||n.document,a=i.documentElement,u=i.body;o.pageX=e.clientX+(a&&a.scrollLeft||u&&u.scrollLeft||0)-(a&&a.clientLeft||u&&u.clientLeft||0),o.pageY=e.clientY+(a&&a.scrollTop||u&&u.scrollTop||0)-(a&&a.clientTop||u&&u.clientTop||0)}return o.preventDefault=function(){o.isDefaultPrevented=Yi,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},o.stopPropagation=function(){o.isPropagationStopped=Yi,e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},o.stopImmediatePropagation=function(){o.isImmediatePropagationStopped=Yi,o.stopPropagation()},!1===$i(o)&&(o.isDefaultPrevented=Xi,o.isPropagationStopped=Xi,o.isImmediatePropagationStopped=Xi),void 0===o.metaKey&&(o.metaKey=!1),o},ea=function(e,t,n){var r=e.document,o={type:"ready"};if(n.domLoaded)return void t(o);var i=function(){Ji(e,"DOMContentLoaded",i),Ji(e,"load",i),n.domLoaded||(n.domLoaded=!0,t(o))};!function(){return"complete"===r.readyState||"interactive"===r.readyState&&r.body}()?Ki(e,"DOMContentLoaded",i):i(),Ki(e,"load",i)},ta=function(){function e(){this.domLoaded=!1,this.events={},this.count=1,this.expando=qi+(+new Date).toString(32),this.hasMouseEnterLeave="onmouseenter"in n.document.documentElement,this.hasFocusIn="onfocusin"in n.document.documentElement,this.count=1}return e.prototype.bind=function(e,t,r,o){var i,a,u,s,c,l,f,d=this,p=n.window,h=function(e){d.executeHandlers(Zi(e||p.event),i)};if(e&&3!==e.nodeType&&8!==e.nodeType){e[d.expando]?i=e[d.expando]:(i=d.count++,e[d.expando]=i,d.events[i]={}),o=o||e;var m=t.split(" ");for(u=m.length;u--;)s=m[u],l=h,c=f=!1,"DOMContentLoaded"===s&&(s="ready"),d.domLoaded&&"ready"===s&&"complete"===e.readyState?r.call(o,Zi({type:s})):(d.hasMouseEnterLeave||(c=d.mouseEnterLeave[s])&&(l=function(e){var t=e.currentTarget,n=e.relatedTarget;if(n&&t.contains)n=t.contains(n);else for(;n&&n!==t;)n=n.parentNode;n||(e=Zi(e||p.event),e.type="mouseout"===e.type?"mouseleave":"mouseenter",e.target=t,d.executeHandlers(e,i))}),d.hasFocusIn||"focusin"!==s&&"focusout"!==s||(f=!0,c="focusin"===s?"focus":"blur",l=function(e){e=Zi(e||p.event),e.type="focus"===e.type?"focusin":"focusout",d.executeHandlers(e,i)}),a=d.events[i][s],a?"ready"===s&&d.domLoaded?r(Zi({type:s})):a.push({func:r,scope:o}):(d.events[i][s]=a=[{func:r,scope:o}],a.fakeName=c,a.capture=f,a.nativeHandler=l,"ready"===s?ea(e,l,d):Ki(e,c||s,l,f)));return e=a=0,r}},e.prototype.unbind=function(e,t,n){var r,o,i,a,u;if(!e||3===e.nodeType||8===e.nodeType)return this;var s=e[this.expando];if(s){if(u=this.events[s],t){var c=t.split(" ");for(o=c.length;o--;)if(a=c[o],r=u[a]){if(n)for(i=r.length;i--;)if(r[i].func===n){var l=r.nativeHandler,f=r.fakeName,d=r.capture;r=r.slice(0,i).concat(r.slice(i+1)),r.nativeHandler=l,r.fakeName=f,r.capture=d,u[a]=r}n&&0!==r.length||(delete u[a],Ji(e,r.fakeName||a,r.nativeHandler,r.capture))}}else mt(u,function(t,n){Ji(e,t.fakeName||n,t.nativeHandler,t.capture)}),u={};for(a in u)if(Et(u,a))return this;delete this.events[s];try{delete e[this.expando]}catch(t){e[this.expando]=null}}return this},e.prototype.fire=function(e,t,n){var r;if(!e||3===e.nodeType||8===e.nodeType)return this;var o=Zi(null,n);o.type=t,o.target=e;do{r=e[this.expando],r&&this.executeHandlers(o,r),e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow}while(e&&!o.isPropagationStopped());return this},e.prototype.clean=function(e){var t,n;if(!e||3===e.nodeType||8===e.nodeType)return this;if(e[this.expando]&&this.unbind(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName)for(this.unbind(e),n=e.getElementsByTagName("*"),t=n.length;t--;)e=n[t],e[this.expando]&&this.unbind(e);return this},e.prototype.destroy=function(){this.events={}},e.prototype.cancel=function(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1},e.prototype.executeHandlers=function(e,t){var n=this.events[t],r=n&&n[e.type];if(r)for(var o=0,i=r.length;o<i;o++){var a=r[o];if(a&&!1===a.func.call(a.scope,e)&&e.preventDefault(),e.isImmediatePropagationStopped())return}},e.Event=new e,e}(),na="sizzle"+-new Date,ra=n.window.document,oa=0,ia=0,aa=u(),ua=u(),sa=u(),ca=function(e,t){return e===t&&(X=!0),0},la="undefined",fa=1<<31,da={}.hasOwnProperty,pa=[],ha=pa.pop,ma=pa.push,ga=pa.push,va=pa.slice,ba=pa.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},ya="[\\x20\\t\\r\\n\\f]",wa="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",xa="\\["+ya+"*("+wa+")(?:"+ya+"*([*^$|!~]?=)"+ya+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+wa+"))|)"+ya+"*\\]",_a=":("+wa+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+xa+")*)|.*)\\)|)",Ca=new RegExp("^"+ya+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ya+"+$","g"),Sa=new RegExp("^"+ya+"*,"+ya+"*"),Ea=new RegExp("^"+ya+"*([>+~]|"+ya+")"+ya+"*"),ka=new RegExp("="+ya+"*([^\\]'\"]*?)"+ya+"*\\]","g"),Ta=new RegExp(_a),Na=new RegExp("^"+wa+"$"),Oa={ID:new RegExp("^#("+wa+")"),CLASS:new RegExp("^\\.("+wa+")"),TAG:new RegExp("^("+wa+"|[*])"),ATTR:new RegExp("^"+xa),PSEUDO:new RegExp("^"+_a),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ya+"*(even|odd|(([+-]|)(\\d*)n|)"+ya+"*(?:([+-]|)"+ya+"*(\\d+)|))"+ya+"*\\)|)","i"),bool:new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:new RegExp("^"+ya+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ya+"*((?:-\\d)?\\d*)"+ya+"*\\)|)(?=[^-]|$)","i")},Aa=/^(?:input|select|textarea|button)$/i,Da=/^h\d$/i,Ma=/^[^{]+\{\s*\[native \w/,Ia=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ra=/[+~]/,Pa=/'|\\/g,La=new RegExp("\\\\([\\da-f]{1,6}"+ya+"?|("+ya+")|.)","ig"),ja=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{ga.apply(pa=va.call(ra.childNodes),ra.childNodes),pa[ra.childNodes.length].nodeType}catch(e){ga={apply:pa.length?function(e,t){ma.apply(e,va.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}var Ba=function(e,t,n,r){var o,i,a,u,s,c,l,f,d,h;if((t?t.ownerDocument||t:ra)!==K&&Y(t),t=t||K,n=n||[],!e||"string"!=typeof e)return n;if(1!==(u=t.nodeType)&&9!==u)return[];if(Q&&!r){if(o=Ia.exec(e))if(a=o[1]){if(9===u){if(!(i=t.getElementById(a))||!i.parentNode)return n;if(i.id===a)return n.push(i),n}else if(t.ownerDocument&&(i=t.ownerDocument.getElementById(a))&&ne(t,i)&&i.id===a)return n.push(i),n}else{if(o[2])return ga.apply(n,t.getElementsByTagName(e)),n;if((a=o[3])&&z.getElementsByClassName)return ga.apply(n,t.getElementsByClassName(a)),n}if(z.qsa&&(!Z||!Z.test(e))){if(f=l=na,d=t,h=9===u&&e,1===u&&"object"!==t.nodeName.toLowerCase()){for(c=V(e),(l=t.getAttribute("id"))?f=l.replace(Pa,"\\$&"):t.setAttribute("id",f),f="[id='"+f+"'] ",s=c.length;s--;)c[s]=f+m(c[s]);d=Ra.test(e)&&p(t.parentNode)||t,h=c.join(",")}if(h)try{return ga.apply(n,d.querySelectorAll(h)),n}catch(e){}finally{l||t.removeAttribute("id")}}}return W(e.replace(Ca,"$1"),t,n,r)};z=Ba.support={},U=Ba.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},Y=Ba.setDocument=function(e){var t,n=e?e.ownerDocument||e:ra,r=n.defaultView;return n!==K&&9===n.nodeType&&n.documentElement?(K=n,J=n.documentElement,Q=!U(n),r&&r!==function(e){try{return e.top}catch(e){}return null}(r)&&(r.addEventListener?r.addEventListener("unload",function(){Y()},!1):r.attachEvent&&r.attachEvent("onunload",function(){Y()})),z.attributes=!0,z.getElementsByTagName=!0,z.getElementsByClassName=Ma.test(n.getElementsByClassName),z.getById=!0,F.find.ID=function(e,t){if(typeof t.getElementById!==la&&Q){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},F.filter.ID=function(e){var t=e.replace(La,ja);return function(e){return e.getAttribute("id")===t}},F.find.TAG=z.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==la)return t.getElementsByTagName(e)}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[o++];)1===n.nodeType&&r.push(n);return r}return i},F.find.CLASS=z.getElementsByClassName&&function(e,t){if(Q)return t.getElementsByClassName(e)},ee=[],Z=[],z.disconnectedMatch=!0,Z=Z.length&&new RegExp(Z.join("|")),ee=ee.length&&new RegExp(ee.join("|")),t=Ma.test(J.compareDocumentPosition),ne=t||Ma.test(J.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},ca=t?function(e,t){if(e===t)return X=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&r||!z.sortDetached&&t.compareDocumentPosition(e)===r?e===n||e.ownerDocument===ra&&ne(ra,e)?-1:t===n||t.ownerDocument===ra&&ne(ra,t)?1:$?ba.call($,e)-ba.call($,t):0:4&r?-1:1)}:function(e,t){if(e===t)return X=!0,0;var r,o=0,i=e.parentNode,a=t.parentNode,u=[e],s=[t];if(!i||!a)return e===n?-1:t===n?1:i?-1:a?1:$?ba.call($,e)-ba.call($,t):0;if(i===a)return c(e,t);for(r=e;r=r.parentNode;)u.unshift(r);for(r=t;r=r.parentNode;)s.unshift(r);for(;u[o]===s[o];)o++;return o?c(u[o],s[o]):u[o]===ra?-1:s[o]===ra?1:0},n):K},Ba.matches=function(e,t){return Ba(e,null,null,t)},Ba.matchesSelector=function(e,t){if((e.ownerDocument||e)!==K&&Y(e),t=t.replace(ka,"='$1']"),z.matchesSelector&&Q&&(!ee||!ee.test(t))&&(!Z||!Z.test(t)))try{var n=te.call(e,t);if(n||z.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return Ba(t,K,null,[e]).length>0},Ba.contains=function(e,t){return(e.ownerDocument||e)!==K&&Y(e),ne(e,t)},Ba.attr=function(e,t){(e.ownerDocument||e)!==K&&Y(e);var n=F.attrHandle[t.toLowerCase()],r=n&&da.call(F.attrHandle,t.toLowerCase())?n(e,t,!Q):void 0;return void 0!==r?r:z.attributes||!Q?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},Ba.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},Ba.uniqueSort=function(e){var t,n=[],r=0,o=0;if(X=!z.detectDuplicates,$=!z.sortStable&&e.slice(0),e.sort(ca),X){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)e.splice(n[r],1)}return $=null,e},H=Ba.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=H(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=H(t);return n},F=Ba.selectors={cacheLength:50,createPseudo:s,match:Oa,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(La,ja),e[3]=(e[3]||e[4]||e[5]||"").replace(La,ja),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||Ba.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&Ba.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return Oa.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&Ta.test(n)&&(t=V(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(La,ja).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=aa[e+" "];return t||(t=new RegExp("(^|"+ya+")"+e+"("+ya+"|$)"))&&aa(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==la&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var o=Ba.attr(r,e);return null==o?"!="===t:!t||(o+="","="===t?o===n:"!="===t?o!==n:"^="===t?n&&0===o.indexOf(n):"*="===t?n&&o.indexOf(n)>-1:"$="===t?n&&o.slice(-n.length)===n:"~="===t?(" "+o+" ").indexOf(n)>-1:"|="===t&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,o){var i="nth"!==e.slice(0,3),a="last"!==e.slice(-4),u="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,s){var c,l,f,d,p,h,m=i!==a?"nextSibling":"previousSibling",g=t.parentNode,v=u&&t.nodeName.toLowerCase(),b=!s&&!u;if(g){if(i){for(;m;){for(f=t;f=f[m];)if(u?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&b){for(l=g[na]||(g[na]={}),c=l[e]||[],p=c[0]===oa&&c[1],d=c[0]===oa&&c[2],f=p&&g.childNodes[p];f=++p&&f&&f[m]||(d=p=0)||h.pop();)if(1===f.nodeType&&++d&&f===t){l[e]=[oa,p,d];break}}else if(b&&(c=(t[na]||(t[na]={}))[e])&&c[0]===oa)d=c[1];else for(;(f=++p&&f&&f[m]||(d=p=0)||h.pop())&&((u?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++d||(b&&((f[na]||(f[na]={}))[e]=[oa,d]),f!==t)););return(d-=o)===r||d%r==0&&d/r>=0}}},PSEUDO:function(e,t){var n,r=F.pseudos[e]||F.setFilters[e.toLowerCase()]||Ba.error("unsupported pseudo: "+e);return r[na]?r(t):r.length>1?(n=[e,e,"",t],F.setFilters.hasOwnProperty(e.toLowerCase())?s(function(e,n){for(var o,i=r(e,t),a=i.length;a--;)o=ba.call(e,i[a]),e[o]=!(n[o]=i[a])}):function(e){return r(e,0,n)}):r}},pseudos:{not:s(function(e){var t=[],n=[],r=q(e.replace(Ca,"$1"));return r[na]?s(function(e,t,n,o){for(var i,a=r(e,null,o,[]),u=e.length;u--;)(i=a[u])&&(e[u]=!(t[u]=i))}):function(e,o,i){return t[0]=e,r(t,null,i,n),!n.pop()}}),has:s(function(e){return function(t){return Ba(e,t).length>0}}),contains:s(function(e){return e=e.replace(La,ja),function(t){return(t.textContent||t.innerText||H(t)).indexOf(e)>-1}}),lang:s(function(e){return Na.test(e||"")||Ba.error("unsupported lang: "+e),e=e.replace(La,ja).toLowerCase(),function(t){var n;do{if(n=Q?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(e){var t=n.window.location&&n.window.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===J},focus:function(e){return e===K.activeElement&&(!K.hasFocus||K.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!F.pseudos.empty(e)},header:function(e){return Da.test(e.nodeName)},input:function(e){return Aa.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:d(function(){return[0]}),last:d(function(e,t){return[t-1]}),eq:d(function(e,t,n){return[n<0?n+t:n]}),even:d(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:d(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:d(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:d(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},F.pseudos.nth=F.pseudos.eq,Xe(["radio","checkbox","file","password","image"],function(e){F.pseudos[e]=l(e)}),Xe(["submit","reset"],function(e){F.pseudos[e]=f(e)}),h.prototype=F.filters=F.pseudos,F.setFilters=new h,V=Ba.tokenize=function(e,t){var n,r,o,i,a,u,s,c=ua[e+" "];if(c)return t?0:c.slice(0);for(a=e,u=[],s=F.preFilter;a;){n&&!(r=Sa.exec(a))||(r&&(a=a.slice(r[0].length)||a),u.push(o=[])),n=!1,(r=Ea.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(Ca," ")}),a=a.slice(n.length));for(i in F.filter)F.filter.hasOwnProperty(i)&&(!(r=Oa[i].exec(a))||s[i]&&!(r=s[i](r))||(n=r.shift(),o.push({value:n,type:i,matches:r}),a=a.slice(n.length)));if(!n)break}return t?a.length:a?Ba.error(e):ua(e,u).slice(0)},q=Ba.compile=function(e,t){var n,r=[],o=[],i=sa[e+" "];if(!i){for(t||(t=V(e)),n=t.length;n--;)i=x(t[n]),i[na]?r.push(i):o.push(i);i=sa(e,_(o,r)),i.selector=e}return i},W=Ba.select=function(e,t,n,r){var o,i,a,u,s,c="function"==typeof e&&e,l=!r&&V(e=c.selector||e);if(n=n||[],1===l.length){if(i=l[0]=l[0].slice(0),i.length>2&&"ID"===(a=i[0]).type&&z.getById&&9===t.nodeType&&Q&&F.relative[i[1].type]){if(!(t=(F.find.ID(a.matches[0].replace(La,ja),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(i.shift().value.length)}for(o=Oa.needsContext.test(e)?0:i.length;o--&&(a=i[o],!F.relative[u=a.type]);)if((s=F.find[u])&&(r=s(a.matches[0].replace(La,ja),Ra.test(i[0].type)&&p(t.parentNode)||t))){if(i.splice(o,1),!(e=r.length&&m(i)))return ga.apply(n,r),n;break}}return(c||q(e,l))(r,t,!Q,n,Ra.test(e)&&p(t.parentNode)||t),n},z.sortStable=na.split("").sort(ca).join("")===na,z.detectDuplicates=!!X,Y(),z.sortDetached=!0;var za=n.document,Fa=Array.prototype.push,Ha=Array.prototype.slice,Ua=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,Va=ta.Event,qa=zn.makeMap("children,contents,next,prev"),Wa=function(e){return void 0!==e},Ga=function(e){return"string"==typeof e},$a=function(e){return e&&e===e.window},Xa=function(e,t){t=t||za;var n=t.createElement("div"),r=t.createDocumentFragment();n.innerHTML=e;for(var o;o=n.firstChild;)r.appendChild(o);return r},Ya=function(e,t,n,r){var o;if(Ga(t))t=Xa(t,lu(e[0]));else if(t.length&&!t.nodeType){if(t=hu.makeArray(t),r)for(o=t.length-1;o>=0;o--)Ya(e,t[o],n,r);else for(o=0;o<t.length;o++)Ya(e,t[o],n,r);return e}if(t.nodeType)for(o=e.length;o--;)n.call(e[o],t);return e},Ka=function(e,t){return e&&t&&-1!==(" "+e.className+" ").indexOf(" "+t+" ")},Ja=function(e,t,n){var r,o;return t=hu(t)[0],e.each(function(){var e=this;n&&r===e.parentNode?o.appendChild(e):(r=e.parentNode,o=t.cloneNode(!1),e.parentNode.insertBefore(o,e),o.appendChild(e))}),e},Qa=zn.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),Za=zn.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),eu={for:"htmlFor",class:"className",readonly:"readOnly"},tu={float:"cssFloat"},nu={},ru={},ou=function(e,t){return new hu.fn.init(e,t)},iu=function(e,t){var n;if(t.indexOf)return t.indexOf(e);for(n=t.length;n--;)if(t[n]===e)return n;return-1},au=/^\s*|\s*$/g,uu=function(e){return null===e||void 0===e?"":(""+e).replace(au,"")},su=function(e,t){var n,r,o,i;if(e)if(void 0===(n=e.length)){for(r in e)if(e.hasOwnProperty(r)&&(i=e[r],!1===t.call(i,r,i)))break}else for(o=0;o<n&&(i=e[o],!1!==t.call(i,o,i));o++);return e},cu=function(e,t){var n=[];return su(e,function(e,r){t(r,e)&&n.push(r)}),n},lu=function(e){return e?9===e.nodeType?e:e.ownerDocument:za};ou.fn=ou.prototype={constructor:ou,selector:"",context:null,length:0,init:function(e,t){var r,o,i=this;if(!e)return i;if(e.nodeType)return i.context=i[0]=e,i.length=1,i;if(t&&t.nodeType)i.context=t;else{if(t)return hu(e).attr(t);i.context=t=n.document}if(Ga(e)){if(i.selector=e,!(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:Ua.exec(e)))return hu(t).find(e);if(r[1])for(o=Xa(e,lu(t)).firstChild;o;)Fa.call(i,o),o=o.nextSibling;else{if(!(o=lu(t).getElementById(r[2])))return i;if(o.id!==r[2])return i.find(e);i.length=1,i[0]=o}}else this.add(e,!1);return i},toArray:function(){return zn.toArray(this)},add:function(e,t){var n,r,o=this;if(Ga(e))return o.add(hu(e));if(!1!==t)for(n=hu.unique(o.toArray().concat(hu.makeArray(e))),o.length=n.length,r=0;r<n.length;r++)o[r]=n[r];else Fa.apply(o,hu.makeArray(e));return o},attr:function(e,t){var n,r=this;if("object"==typeof e)su(e,function(e,t){r.attr(e,t)});else{if(!Wa(t)){if(r[0]&&1===r[0].nodeType){if((n=nu[e])&&n.get)return n.get(r[0],e);if(Za[e])return r.prop(e)?e:void 0;t=r[0].getAttribute(e,2),null===t&&(t=void 0)}return t}this.each(function(){var n;if(1===this.nodeType){if((n=nu[e])&&n.set)return void n.set(this,t);null===t?this.removeAttribute(e,2):this.setAttribute(e,t,2)}})}return r},removeAttr:function(e){return this.attr(e,null)},prop:function(e,t){var n=this;if("object"==typeof(e=eu[e]||e))su(e,function(e,t){n.prop(e,t)});else{if(!Wa(t))return n[0]&&n[0].nodeType&&e in n[0]?n[0][e]:t;this.each(function(){1===this.nodeType&&(this[e]=t)})}return n},css:function(e,t){var n,r,o=this,i=function(e){return e.replace(/-(\D)/g,function(e,t){return t.toUpperCase()})},a=function(e){return e.replace(/[A-Z]/g,function(e){return"-"+e})};if("object"==typeof e)su(e,function(e,t){o.css(e,t)});else if(Wa(t))e=i(e),"number"!=typeof t||Qa[e]||(t=t.toString()+"px"),o.each(function(){var n=this.style;if((r=ru[e])&&r.set)return void r.set(this,t);try{this.style[tu[e]||e]=t}catch(e){}null!==t&&""!==t||(n.removeProperty?n.removeProperty(a(e)):n.removeAttribute(e))});else{if(n=o[0],(r=ru[e])&&r.get)return r.get(n);if(!n.ownerDocument.defaultView)return n.currentStyle?n.currentStyle[i(e)]:"";try{return n.ownerDocument.defaultView.getComputedStyle(n,null).getPropertyValue(a(e))}catch(e){return}}return o},remove:function(){for(var e,t=this,n=this.length;n--;)e=t[n],Va.clean(e),e.parentNode&&e.parentNode.removeChild(e);return this},empty:function(){for(var e,t=this,n=this.length;n--;)for(e=t[n];e.firstChild;)e.removeChild(e.firstChild);return this},html:function(e){var t,n=this;if(Wa(e)){t=n.length;try{for(;t--;)n[t].innerHTML=e}catch(r){hu(n[t]).empty().append(e)}return n}return n[0]?n[0].innerHTML:""},text:function(e){var t,n=this;if(Wa(e)){for(t=n.length;t--;)"innerText"in n[t]?n[t].innerText=e:n[0].textContent=e;return n}return n[0]?n[0].innerText||n[0].textContent:""},append:function(){return Ya(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(e)})},prepend:function(){return Ya(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(e,this.firstChild)},!0)},before:function(){var e=this;return e[0]&&e[0].parentNode?Ya(e,arguments,function(e){this.parentNode.insertBefore(e,this)}):e},after:function(){var e=this;return e[0]&&e[0].parentNode?Ya(e,arguments,function(e){this.parentNode.insertBefore(e,this.nextSibling)},!0):e},appendTo:function(e){return hu(e).append(this),this},prependTo:function(e){return hu(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return Ja(this,e)},wrapAll:function(e){return Ja(this,e,!0)},wrapInner:function(e){return this.each(function(){hu(this).contents().wrapAll(e)}),this},unwrap:function(){return this.parent().each(function(){hu(this).replaceWith(this.childNodes)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),hu(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,t){var n=this;return"string"!=typeof e?n:(-1!==e.indexOf(" ")?su(e.split(" "),function(){n.toggleClass(this,t)}):n.each(function(n,r){var o=Ka(r,e);if(o!==t){var i=r.className;o?r.className=uu((" "+i+" ").replace(" "+e+" "," ")):r.className+=i?" "+e:e}}),n)},hasClass:function(e){return Ka(this[0],e)},each:function(e){return su(this,e)},on:function(e,t){return this.each(function(){Va.bind(this,e,t)})},off:function(e,t){return this.each(function(){Va.unbind(this,e,t)})},trigger:function(e){return this.each(function(){"object"==typeof e?Va.fire(this,e.type,e):Va.fire(this,e)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new hu(Ha.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var t,n,r=[];for(t=0,n=this.length;t<n;t++)hu.find(e,this[t],r);return hu(r)},filter:function(e){return hu("function"==typeof e?cu(this.toArray(),function(t,n){return e(n,t)}):hu.filter(e,this.toArray()))},closest:function(e){var t=[];return e instanceof hu&&(e=e[0]),this.each(function(n,r){for(;r;){if("string"==typeof e&&hu(r).is(e)){t.push(r);break}if(r===e){t.push(r);break}r=r.parentNode}}),hu(t)},offset:function(e){var t,n,r,o,i=0,a=0;return e?this.css(e):(t=this[0],t&&(n=t.ownerDocument,r=n.documentElement,t.getBoundingClientRect&&(o=t.getBoundingClientRect(),i=o.left+(r.scrollLeft||n.body.scrollLeft)-r.clientLeft,a=o.top+(r.scrollTop||n.body.scrollTop)-r.clientTop)),{left:i,top:a})},push:Fa,sort:Array.prototype.sort,splice:Array.prototype.splice},zn.extend(ou,{extend:zn.extend,makeArray:function(e){return $a(e)||e.nodeType?[e]:zn.toArray(e)},inArray:iu,isArray:zn.isArray,each:su,trim:uu,grep:cu,find:Ba,expr:Ba.selectors,unique:Ba.uniqueSort,text:Ba.getText,contains:Ba.contains,filter:function(e,t,n){var r=t.length;for(n&&(e=":not("+e+")");r--;)1!==t[r].nodeType&&t.splice(r,1);return t=1===t.length?hu.find.matchesSelector(t[0],e)?[t[0]]:[]:hu.find.matches(e,t)}});var fu=function(e,t,n){var r=[],o=e[t];for("string"!=typeof n&&n instanceof hu&&(n=n[0]);o&&9!==o.nodeType;){if(void 0!==n){if(o===n)break;if("string"==typeof n&&hu(o).is(n))break}1===o.nodeType&&r.push(o),o=o[t]}return r},du=function(e,t,n,r){var o=[];for(r instanceof hu&&(r=r[0]);e;e=e[t])if(!n||e.nodeType===n){if(void 0!==r){if(e===r)break;if("string"==typeof r&&hu(e).is(r))break}o.push(e)}return o},pu=function(e,t,n){for(e=e[t];e;e=e[t])if(e.nodeType===n)return e;return null};su({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return fu(e,"parentNode")},next:function(e){return pu(e,"nextSibling",1)},prev:function(e){return pu(e,"previousSibling",1)},children:function(e){return du(e.firstChild,"nextSibling",1)},contents:function(e){return zn.toArray(("iframe"===e.nodeName?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(e,t){ou.fn[e]=function(n){var r=this,o=[];r.each(function(){var e=t.call(o,this,n,o);e&&(hu.isArray(e)?o.push.apply(o,e):o.push(e))}),this.length>1&&(qa[e]||(o=hu.unique(o)),0===e.indexOf("parents")&&(o=o.reverse()));var i=hu(o);return n?i.filter(n):i}}),su({parentsUntil:function(e,t){return fu(e,"parentNode",t)},nextUntil:function(e,t){return du(e,"nextSibling",1,t).slice(1)},prevUntil:function(e,t){return du(e,"previousSibling",1,t).slice(1)}},function(e,t){ou.fn[e]=function(n,r){var o=this,i=[];o.each(function(){var e=t.call(i,this,n,i);e&&(hu.isArray(e)?i.push.apply(i,e):i.push(e))}),this.length>1&&(i=hu.unique(i),0!==e.indexOf("parents")&&"prevUntil"!==e||(i=i.reverse()));var a=hu(i);return r?a.filter(r):a}}),ou.fn.is=function(e){return!!e&&this.filter(e).length>0},ou.fn.init.prototype=ou.fn,ou.overrideDefaults=function(e){var t,n=function(r,o){return t=t||e(),0===arguments.length&&(r=t.element),o||(o=t.context),new n.fn.init(r,o)};return hu.extend(n,this),n},ou.attrHooks=nu,ou.cssHooks=ru;var hu=ou,mu=function(){function e(e,t){this.node=e,this.rootNode=t,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}return e.prototype.current=function(){return this.node},e.prototype.next=function(e){return this.node=this.findSibling(this.node,"firstChild","nextSibling",e),this.node},e.prototype.prev=function(e){return this.node=this.findSibling(this.node,"lastChild","previousSibling",e),this.node},e.prototype.prev2=function(e){return this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",e),this.node},e.prototype.findSibling=function(e,t,n,r){var o,i;if(e){if(!r&&e[t])return e[t];if(e!==this.rootNode){if(o=e[n])return o;for(i=e.parentNode;i&&i!==this.rootNode;i=i.parentNode)if(o=i[n])return o}}},e.prototype.findPreviousNode=function(e,t,n,r){var o,i,a;if(e){if(o=e[n],this.rootNode&&o===this.rootNode)return;if(o){if(!r)for(a=o[t];a;a=a[t])if(!a[t])return a;return o}if((i=e.parentNode)&&i!==this.rootNode)return i}},e}(),gu={},vu={exports:gu};!function(e,n,r,o){!function(o){if("object"==typeof n&&void 0!==r)r.exports=o();else if("function"==typeof e&&e.amd)e([],o);else{var i;i="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:this,i.EphoxContactWrapper=o()}}(function(){return function(){function e(t,n,r){function i(u,s){if(!n[u]){if(!t[u]){var c="function"==typeof o&&o;if(!s&&c)return c(u,!0);if(a)return a(u,!0);var l=new Error("Cannot find module '"+u+"'");throw l.code="MODULE_NOT_FOUND",l}var f=n[u]={exports:{}};t[u][0].call(f.exports,function(e){return i(t[u][1][e]||e)},f,f.exports,e,t,n,r)}return n[u].exports}for(var a="function"==typeof o&&o,u=0;u<r.length;u++)i(r[u]);return i}return e}()({1:[function(e,t,n){function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(f===setTimeout)return setTimeout(e,0);if((f===r||!f)&&setTimeout)return f=setTimeout,setTimeout(e,0);try{return f(e,0)}catch(t){try{return f.call(null,e,0)}catch(t){return f.call(this,e,0)}}}function a(e){if(d===clearTimeout)return clearTimeout(e);if((d===o||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function u(){g&&h&&(g=!1,h.length?m=h.concat(m):v=-1,m.length&&s())}function s(){if(!g){var e=i(u);g=!0;for(var t=m.length;t;){for(h=m,m=[];++v<t;)h&&h[v].run();v=-1,t=m.length}h=null,g=!1,a(e)}}function c(e,t){this.fun=e,this.array=t}function l(){}var f,d,p=t.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:r}catch(e){f=r}try{d="function"==typeof clearTimeout?clearTimeout:o}catch(e){d=o}}();var h,m=[],g=!1,v=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];m.push(new c(e,t)),1!==m.length||g||i(s)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=l,p.addListener=l,p.once=l,p.off=l,p.removeListener=l,p.removeAllListeners=l,p.emit=l,p.prependListener=l,p.prependOnceListener=l,p.listeners=function(e){return[]},p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}],2:[function(e,t,n){(function(e){!function(n){function r(){}function o(e,t){return function(){e.apply(t,arguments)}}function i(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(e,this)}function a(e,t){for(;3===e._state;)e=e._value;if(0===e._state)return void e._deferreds.push(t);e._handled=!0,i._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._state?u:s)(t.promise,e._value);var r;try{r=n(e._value)}catch(e){return void s(t.promise,e)}u(t.promise,r)})}function u(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof i)return e._state=3,e._value=t,void c(e);if("function"==typeof n)return void f(o(n,t),e)}e._state=1,e._value=t,c(e)}catch(t){s(e,t)}}function s(e,t){e._state=2,e._value=t,c(e)}function c(e){2===e._state&&0===e._deferreds.length&&i._immediateFn(function(){e._handled||i._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)a(e,e._deferreds[t]);e._deferreds=null}function l(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function f(e,t){var n=!1;try{e(function(e){n||(n=!0,u(t,e))},function(e){n||(n=!0,s(t,e))})}catch(e){if(n)return;n=!0,s(t,e)}}var d=setTimeout;i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var n=new this.constructor(r);return a(this,new l(e,t,n)),n},i.all=function(e){var t=Array.prototype.slice.call(e);return new i(function(e,n){function r(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var u=a.then;if("function"==typeof u)return void u.call(a,function(e){r(i,e)},n)}t[i]=a,0==--o&&e(t)}catch(e){n(e)}}if(0===t.length)return e([]);for(var o=t.length,i=0;i<t.length;i++)r(i,t[i])})},i.resolve=function(e){return e&&"object"==typeof e&&e.constructor===i?e:new i(function(t){t(e)})},i.reject=function(e){return new i(function(t,n){n(e)})},i.race=function(e){return new i(function(t,n){for(var r=0,o=e.length;r<o;r++)e[r].then(t,n)})},i._immediateFn="function"==typeof e?function(t){e(t)}:function(e){d(e,0)},i._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},i._setImmediateFn=function(e){i._immediateFn=e},i._setUnhandledRejectionFn=function(e){i._unhandledRejectionFn=e},void 0!==t&&t.exports?t.exports=i:n.Promise||(n.Promise=i)}(this)}).call(this,e("timers").setImmediate)},{timers:3}],3:[function(e,t,n){(function(t,r){function o(e,t){this._id=e,this._clearFn=t}var i=e("process/browser.js").nextTick,a=Function.prototype.apply,u=Array.prototype.slice,s={},c=0;n.setTimeout=function(){return new o(a.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new o(a.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n.setImmediate="function"==typeof t?t:function(e){var t=c++,r=!(arguments.length<2)&&u.call(arguments,1);return s[t]=!0,i(function(){s[t]&&(r?e.apply(null,r):e.call(null),n.clearImmediate(t))}),t},n.clearImmediate="function"==typeof r?r:function(e){delete s[e]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(e,t,n){var r=e("promise-polyfill"),o=function(){return"undefined"!=typeof window?window:Function("return this;")()}();t.exports={boltExport:o.Promise||r}},{"promise-polyfill":2}]},{},[4])(4)})}(void 0,gu,vu,void 0);var bu,yu=vu.exports.boltExport,wu=function(e){var t=Te.none(),r=[],o=function(e){return wu(function(t){i(function(n){t(e(n))})})},i=function(e){u()?c(e):r.push(e)},a=function(e){u()||(t=Te.some(e),s(r),r=[])},u=function(){return t.isSome()},s=function(e){Xe(e,c)},c=function(e){t.each(function(t){n.setTimeout(function(){e(t)},0)})};return e(a),{get:i,map:o,isReady:u}},xu=function(e){return wu(function(t){t(e)})},_u={nu:wu,pure:xu},Cu=function(e){n.setTimeout(function(){throw e},0)},Su=function(e){var t=function(t){e().then(t,Cu)};return{map:function(t){return Su(function(){return e().then(t)})},bind:function(t){return Su(function(){return e().then(function(e){return t(e).toPromise()})})},anonBind:function(t){return Su(function(){return e().then(function(){return t.toPromise()})})},toLazy:function(){return _u.nu(t)},toCached:function(){var t=null;return Su(function(){return null===t&&(t=e()),t})},toPromise:e,get:t}},Eu=function(e){return Su(function(){return new yu(e)})},ku=function(e){return Su(function(){return yu.resolve(e)})},Tu={nu:Eu,pure:ku},Nu=function(e,t){return t(function(t){var n=[],r=0,o=function(o){return function(i){n[o]=i,++r>=e.length&&t(n)}};0===e.length?t([]):Xe(e,function(e,t){e.get(o(t))})})},Ou=function(e){return Nu(e,Tu.nu)},Au=function(e){var t=function(t){return e===t},n=function(t){return Au(e)},r=function(t){return Au(e)},o=function(t){return Au(t(e))},i=function(t){return Au(e)},a=function(t){t(e)},u=function(t){return t(e)},s=function(t,n){return n(e)},c=function(t){return t(e)},l=function(t){return t(e)},f=function(){return Te.some(e)};return{is:t,isValue:_e,isError:xe,getOr:ve(e),getOrThunk:ve(e),getOrDie:ve(e),or:n,orThunk:r,fold:s,map:o,mapError:i,each:a,bind:u,exists:c,forall:l,toOption:f}},Du=function(e){var t=function(e){return e()},n=function(){return we(String(e))()},r=function(e){return e},o=function(e){return e()},i=function(t){return Du(e)},a=function(t){return Du(t(e))},u=function(t){return Du(e)};return{is:xe,isValue:xe,isError:_e,getOr:be,getOrThunk:t,getOrDie:n,or:r,orThunk:o,fold:function(t,n){return t(e)},map:i,mapError:a,each:he,bind:u,exists:xe,forall:_e,toOption:Te.none}},Mu=function(e,t){return e.fold(function(){return Du(t)},Au)},Iu={value:Au,error:Du,fromOption:Mu},Ru=function(e){if(!Re(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");var t=[],r={};return Xe(e,function(o,i){var a=pt(o);if(1!==a.length)throw new Error("one and only one name per case");var u=a[0],s=o[u];if(void 0!==r[u])throw new Error("duplicate key detected:"+u);if("cata"===u)throw new Error("cannot have a case named cata (sorry)");if(!Re(s))throw new Error("case arguments must be an array");t.push(u),r[u]=function(){var r=arguments.length;if(r!==s.length)throw new Error("Wrong number of arguments to case "+u+". Expected "+s.length+" ("+s+"), got "+r);for(var o=new Array(r),a=0;a<o.length;a++)o[a]=arguments[a];var c=function(e){var n=pt(e);if(t.length!==n.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+n.join(","));if(!it(t,function(e){return We(n,e)}))throw new Error("Not all branches were specified when using match. Specified: "+n.join(", ")+"\nRequired: "+t.join(", "));return e[u].apply(null,o)};return{fold:function(){if(arguments.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+arguments.length);return arguments[i].apply(null,o)},match:c,log:function(e){n.console.log(e,{constructors:t,constructor:u,params:o})}}}}),r},Pu={generate:Ru},Lu=(Pu.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]),function(e){return e.fold(be,be)}),ju=window.Promise?window.Promise:function(){function e(e,t){return function(){e.apply(t,arguments)}}function t(e){var t=this;if(null===this._state)return void this._deferreds.push(e);l(function(){var n=t._state?e.onFulfilled:e.onRejected;if(null===n)return void(t._state?e.resolve:e.reject)(t._value);var r;try{r=n(t._value)}catch(t){return void e.reject(t)}e.resolve(r)})}function r(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if("function"==typeof n)return void u(e(n,t),e(r,this),e(o,this))}this._state=!0,this._value=t,i.call(this)}catch(e){o.call(this,e)}}function o(e){this._state=!1,this._value=e,i.call(this)}function i(){for(var e=0,n=this._deferreds.length;e<n;e++)t.call(this,this._deferreds[e]);this._deferreds=null}function a(e,t,n,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r}function u(e,t,n){var r=!1;try{e(function(e){r||(r=!0,t(e))},function(e){r||(r=!0,n(e))})}catch(e){if(r)return;r=!0,n(e)}}var s=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},c=function(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],u(t,e(r,this),e(o,this))},l=c.immediateFn||"function"==typeof n.setImmediate&&n.setImmediate||function(e){n.setTimeout(e,1)};return c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,n){var r=this;return new c(function(o,i){t.call(r,new a(e,n,o,i))})},c.all=function(){var e=Array.prototype.slice.call(1===arguments.length&&s(arguments[0])?arguments[0]:arguments);return new c(function(t,n){function r(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var u=a.then;if("function"==typeof u)return void u.call(a,function(e){r(i,e)},n)}e[i]=a,0==--o&&t(e)}catch(e){n(e)}}if(0===e.length)return t([]);for(var o=e.length,i=0;i<e.length;i++)r(i,e[i])})},c.resolve=function(e){return e&&"object"==typeof e&&e.constructor===c?e:new c(function(t){t(e)})},c.reject=function(e){return new c(function(t,n){n(e)})},c.race=function(e){return new c(function(t,n){for(var r=0,o=e.length;r<o;r++)e[r].then(t,n)})},c}(),Bu=function(e,t){var r,o=n.window.requestAnimationFrame,i=["ms","moz","webkit"],a=function(e){n.window.setTimeout(e,0)};for(r=0;r<i.length&&!o;r++)o=n.window[i[r]+"RequestAnimationFrame"];o||(o=a),o(e,t)},zu=function(e,t){return"number"!=typeof t&&(t=0),n.setTimeout(e,t)},Fu=function(e,t){return"number"!=typeof t&&(t=1),n.setInterval(e,t)},Hu=function(e){return n.clearTimeout(e)},Uu=function(e){return n.clearInterval(e)},Vu=function(e,t){var r,o=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];n.clearTimeout(r),r=zu(function(){e.apply(this,o)},t)};return o.stop=function(){n.clearTimeout(r)},o},qu={requestAnimationFrame:function(e,t){if(bu)return void bu.then(e);bu=new ju(function(e){t||(t=n.document.body),Bu(e,t)}).then(e)},setTimeout:zu,setInterval:Fu,setEditorTimeout:function(e,t,n){return zu(function(){e.removed||t()},n)},setEditorInterval:function(e,t,r){var o=Fu(function(){e.removed?n.clearInterval(o):t()},r);return o},debounce:Vu,throttle:Vu,clearInterval:Uu,clearTimeout:Hu},Wu=function(){var e=new WeakMap;return{forElement:function(t,n){var r=Ar(t),o=r.dom();return Te.from(e.get(o)).getOrThunk(function(){var t=C(o,n);return e.set(o,t),t})}}}(),Gu=zn.each,$u=zn.grep,Xu=kn.ie,Yu=/^([a-z0-9],?)+$/i,Ku=/^[ \t\r\n]*$/,Ju=function(e,t,n){var r=t.keep_values,o={set:function(e,r,o){t.url_converter&&(r=t.url_converter.call(t.url_converter_scope||n(),r,o,e[0])),e.attr("data-mce-"+o,r).attr(o,r)},get:function(e,t){return e.attr("data-mce-"+t)||e.attr(t)}},i={style:{set:function(t,n){if(null!==n&&"object"==typeof n)return void t.css(n);r&&t.attr("data-mce-style",n),null!==n&&"string"==typeof n?(t.removeAttr("style"),t.css(e.parse(n))):t.attr("style",n)},get:function(t){var n=t.attr("data-mce-style")||t.attr("style");return n=e.serialize(e.parse(n),t[0].nodeName)}}};return r&&(i.href=i.src=o),i},Qu=function(e,t){var n=t.attr("style"),r=e.serialize(e.parse(n),t[0].nodeName);r||(r=null),t.attr("data-mce-style",r)},Zu=function(e,t){var n,r,o=0;if(e)for(n=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)r=e.nodeType,(!t||3!==r||r!==n&&e.nodeValue.length)&&(o++,n=r);return o};!function(e){e.DOM=e(n.document),e.nodeIndex=Zu}(S||(S={}));var es=S,ts=es.DOM,ns=zn.each,rs=zn.grep,os=function(){function e(e){void 0===e&&(e={}),this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=0,this.settings=e}return e.prototype._setReferrerPolicy=function(e){this.settings.referrerPolicy=e},e.prototype.loadScript=function(e,t,r){var o,i=ts,a=function(){i.remove(s),o&&(o.onreadystatechange=o.onload=o=null),t()},u=function(){Be(r)?r():void 0!==n.console&&n.console.log&&n.console.log("Failed to load script: "+e)},s=i.uniqueId();o=n.document.createElement("script"),o.id=s,o.type="text/javascript",o.src=zn._addCacheSuffix(e),this.settings.referrerPolicy&&i.setAttrib(o,"referrerpolicy",this.settings.referrerPolicy),o.onload=a,o.onerror=u,(n.document.getElementsByTagName("head")[0]||n.document.body).appendChild(o)},e.prototype.isDone=function(e){return 2===this.states[e]},e.prototype.markDone=function(e){this.states[e]=2},e.prototype.add=function(e,t,n,r){void 0===this.states[e]&&(this.queue.push(e),this.states[e]=0),t&&(this.scriptLoadedCallbacks[e]||(this.scriptLoadedCallbacks[e]=[]),this.scriptLoadedCallbacks[e].push({success:t,failure:r,scope:n||this}))},e.prototype.load=function(e,t,n,r){return this.add(e,t,n,r)},e.prototype.remove=function(e){delete this.states[e],delete this.scriptLoadedCallbacks[e]},e.prototype.loadQueue=function(e,t,n){this.loadScripts(this.queue,e,t,n)},e.prototype.loadScripts=function(e,t,n,r){var o=this,i=[],a=function(e,t){ns(o.scriptLoadedCallbacks[t],function(t){Be(t[e])&&t[e].call(t.scope)}),o.scriptLoadedCallbacks[t]=void 0};o.queueLoadedCallbacks.push({success:t,failure:r,scope:n||this});var u=function(){var t=rs(e);if(e.length=0,ns(t,function(e){return 2===o.states[e]?void a("success",e):3===o.states[e]?void a("failure",e):void(1!==o.states[e]&&(o.states[e]=1,o.loading++,o.loadScript(e,function(){o.states[e]=2,o.loading--,a("success",e),u()},function(){o.states[e]=3,o.loading--,i.push(e),a("failure",e),u()})))}),!o.loading){var n=o.queueLoadedCallbacks.slice(0);o.queueLoadedCallbacks.length=0,ns(n,function(e){0===i.length?Be(e.success)&&e.success.call(e.scope):Be(e.failure)&&e.failure.call(e.scope,i)})}};u()},e.ScriptLoader=new e,e}(),is=function(e){var t=e;return{get:function(){return t},set:function(e){t=e}}},as=function(e){return Ie(e)&&Et(e,"raw")},us=function(e){return Re(e)&&e.length>1},ss={},cs=is("en"),ls=function(){return St(ss,cs.get())},fs=function(){return gt(ss,function(e){return Lt({},e)})},ds=function(e){e&&cs.set(e)},ps=function(){return cs.get()},hs=function(e,t){var n=ss[e];n||(ss[e]=n={}),mt(t,function(e,t){n[t.toLowerCase()]=e})},ms=function(e){var t=ls().getOr({}),n=function(e){return Be(e)?Object.prototype.toString.call(e):r(e)?"":""+e},r=function(e){return""===e||null===e||void 0===e},o=function(e){var r=n(e);return St(t,r.toLowerCase()).map(n).getOr(r)},i=function(e){return e.replace(/{context:\w+}$/,"")},a=function(e){return e};if(r(e))return a("");if(as(e))return a(n(e.raw));if(us(e)){var u=e.slice(1);return a(i(o(e[0]).replace(/\{([0-9]+)\}/g,function(e,t){return Et(u,t)?n(u[t]):e})))}return a(i(o(e)))},gs=function(){return ls().bind(function(e){return St(e,"_dir")}).exists(function(e){return"rtl"===e})},vs=function(e){return Et(ss,e)},bs={getData:fs,setCode:ds,getCode:ps,add:hs,translate:ms,isRtl:gs,hasCode:vs};!function(e){e.PluginManager=e(),e.ThemeManager=e()}(E||(E={}));var ys=E,ws=function(e,t){var r=null;return{cancel:function(){null!==r&&(n.clearTimeout(r),r=null)},throttle:function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];null===r&&(r=n.setTimeout(function(){e.apply(null,o),r=null},t))}}},xs=function(e,t){var r=null;return{cancel:function(){null!==r&&(n.clearTimeout(r),r=null)},throttle:function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];null!==r&&n.clearTimeout(r),r=n.setTimeout(function(){e.apply(null,o),r=null},t)}}},_s=function(e,t){var n=ko(e,t);return void 0===n||""===n?[]:n.split(" ")},Cs=function(e,t,n){var r=_s(e,t),o=r.concat([n]);return So(e,t,o.join(" ")),!0},Ss=function(e,t,n){var r=Je(_s(e,t),function(e){return e!==n});return r.length>0?So(e,t,r.join(" ")):Oo(e,t),!1},Es=function(e){return void 0!==e.dom().classList},ks=function(e){return _s(e,"class")},Ts=function(e,t){return Cs(e,"class",t)},Ns=function(e,t){return Ss(e,"class",t)},Os=function(e,t){Es(e)?e.dom().classList.add(t):Ts(e,t)},As=function(e){0===(Es(e)?e.dom().classList:ks(e)).length&&Oo(e,"class")},Ds=function(e,t){if(Es(e)){e.dom().classList.remove(t)}else Ns(e,t);As(e)},Ms=function(e,t){return Es(e)&&e.dom().classList.contains(t)},Is=function(e,t){var n=[];return Xe(Cr(e),function(e){t(e)&&(n=n.concat([e])),n=n.concat(Is(e,t))}),n},Rs=function(e,t){return ar(t,e)},Ps=function(e,t,n){for(var r=e.dom(),o=Be(n)?n:ve(!1);r.parentNode;){r=r.parentNode;var i=Wn.fromDom(r);if(t(i))return Te.some(i);if(o(i))break}return Te.none()},Ls=function(e,t,n){return k(function(e,t){return t(e)},Ps,e,t,n)},js=function(e,t,n){return Ps(e,function(e){return or(e,t)},n)},Bs=function(e,t){return ur(t,e)},zs=function(e,t,n){return k(function(e,t){return or(e,t)},js,e,t,n)},Fs=ve("mce-annotation"),Hs=ve("data-mce-annotation"),Us=ve("data-mce-annotation-uid"),Vs=function(e,t){var n=e.selection.getRng(),r=Wn.fromDom(n.startContainer),o=Wn.fromDom(e.getBody()),i=t.fold(function(){return"."+Fs()},function(e){return"["+Hs()+'="'+e+'"]'}),a=Sr(r,n.startOffset).getOr(r),u=zs(a,i,function(e){return sr(e,o)}),s=function(e,t){return No(e,t)?Te.some(ko(e,t)):Te.none()};return u.bind(function(t){return s(t,""+Us()).bind(function(n){return s(t,""+Hs()).map(function(t){var r=Ws(e,n);return{uid:n,name:t,elements:r}})})})},qs=function(e){return Kn(e)&&Ms(e,Fs())},Ws=function(e,t){var n=Wn.fromDom(e.getBody());return Rs(n,"["+Us()+'="'+t+'"]')},Gs=function(e,t){var n=Wn.fromDom(e.getBody()),r=Rs(n,"["+Hs()+'="'+t+'"]'),o={};return Xe(r,function(e){var t=ko(e,Us()),n=o.hasOwnProperty(t)?o[t]:[];o[t]=n.concat([e])}),o},$s=function(e,t){var n=is({}),r=function(){return{listeners:[],previous:is(Te.none())}},o=function(e,t){i(e,function(e){return t(e),e})},i=function(e,t){var o=n.get(),i=o.hasOwnProperty(e)?o[e]:r(),a=t(i);o[e]=a,n.set(o)},a=function(e,t,n){o(e,function(r){Xe(r.listeners,function(r){return r(!0,e,{uid:t,nodes:$e(n,function(e){return e.dom()})})})})},u=function(e){o(e,function(t){Xe(t.listeners,function(t){return t(!1,e)})})},s=xs(function(){var t=n.get(),r=ct(pt(t));Xe(r,function(t){i(t,function(n){var r=n.previous.get();return Vs(e,Te.some(t)).fold(function(){r.isSome()&&(u(t),n.previous.set(Te.none()))},function(e){var t=e.uid,o=e.name,i=e.elements;r.is(t)||(a(o,t,i),n.previous.set(Te.some(t)))}),{previous:n.previous,listeners:n.listeners}})})},30);return e.on("remove",function(){s.cancel()}),e.on("NodeChange",function(){s.throttle()}),{addListener:function(e,t){i(e,function(e){return{previous:e.previous,listeners:e.listeners.concat([t])}})}}},Xs=function(e,t){var n=function(e){return Te.from(e.attr(Hs())).bind(t.lookup)};e.on("init",function(){e.serializer.addNodeFilter("span",function(e){Xe(e,function(e){n(e).each(function(t){!1===t.persistent&&e.unwrap()})})})})},Ys=function(){var e={};return{register:function(t,n){e[t]={name:t,settings:n}},lookup:function(t){return e.hasOwnProperty(t)?Te.from(e[t]).map(function(e){return e.settings}):Te.none()}}},Ks=0,Js=function(e){var t=new Date,n=t.getTime(),r=Math.floor(1e9*Math.random());return Ks++,e+"_"+r+Ks+String(n)},Qs=function(e,t){Xe(t,function(t){Os(e,t)})},Zs=function(e,t){var r=t||n.document,o=r.createElement("div");return o.innerHTML=e,Cr(Wn.fromDom(o))},ec=function(e){return e.dom().innerHTML},tc=function(e,t){var n=dr(e),r=n.dom(),o=Wn.fromDom(r.createDocumentFragment()),i=Zs(t,r);Fr(o,i),Hr(e),jr(e,o)},nc=function(e,t){return Wn.fromDom(e.dom().cloneNode(t))},rc=function(e){return nc(e,!1)},oc=function(e){return nc(e,!0)},ic=function(e,t,n){void 0===n&&(n=xe);var r=new mu(e,t),o=function(e){var t;do{t=r[e]()}while(t&&!mo(t)&&!n(t));return Te.from(t).filter(mo)};return{current:function(){return Te.from(r.current()).filter(mo)},next:function(){return o("next")},prev:function(){return o("prev")},prev2:function(){return o("prev2")}}},ac=function(e,t){var n=t||function(t){return e.isBlock(t)||yo(t)||xo(t)},r=function(e,t,n,o){if(mo(e)){var i=o(e,t,e.data);if(-1!==i)return Te.some({container:e,offset:i})}return n().bind(function(e){return r(e.container,e.offset,n,o)})};return{backwards:function(e,t,o,i){var a=ic(e,i,n);return r(e,t,function(){return a.prev().map(function(e){return{container:e,offset:e.length}})},o).getOrNull()},forwards:function(e,t,o,i){var a=ic(e,i,n);return r(e,t,function(){return a.next().map(function(e){return{container:e,offset:0}})},o).getOrNull()}}},uc="\ufeff",sc=Fi,cc=Hi,lc=io,fc=mo,dc=function(e){return fc(e)&&(e=e.parentNode),lc(e)&&e.hasAttribute("data-mce-caret")},pc=function(e){return fc(e)&&sc(e.data)},hc=function(e){return dc(e)||pc(e)},mc=function(e){return e.firstChild!==e.lastChild||!yo(e.firstChild)},gc=function(e,t){var n,r=e.ownerDocument,o=r.createTextNode(uc),i=e.parentNode;if(t){if(n=e.previousSibling,fc(n)){if(hc(n))return n;if(_c(n))return n.splitText(n.data.length-1)}i.insertBefore(o,e)}else{if(n=e.nextSibling,fc(n)){if(hc(n))return n;if(xc(n))return n.splitText(1),n}e.nextSibling?i.insertBefore(o,e.nextSibling):i.appendChild(o)}return o},vc=function(e){var t=e.container();return!(!e||!mo(t))&&(t.data.charAt(e.offset())===uc||e.isAtStart()&&pc(t.previousSibling))},bc=function(e){var t=e.container();return!(!e||!mo(t))&&(t.data.charAt(e.offset()-1)===uc||e.isAtEnd()&&pc(t.nextSibling))},yc=function(){var e=n.document.createElement("br");return e.setAttribute("data-mce-bogus","1"),e},wc=function(e,t,n){var r=t.ownerDocument,o=r.createElement(e);o.setAttribute("data-mce-caret",n?"before":"after"),o.setAttribute("data-mce-bogus","all"),o.appendChild(yc());var i=t.parentNode;return n?i.insertBefore(o,t):t.nextSibling?i.insertBefore(o,t.nextSibling):i.appendChild(o),o},xc=function(e){return fc(e)&&e.data[0]===uc},_c=function(e){return fc(e)&&e.data[e.data.length-1]===uc},Cc=function(e){var t=e.getElementsByTagName("br"),n=t[t.length-1];co(n)&&n.parentNode.removeChild(n)},Sc=function(e){return e&&e.hasAttribute("data-mce-caret")?(Cc(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null},Ec=function(e){return dc(e.startContainer)},kc=function(e){for(var t=[],n=function(e){t.push(e)},r=0;r<e.length;r++)e[r].each(n);return t},Tc=function(e,t,n){return e.isSome()&&t.isSome()?Te.some(n(e.getOrDie(),t.getOrDie())):Te.none()},Nc=function(e,t,n,r){return e.isSome()&&t.isSome()&&n.isSome()?Te.some(r(e.getOrDie(),t.getOrDie(),n.getOrDie())):Te.none()},Oc=function(e,t){return e?Te.some(t):Te.none()},Ac=Math.round,Dc=function(e){return e?{left:Ac(e.left),top:Ac(e.top),bottom:Ac(e.bottom),right:Ac(e.right),width:Ac(e.width),height:Ac(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},Mc=function(e,t){return e=Dc(e),t?e.right=e.left:(e.left=e.left+e.width,e.right=e.left),e.width=0,e},Ic=function(e,t){return e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right},Rc=function(e,t,n){return e>=0&&e<=Math.min(t.height,n.height)/2},Pc=function(e,t){return e.bottom-e.height/2<t.top||!(e.top>t.bottom)&&Rc(t.top-e.bottom,e,t)},Lc=function(e,t){return e.top>t.bottom||!(e.bottom<t.top)&&Rc(t.bottom-e.top,e,t)},jc=function(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom},Bc=function(e){var t=e.startContainer,n=e.startOffset;return t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null},zc=function(e,t){return 1===e.nodeType&&e.hasChildNodes()&&(t>=e.childNodes.length&&(t=e.childNodes.length-1),e=e.childNodes[t]),e},Fc=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),Hc=function(e){return"string"==typeof e&&e.charCodeAt(0)>=768&&Fc.test(e)},Uc=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){for(var n=0;n<e.length;n++)if(e[n](t))return!0;return!1}},Vc=wo,qc=xo,Wc=yo,Gc=mo,$c=ao(["script","style","textarea"]),Xc=ao(["img","input","textarea","hr","iframe","video","audio","object"]),Yc=ao(["table"]),Kc=hc,Jc=function(e){return!Kc(e)&&(Gc(e)?!$c(e.parentNode):Xc(e)||Wc(e)||Yc(e)||Zc(e))},Qc=function(e){return io(e)&&"true"===e.getAttribute("unselectable")},Zc=function(e){return!1===Qc(e)&&qc(e)},el=function(e,t){for(e=e.parentNode;e&&e!==t;e=e.parentNode){if(Zc(e))return!1;if(Vc(e))return!0}return!0},tl=function(e){return!!Zc(e)&&!0!==Ze(dt(e.getElementsByTagName("*")),function(e,t){return e||Vc(t)},!1)},nl=function(e){return Xc(e)||tl(e)},rl=function(e,t){return Jc(e)&&el(e,t)},ol=io,il=Jc,al=uo("display","block table"),ul=uo("float","left right"),sl=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){for(var n=0;n<e.length;n++)if(!e[n](t))return!1;return!0}}(ol,il,ye(ul)),cl=ye(uo("white-space","pre pre-line pre-wrap")),ll=mo,fl=yo,dl=es.nodeIndex,pl=zc,hl=function(e){return"createRange"in e?e.createRange():es.DOM.createRng()},ml=function(e){return e&&/[\r\n\t ]/.test(e)},gl=function(e){return!!e.setStart&&!!e.setEnd},vl=function(e){var t,n=e.startContainer,r=e.startOffset;return!!(ml(e.toString())&&cl(n.parentNode)&&mo(n)&&(t=n.data,ml(t[r-1])||ml(t[r+1])))},bl=function(e){var t=e.ownerDocument,n=hl(t),r=t.createTextNode(" "),o=e.parentNode;o.insertBefore(r,e),n.setStart(r,0),n.setEnd(r,1);var i=Dc(n.getBoundingClientRect());return o.removeChild(r),i},yl=function(e){var t=e.startContainer,n=e.endContainer,r=e.startOffset,o=e.endOffset;if(t===n&&mo(n)&&0===r&&1===o){var i=e.cloneRange();return i.setEndAfter(n),xl(i)}return null},wl=function(e){return 0===e.left&&0===e.right&&0===e.top&&0===e.bottom},xl=function(e){var t,n=e.getClientRects();return t=Dc(n.length>0?n[0]:e.getBoundingClientRect()),!gl(e)&&fl(e)&&wl(t)?bl(e):wl(t)&&gl(e)?yl(e):t},_l=function(e,t){var n=Mc(e,t);return n.width=1,n.right=n.left+1,n},Cl=function(e){var t,n,r=[],o=function(e){0!==e.height&&(r.length>0&&Ic(e,r[r.length-1])||r.push(e))},i=function(e,t){var n=hl(e.ownerDocument);if(t<e.data.length){if(Hc(e.data[t]))return r;if(Hc(e.data[t-1])&&(n.setStart(e,t),n.setEnd(e,t+1),!vl(n)))return o(_l(xl(n),!1)),r}t>0&&(n.setStart(e,t-1),n.setEnd(e,t),vl(n)||o(_l(xl(n),!1))),t<e.data.length&&(n.setStart(e,t),n.setEnd(e,t+1),vl(n)||o(_l(xl(n),!0)))};if(ll(e.container()))return i(e.container(),e.offset()),r;if(ol(e.container()))if(e.isAtEnd())n=pl(e.container(),e.offset()),ll(n)&&i(n,n.data.length),sl(n)&&!fl(n)&&o(_l(xl(n),!1));else{if(n=pl(e.container(),e.offset()),ll(n)&&i(n,0),sl(n)&&e.isAtEnd())return o(_l(xl(n),!1)),r;t=pl(e.container(),e.offset()-1),sl(t)&&!fl(t)&&(al(t)||al(n)||!sl(n))&&o(_l(xl(t),!1)),sl(n)&&o(_l(xl(n),!0))}return r};!function(e){e.fromRangeStart=function(t){return e(t.startContainer,t.startOffset)},e.fromRangeEnd=function(t){return e(t.endContainer,t.endOffset)},e.after=function(t){return e(t.parentNode,dl(t)+1)},e.before=function(t){return e(t.parentNode,dl(t))},e.isAbove=function(e,t){return Tc(lt(t.getClientRects()),ft(e.getClientRects()),Pc).getOr(!1)},e.isBelow=function(e,t){return Tc(ft(t.getClientRects()),lt(e.getClientRects()),Lc).getOr(!1)},e.isAtStart=function(e){return!!e&&e.isAtStart()},e.isAtEnd=function(e){return!!e&&e.isAtEnd()},e.isTextPosition=function(e){return!!e&&mo(e.container())},e.isElementPosition=function(t){return!1===e.isTextPosition(t)}}(T||(T={}));var Sl,El=T,kl=function(e,t){mo(t)&&0===t.data.length&&e.remove(t)},Tl=function(e,t,n){t.insertNode(n),kl(e,n.previousSibling),kl(e,n.nextSibling)},Nl=function(e,t,n){var r=Te.from(n.firstChild),o=Te.from(n.lastChild);t.insertNode(n),r.each(function(t){return kl(e,t.previousSibling)}),o.each(function(t){return kl(e,t.nextSibling)})},Ol=function(e,t,n){bo(n)?Nl(e,t,n):Tl(e,t,n)},Al=mo,Dl=co,Ml=es.nodeIndex,Il=function(e){var t=e.parentNode;return Dl(t)?Il(t):t},Rl=function(e){return e?It(e.childNodes,function(e,t){return Dl(t)&&"BR"!==t.nodeName?e=e.concat(Rl(t)):e.push(t),e},[]):[]},Pl=function(e,t){for(;(e=e.previousSibling)&&Al(e);)t+=e.data.length;return t},Ll=function(e){return function(t){return e===t}},jl=function(e){var t,n;t=Rl(Il(e)),n=Rt(t,Ll(e),e),t=t.slice(0,n+1);var r=It(t,function(e,n,r){return Al(n)&&Al(t[r-1])&&e++,e},0);return t=Dt(t,ao([e.nodeName])),(n=Rt(t,Ll(e),e))-r},Bl=function(e){return(Al(e)?"text()":e.nodeName.toLowerCase())+"["+jl(e)+"]"},zl=function(e,t,n){var r=[];for(t=t.parentNode;t!==e&&(!n||!n(t));t=t.parentNode)r.push(t);return r},Fl=function(e,t){var n,r,o,i,a,u=[];return n=t.container(),r=t.offset(),Al(n)?o=Pl(n,r):(i=n.childNodes,r>=i.length?(o="after",r=i.length-1):o="before",n=i[r]),u.push(Bl(n)),a=zl(e,n),a=Dt(a,ye(co)),u=u.concat(At(a,function(e){return Bl(e)})),u.reverse().join("/")+","+o},Hl=function(e,t,n){var r=Rl(e);return r=Dt(r,function(e,t){return!Al(e)||!Al(r[t-1])}),r=Dt(r,ao([t])),r[n]},Ul=function(e,t){for(var n,r=e,o=0;Al(r);){if(n=r.data.length,t>=o&&t<=o+n){e=r,t-=o;break}if(!Al(r.nextSibling)){e=r,t=n;break}o+=n,r=r.nextSibling}return Al(e)&&t>e.data.length&&(t=e.data.length),El(e,t)},Vl=function(e,t){var n;if(!t)return null;var r=t.split(","),o=r[0].split("/");n=r.length>1?r[1]:"before";var i=It(o,function(e,t){return(t=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t))?("text()"===t[1]&&(t[1]="#text"),Hl(e,t[1],parseInt(t[2],10))):null},e);return i?Al(i)?Ul(i,parseInt(n,10)):(n="after"===n?Ml(i)+1:Ml(i),El(i.parentNode,n)):null},ql=xo,Wl=function(e,t,n){var r,o;for(o=e(t.data.slice(0,n)).length,r=t.previousSibling;r&&mo(r);r=r.previousSibling)o+=e(r.data).length;return o},Gl=function(e,t,n,r,o){var i,a=r[o?"startContainer":"endContainer"],u=r[o?"startOffset":"endOffset"],s=[],c=0,l=e.getRoot();for(mo(a)?s.push(n?Wl(t,a,u):u):(i=a.childNodes,u>=i.length&&i.length&&(c=1,u=Math.max(0,i.length-1)),s.push(e.nodeIndex(i[u],n)+c));a&&a!==l;a=a.parentNode)s.push(e.nodeIndex(a,n));return s},$l=function(e,t,n,r){var o=t.dom,i={};return i.start=Gl(o,e,n,r,!0),t.isCollapsed()||(i.end=Gl(o,e,n,r,!1)),i},Xl=function(e,t,n){var r=0;return zn.each(e.select(t),function(e){if("all"!==e.getAttribute("data-mce-bogus"))return e!==n&&void r++}),r},Yl=function(e,t){var n,r,o,i=t?"start":"end";n=e[i+"Container"],r=e[i+"Offset"],io(n)&&"TR"===n.nodeName&&(o=n.childNodes,(n=o[Math.min(t?r:r-1,o.length-1)])&&(r=t?0:n.childNodes.length,e["set"+(t?"Start":"End")](n,r)))},Kl=function(e){return Yl(e,!0),Yl(e,!1),e},Jl=function(e,t){var n;if(io(e)&&(e=zc(e,t),ql(e)))return e;if(hc(e)){if(mo(e)&&dc(e)&&(e=e.parentNode),n=e.previousSibling,ql(n))return n;if(n=e.nextSibling,ql(n))return n}},Ql=function(e){return Jl(e.startContainer,e.startOffset)||Jl(e.endContainer,e.endOffset)},Zl=function(e,t,n){var r=n.getNode(),o=r?r.nodeName:null,i=n.getRng();if(ql(r)||"IMG"===o)return{name:o,index:Xl(n.dom,o,r)};var a=Ql(i);return a?(o=a.tagName,{name:o,index:Xl(n.dom,o,a)}):$l(e,n,t,i)},ef=function(e){var t=e.getRng();return{start:Fl(e.dom.getRoot(),El.fromRangeStart(t)),end:Fl(e.dom.getRoot(),El.fromRangeEnd(t))}},tf=function(e){return{rng:e.getRng()}},nf=function(e,t,n){var r={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return n?e.create("span",r,"&#xFEFF;"):e.create("span",r)},rf=function(e,t){var n=e.dom,r=e.getRng(),o=n.uniqueId(),i=e.isCollapsed(),a=e.getNode(),u=a.nodeName;if("IMG"===u)return{name:u,index:Xl(n,u,a)};var s=Kl(r.cloneRange());if(!i){s.collapse(!1);var c=nf(n,o+"_end",t);Ol(n,s,c)}r=Kl(r),r.collapse(!0);var l=nf(n,o+"_start",t);return Ol(n,r,l),e.moveToBookmark({id:o,keep:!0}),{id:o}},of=function(e,t,n){return 2===t?Zl(cc,n,e):3===t?ef(e):t?tf(e):rf(e,!1)},af=r(Zl,be,!0),uf=es.DOM,sf=function(e,t,n){var r=e.getParam(t,n);if(-1!==r.indexOf("=")){var o=e.getParam(t,"","hash");return o.hasOwnProperty(e.id)?o[e.id]:n}return r},cf=function(e){return e.getParam("iframe_attrs",{})},lf=function(e){return e.getParam("doctype","<!DOCTYPE html>")},ff=function(e){return e.getParam("document_base_url","")},df=function(e){return sf(e,"body_id","tinymce")},pf=function(e){return sf(e,"body_class","")},hf=function(e){return e.getParam("content_security_policy","")},mf=function(e){return e.getParam("br_in_pre",!0)},gf=function(e){if(e.getParam("force_p_newlines",!1))return"p";var t=e.getParam("forced_root_block","p");return!1===t?"":!0===t?"p":t},vf=function(e){return e.getParam("forced_root_block_attrs",{})},bf=function(e){return e.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")},yf=function(e){return e.getParam("no_newline_selector","")},wf=function(e){return e.getParam("keep_styles",!0)},xf=function(e){return e.getParam("end_container_on_empty_block",!1)},_f=function(e){return zn.explode(e.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large"))},Cf=function(e){return zn.explode(e.getParam("font_size_classes",""))},Sf=function(e){return e.getParam("images_dataimg_filter",ve(!0),"function")},Ef=function(e){return e.getParam("automatic_uploads",!0,"boolean")},kf=function(e){return e.getParam("images_reuse_filename",!1,"boolean")},Tf=function(e){return e.getParam("images_replace_blob_uris",!0,"boolean")},Nf=function(e){return e.getParam("icons","","string")},Of=function(e){return e.getParam("icons_url","","string")},Af=function(e){return e.getParam("images_upload_url","","string")},Df=function(e){return e.getParam("images_upload_base_path","","string")},Mf=function(e){return e.getParam("images_upload_credentials",!1,"boolean")},If=function(e){return e.getParam("images_upload_handler",null,"function")},Rf=function(e){return e.getParam("content_css_cors",!1,"boolean")},Pf=function(e){return e.getParam("referrer_policy","","string")},Lf=function(e){return e.getParam("language","en","string")},jf=function(e){return e.getParam("language_url","","string")},Bf=function(e){return e.getParam("indent_use_margin",!1)},zf=function(e){return e.getParam("indentation","40px","string")},Ff=function(e){var t=e.getParam("content_css");return Me(t)?$e(t.split(","),on):Re(t)?t:!1===t||e.inline?[]:["default"]},Hf=function(e){return e.getParam("directionality",bs.isRtl()?"rtl":void 0)},Uf=function(e){return e.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string")},Vf=function(e){return e.getParam("object_resizing")},qf=function(e){return e.getParam("resize_img_proportional",!0,"boolean")},Wf=function(e){return e.getParam("placeholder",uf.getAttrib(e.getElement(),"placeholder"),"string")},Gf=function(e){return e.getParam("event_root")},$f=function(e){return e.getParam("service_message")},Xf=function(e){return e.getParam("theme")},Yf=function(e){return e.getParam("validate")},Kf=function(e){return!1!==e.getParam("inline_boundaries")},Jf=function(e){return e.getParam("formats")},Qf=function(e){var t=e.getParam("preview_styles","font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow");return Me(t)?t:""},Zf=function(e){return e.getParam("custom_ui_selector","","string")},ed=function(e){return e.getParam("theme_url")},td=function(e){return e.getParam("inline")},nd=function(e){return e.getParam("hidden_input")},rd=function(e){return e.getParam("submit_patch")},od=function(e){return"xml"===e.getParam("encoding")},id=function(e){return e.getParam("add_form_submit_trigger")},ad=function(e){return e.getParam("add_unload_trigger")},ud=function(e){return""!==gf(e)},sd=function(e){return e.getParam("custom_undo_redo_levels",0,"number")},cd=function(e){return e.getParam("disable_nodechange")},ld=function(e){return e.getParam("readonly")},fd=function(e){return e.getParam("content_css_cors")},dd=function(e){return e.getParam("plugins")},pd=function(e){return e.getParam("external_plugins")},hd=function(e){return e.getParam("block_unsupported_drop",!0,"boolean")},md=io,gd=mo,vd=function(e){var t=e.parentNode;t&&t.removeChild(e)},bd=function(e){try{return e.nodeValue}catch(e){return""}},yd=function(e,t){0===t.length?vd(e):e.nodeValue=t},wd=function(e){var t=cc(e);return{count:e.length-t.length,text:t}},xd=function(e,t){return Td(e),t},_d=function(e,t){var n=wd(e.data.substr(0,t.offset())),r=wd(e.data.substr(t.offset())),o=n.text+r.text;return o.length>0?(yd(e,o),El(e,t.offset()-n.count)):t},Cd=function(e,t){var n=t.container(),r=qe(dt(n.childNodes),e).map(function(e){return e<t.offset()?El(n,t.offset()-1):t}).getOr(t);return Td(e),r},Sd=function(e,t){return gd(e)&&t.container()===e?_d(e,t):xd(e,t)},Ed=function(e,t){return t.container()===e.parentNode?Cd(e,t):xd(e,t)},kd=function(e,t){return El.isTextPosition(t)?Sd(e,t):Ed(e,t)},Td=function(e){if(md(e)&&hc(e)&&(mc(e)?e.removeAttribute("data-mce-caret"):vd(e)),gd(e)){var t=cc(bd(e));yd(e,t)}},Nd=vn().browser,Od=xo,Ad=function(e){return io(e)&&/^(TD|TH)$/i.test(e.tagName)},Dd=function(e,t,n){var r,o,i,a,u,s=Mc(t.getBoundingClientRect(),n);return"BODY"===e.tagName?(r=e.ownerDocument.documentElement,o=e.scrollLeft||r.scrollLeft,i=e.scrollTop||r.scrollTop):(u=e.getBoundingClientRect(),o=e.scrollLeft-u.left,i=e.scrollTop-u.top),s.left+=o,s.right+=o,s.top+=i,s.bottom+=i,s.width=1,a=t.offsetWidth-t.clientWidth,a>0&&(n&&(a*=-1),s.left+=a,s.right+=a),s},Md=function(e){var t,n,r,o,i=Rs(Wn.fromDom(e),"*[contentEditable=false]");for(r=0;r<i.length;r++)t=i[r].dom(),n=t.previousSibling,_c(n)&&(o=n.data,1===o.length?n.parentNode.removeChild(n):n.deleteData(o.length-1,1)),n=t.nextSibling,xc(n)&&(o=n.data,1===o.length?n.parentNode.removeChild(n):n.deleteData(0,1))},Id=function(e,t,n,r){var o,i,a=is(Te.none()),u=gf(e),s=u.length>0?u:"p",c=function(e,r){var o,u;if(l(),Ad(r))return null;if(!n(r))return i=gc(r,e),u=r.ownerDocument.createRange(),Od(i.nextSibling)?(u.setStart(i,0),u.setEnd(i,0)):(u.setStart(i,1),u.setEnd(i,1)),u;i=wc(s,r,e),o=Dd(t,r,e),hu(i).css("top",o.top);var c=hu('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(o).appendTo(t)[0];return a.set(Te.some({caret:c,element:r,before:e})),a.get().each(function(t){e&&hu(t.caret).addClass("mce-visual-caret-before")}),f(),u=r.ownerDocument.createRange(),u.setStart(i,0),u.setEnd(i,0),u},l=function(){Md(t),i&&(Td(i),i=null),a.get().each(function(e){hu(e.caret).remove(),a.set(Te.none())}),o&&(qu.clearInterval(o),o=null)},f=function(){o=qu.setInterval(function(){r()?hu("div.mce-visual-caret",t).toggleClass("mce-visual-caret-hidden"):hu("div.mce-visual-caret",t).addClass("mce-visual-caret-hidden")},500)},d=function(){a.get().each(function(e){var n=Dd(t,e.element,e.before);hu(e.caret).css(Lt({},n))})},p=function(){return qu.clearInterval(o)};return{show:c,hide:l,getCss:function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},reposition:d,destroy:p}},Rd=function(){return Nd.isIE()||Nd.isEdge()||Nd.isFirefox()},Pd=function(e){return Od(e)||fo(e)&&Rd()},Ld=xo,jd=uo("display","block table table-cell table-caption list-item"),Bd=hc,zd=dc,Fd=io,Hd=Jc,Ud=function(e){return e>0},Vd=function(e){return e<0},qd=function(e,t){for(var n;n=e(t);)if(!zd(n))return n;return null},Wd=function(e,t,n,r,o){var i=new mu(e,r);if(Vd(t)){if((Ld(e)||zd(e))&&(e=qd(i.prev,!0),n(e)))return e;for(;e=qd(i.prev,o);)if(n(e))return e}if(Ud(t)){if((Ld(e)||zd(e))&&(e=qd(i.next,!0),n(e)))return e;for(;e=qd(i.next,o);)if(n(e))return e}return null},Gd=function(e,t){for(;e&&e!==t;){if(jd(e))return e;e=e.parentNode}return null},$d=function(e,t,n){return Gd(e.container(),n)===Gd(t.container(),n)},Xd=function(e,t){if(!t)return null;var n=t.container(),r=t.offset();return Fd(n)?n.childNodes[r+e]:null},Yd=function(e,t){var n=t.ownerDocument.createRange();return e?(n.setStartBefore(t),n.setEndBefore(t)):(n.setStartAfter(t),n.setEndAfter(t)),n},Kd=function(e,t,n){return Gd(t,e)===Gd(n,e)},Jd=function(e,t,n){var r,o;for(o=e?"previousSibling":"nextSibling";n&&n!==t;){if(r=n[o],Bd(r)&&(r=r[o]),Ld(r)){if(Kd(t,r,n))return r;break}if(Hd(r))break;n=n.parentNode}return null},Qd=r(Yd,!0),Zd=r(Yd,!1),ep=function(e,t,n){var o,i,a,u=r(Jd,!0,t),s=r(Jd,!1,t);i=n.startContainer;var c=n.startOffset;if(dc(i)){if(Fd(i)||(i=i.parentNode),"before"===(a=i.getAttribute("data-mce-caret"))&&(o=i.nextSibling,Pd(o)))return Qd(o);if("after"===a&&(o=i.previousSibling,Pd(o)))return Zd(o)}if(!n.collapsed)return n;if(mo(i)){if(Bd(i)){if(1===e){if(o=s(i))return Qd(o);if(o=u(i))return Zd(o)}if(-1===e){if(o=u(i))return Zd(o);if(o=s(i))return Qd(o)}return n}if(_c(i)&&c>=i.data.length-1)return 1===e&&(o=s(i))?Qd(o):n;if(xc(i)&&c<=1)return-1===e&&(o=u(i))?Zd(o):n;if(c===i.data.length)return o=s(i),o?Qd(o):n;if(0===c)return o=u(i),o?Zd(o):n}return n},tp=function(e,t){return Te.from(Xd(e?0:-1,t)).filter(Ld)},np=function(e,t,n){var r=ep(e,t,n);return-1===e?T.fromRangeStart(r):T.fromRangeEnd(r)},rp=function(e){return Te.from(e.getNode()).map(Wn.fromDom)},op=function(e){return Te.from(e.getNode(!0)).map(Wn.fromDom)},ip=function(e,t){for(;t=e(t);)if(t.isVisible())return t;return t},ap=function(e,t){var n=$d(e,t);return!(n||!yo(e.getNode()))||n};!function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"}(Sl||(Sl={}));var up=xo,sp=mo,cp=io,lp=yo,fp=Jc,dp=nl,pp=rl,hp=function(e,t){for(var n=[];e&&e!==t;)n.push(e),e=e.parentNode;return n},mp=function(e,t){return e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null},gp=function(e,t){if(Ud(e)){if(fp(t.previousSibling)&&!sp(t.previousSibling))return El.before(t);if(sp(t))return El(t,0)}if(Vd(e)){if(fp(t.nextSibling)&&!sp(t.nextSibling))return El.after(t);if(sp(t))return El(t,t.data.length)}return Vd(e)?lp(t)?El.before(t):El.after(t):El.before(t)},vp=function(e,t){var n=t.nextSibling;return n&&fp(n)?sp(n)?El(n,0):El.before(n):bp(Sl.Forwards,El.after(t),e)},bp=function(e,t,n){var r,o,i,a;if(!cp(n)||!t)return null;if(t.isEqual(El.after(n))&&n.lastChild){if(a=El.after(n.lastChild),Vd(e)&&fp(n.lastChild)&&cp(n.lastChild))return lp(n.lastChild)?El.before(n.lastChild):a}else a=t;var u=a.container(),s=a.offset();if(sp(u)){if(Vd(e)&&s>0)return El(u,--s);if(Ud(e)&&s<u.length)return El(u,++s);r=u}else{if(Vd(e)&&s>0&&(o=mp(u,s-1),fp(o)))return!dp(o)&&(i=Wd(o,e,pp,o))?sp(i)?El(i,i.data.length):El.after(i):sp(o)?El(o,o.data.length):El.before(o);if(Ud(e)&&s<u.childNodes.length&&(o=mp(u,s),fp(o)))return lp(o)?vp(n,o):!dp(o)&&(i=Wd(o,e,pp,o))?sp(i)?El(i,0):El.before(i):sp(o)?El(o,0):El.after(o);r=o||a.getNode()}if((Ud(e)&&a.isAtEnd()||Vd(e)&&a.isAtStart())&&(r=Wd(r,e,ve(!0),n,!0),pp(r,n)))return gp(e,r);o=Wd(r,e,pp,n);var c=Pt(Je(hp(u,n),up));return!c||o&&c.contains(o)?o?gp(e,o):null:a=Ud(e)?El.after(c):El.before(c)},yp=function(e){return{next:function(t){return bp(Sl.Forwards,t,e)},prev:function(t){return bp(Sl.Backwards,t,e)}}},wp=function(e,t,n){var r=e?El.before(n):El.after(n);return Tp(e,t,r)},xp=function(e){return yo(e)?El.before(e):El.after(e)},_p=function(e){return El.isTextPosition(e)?0===e.offset():Jc(e.getNode())},Cp=function(e){if(El.isTextPosition(e)){var t=e.container();return e.offset()===t.data.length}return Jc(e.getNode(!0))},Sp=function(e,t){return!El.isTextPosition(e)&&!El.isTextPosition(t)&&e.getNode()===t.getNode(!0)},Ep=function(e){return!El.isTextPosition(e)&&yo(e.getNode())},kp=function(e,t,n){return e?!Sp(t,n)&&!Ep(t)&&Cp(t)&&_p(n):!Sp(n,t)&&_p(t)&&Cp(n)},Tp=function(e,t,n){var r=yp(t);return Te.from(e?r.next(n):r.prev(n))},Np=function(e,t,n){return Tp(e,t,n).bind(function(r){return $d(n,r,t)&&kp(e,n,r)?Tp(e,t,r):Te.some(r)})},Op=function(e,t,n,r){return Np(e,t,n).bind(function(n){return r(n)?Op(e,t,n,r):Te.some(n)})},Ap=function(e,t){var n=e?t.firstChild:t.lastChild;return mo(n)?Te.some(El(n,e?0:n.data.length)):n?Jc(n)?Te.some(e?El.before(n):xp(n)):wp(e,t,n):Te.none()},Dp=r(Tp,!0),Mp=r(Tp,!1),Ip=r(Ap,!0),Rp=r(Ap,!1),Pp=function(e){return io(e)&&"_mce_caret"===e.id},Lp=function(e,t){for(;t&&t!==e;){if("_mce_caret"===t.id)return t;t=t.parentNode}return null},jp=function(e){return"string"==typeof e.start},Bp=function(e){return e.hasOwnProperty("rng")},zp=function(e){return e.hasOwnProperty("id")},Fp=function(e){return e.hasOwnProperty("name")},Hp=function(e){return zn.isArray(e.start)},Up=function(e,t){return io(t)&&e.isBlock(t)&&!t.innerHTML&&!kn.ie&&(t.innerHTML='<br data-mce-bogus="1" />'),t},Vp=function(e,t){var n,r=e.createRng();return n=Vl(e.getRoot(),t.start),r.setStart(n.container(),n.offset()),n=Vl(e.getRoot(),t.end),r.setEnd(n.container(),n.offset()),r},qp=function(e,t){var n=e.ownerDocument.createTextNode(uc);e.appendChild(n),t.setStart(n,0),t.setEnd(n,0)},Wp=function(e){return!1===e.hasChildNodes()},Gp=function(e,t){return Rp(e).fold(function(){return!1},function(e){return t.setStart(e.container(),e.offset()),t.setEnd(e.container(),e.offset()),!0})},$p=function(e,t,n){return!(!Wp(t)||!Lp(e,t))&&(qp(t,n),!0)},Xp=function(e,t,n,r){var o,i,a,u,s=n[t?"start":"end"],c=e.getRoot();if(s){for(a=s[0],i=c,o=s.length-1;o>=1;o--){if(u=i.childNodes,$p(c,i,r))return!0;if(s[o]>u.length-1)return!!$p(c,i,r)||Gp(i,r);i=u[s[o]]}3===i.nodeType&&(a=Math.min(s[0],i.nodeValue.length)),1===i.nodeType&&(a=Math.min(s[0],i.childNodes.length)),t?r.setStart(i,a):r.setEnd(i,a)}return!0},Yp=function(e){return mo(e)&&e.data.length>0},Kp=function(e,t,n){var r,o,i,a,u,s,c=e.get(n.id+"_"+t),l=n.keep;if(c){if(r=c.parentNode,"start"===t?(l?c.hasChildNodes()?(r=c.firstChild,o=1):Yp(c.nextSibling)?(r=c.nextSibling,o=0):Yp(c.previousSibling)?(r=c.previousSibling,o=c.previousSibling.data.length):(r=c.parentNode,o=e.nodeIndex(c)+1):o=e.nodeIndex(c),u=r,s=o):(l?c.hasChildNodes()?(r=c.firstChild,o=1):Yp(c.previousSibling)?(r=c.previousSibling,o=c.previousSibling.data.length):(r=c.parentNode,o=e.nodeIndex(c)):o=e.nodeIndex(c),u=r,s=o),!l){for(a=c.previousSibling,i=c.nextSibling,zn.each(zn.grep(c.childNodes),function(e){mo(e)&&(e.nodeValue=e.nodeValue.replace(/\uFEFF/g,""))});c=e.get(n.id+"_"+t);)e.remove(c,!0);a&&i&&a.nodeType===i.nodeType&&mo(a)&&!kn.opera&&(o=a.nodeValue.length,a.appendData(i.nodeValue),e.remove(i),u=a,s=o)}return Te.some(El(u,s))}return Te.none()},Jp=function(e,t){var n=e.createRng();return Xp(e,!0,t,n)&&Xp(e,!1,t,n)?Te.some(n):Te.none()},Qp=function(e,t){var n=Kp(e,"start",t),r=Kp(e,"end",t);return Tc(n,r.or(n),function(t,n){var r=e.createRng();return r.setStart(Up(e,t.container()),t.offset()),r.setEnd(Up(e,n.container()),n.offset()),r})},Zp=function(e,t){return Te.from(e.select(t.name)[t.index]).map(function(t){var n=e.createRng();return n.selectNode(t),n})},eh=function(e,t){var n=e.dom;if(t){if(Hp(t))return Jp(n,t);if(jp(t))return Te.some(Vp(n,t));if(zp(t))return Qp(n,t);if(Fp(t))return Zp(n,t);if(Bp(t))return Te.some(t.rng)}return Te.none()},th=function(e,t,n){return of(e,t,n)},nh=function(e,t){eh(e,t).each(function(t){e.setRng(t)})},rh=function(e){return io(e)&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")},oh=function(e){return function(t){return e===t}}(" "),ih=function(e){return""!==e&&-1!==" \f\n\r\t\v".indexOf(e)},ah=function(e){return!ih(e)&&!oh(e)},uh=function(e){return!!e.nodeType},sh=function(e){return e&&/^(IMG)$/.test(e.nodeName)},ch=function(e,t,n){var r,o,i,a=n.startOffset,u=n.startContainer;if((n.startContainer!==n.endContainer||!sh(n.startContainer.childNodes[n.startOffset]))&&1===u.nodeType)for(i=u.childNodes,a<i.length?(u=i[a],r=new mu(u,e.getParent(u,e.isBlock))):(u=i[i.length-1],r=new mu(u,e.getParent(u,e.isBlock)),r.next(!0)),o=r.current();o;o=r.next())if(3===o.nodeType&&!ph(o))return n.setStart(o,0),void t.setRng(n)},lh=function(e,t,n){if(e){var r=t?"nextSibling":"previousSibling";for(e=n?e:e[r];e;e=e[r])if(1===e.nodeType||!ph(e))return e}},fh=function(e,t){return uh(t)&&(t=t.nodeName),!!e.schema.getTextBlockElements()[t.toLowerCase()]},dh=function(e,t,n){return e.schema.isValidChild(t,n)},ph=function(e){return e&&mo(e)&&/^([\t \r\n]+|)$/.test(e.nodeValue)},hh=function(e){return e&&mo(e)&&0===e.length},mh=function(e,t){return"string"!=typeof e?e=e(t):t&&(e=e.replace(/%(\w+)/g,function(e,n){return t[n]||e})),e},gh=function(e,t){return e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()},vh=function(e,t,n){return"color"!==n&&"backgroundColor"!==n||(t=e.toHex(t)),"fontWeight"===n&&700===t&&(t="bold"),"fontFamily"===n&&(t=t.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+t},bh=function(e,t,n){return vh(e,e.getStyle(t,n),n)},yh=function(e,t){var n;return e.getParent(t,function(t){return(n=e.getStyle(t,"text-decoration"))&&"none"!==n}),n},wh=function(e,t,n){return e.getParents(t,n,e.getRoot())},xh=function(e,t){var n=function(e){var t=function(e){return e.length>1&&"%"===e.charAt(0)};return Ge(["styles","attributes"],function(n){return St(e,n).exists(function(e){var n=Re(e)?e:Ct(e);return Ge(n,t)})})};return Ge(e.formatter.get(t),n)},_h=function(e,t,n){var r=["inline","block","selector","attributes","styles","classes"],o=function(e){return xt(e,function(e,t){return Ge(r,function(e){return e===t})})};return Ge(e.formatter.get(t),function(t){var r=o(t);return Ge(e.formatter.get(n),function(e){var t=o(e);return kt(r,t)})})},Ch=rh,Sh=wh,Eh=ph,kh=fh,Th=function(e){return"BR"===e.nodeName&&e.getAttribute("data-mce-bogus")&&!e.nextSibling},Nh=function(e,t){for(var n=t;n;){if(io(n)&&e.getContentEditable(n))return"false"===e.getContentEditable(n)?n:t;n=n.parentNode}return t},Oh=function(e,t,n,r){for(var o=t.data,i=n;e?i>=0:i<o.length;e?i--:i++)if(r(o.charAt(i)))return e?i+1:i;return-1},Ah=function(e,t,n){return Oh(e,t,n,function(e){return oh(e)||ih(e)})},Dh=function(e,t,n){return Oh(e,t,n,ah)},Mh=function(e,t,n,r,o,i){var a,u=e.getParent(n,e.isBlock)||t,s=function(t,n,r){var i=ac(e),s=o?i.backwards:i.forwards;return Te.from(s(t,n,function(e,t){return Ch(e.parentNode)?-1:(a=e,r(o,e,t))},u))};return s(n,r,Ah).bind(function(e){return i?s(e.container,e.offset+(o?-1:0),Dh):Te.some(e)}).orThunk(function(){return a?Te.some({container:a,offset:o?0:a.length}):Te.none()})},Ih=function(e,t,n,r,o){mo(r)&&0===r.nodeValue.length&&r[o]&&(r=r[o]);for(var i=Sh(e,r),a=0;a<i.length;a++)for(var u=0;u<t.length;u++){var s=t[u];if(!("collapsed"in s&&s.collapsed!==n.collapsed)&&e.is(i[a],s.selector))return i[a]}return r},Rh=function(e,t,n,r){var o,i=e.dom,a=i.getRoot();if(t[0].wrapper||(o=i.getParent(n,t[0].block,a)),!o){var u=i.getParent(n,"LI,TD,TH");o=i.getParent(mo(n)?n.parentNode:n,function(t){return t!==a&&kh(e,t)},u)}if(o&&t[0].wrapper&&(o=Sh(i,o,"ul,ol").reverse()[0]||o),!o)for(o=n;o[r]&&!i.isBlock(o[r])&&(o=o[r],!gh(o,"br")););return o||n},Ph=function(e,t,n,r,o,i,a){var u,s,c;u=s=a?n:o;var l=a?"previousSibling":"nextSibling",f=e.getRoot();if(mo(u)&&!Eh(u)&&(a?r>0:i<u.nodeValue.length))return u;for(;;){if(!t[0].block_expand&&e.isBlock(s))return s;for(c=s[l];c;c=c[l])if(!Ch(c)&&!Eh(c)&&!Th(c))return s;if(s===f||s.parentNode===f){u=s;break}s=s.parentNode}return u},Lh=function(e,t,n,r){void 0===r&&(r=!1);var o=t.startContainer,i=t.startOffset,a=t.endContainer,u=t.endOffset,s=e.dom;if(io(o)&&o.hasChildNodes()&&(o=zc(o,i),mo(o)&&(i=0)),io(a)&&a.hasChildNodes()&&(a=zc(a,t.collapsed?u:u-1),mo(a)&&(u=a.nodeValue.length)),o=Nh(s,o),a=Nh(s,a),(Ch(o.parentNode)||Ch(o))&&(o=Ch(o)?o:o.parentNode,o=t.collapsed?o.previousSibling||o:o.nextSibling||o,mo(o)&&(i=t.collapsed?o.length:0)),(Ch(a.parentNode)||Ch(a))&&(a=Ch(a)?a:a.parentNode,a=t.collapsed?a.nextSibling||a:a.previousSibling||a,mo(a)&&(u=t.collapsed?0:a.length)),t.collapsed){Mh(s,e.getBody(),o,i,!0,r).each(function(e){var t=e.container,n=e.offset;o=t,i=n});Mh(s,e.getBody(),a,u,!1,r).each(function(e){var t=e.container,n=e.offset;a=t,u=n})}return(n[0].inline||n[0].block_expand)&&(n[0].inline&&mo(o)&&0!==i||(o=Ph(s,n,o,i,a,u,!0)),n[0].inline&&mo(a)&&u!==a.nodeValue.length||(a=Ph(s,n,o,i,a,u,!1))),n[0].selector&&!1!==n[0].expand&&!n[0].inline&&(o=Ih(s,n,t,o,"previousSibling"),a=Ih(s,n,t,a,"nextSibling")),(n[0].block||n[0].selector)&&(o=Rh(e,n,o,"previousSibling"),a=Rh(e,n,a,"nextSibling"),n[0].block&&(s.isBlock(o)||(o=Ph(s,n,o,i,a,u,!0)),s.isBlock(a)||(a=Ph(s,n,o,i,a,u,!1)))),io(o)&&(i=s.nodeIndex(o),o=o.parentNode),io(a)&&(u=s.nodeIndex(a)+1,a=a.parentNode),{startContainer:o,startOffset:i,endContainer:a,endOffset:u}},jh=function(e,t){var n=e.childNodes;return t>=n.length?t=n.length-1:t<0&&(t=0),n[t]||e},Bh=function(e,t){return jh(e,t-1)},zh=function(e,t,n){var r=t.startContainer,o=t.startOffset,i=t.endContainer,a=t.endOffset,u=function(e){var t;return t=e[0],3===t.nodeType&&t===r&&o>=t.nodeValue.length&&e.splice(0,1),t=e[e.length-1],0===a&&e.length>0&&t===i&&3===t.nodeType&&e.splice(e.length-1,1),e},s=function(e,t,n){for(var r=[];e&&e!==n;e=e[t])r.push(e);return r},c=function(e,t){do{if(e.parentNode===t)return e;e=e.parentNode}while(e)},l=function(e,t,r){for(var o=r?"nextSibling":"previousSibling",i=e,a=i.parentNode;i&&i!==t;i=a){a=i.parentNode;var c=s(i===e?i:i[o],o);c.length&&(r||c.reverse(),n(u(c)))}};if(1===r.nodeType&&r.hasChildNodes()&&(r=jh(r,o)),1===i.nodeType&&i.hasChildNodes()&&(i=Bh(i,a)),r===i)return n(u([r]));for(var f=e.findCommonAncestor(r,i),d=r;d;d=d.parentNode){if(d===i)return l(r,f,!0);if(d===f)break}for(var d=i;d;d=d.parentNode){if(d===r)return l(i,f);if(d===f)break}var p=c(r,f)||r,h=c(i,f)||i;l(r,p,!0);var m=s(p===r?p:p.nextSibling,"nextSibling",h===i?h.nextSibling:h);m.length&&n(u(m)),l(i,h)},Fh=function(e){var t=[];if(e)for(var n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},Hh=function(e){return ot(e,function(e){var t=Bc(e);return t?[Wn.fromDom(t)]:[]})},Uh=function(e){return Fh(e).length>1},Vh=function(e){return Je(Hh(e),ui)},qh=function(e){return Rs(e,"td[data-mce-selected],th[data-mce-selected]")},Wh=function(e,t){var n=qh(t);return n.length>0?n:Vh(e)},Gh=function(e){return Wh(Fh(e.selection.getSel()),Wn.fromDom(e.getBody()))},$h=function(e){var t=e.startContainer,n=e.startOffset;return mo(t)?0===n?Te.some(Wn.fromDom(t)):Te.none():Te.from(t.childNodes[n]).map(Wn.fromDom)},Xh=function(e){var t=e.endContainer,n=e.endOffset;return mo(t)?n===t.data.length?Te.some(Wn.fromDom(t)):Te.none():Te.from(t.childNodes[n-1]).map(Wn.fromDom)},Yh=function(e){return Er(e).fold(ve([e]),function(t){return[e].concat(Yh(t))})},Kh=function(e){return kr(e).fold(ve([e]),function(t){return"br"===Gn(t)?yr(t).map(function(t){return[e].concat(Kh(t))}).getOr([]):[e].concat(Kh(t))})},Jh=function(e,t){return Tc($h(t),Xh(t),function(t,n){var o=tt(Yh(e),r(sr,t)),i=tt(Kh(e),r(sr,n));return o.isSome()&&i.isSome()}).getOr(!1)},Qh=function(e,t,n,r){var o=n,i=new mu(n,o),a=e.schema.getNonEmptyElements();do{if(3===n.nodeType&&0!==zn.trim(n.nodeValue).length)return void(r?t.setStart(n,0):t.setEnd(n,n.nodeValue.length));if(a[n.nodeName]&&!/^(TD|TH)$/.test(n.nodeName))return void(r?t.setStartBefore(n):"BR"===n.nodeName?t.setEndBefore(n):t.setEndAfter(n))}while(n=r?i.next():i.prev());"BODY"===o.nodeName&&(r?t.setStart(o,0):t.setEnd(o,o.childNodes.length))},Zh=function(e){var t=e.selection.getSel();return t&&t.rangeCount>0},em=function(e,t){var n=Gh(e);n.length>0?Xe(n,function(n){var r=n.dom(),o=e.dom.createRng();o.setStartBefore(r),o.setEndAfter(r),t(o,!0)}):t(e.selection.getRng(),!1)},tm=function(e,t,n){var r=rf(e,t);n(r),e.moveToBookmark(r)},nm=function(e,t){var n=function(n){if(!e(n))throw new Error("Can only get "+t+" value of a "+t+" node");return r(n).getOr("")},r=function(t){return e(t)?Te.from(t.dom().nodeValue):Te.none()};return{get:n,getOption:r,set:function(n,r){if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom().nodeValue=r}}}(Jn,"text"),rm=function(e){return nm.get(e)},om=function(e){return Jn(e)&&"\ufeff"===rm(e)},im=function(e,t,n,r){return gr(t).fold(function(){return"skipping"},function(o){return"br"===r||om(t)?"valid":qs(t)?"existing":Pp(t)?"caret":dh(e,n,r)&&dh(e,Gn(o),n)?"valid":"invalid-child"})},am=function(e,t){var n=Lh(e,t,[{inline:!0}]);t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset),e.selection.setRng(t)},um=function(e,t,n,r){var i=t.uid,a=void 0===i?Js("mce-annotation"):i,u=o(t,["uid"]),s=Wn.fromTag("span",e);Os(s,Fs()),So(s,""+Us(),a),So(s,""+Hs(),n);var c=r(a,u),l=c.attributes,f=void 0===l?{}:l,d=c.classes,p=void 0===d?[]:d;return Eo(s,f),Qs(s,p),s},sm=function(e,t,n,r,o){var i=[],a=um(e.getDoc(),o,n,r),u=is(Te.none()),s=function(){u.set(Te.none())},c=function(){return u.get().getOrThunk(function(){var e=rc(a);return i.push(e),u.set(Te.some(e)),e})},l=function(e){Xe(e,f)},f=function(t){switch(im(e,t,"span",Gn(t))){case"invalid-child":s();var n=Cr(t);l(n),s();break;case"valid":var r=c();Br(t,r)}},d=function(e){var t=$e(e,Wn.fromDom);l(t)};return zh(e.dom,t,function(e){s(),d(e)}),i},cm=function(e,t,n,r){e.undoManager.transact(function(){var o=e.selection,i=o.getRng(),a=Gh(e).length>0;if(i.collapsed&&!a&&am(e,i),o.getRng().collapsed&&!a){var u=um(e.getDoc(),r,t,n.decorate);tc(u," "),o.getRng().insertNode(u.dom()),o.select(u.dom())}else tm(o,!1,function(){em(e,function(o){sm(e,o,t,n.decorate,r)})})})},lm=function(e){var t=Ys();Xs(e,t);var n=$s(e);return{register:function(e,n){t.register(e,n)},annotate:function(n,r){t.lookup(n).each(function(t){cm(e,n,t,r)})},annotationChanged:function(e,t){n.addListener(e,t)},remove:function(t){Vs(e,Te.some(t)).each(function(e){var t=e.elements;Xe(t,Vr)})},getAll:function(t){var n=Gs(e,t);return gt(n,function(e){return $e(e,function(e){return e.dom()})})}}},fm=/^[ \t\r\n]*$/,dm={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},pm=function(e,t,n){var r=n?"lastChild":"firstChild",o=n?"prev":"next";if(e[r])return e[r];if(e!==t){var i=e[o];if(i)return i;for(var a=e.parent;a&&a!==t;a=a.parent)if(i=a[o])return i}},hm=function(e){if(!fm.test(e.value))return!1;var t=e.parent;return!t||"span"===t.name&&!t.attr("style")||!/^[ ]+$/.test(e.value)},mm=function(e){var t="a"===e.name&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t},gm=function(){function e(e,t){this.name=e,this.type=t,1===t&&(this.attributes=[],this.attributes.map={})}return e.create=function(t,n){var r=new e(t,dm[t]||1);return n&&mt(n,function(e,t){r.attr(t,e)}),r},e.prototype.replace=function(e){var t=this;return e.parent&&e.remove(),t.insert(e,t),t.remove(),t},e.prototype.attr=function(e,t){var n,r=this;if("string"!=typeof e)return void 0!==e&&null!==e&&mt(e,function(e,t){r.attr(t,e)}),r;if(n=r.attributes){if(void 0!==t){if(null===t){if(e in n.map){delete n.map[e];for(var o=n.length;o--;)if(n[o].name===e)return n.splice(o,1),r}return r}if(e in n.map){for(var o=n.length;o--;)if(n[o].name===e){n[o].value=t;break}}else n.push({name:e,value:t});return n.map[e]=t,r}return n.map[e]}},e.prototype.clone=function(){var t,n=this,r=new e(n.name,n.type);if(t=n.attributes){var o=[];o.map={};for(var i=0,a=t.length;i<a;i++){var u=t[i];"id"!==u.name&&(o[o.length]={name:u.name,value:u.value},o.map[u.name]=u.value)}r.attributes=o}return r.value=n.value,r.shortEnded=n.shortEnded,r},e.prototype.wrap=function(e){var t=this;return t.parent.insert(e,t),e.append(t),t},e.prototype.unwrap=function(){for(var e=this,t=e.firstChild;t;){var n=t.next;e.insert(t,e,!0),t=n}e.remove()},e.prototype.remove=function(){var e=this,t=e.parent,n=e.next,r=e.prev;return t&&(t.firstChild===e?(t.firstChild=n,n&&(n.prev=null)):r.next=n,t.lastChild===e?(t.lastChild=r,r&&(r.next=null)):n.prev=r,e.parent=e.next=e.prev=null),e},e.prototype.append=function(e){var t=this;e.parent&&e.remove();var n=t.lastChild;return n?(n.next=e,e.prev=n,t.lastChild=e):t.lastChild=t.firstChild=e,e.parent=t,e},e.prototype.insert=function(e,t,n){e.parent&&e.remove();var r=t.parent||this;return n?(t===r.firstChild?r.firstChild=e:t.prev.next=e,e.prev=t.prev,e.next=t,t.prev=e):(t===r.lastChild?r.lastChild=e:t.next.prev=e,e.next=t.next,e.prev=t,t.next=e),e.parent=r,e},e.prototype.getAll=function(e){for(var t=this,n=[],r=t.firstChild;r;r=pm(r,t))r.name===e&&n.push(r);return n},e.prototype.empty=function(){var e=this;if(e.firstChild){for(var t=[],n=e.firstChild;n;n=pm(n,e))t.push(n);for(var r=t.length;r--;){var n=t[r];n.parent=n.firstChild=n.lastChild=n.next=n.prev=null}}return e.firstChild=e.lastChild=null,e},e.prototype.isEmpty=function(e,t,n){void 0===t&&(t={});var r=this,o=r.firstChild;if(mm(r))return!1;if(o)do{if(1===o.type){if(o.attr("data-mce-bogus"))continue;if(e[o.name])return!1;if(mm(o))return!1}if(8===o.type)return!1;if(3===o.type&&!hm(o))return!1;if(3===o.type&&o.parent&&t[o.parent.name]&&fm.test(o.value))return!1;if(n&&n(o))return!1}while(o=pm(o,r));return!0},e.prototype.walk=function(e){return pm(this,null,e)},e}(),vm=zn.makeMap,bm=function(e){var t=[];e=e||{};var n=e.indent,r=vm(e.indent_before||""),o=vm(e.indent_after||""),i=Oi.getEncodeFunc(e.entity_encoding||"raw",e.entities),a="html"===e.element_format;return{start:function(e,u,s){var c,l,f,d;if(n&&r[e]&&t.length>0&&(d=t[t.length-1],d.length>0&&"\n"!==d&&t.push("\n")),t.push("<",e),u)for(c=0,l=u.length;c<l;c++)f=u[c],t.push(" ",f.name,'="',i(f.value,!0),'"');t[t.length]=!s||a?">":" />",s&&n&&o[e]&&t.length>0&&(d=t[t.length-1],d.length>0&&"\n"!==d&&t.push("\n"))},end:function(e){var r;t.push("</",e,">"),n&&o[e]&&t.length>0&&(r=t[t.length-1],r.length>0&&"\n"!==r&&t.push("\n"))},text:function(e,n){e.length>0&&(t[t.length]=n?e:i(e))},cdata:function(e){t.push("<![CDATA[",e,"]]>")},comment:function(e){t.push("\x3c!--",e,"--\x3e")},pi:function(e,r){r?t.push("<?",e," ",i(r),"?>"):t.push("<?",e,"?>"),n&&t.push("\n")},doctype:function(e){t.push("<!DOCTYPE",e,">",n?"\n":"")},reset:function(){t.length=0},getContent:function(){return t.join("").replace(/\n$/,"")}}},ym=function(e,t){void 0===t&&(t=a());var n=bm(e);return e=e||{},e.validate=!("validate"in e)||e.validate,{serialize:function(r){var o=e.validate,i={3:function(e){n.text(e.value,e.raw)},8:function(e){n.comment(e.value)},7:function(e){n.pi(e.name,e.value)},10:function(e){n.doctype(e.value)},4:function(e){n.cdata(e.value)},11:function(e){if(e=e.firstChild)do{a(e)}while(e=e.next)}};n.reset();var a=function(e){var r,u,s,c,l,f,d,p,h,m=i[e.type];if(m)m(e);else{if(r=e.name,u=e.shortEnded,s=e.attributes,o&&s&&s.length>1&&(f=[],f.map={},h=t.getElementRule(e.name))){for(d=0,p=h.attributesOrder.length;d<p;d++)(c=h.attributesOrder[d])in s.map&&(l=s.map[c],f.map[c]=l,f.push({name:c,value:l}));for(d=0,p=s.length;d<p;d++)(c=s[d].name)in f.map||(l=s.map[c],f.map[c]=l,f.push({name:c,value:l}));s=f}if(n.start(e.name,s,u),!u){if(e=e.firstChild)do{a(e)}while(e=e.next);n.end(r)}}};return 1!==r.type||e.inner?i[11](r):a(r),n.getContent()}}},wm=function(e){for(var t,n=/data:[^;]+;base64,([a-z0-9\+\/=]+)/gi,r=[],o={},i=Js("img"),a=0,u=0;t=n.exec(e);){var s=t[0],c=i+"_"+u++;o[c]=s,a<t.index&&r.push(e.substr(a,t.index-a)),r.push(c),a=t.index+s.length}return 0===a?{prefix:i,uris:o,html:e}:(a<e.length&&r.push(e.substr(a)),{prefix:i,uris:o,html:r.join("")})},xm=function(e,t){return e.replace(new RegExp(t.prefix+"_[0-9]+","g"),function(e){return St(t.uris,e).getOr(e)})},_m=function(e){var t=/data:([^;]+);base64,([a-z0-9\+\/=]+)/i.exec(e);return t?Te.some({type:t[1],data:decodeURIComponent(t[2])}):Te.none()},Cm=function(e){return 0===e.indexOf("data-")||0===e.indexOf("aria-")},Sm=function(e,t){return!e.allow_html_data_urls&&(/^data:image\//i.test(t)?!1===e.allow_svg_data_urls&&/^data:image\/svg\+xml/i.test(t):/^data:/i.test(t))},Em=function(e,t,n){var r,o,i=1,a=e.getShortEndedElements(),u=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g;for(u.lastIndex=r=n;o=u.exec(t);){if(r=u.lastIndex,"/"===o[1])i--;else if(!o[1]){if(o[2]in a)continue;i++}if(0===i)break}return r},km=function(e,t){return/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(t))},Tm=function(e,t,n){void 0===n&&(n=0);var r=e.toLowerCase();if(-1!==r.indexOf("[if ",n)&&km(r,n)){var o=r.indexOf("[endif]",n);return r.indexOf(">",o)}if(t){var i=r.indexOf(">",n);return-1!==i?i:r.length}var a=/--!?>/;a.lastIndex=n;var u=a.exec(e);return u?u.index+u[0].length:r.length},Nm=function(e,t){var n=e.exec(t);if(n){var r=n[1],o=n[2];return"string"==typeof r&&"data-mce-bogus"===r.toLowerCase()?o:null}return null};!function(e){e.findEndTag=Em}(N||(N={}));var Om,Am=N,Dm=function(e,t){var n=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return t.replace(n,"")},Mm=function(e,t){var n,r,o,i,a=t,u=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,s=e.schema;a=Dm(e.getTempAttrs(),a);for(var c=s.getShortEndedElements();i=u.exec(a);)r=u.lastIndex,o=i[0].length,n=c[i[1]]?r:Am.findEndTag(s,a,r),a=a.substring(0,r-o)+a.substring(n),u.lastIndex=r-o;return cc(a)},Im=Mm,Rm=function(e,t){var n=gf(e),r=new RegExp("^(<"+n+"[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/"+n+">[\r\n]*|<br \\/>[\r\n]*)$");return t.replace(r,"")},Pm=function(e,t,n,r){var o;if(t.format=n,t.get=!0,t.getInner=!0,t.no_events||e.fire("BeforeGetContent",t),"raw"===t.format)o=zn.trim(Im(e.serializer,r.innerHTML));else if("text"===t.format)o=cc(r.innerText||r.textContent);else{if("tree"===t.format)return e.serializer.serialize(r,t);o=Rm(e,e.serializer.serialize(r,t))}return"text"===t.format||si(Wn.fromDom(r))?t.content=o:t.content=zn.trim(o),t.no_events||e.fire("GetContent",t),t.content},Lm=function(e,t,n){return Te.from(e.getBody()).fold(ve("tree"===t.format?new gm("body",11):""),function(r){return Pm(e,t,n,r)})},jm=zn.each,Bm=function(e){this.compare=function(t,n){if(t.nodeName!==n.nodeName)return!1;var r=function(t){var n={};return jm(e.getAttribs(t),function(r){var o=r.nodeName.toLowerCase();0!==o.indexOf("_")&&"style"!==o&&0!==o.indexOf("data-")&&(n[o]=e.getAttrib(t,o))}),n},o=function(e,t){var n,r;for(r in e)if(e.hasOwnProperty(r)){if(void 0===(n=t[r]))return!1;if(e[r]!==n)return!1;delete t[r]}for(r in t)if(t.hasOwnProperty(r))return!1;return!0};return!!o(r(t),r(n))&&(!!o(e.parseStyle(e.getAttrib(t,"style")),e.parseStyle(e.getAttrib(n,"style")))&&(!rh(t)&&!rh(n)))}},zm=function(e,t,n){return Te.from(n.container()).filter(mo).exists(function(r){var o=e?0:-1;return t(r.data.charAt(n.offset()+o))})},Fm=r(zm,!0,ih),Hm=r(zm,!1,ih),Um=function(e){var t=e.container();return mo(t)&&0===t.data.length},Vm=function(e,t){return function(n){return Te.from(Xd(e?0:-1,n)).filter(t).isSome()}},qm=function(e){return"IMG"===e.nodeName&&"block"===Do(Wn.fromDom(e),"display")},Wm=function(e){return xo(e)&&!lo(e)},Gm=Vm(!0,qm),$m=Vm(!1,qm),Xm=Vm(!0,fo),Ym=Vm(!1,fo),Km=Vm(!0,Wm),Jm=Vm(!1,Wm),Qm=function(e,t,n){return js(e,t,n).isSome()},Zm=function(e,t){var n=Wn.fromDom(e),o=Wn.fromDom(t);return Qm(o,"pre,code",r(sr,n))},eg=function(e,t){return mo(t)&&/^[ \t\r\n]*$/.test(t.data)&&!1===Zm(e,t)},tg=function(e){return io(e)&&"A"===e.nodeName&&e.hasAttribute("name")},ng=function(e,t){return Jc(t)&&!1===eg(e,t)||tg(t)||rg(t)},rg=so("data-mce-bookmark"),og=so("data-mce-bogus"),ig=function(e,t){return function(n){return io(n)&&n.getAttribute(e)===t}}("data-mce-bogus","all"),ag=function(e,t){var n,r=0;if(ng(e,e))return!1;if(!(n=e.firstChild))return!0;var o=new mu(n,e);do{if(t){if(ig(n)){n=o.next(!0);continue}if(og(n)){n=o.next();continue}}if(yo(n))r++,n=o.next();else{if(ng(e,n))return!1;n=o.next()}}while(n);return r<=1},ug=function(e,t){return void 0===t&&(t=!0),ag(e.dom(),t)},sg=function(e){for(var t=[],n=e.dom();n;)t.push(Wn.fromDom(n)),n=n.lastChild;return t},cg=function(e){var t=Rs(e,"br"),n=Je(sg(e).slice(-1),ti);t.length===n.length&&Xe(n,Ur)},lg=function(e){Hr(e),jr(e,Wn.fromHtml('<br data-mce-bogus="1">'))},fg=function(e){kr(e).each(function(t){yr(t).each(function(n){Qo(e)&&ti(t)&&Qo(n)&&Ur(t)})})},dg=function(e){return e.slice(0,-1)},pg=function(e,t,n){return fr(t,e)?dg(vr(e,function(e){return n(e)||sr(e,t)})):[]},hg=function(e,t){return pg(e,t,ve(!1))},mg=function(e,t){return[e].concat(hg(e,t))},gg=function(e,t,n){return Ze(e,function(r,o){return ih(o)||oh(o)?r.previousCharIsSpace||""===r.str&&t||r.str.length===e.length-1&&n?{previousCharIsSpace:!1,str:r.str+" "}:{previousCharIsSpace:!0,str:r.str+" "}:{previousCharIsSpace:!1,str:r.str+o}},{previousCharIsSpace:!1,str:""}).str},vg=function(e,t,n){if(0!==n){var r=e.data.slice(t,t+n),o=t+n>=e.data.length,i=0===t;e.replaceData(t,n,gg(r,i,o))}},bg=function(e,t){var n=e.data.slice(t),r=n.length-an(n).length;return vg(e,t,r)},yg=function(e,t){var n=e.data.slice(0,t),r=n.length-un(n).length;return vg(e,t-r,r)},wg=function(e,t,n){var r=un(e.data).length;return e.appendData(t.data),Ur(Wn.fromDom(t)),n&&bg(e,r),e},xg=function(e,t){var n=e.container(),r=e.offset();return!1===El.isTextPosition(e)&&n===t.parentNode&&r>El.before(t).offset()},_g=function(e,t){return xg(t,e)?El(t.container(),t.offset()-1):t},Cg=function(e){return mo(e)?El(e,0):El.before(e)},Sg=function(e){return mo(e)?El(e,e.data.length):El.after(e)},Eg=function(e){return Jc(e.previousSibling)?Te.some(Sg(e.previousSibling)):e.previousSibling?Rp(e.previousSibling):Te.none()},kg=function(e){return Jc(e.nextSibling)?Te.some(Cg(e.nextSibling)):e.nextSibling?Ip(e.nextSibling):Te.none()},Tg=function(e,t){var n=El.before(t.previousSibling?t.previousSibling:t.parentNode);return Mp(e,n).fold(function(){return Dp(e,El.after(t))},Te.some)},Ng=function(e,t){return Dp(e,El.after(t)).fold(function(){return Mp(e,El.before(t))},Te.some)},Og=function(e,t){return Eg(t).orThunk(function(){return kg(t)}).orThunk(function(){return Tg(e,t)})},Ag=function(e,t){return kg(t).orThunk(function(){return Eg(t)}).orThunk(function(){return Ng(e,t)})},Dg=function(e,t,n){return e?Ag(t,n):Og(t,n)},Mg=function(e,t,n){return Dg(e,t,n).map(r(_g,n))},Ig=function(e,t,n){n.fold(function(){e.focus()},function(n){e.selection.setRng(n.toRange(),t)})},Rg=function(e){return function(t){return t.dom()===e}},Pg=function(e,t){return t&&e.schema.getBlockElements().hasOwnProperty(Gn(t))},Lg=function(e){if(ug(e)){var t=Wn.fromHtml('<br data-mce-bogus="1">');return Hr(e),jr(e,t),Te.some(El.before(t.dom()))}return Te.none()},jg=function(e,t,n){var r=yr(e).filter(Jn),o=wr(e).filter(Jn);return Ur(e),Nc(r,o,t,function(e,t,r){var o=e.dom(),i=t.dom(),a=o.data.length;return wg(o,i,n),r.container()===i?El(o,a):r}).orThunk(function(){return n&&(r.each(function(e){return yg(e.dom(),e.dom().length)}),o.each(function(e){return bg(e.dom(),0)})),t})},Bg=function(e,t){return Et(e.schema.getTextInlineElements(),Gn(t))},zg=function(e,t,n,o){void 0===o&&(o=!0);var i=Mg(t,e.getBody(),n.dom()),a=Ps(n,r(Pg,e),Rg(e.getBody())),u=jg(n,i,Bg(e,n));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):a.bind(Lg).fold(function(){o&&Ig(e,t,u)},function(n){o&&Ig(e,t,Te.some(n))})},Fg=function(e,t){return{start:e,end:t}},Hg=function(e,t,n){return{rng:e,table:t,cells:n}},Ug=Pu.generate([{removeTable:["element"]},{emptyCells:["cells"]},{deleteCellSelection:["rng","cell"]}]),Vg=function(e){return function(t){return sr(e,t)}},qg=function(e,t){return zs(Wn.fromDom(e),"td,th",t)},Wg=function(e,t){return js(e,"table",t)},Gg=function(e){return!sr(e.start,e.end)},$g=function(e,t){return Wg(e.start,t).bind(function(n){return Wg(e.end,t).bind(function(e){return Oc(sr(n,e),n)})})},Xg=function(e,t){return!Gg(e)&&$g(e,t).exists(function(e){var t=e.dom().rows;return 1===t.length&&1===t[0].cells.length})},Yg=function(e){return Rs(e,"td,th")},Kg=function(e,t){var n=qg(e.startContainer,t),r=qg(e.endContainer,t);return Tc(n,r,Fg)},Jg=function(e,t){return Wg(e.start,t).bind(function(t){return ft(Yg(t)).map(function(t){return Fg(e.start,t)})})},Qg=function(e,t){var n=qg(t.startContainer,e),r=qg(t.endContainer,e);return t.collapsed?Te.none():Tc(n,r,Fg).fold(function(){return n.fold(function(){return r.bind(function(t){return Wg(t,e).bind(function(e){return lt(Yg(e)).map(function(e){return Fg(e,t)})})})},function(t){return Wg(t,e).bind(function(e){return ft(Yg(e)).map(function(e){return Fg(t,e)})})})},function(t){return Zg(e,t)?Te.none():Jg(t,e)})},Zg=function(e,t){return $g(t,e).isSome()},ev=function(e,t){return $g(e,t).map(function(t){return Hg(e,t,Yg(t))})},tv=function(e,t,n){return e.filter(function(e){return Gg(e)&&Zg(n,e)}).orThunk(function(){return Qg(n,t)}).bind(function(e){return ev(e,n)})},nv=function(e,t){return nt(e,function(e){return sr(e,t)})},rv=function(e){return Tc(nv(e.cells,e.rng.start),nv(e.cells,e.rng.end),function(t,n){return e.cells.slice(t,n+1)})},ov=function(e,t,n){return e.filter(function(e){return Xg(e,n)&&Jh(e.start,t)}).map(function(e){return e.start})},iv=function(e){return rv(e).map(function(t){var n=e.cells;return t.length===n.length?Ug.removeTable(e.table):Ug.emptyCells(t)})},av=function(e,t){var n=Vg(e),r=Kg(t,n);return ov(r,t,n).map(function(e){return Ug.deleteCellSelection(t,e)}).orThunk(function(){return tv(r,t,n).bind(iv)})},uv=function(e){return(Yn(e)?yr(e):kr(e)).bind(uv).orThunk(function(){return Te.some(e)})},sv=function(e,t){return Xe(t,lg),e.selection.setCursorLocation(t[0].dom(),0),!0},cv=function(e,t,n){t.deleteContents();var r=uv(n).getOr(n),o=Wn.fromDom(e.dom.getParent(r.dom(),e.dom.isBlock));if(ug(o)&&(lg(o),e.selection.setCursorLocation(o.dom(),0)),!sr(n,o)){var i=gr(o).is(n)?[]:br(o);Xe(i.concat(Cr(n)),function(e){sr(e,o)||fr(e,o)||Ur(e)})}return!0},lv=function(e,t){return zg(e,!1,t),!0},fv=function(e,t,n){return av(t,n).map(function(t){return t.fold(r(lv,e),r(sv,e),r(cv,e))})},dv=function(e,t){return bv(e,t)},pv=function(e,t,n,r){return gv(t,r).fold(function(){return fv(e,t,n)},function(t){return dv(e,t)}).getOr(!1)},hv=function(e,t){var n=Wn.fromDom(e.getBody()),r=e.selection.getRng(),o=Gh(e);return 0!==o.length?sv(e,o):pv(e,n,r,t)},mv=function(e,t){return tt(mg(t,e),ui)},gv=function(e,t){return tt(mg(t,e),function(e){return"caption"===Gn(e)})},vv=function(e,t,n,r,o){return Np(n,e.getBody(),o).bind(function(e){return mv(t,Wn.fromDom(e.getNode())).map(function(e){return!1===sr(e,r)})})},bv=function(e,t){return lg(t),e.selection.setCursorLocation(t.dom(),0),Te.some(!0)},yv=function(e,t,n,r){return Ip(e.dom()).bind(function(o){return Rp(e.dom()).map(function(e){return t?n.isEqual(o)&&r.isEqual(e):n.isEqual(e)&&r.isEqual(o)})}).getOr(!0)},wv=function(e,t){return bv(e,t)},xv=function(e,t,n){return gv(e,Wn.fromDom(n.getNode())).map(function(e){return!1===sr(e,t)})},_v=function(e,t,n,r,o){return Np(n,e.getBody(),o).bind(function(i){return yv(r,n,o,i)?wv(e,r):xv(t,r,i)}).or(Te.some(!0))},Cv=function(e,t,n,r){var o=El.fromRangeStart(e.selection.getRng());return mv(n,r).bind(function(r){return ug(r)?bv(e,r):vv(e,n,t,r,o)}).getOr(!1)},Sv=function(e,t,n,r){var o=El.fromRangeStart(e.selection.getRng());return ug(r)?bv(e,r):_v(e,n,t,r,o)},Ev=function(e,t){return e?Xm(t):Ym(t)},kv=function(e,t){var n=El.fromRangeStart(e.selection.getRng());return Ev(t,n)||Tp(t,e.getBody(),n).map(function(e){return Ev(t,e)}).getOr(!1)},Tv=function(e,t,n){var r=Wn.fromDom(e.getBody());return gv(r,n).fold(function(){return Cv(e,t,r,n)||kv(e,t)},function(n){return Sv(e,t,r,n).getOr(!1)})},Nv=function(e,t){var n=Wn.fromDom(e.selection.getStart(!0)),r=Gh(e);return e.selection.isCollapsed()&&0===r.length?Tv(e,t,n):hv(e,n)},Ov=function(e,t,r,o){var i=n.document.createRange();return i.setStart(e,t),i.setEnd(r,o),i},Av=function(e){var t=El.fromRangeStart(e),n=El.fromRangeEnd(e),r=e.commonAncestorContainer;return Tp(!1,r,n).map(function(o){return!$d(t,n,r)&&$d(t,o,r)?Ov(t.container(),t.offset(),o.container(),o.offset()):e}).getOr(e)},Dv=function(e){return e.collapsed?e:Av(e)},Mv=function(e){return e.firstChild&&e.firstChild===e.lastChild},Iv=function(e){return"br"===e.name||" "===e.value},Rv=function(e,t){return e.getBlockElements()[t.name]&&Mv(t)&&Iv(t.firstChild)},Pv=function(e,t){var n=e.getNonEmptyElements();return t&&(t.isEmpty(n)||Rv(e,t))},Lv=function(e,t){var n=t.firstChild,r=t.lastChild;return n&&"meta"===n.name&&(n=n.next),r&&"mce_marker"===r.attr("id")&&(r=r.prev),Pv(e,r)&&(r=r.prev),!(!n||n!==r)&&("ul"===n.name||"ol"===n.name)},jv=function(e){var t=e.firstChild,n=e.lastChild;return t&&"META"===t.nodeName&&t.parentNode.removeChild(t),n&&"mce_marker"===n.id&&n.parentNode.removeChild(n),e},Bv=function(e,t,n){var r=t.serialize(n),o=e.createFragment(r);return jv(o)},zv=function(e){return zn.grep(e.childNodes,function(e){return"LI"===e.nodeName})},Fv=function(e){return" "===e.data||yo(e)},Hv=function(e){return e&&e.firstChild&&e.firstChild===e.lastChild&&Fv(e.firstChild)},Uv=function(e){return!e.firstChild||Hv(e)},Vv=function(e){return e.length>0&&Uv(e[e.length-1])?e.slice(0,-1):e},qv=function(e,t){var n=e.getParent(t,e.isBlock);return n&&"LI"===n.nodeName?n:null},Wv=function(e,t){return!!qv(e,t)},Gv=function(e,t){var n=t.cloneRange(),r=t.cloneRange();return n.setStartBefore(e),r.setEndAfter(e),[n.cloneContents(),r.cloneContents()]},$v=function(e,t){var n=El.before(e),r=yp(t),o=r.next(n);return o?o.toRange():null},Xv=function(e,t){var n=El.after(e),r=yp(t),o=r.prev(n);return o?o.toRange():null},Yv=function(e,t,n,r){var o=Gv(e,r),i=e.parentNode;return i.insertBefore(o[0],e),zn.each(t,function(t){i.insertBefore(t,e)}),i.insertBefore(o[1],e),i.removeChild(e),Xv(t[t.length-1],n)},Kv=function(e,t,n){var r=e.parentNode;return zn.each(t,function(t){r.insertBefore(t,e)}),$v(e,n)},Jv=function(e,t,n,r){return r.insertAfter(t.reverse(),e),Xv(t[0],n)},Qv=function(e,t,n,r){var o=Bv(t,e,r),i=qv(t,n.startContainer),a=Vv(zv(o.firstChild)),u=t.getRoot(),s=function(e){var r=El.fromRangeStart(n),o=yp(t.getRoot()),a=1===e?o.prev(r):o.next(r);return!a||qv(t,a.getNode())!==i};return s(1)?Kv(i,a,u):s(2)?Jv(i,a,u,t):Yv(i,a,u,n)},Zv=function(e,t){return mo(e)&&" "===e.nodeValue[t-1]},eb=function(e,t){var n=e.startContainer,r=e.startOffset,o=function(e){return n[e]&&3===n[e].nodeType};return mo(n)&&(r>0?t=t.replace(/^&nbsp;/," "):o("previousSibling")||(t=t.replace(/^ /,"&nbsp;")),r<n.length?t=t.replace(/&nbsp;(<br>|)$/," "):o("nextSibling")||(t=t.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),t},tb=function(e,t){var n=e.startContainer,r=e.startOffset;return mo(n)&&e.collapsed&&(" "===n.data[r]?(n.deleteData(r,1),/[\u00a0| ]$/.test(t)||(t+=" ")):" "===n.data[r-1]&&(n.deleteData(r-1,1),/[\u00a0| ]$/.test(t)||(t=" "+t))),t},nb=ao(["td","th"]),rb=function(e,t,n){if(null!==n){return n===e.getParent(t.endContainer,nb)&&Jh(Wn.fromDom(n),t)}return!1},ob=function(e,t){var n=e.selection.getRng(),r=n.startContainer,o=n.startOffset;n.collapsed&&Zv(r,o)&&mo(r)&&(r.insertData(o-1," "),r.deleteData(o,1),n.setStart(r,o),n.setEnd(r,o),e.selection.setRng(n)),e.selection.setContent(t)},ib=function(e,t,n){if("all"===n.getAttribute("data-mce-bogus"))n.parentNode.insertBefore(e.dom.createFragment(t),n);else{var r=n.firstChild,o=n.lastChild;!r||r===o&&"BR"===r.nodeName?e.dom.setHTML(n,t):ob(e,t)}},ab=function(e,t){Te.from(e.getParent(t,"td,th")).map(Wn.fromDom).each(fg)},ub=function(e,t){var n=e.schema.getTextInlineElements(),r=e.dom;if(t){var o=e.getBody(),i=new Bm(r);zn.each(r.select("*[data-mce-fragment]"),function(e){for(var t=e.parentNode;t&&t!==o;t=t.parentNode)n[e.nodeName.toLowerCase()]&&i.compare(t,e)&&r.remove(e,!0)})}},sb=function(e){for(var t=e;t=t.walk();)1===t.type&&t.attr("data-mce-fragment","1")},cb=function(e){zn.each(e.getElementsByTagName("*"),function(e){e.removeAttribute("data-mce-fragment")})},lb=function(e){return!!e.getAttribute("data-mce-fragment")},fb=function(e,t){return t&&!e.schema.getShortEndedElements()[t.nodeName]},db=function(e,t){var n,r,o=e.dom,i=e.selection;if(t){e.selection.scrollIntoView(t);var a=function(t){for(var n=e.getBody();t&&t!==n;t=t.parentNode)if("false"===e.dom.getContentEditable(t))return t;return null}(t);if(a)return o.remove(t),void i.select(a);var u=o.createRng(),s=t.previousSibling;s&&3===s.nodeType?(u.setStart(s,s.nodeValue.length),kn.ie||(r=t.nextSibling)&&3===r.nodeType&&(s.appendData(r.data),r.parentNode.removeChild(r))):(u.setStartBefore(t),u.setEndBefore(t));var c=o.getParent(t,o.isBlock);o.remove(t),c&&o.isEmpty(c)&&(e.$(c).empty(),u.setStart(c,0),u.setEnd(c,0),nb(c)||lb(c)||!(n=function(t){var n=El.fromRangeStart(t);if(n=yp(e.getBody()).next(n))return n.toRange()}(u))?o.add(c,o.create("br",{"data-mce-bogus":"1"})):(u=n,o.remove(c))),i.setRng(u)}},pb=function(e){var t=e.dom,n=Dv(e.selection.getRng());e.selection.setRng(n);var r=t.getParent(n.startContainer,nb);rb(t,n,r)?cv(e,n,Wn.fromDom(r)):e.getDoc().execCommand("Delete",!1,null)},hb=function(e,t,n){var r,o,i,a,u,s,c=e.selection,l=e.dom;/^ | $/.test(t)&&(t=eb(c.getRng(),t));var f=e.parser,d=n.merge,p=ym({validate:Yf(e)},e.schema),h='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>';if(i={content:t,format:"html",selection:!0,paste:n.paste},i=e.fire("BeforeSetContent",i),i.isDefaultPrevented())return void e.fire("SetContent",{content:i.content,format:"html",selection:!0,paste:n.paste});t=i.content,-1===t.indexOf("{$caret}")&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,h),u=c.getRng();var m=u.startContainer||(u.parentElement?u.parentElement():null),g=e.getBody();m===g&&c.isCollapsed()&&l.isBlock(g.firstChild)&&fb(e,g.firstChild)&&l.isEmpty(g.firstChild)&&(u=l.createRng(),u.setStart(g.firstChild,0),u.setEnd(g.firstChild,0),c.setRng(u)),c.isCollapsed()||(pb(e),t=tb(e.selection.getRng(),t)),r=c.getNode();var v={context:r.nodeName.toLowerCase(),data:n.data,insert:!0},b=f.parse(t,v);if(!0===n.paste&&Lv(e.schema,b)&&Wv(l,r))return u=Qv(p,l,e.selection.getRng(),b),e.selection.setRng(u),void e.fire("SetContent",i);if(sb(b),s=b.lastChild,"mce_marker"===s.attr("id"))for(a=s,s=s.prev;s;s=s.walk(!0))if(3===s.type||!l.isBlock(s.name)){e.schema.isValidChild(s.parent.name,"span")&&s.parent.insert(a,s,"br"===s.name);break}if(e._selectionOverrides.showBlockCaretContainer(r),v.invalid){for(ob(e,h),r=c.getNode(),o=e.getBody(),9===r.nodeType?r=s=o:s=r;s!==o;)r=s,s=s.parentNode;t=r===o?o.innerHTML:l.getOuterHTML(r),t=p.serialize(f.parse(t.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return p.serialize(b)}))),r===o?l.setHTML(o,t):l.setOuterHTML(r,t)}else t=p.serialize(b),ib(e,t,r);ub(e,d),db(e,l.get("mce_marker")),cb(e.getBody()),ab(e.dom,e.selection.getStart()),e.fire("SetContent",i),e.addVisual()},mb=function(){return Wn.fromDom(n.document)},gb=function(e){var t=Ar(e).dom();return e.dom()===t.activeElement},vb=function(e){return void 0===e&&(e=mb()),Te.from(e.dom().activeElement).map(Wn.fromDom)},bb=function(e){return vb(Ar(e)).filter(function(t){return e.dom().contains(t.dom())})},yb=function(e,t,n,r){return{start:ve(e),soffset:ve(t),finish:ve(n),foffset:ve(r)}},wb={create:yb},xb=Pu.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),_b=function(e,t,n,r){return e.fold(t,n,r)},Cb=function(e){return e.fold(be,be,be)},Sb=xb.before,Eb=xb.on,kb=xb.after,Tb={before:Sb,on:Eb,after:kb,cata:_b,getStart:Cb},Nb=Pu.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Ob=function(e){return Nb.exact(e.start(),e.soffset(),e.finish(),e.foffset())},Ab=function(e){return e.match({domRange:function(e){return Wn.fromDom(e.startContainer)},relative:function(e,t){return Tb.getStart(e)},exact:function(e,t,n,r){return e}})},Db=Nb.domRange,Mb=Nb.relative,Ib=Nb.exact,Rb=function(e){var t=Ab(e);return mr(t)},Pb=wb.create,Lb={domRange:Db,relative:Mb,exact:Ib,exactFromRange:Ob,getWin:Rb,range:Pb},jb=vn().browser,Bb=function(e,t){var n=Jn(t)?rm(t).length:Cr(t).length+1;return e>n?n:e<0?0:e},zb=function(e){return Lb.range(e.start(),Bb(e.soffset(),e.start()),e.finish(),Bb(e.foffset(),e.finish()))},Fb=function(e,t){return!oo(t.dom())&&(fr(e,t)||sr(e,t))},Hb=function(e){return function(t){return Fb(e,t.start())&&Fb(e,t.finish())}},Ub=function(e){return!0===e.inline||jb.isIE()},Vb=function(e){return Lb.range(Wn.fromDom(e.startContainer),e.startOffset,Wn.fromDom(e.endContainer),e.endOffset)},qb=function(e){var t=e.getSelection();return(t&&0!==t.rangeCount?Te.from(t.getRangeAt(0)):Te.none()).map(Vb)},Wb=function(e){var t=mr(e);return qb(t.dom()).filter(Hb(e))},Gb=function(e,t){return Te.from(t).filter(Hb(e)).map(zb)},$b=function(e){var t=n.document.createRange();try{return t.setStart(e.start().dom(),e.soffset()),t.setEnd(e.finish().dom(),e.foffset()),Te.some(t)}catch(e){return Te.none()}},Xb=function(e){var t=Ub(e)?Wb(Wn.fromDom(e.getBody())):Te.none();e.bookmark=t.isSome()?t:e.bookmark},Yb=function(e,t){var n=Wn.fromDom(e.getBody()),r=Ub(e)?Te.from(t):Te.none(),o=r.map(Vb).filter(Hb(n));e.bookmark=o.isSome()?o:e.bookmark},Kb=function(e){return(e.bookmark?e.bookmark:Te.none()).bind(function(t){return Gb(Wn.fromDom(e.getBody()),t)}).bind($b)},Jb=function(e){Kb(e).each(function(t){e.selection.setRng(t)})},Qb=function(e){var t=e.className.toString();return-1!==t.indexOf("tox-")||-1!==t.indexOf("mce-")},Zb={isEditorUIElement:Qb},ey=function(e){return"nodechange"===e.type&&e.selectionChange},ty=function(e,t){var r=function(){t.throttle()};es.DOM.bind(n.document,"mouseup",r),e.on("remove",function(){es.DOM.unbind(n.document,"mouseup",r)})},ny=function(e){e.on("focusout",function(){Xb(e)})},ry=function(e,t){e.on("mouseup touchend",function(e){t.throttle()})},oy=function(e,t){vn().browser.isIE()?ny(e):ry(e,t),e.on("keyup NodeChange",function(t){ey(t)||Xb(e)})},iy=function(e){var t=ws(function(){Xb(e)},0);e.on("init",function(){e.inline&&ty(e,t),oy(e,t)}),e.on("remove",function(){t.cancel()})},ay=es.DOM,uy=function(e){return Zb.isEditorUIElement(e)},sy=function(e){var t=e.classList;return void 0!==t&&(t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"))},cy=function(e,t){var n=Zf(e);return null!==ay.getParent(t,function(t){return uy(t)||!!n&&e.dom.is(t,n)})},ly=function(){try{return n.document.activeElement}catch(e){return n.document.body}},fy=function(e,t){var r=t.editor;iy(r),r.on("focusin",function(){var t=this,n=e.focusedEditor;n!==t&&(n&&n.fire("blur",{focusedEditor:t}),e.setActive(t),e.focusedEditor=t,t.fire("focus",{blurredEditor:n}),t.focus(!0))}),r.on("focusout",function(){var t=this;qu.setEditorTimeout(t,function(){var n=e.focusedEditor;cy(t,ly())||n!==t||(t.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})}),Om||(Om=function(t){var r=e.activeEditor,o=t.target;r&&o.ownerDocument===n.document&&(o===n.document.body||cy(r,o)||e.focusedEditor!==r||(r.fire("blur",{focusedEditor:null}),e.focusedEditor=null))},ay.bind(n.document,"focusin",Om))},dy=function(e,t){e.focusedEditor===t.editor&&(e.focusedEditor=null),e.activeEditor||(ay.unbind(n.document,"focusin",Om),Om=null)},py=function(e){e.on("AddEditor",r(fy,e)),e.on("RemoveEditor",r(dy,e))},hy=function(e,t){return e.dom.getParent(t,function(t){return"true"===e.dom.getContentEditable(t)})},my=function(e){return e.collapsed?Te.from(zc(e.startContainer,e.startOffset)).map(Wn.fromDom):Te.none()},gy=function(e,t){return my(t).bind(function(t){return ai(t)?Te.some(t):!1===fr(e,t)?Te.some(e):Te.none()})},vy=function(e,t){gy(Wn.fromDom(e.getBody()),t).bind(function(e){return Ip(e.dom())}).fold(function(){e.selection.normalize()},function(t){return e.selection.setRng(t.toRange())})},by=function(e){if(e.setActive)try{e.setActive()}catch(t){e.focus()}else e.focus()},yy=function(e){return gb(e)||bb(e).isSome()},wy=function(e){return e.iframeElement&&gb(Wn.fromDom(e.iframeElement))},xy=function(e){var t=e.getBody();return t&&yy(Wn.fromDom(t))},_y=function(e){return vb().filter(function(t){return!sy(t.dom())&&cy(e,t.dom())}).isSome()},Cy=function(e){return e.inline?xy(e):wy(e)},Sy=function(e){return Cy(e)||_y(e)},Ey=function(e){var t=e.selection,n=e.getBody(),r=t.getRng();e.quirks.refreshContentEditable(),void 0!==e.bookmark&&!1===Cy(e)&&Kb(e).each(function(t){e.selection.setRng(t),r=t});var o=hy(e,t.getNode());if(e.$.contains(n,o))return by(o),vy(e,r),void ky(e);e.inline||(kn.opera||by(n),e.getWin().focus()),(kn.gecko||e.inline)&&(by(n),vy(e,r)),ky(e)},ky=function(e){return e.editorManager.setActive(e)},Ty=function(e,t){e.removed||(t?ky(e):Ey(e))},Ny=function(e,t){t(e),e.firstChild&&Ny(e.firstChild,t),e.next&&Ny(e.next,t)},Oy=function(e,t,n){var r={},o={},i=[];n.firstChild&&Ny(n.firstChild,function(n){Xe(e,function(e){e.name===n.name&&(r[e.name]?r[e.name].nodes.push(n):r[e.name]={filter:e,nodes:[n]})}),Xe(t,function(e){"string"==typeof n.attr(e.name)&&(o[e.name]?o[e.name].nodes.push(n):o[e.name]={filter:e,nodes:[n]})})});for(var a in r)r.hasOwnProperty(a)&&i.push(r[a]);for(var u in o)o.hasOwnProperty(u)&&i.push(o[u]);return i},Ay=function(e,t,n){var r=Oy(e,t,n);Xe(r,function(e){Xe(e.filter.callbacks,function(t){t(e.nodes,e.filter.name,{})})})},Dy=function(e){return e instanceof gm},My=function(e){Cy(e)&&Ip(e.getBody()).each(function(t){var n=t.getNode(),r=fo(n)?Ip(n).getOr(t):t;e.selection.setRng(r.toRange())})},Iy=function(e,t){e.dom.setHTML(e.getBody(),t),My(e)},Ry=function(e,t,n,r){var o,i;return 0===n.length||/^\s+$/.test(n)?(i='<br data-mce-bogus="1">',"TABLE"===t.nodeName?n="<tr><td>"+i+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(n="<li>"+i+"</li>"),o=gf(e),o&&e.schema.isValidChild(t.nodeName.toLowerCase(),o.toLowerCase())?(n=i,n=e.dom.createHTML(o,vf(e),n)):n||(n='<br data-mce-bogus="1">'),Iy(e,n),e.fire("SetContent",r)):("raw"!==r.format&&(n=ym({validate:e.validate},e.schema).serialize(e.parser.parse(n,{isRootContent:!0,insert:!0}))),r.content=si(Wn.fromDom(t))?n:zn.trim(n),Iy(e,r.content),r.no_events||e.fire("SetContent",r)),r.content},Py=function(e,t,n,r){Ay(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),n);var o=ym({validate:e.validate},e.schema).serialize(n);return r.content=si(Wn.fromDom(t))?o:zn.trim(o),Iy(e,r.content),r.no_events||e.fire("SetContent",r),n},Ly=function(e,t,n){return n.format=n.format?n.format:"html",n.set=!0,n.content=Dy(t)?"":t,Dy(t)||n.no_events||(e.fire("BeforeSetContent",n),t=n.content),Te.from(e.getBody()).fold(ve(t),function(r){return Dy(t)?Py(e,r,t,n):Ry(e,r,t,n)})},jy=function(e,t){return e.splitText(t)},By=function(e){var t=e.startContainer,n=e.startOffset,r=e.endContainer,o=e.endOffset;return t===r&&mo(t)?n>0&&n<t.nodeValue.length&&(r=jy(t,n),t=r.previousSibling,o>n?(o-=n,t=r=jy(r,o).previousSibling,o=r.nodeValue.length,n=0):o=0):(mo(t)&&n>0&&n<t.nodeValue.length&&(t=jy(t,n),n=0),mo(r)&&o>0&&o<r.nodeValue.length&&(r=jy(r,o).previousSibling,o=r.nodeValue.length)),{startContainer:t,startOffset:n,endContainer:r,endOffset:o}},zy=gh,Fy=function(e,t,n){var r=e.formatter.get(n);if(r)for(var o=0;o<r.length;o++)if(!1===r[o].inherit&&e.dom.is(t,r[o].selector))return!0;return!1},Hy=function(e,t,n,r){var o=e.dom.getRoot();return t!==o&&(t=e.dom.getParent(t,function(t){return!!Fy(e,t,n)||(t.parentNode===o||!!qy(e,t,n,r,!0))}),qy(e,t,n,r))},Uy=function(e,t,n){return!!zy(t,n.inline)||(!!zy(t,n.block)||(n.selector?1===t.nodeType&&e.is(t,n.selector):void 0))},Vy=function(e,t,n,r,o,i){var a,u,s,c=n[r];if(n.onmatch)return n.onmatch(t,n,r);if(c)if(void 0===c.length){for(a in c)if(c.hasOwnProperty(a)){if(u="attributes"===r?e.getAttrib(t,a):bh(e,t,a),o&&!u&&!n.exact)return;if((!o||n.exact)&&!zy(u,vh(e,mh(c[a],i),a)))return}}else for(s=0;s<c.length;s++)if("attributes"===r?e.getAttrib(t,c[s]):bh(e,t,c[s]))return n;return n},qy=function(e,t,n,r,o){var i,a,u,s,c=e.formatter.get(n),l=e.dom;if(c&&t)for(a=0;a<c.length;a++)if(i=c[a],Uy(e.dom,t,i)&&Vy(l,t,i,"attributes",o,r)&&Vy(l,t,i,"styles",o,r)){if(s=i.classes)for(u=0;u<s.length;u++)if(!e.dom.hasClass(t,s[u]))return;return i}},Wy=function(e,t,n,r){if(r)return Hy(e,r,t,n);if(r=e.selection.getNode(),Hy(e,r,t,n))return!0;var o=e.selection.getStart();return!(o===r||!Hy(e,o,t,n))},Gy=function(e,t,n){var r=[],o={},i=e.selection.getStart();return e.dom.getParent(i,function(i){for(var a=0;a<t.length;a++){var u=t[a];!o[u]&&qy(e,i,u,n)&&(o[u]=!0,r.push(u))}},e.dom.getRoot()),r},$y=function(e,t){var n,r,o,i,a,u=e.formatter.get(t),s=e.dom;if(u)for(n=e.selection.getStart(),r=wh(s,n),i=u.length-1;i>=0;i--){if(!(a=u[i].selector)||u[i].defaultBlock)return!0;for(o=r.length-1;o>=0;o--)if(s.is(r[o],a))return!0}return!1},Xy=function(e,t,n){return Ze(n,function(n,r){var o=xh(e,r);return e.formatter.matchNode(t,r,{},o)?n.concat([r]):n},[])},Yy=function(e,t){return e.importNode(t,!0)},Ky=function(e){for(var t=[];e;){if(3===e.nodeType&&"\ufeff"!==e.nodeValue||e.childNodes.length>1)return[];1===e.nodeType&&t.push(e),e=e.firstChild}return t},Jy=function(e){return Ky(e).length>0},Qy=function(e){if(e){var t=new mu(e,e);for(e=t.current();e;e=t.next())if(mo(e))return e}return null},Zy=function(e){var t=Wn.fromTag("span");return Eo(t,{id:"_mce_caret","data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&jr(t,Wn.fromText("\ufeff")),t},ew=function(e){var t=Qy(e);return t&&"\ufeff"===t.nodeValue.charAt(0)&&t.deleteData(0,1),t},tw=function(e,t,n){void 0===n&&(n=!0);var r=e.dom,o=e.selection;if(Jy(t))zg(e,!1,Wn.fromDom(t),n);else{var i=o.getRng(),a=r.getParent(t,r.isBlock),u=i.startContainer,s=i.startOffset,c=i.endContainer,l=i.endOffset,f=ew(t);r.remove(t,!0),u===f&&s>0&&i.setStart(f,s-1),c===f&&l>0&&i.setEnd(f,l-1),a&&r.isEmpty(a)&&lg(Wn.fromDom(a)),o.setRng(i)}},nw=function(e,t,n){void 0===n&&(n=!0);var r=e.dom,o=e.selection;if(t)tw(e,t,n);else if(!(t=Lp(e.getBody(),o.getStart())))for(;t=r.get("_mce_caret");)tw(e,t,!1)},rw=function(e,t,n){var o=e.dom,i=o.getParent(n,r(fh,e));i&&o.isEmpty(i)?n.parentNode.replaceChild(t,n):(cg(Wn.fromDom(n)),o.isEmpty(n)?n.parentNode.replaceChild(t,n):o.insertAfter(t,n))},ow=function(e,t){return e.appendChild(t),t},iw=function(e,t){var n=Qe(e,function(e,t){return ow(e,t.cloneNode(!1))},t);return ow(n,n.ownerDocument.createTextNode("\ufeff"))},aw=function(e,t,n,r,o,i){var a=e.formatter,u=e.dom,s=Je(pt(a.get()),function(e){return"removeformat"!==e&&e!==r}),c=Xy(e,n,s);if(Je(c,function(t){return!_h(e,t,r)}).length>0){var l=n.cloneNode(!1);return u.add(t,l),a.remove(r,o,l,i),u.remove(l),Te.some(l)}return Te.none()},uw=function(e,t,n){var r,o,i=e.selection,a=i.getRng(),u=a.startOffset,s=a.startContainer,c=s.nodeValue;(r=Lp(e.getBody(),i.getStart()))&&(o=Qy(r));var l=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(c&&u>0&&u<c.length&&l.test(c.charAt(u))&&l.test(c.charAt(u-1))){var f=i.getBookmark();a.collapse(!0);var d=Lh(e,a,e.formatter.get(t));d=By(d),e.formatter.apply(t,n,d),i.moveToBookmark(f)}else r&&"\ufeff"===o.nodeValue?e.formatter.apply(t,n,r):(r=Yy(e.getDoc(),Zy(!0).dom()),o=r.firstChild,a.insertNode(r),u=1,e.formatter.apply(t,n,r)),i.setCursorLocation(o,u)},sw=function(e,t,n,r){var o,i,a,u=e.dom,s=e.selection,c=[],l=s.getRng(),f=l.startContainer,d=l.startOffset;for(i=f,3===f.nodeType&&(d!==f.nodeValue.length&&(o=!0),i=i.parentNode);i;){if(qy(e,i,t,n,r)){a=i;break}i.nextSibling&&(o=!0),c.push(i),i=i.parentNode}if(a)if(o){var p=s.getBookmark();l.collapse(!0);var h=Lh(e,l,e.formatter.get(t),!0);h=By(h),e.formatter.remove(t,n,h,r),s.moveToBookmark(p)}else{var m=Lp(e.getBody(),a),g=Zy(!1).dom();rw(e,g,null!==m?m:a);var v=aw(e,g,a,t,n,r),b=iw(c.concat(v.toArray()),g);tw(e,m,!1),s.setCursorLocation(b,1),u.isEmpty(a)&&u.remove(a)}},cw=function(e,t){var n=e.selection,r=e.getBody();nw(e,null,!1),8!==t&&46!==t||!n.isCollapsed()||"\ufeff"!==n.getStart().innerHTML||nw(e,Lp(r,n.getStart())),37!==t&&39!==t||nw(e,Lp(r,n.getStart()))},lw=function(e){e.on("mouseup keydown",function(t){cw(e,t.keyCode)})},fw=function(e,t){var n=Zy(!1),r=iw(t,n.dom());return Rr(Wn.fromDom(e),n),Ur(Wn.fromDom(e)),El(r,0)},dw=function(e,t){return e.schema.getTextInlineElements().hasOwnProperty(Gn(t))&&!Pp(t.dom())&&!co(t.dom())},pw=function(e){return Pp(e.dom())&&Jy(e.dom())},hw={},mw=Dt,gw=Ot,vw=function(e,t){gw(hw[e],function(e){e(t)})};!function(e,t){hw[e]||(hw[e]=[]),hw[e].push(t)}("pre",function(e){var t,n=e.selection.getRng(),r=function(e){return i(e.previousSibling)&&-1!==Mt(t,e.previousSibling)},o=function(e,t){hu(t).remove(),hu(e).append("<br><br>").append(t.childNodes)},i=ao(["pre"]);n.collapsed||(t=e.selection.getSelectedBlocks(),gw(mw(mw(t,i),r),function(e){o(e.previousSibling,e)}))});var bw=/^(src|href|style)$/,yw=zn.each,ww=gh,xw=function(e){return/^(TR|TH|TD)$/.test(e.nodeName)},_w=function(e,t,n){return e.isChildOf(t,n)&&t!==n&&!e.isBlock(n)},Cw=function(e,t,n){var r,o;if(r=t[n?"startContainer":"endContainer"],o=t[n?"startOffset":"endOffset"],io(r)){var i=r.childNodes.length-1;!n&&o&&o--,r=r.childNodes[o>i?i:o]}return mo(r)&&n&&o>=r.nodeValue.length&&(r=new mu(r,e.getBody()).next()||r),mo(r)&&!n&&0===o&&(r=new mu(r,e.getBody()).prev()||r),r},Sw=function(e,t){var n=t?"firstChild":"lastChild";if(xw(e)&&e[n]){var r=e[n];return"TR"===e.nodeName?r[n]||r:r}return e},Ew=function(e,t,n,r){var o=e.create(n,r);return t.parentNode.insertBefore(o,t),o.appendChild(t),o},kw=function(e,t,n,r,o){var i=Wn.fromDom(t),a=Wn.fromDom(e.create(r,o)),u=n?_r(i):xr(i);return Fr(a,u),n?(Rr(i,a),Lr(a,i)):(Pr(i,a),jr(a,i)),a.dom()},Tw=function(e,t,n){return!!ww(t,n.inline)||(!!ww(t,n.block)||(n.selector?io(t)&&e.is(t,n.selector):void 0))},Nw=function(e,t){return t.links&&"A"===e.nodeName},Ow=function(e,t,n,r){return!(t=lh(t,n,r))||"BR"===t.nodeName||e.isBlock(t)},Aw=function(e,t,n){var r,o=t.parentNode,i=e.dom,a=gf(e);n.block&&(a?o===i.getRoot()&&(n.list_block&&ww(t,n.list_block)||Xe(dt(t.childNodes),function(t){dh(e,a,t.nodeName.toLowerCase())?r?r.appendChild(t):(r=Ew(i,t,a),i.setAttribs(r,e.settings.forced_root_block_attrs)):r=0})):i.isBlock(t)&&!i.isBlock(o)&&(Ow(i,t,!1)||Ow(i,t.firstChild,!0,!0)||t.insertBefore(i.create("br"),t.firstChild),Ow(i,t,!0)||Ow(i,t.lastChild,!1,!0)||t.appendChild(i.create("br")))),n.selector&&n.inline&&!ww(n.inline,t)||i.remove(t,!0)},Dw=function(e,t,n,r,o){var i,a=e.dom;if(!Tw(a,r,t)&&!Nw(r,t))return!1;var u=r;if(t.inline&&"all"===t.remove&&Re(t.preserve_attributes)){var s=Je(a.getAttribs(u),function(e){return We(t.preserve_attributes,e.name.toLowerCase())});if(a.removeAllAttribs(u),Xe(s,function(e){return a.setAttrib(u,e.name,e.value)}),s.length>0)return e.dom.rename(r,"span"),!0}if("all"!==t.remove){yw(t.styles,function(e,r){e=vh(a,mh(e,n),r),"number"==typeof r&&(r=e,o=null),(t.remove_similar||!o||ww(bh(a,o,r),e))&&a.setStyle(u,r,""),i=!0}),i&&""===a.getAttrib(u,"style")&&(u.removeAttribute("style"),u.removeAttribute("data-mce-style")),yw(t.attributes,function(e,r){var i;if(e=mh(e,n),"number"==typeof r&&(r=e,o=null),t.remove_similar||!o||ww(a.getAttrib(o,r),e)){if("class"===r&&(e=a.getAttrib(u,r))&&(i="",Xe(e.split(/\s+/),function(e){/mce\-\w+/.test(e)&&(i+=(i?" ":"")+e)}),i))return void a.setAttrib(u,r,i);"class"===r&&u.removeAttribute("className"),bw.test(r)&&u.removeAttribute("data-mce-"+r),u.removeAttribute(r)}}),yw(t.classes,function(e){e=mh(e,n),o&&!a.hasClass(o,e)||a.removeClass(u,e)});for(var c=a.getAttribs(u),l=0;l<c.length;l++){var f=c[l].nodeName;if(0!==f.indexOf("_")&&0!==f.indexOf("data-"))return!1}}return"none"!==t.remove?(Aw(e,u,t),!0):void 0},Mw=function(e,t,n,r,o){var i;return Xe(wh(e.dom,t.parentNode).reverse(),function(t){if(!i&&"_start"!==t.id&&"_end"!==t.id){var a=qy(e,t,n,r,o);a&&!1!==a.split&&(i=t)}}),i},Iw=function(e,t,n,r,o,i,a,u){var s,c,l,f=e.dom;if(n){for(var d=n.parentNode,p=r.parentNode;p&&p!==d;p=p.parentNode){s=f.clone(p,!1);for(var h=0;h<t.length;h++)if(Dw(e,t[h],u,s,s)){s=0;break}s&&(c&&s.appendChild(c),l||(l=s),c=s)}!i||a.mixed&&f.isBlock(n)||(r=f.split(n,r)),c&&(o.parentNode.insertBefore(c,o),l.appendChild(o))}return r},Rw=function(e,t,n,r,o){var i=e.formatter.get(t),a=i[0],u=!0,s=e.dom,c=e.selection,l=function(r){var u=Mw(e,r,t,n,o);return Iw(e,i,u,r,r,!0,a,n)},f=function(e){return rh(e)&&io(e)&&("_start"===e.id||"_end"===e.id)},d=function(t){var r,o;io(t)&&s.getContentEditable(t)&&(r=u,u="true"===s.getContentEditable(t),o=!0);var c=dt(t.childNodes);if(u&&!o)for(var l=0;l<i.length&&!Dw(e,i[l],n,t,t);l++);if(a.deep&&c.length){for(var l=0;l<c.length;l++)d(c[l]);o&&(u=r)}},p=function(e){var t=s.get(e?"_start":"_end"),n=t[e?"firstChild":"lastChild"];return f(n)&&(n=n[e?"firstChild":"lastChild"]),mo(n)&&0===n.data.length&&(n=e?t.previousSibling||t.nextSibling:t.nextSibling||t.previousSibling),s.remove(t,!0),n},h=function(t){var n,r,o=Lh(e,t,i,!0);if(a.split){if(o=By(o),n=Cw(e,o,!0),r=Cw(e,o),n!==r){if(n=Sw(n,!0),r=Sw(r,!1),_w(s,n,r)){var u=Te.from(n.firstChild).getOr(n);return l(kw(s,u,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void p(!0)}if(_w(s,r,n)){var u=Te.from(r.lastChild).getOr(r);return l(kw(s,u,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void p(!1)}n=Ew(s,n,"span",{id:"_start","data-mce-type":"bookmark"}),r=Ew(s,r,"span",{id:"_end","data-mce-type":"bookmark"});var c=s.createRng();c.setStartAfter(n),c.setEndBefore(r),zh(s,c,function(e){Xe(e,function(e){rh(e)||rh(e.parentNode)||l(e)})}),l(n),l(r),n=p(!0),r=p()}else n=r=l(n);o.startContainer=n.parentNode?n.parentNode:n,o.startOffset=s.nodeIndex(n),o.endContainer=r.parentNode?r.parentNode:r,o.endOffset=s.nodeIndex(r)+1}zh(s,o,function(t){Xe(t,function(t){d(t),Xe(["underline","line-through","overline"],function(n){io(t)&&e.dom.getStyle(t,"text-decoration")===n&&t.parentNode&&yh(s,t.parentNode)===n&&Dw(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:n}},null,t)})})})};if(r)if(uh(r)){var m=s.createRng();m.setStartBefore(r),m.setEndAfter(r),h(m)}else h(r);else if("false"!==s.getContentEditable(c.getNode()))c.isCollapsed()&&a.inline&&!Gh(e).length?sw(e,t,n,o):(tm(c,!0,function(){em(e,h)}),a.inline&&Wy(e,t,n,c.getStart())&&ch(s,c,c.getRng()),e.nodeChanged());else{r=c.getNode();for(var g=0;g<i.length&&(!i[g].ceFalseOverride||!Dw(e,i[g],n,r,r));g++);}},Pw=zn.each,Lw=function(e){return io(e)&&!rh(e)&&!Pp(e)&&!co(e)},jw=function(e,t){var n;for(n=e;n;n=n[t]){if(mo(n)&&0!==n.nodeValue.length)return e;if(io(n)&&!rh(n))return n}return e},Bw=function(e,t,n){var r,o,i=new Bm(e);if(t&&n&&(t=jw(t,"previousSibling"),n=jw(n,"nextSibling"),i.compare(t,n))){for(r=t.nextSibling;r&&r!==n;)o=r,r=r.nextSibling,t.appendChild(o);return e.remove(n),zn.each(zn.grep(n.childNodes),function(e){t.appendChild(e)}),t}return n},zw=function(e,t,n){Pw(e.childNodes,function(e){Lw(e)&&(t(e)&&n(e),e.hasChildNodes()&&zw(e,t,n))})},Fw=function(e,t){return function(n){return!(!n||!bh(e,n,t))}},Hw=function(e,t,n){return function(r){e.setStyle(r,t,n),""===r.getAttribute("style")&&r.removeAttribute("style"),Uw(e,r)}},Uw=function(e,t){"SPAN"===t.nodeName&&0===e.getAttribs(t).length&&e.remove(t,!0)},Vw=function(e,t,n,r){var o=function(t){if(1===t.nodeType&&t.parentNode&&1===t.parentNode.nodeType){var n=yh(e,t.parentNode);e.getStyle(t,"color")&&n?e.setStyle(t,"text-decoration",n):e.getStyle(t,"text-decoration")===n&&e.setStyle(t,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(zn.walk(r,o,"childNodes"),o(r))},qw=function(e,t,n,r){t.styles&&t.styles.backgroundColor&&zw(r,Fw(e,"fontSize"),Hw(e,"backgroundColor",mh(t.styles.backgroundColor,n)))},Ww=function(e,t,n,r){"sub"!==t.inline&&"sup"!==t.inline||(zw(r,Fw(e,"fontSize"),Hw(e,"fontSize","")),e.remove(e.select("sup"===t.inline?"sub":"sup",r),!0))},Gw=function(e,t,n,r){r&&!1!==t.merge_siblings&&(r=Bw(e,lh(r),r),r=Bw(e,r,lh(r,!0)))},$w=function(e,t,n){if(t.clear_child_styles){var r=t.links?"*:not(a)":"*";Pw(e.select(r,n),function(n){Lw(n)&&Pw(t.styles,function(t,r){e.setStyle(n,r,"")})})}},Xw=function(e,t,n,r){Pw(t,function(t){Pw(e.dom.select(t.inline,r),function(r){Lw(r)&&Dw(e,t,n,r,t.exact?r:null)}),$w(e.dom,t,r)})},Yw=function(e,t,n,r,o){qy(e,o.parentNode,n,r)&&Dw(e,t,r,o)||t.merge_with_parents&&e.dom.getParent(o.parentNode,function(i){if(qy(e,i,n,r))return Dw(e,t,r,o),!0})},Kw=zn.each,Jw=function(e){return e&&1===e.nodeType&&!rh(e)&&!Pp(e)&&!co(e)},Qw=function(e,t,n,r){var o,i=e.formatter.get(t),a=i[0],u=!r&&e.selection.isCollapsed(),s=e.dom,c=e.selection,l=function(e,t){if(t=t||a,e){if(t.onformat&&t.onformat(e,t,n,r),Kw(t.styles,function(t,r){s.setStyle(e,r,mh(t,n))}),t.styles){var o=s.getAttrib(e,"style");o&&s.setAttrib(e,"data-mce-style",o)}Kw(t.attributes,function(t,r){s.setAttrib(e,r,mh(t,n))}),Kw(t.classes,function(t){t=mh(t,n),s.hasClass(e,t)||s.addClass(e,t)})}},f=function(e,t){var n=!1;return!!a.selector&&(Kw(e,function(e){if(!("collapsed"in e&&e.collapsed!==u))return s.is(t,e.selector)&&!Pp(t)?(l(t,e),n=!0,!1):void 0}),n)},d=function(r,o,u,s){var c=[],d=!0,p=a.inline||a.block,h=r.create(p);l(h),zh(r,o,function(o){var u,m=function(o){var g=!1,v=d,b=o.nodeName.toLowerCase(),y=o.parentNode.nodeName.toLowerCase();if(io(o)&&r.getContentEditable(o)&&(v=d,d="true"===r.getContentEditable(o),g=!0),gh(b,"br"))return u=0,void(a.block&&r.remove(o));if(a.wrapper&&qy(e,o,t,n))return void(u=0);if(d&&!g&&a.block&&!a.wrapper&&fh(e,b)&&dh(e,y,p))return o=r.rename(o,p),l(o),c.push(o),void(u=0);if(a.selector){var w=f(i,o);if(!a.inline||w)return void(u=0)}!d||g||!dh(e,p,b)||!dh(e,y,p)||!s&&3===o.nodeType&&1===o.nodeValue.length&&65279===o.nodeValue.charCodeAt(0)||Pp(o)||a.inline&&r.isBlock(o)?(u=0,Kw(zn.grep(o.childNodes),m),g&&(d=v),u=0):(u||(u=r.clone(h,!1),o.parentNode.insertBefore(u,o),c.push(u)),u.appendChild(o))};Kw(o,m)}),!0===a.links&&Kw(c,function(e){var t=function(e){"A"===e.nodeName&&l(e,a),Kw(zn.grep(e.childNodes),t)};t(e)}),Kw(c,function(o){var u=function(e){var t=!1;return Kw(e.childNodes,function(e){if(Jw(e))return t=e,!1}),t},s=function(e){var t=0;return Kw(e.childNodes,function(e){hh(e)||rh(e)||t++}),t}(o);if((c.length>1||!r.isBlock(o))&&0===s)return void r.remove(o,!0);(a.inline||a.wrapper)&&(a.exact||1!==s||(o=function(e){var t,n=u(e);return n&&!rh(n)&&Uy(r,n,a)&&(t=r.clone(n,!1),l(t),r.replace(t,e,!0),r.remove(n,!0)),t||e}(o)),Xw(e,i,n,o),Yw(e,a,t,n,o),qw(r,a,n,o),Vw(r,a,0,o),Ww(r,a,0,o),Gw(r,a,0,o))})};if("false"!==s.getContentEditable(c.getNode())){if(a){if(r)uh(r)?f(i,r)||(o=s.createRng(),o.setStartBefore(r),o.setEndAfter(r),d(s,Lh(e,o,i),0,!0)):d(s,r,0,!0);else if(u&&a.inline&&!Gh(e).length)uw(e,t,n);else{var p=c.getNode();e.settings.forced_root_block||!i[0].defaultBlock||s.getParent(p,s.isBlock)||Qw(e,i[0].defaultBlock),c.setRng(Dv(c.getRng())),tm(c,!0,function(t){em(e,function(t,n){var r=n?t:Lh(e,t,i);d(s,r)})}),ch(s,c,c.getRng()),e.nodeChanged()}vw(t,e)}}else{r=c.getNode();for(var h=0,m=i.length;h<m;h++)if(i[h].ceFalseOverride&&s.is(r,i[h].selector))return void l(r,i[h])}},Zw=function(e,t,n,r){var o=e.formatter.get(t);!Wy(e,t,n,r)||"toggle"in o[0]&&!o[0].toggle?Qw(e,t,n,r):Rw(e,t,n,r)},ex=function(e,t){return $e(t,function(t){var n=e.fire("GetSelectionRange",{range:t});return n.range!==t?n.range:t})},tx=function(e,t){var r=t||n.document,o=r.createDocumentFragment();return Xe(e,function(e){o.appendChild(e.dom())}),Wn.fromDom(o)},nx=function(e,t,n){return{element:ve(e),width:ve(t),rows:ve(n)}},rx=function(e,t){return{element:ve(e),cells:ve(t)}},ox=function(e,t){return{x:ve(e),y:ve(t)}},ix=function(e,t){var n=parseInt(ko(e,t),10);return isNaN(n)?1:n},ax=function(e,t,n,r,o){for(var i=ix(o,"rowspan"),a=ix(o,"colspan"),u=e.rows(),s=n;s<n+i;s++){u[s]||(u[s]=rx(oc(r),[]));for(var c=t;c<t+a;c++){u[s].cells()[c]=s===n&&c===t?o:rc(o)}}},ux=function(e,t,n){var r=e.rows();return!!(r[n]?r[n].cells():[])[t]},sx=function(e,t,n){for(;ux(e,t,n);)t++;return t},cx=function(e){return Ze(e,function(e,t){return t.cells().length>e?t.cells().length:e},0)},lx=function(e,t){for(var n=e.rows(),r=0;r<n.length;r++)for(var o=n[r].cells(),i=0;i<o.length;i++)if(sr(o[i],t))return Te.some(ox(i,r));return Te.none()},fx=function(e,t,n,r,o){for(var i=[],a=e.rows(),u=n;u<=o;u++){var s=a[u].cells(),c=t<r?s.slice(t,r+1):s.slice(r,t+1);i.push(rx(a[u].element(),c))}return i},dx=function(e,t,n){var r=t.x(),o=t.y(),i=n.x(),a=n.y(),u=o<a?fx(e,r,o,i,a):fx(e,r,a,i,o);return nx(e.element(),cx(u),u)},px=function(e,t){var n=rc(e.element()),r=Wn.fromTag("tbody");return Fr(r,t),jr(n,r),n},hx=function(e){return $e(e.rows(),function(e){var t=$e(e.cells(),function(e){var t=oc(e);return Oo(t,"colspan"),Oo(t,"rowspan"),t}),n=rc(e.element());return Fr(n,t),n})},mx=function(e){var t=nx(rc(e),0,[]);return Xe(Rs(e,"tr"),function(e,n){Xe(Rs(e,"td,th"),function(r,o){ax(t,sx(t,o,n),n,e,r)})}),nx(t.element(),cx(t.rows()),t.rows())},gx=function(e){return px(e,hx(e))},vx=function(e,t,n){return lx(e,t).bind(function(t){return lx(e,n).map(function(n){return dx(e,t,n)})})},bx=function(e){return tt(e,function(e){return"ul"===Gn(e)||"ol"===Gn(e)})},yx=function(e,t){return tt(e,function(e){return"li"===Gn(e)&&Jh(e,t)}).fold(ve([]),function(t){return bx(e).map(function(e){return[Wn.fromTag("li"),Wn.fromTag(Gn(e))]}).getOr([])})},wx=function(e,t){var n=Ze(t,function(e,t){return jr(t,e),t},e);return t.length>0?tx([n]):n},xx=function(e){return oi(e)?gr(e).filter(ri).fold(ve([]),function(t){return[e,t]}):ri(e)?[e]:[]},_x=function(e,t){var n=Wn.fromDom(t.commonAncestorContainer),r=mg(n,e),o=Je(r,function(e){return ei(e)||Jo(e)}),i=yx(r,t),a=o.concat(i.length?i:xx(n));return $e(a,rc)},Cx=function(){return tx([])},Sx=function(e,t){return wx(Wn.fromDom(t.cloneContents()),_x(e,t))},Ex=function(e,t){return js(t,"table",r(sr,e))},kx=function(e,t){return Ex(e,t[0]).bind(function(e){var n=t[0],r=t[t.length-1],o=mx(e);return vx(o,n,r).map(function(e){return tx([gx(e)])})}).getOrThunk(Cx)},Tx=function(e,t){return t.length>0&&t[0].collapsed?Cx():Sx(e,t[0])},Nx=function(e,t){var n=Wh(t,e);return n.length>0?kx(e,n):Tx(e,t)},Ox=function(e){return e.replace(/^[ \f\n\r\t\v]+/,"")},Ax=function(e,t){return t>=0&&t<e.length&&ih(e.charAt(t))},Dx=function(e){var t=cc(e.innerText);return kn.browser.isIE()?Ox(t):t},Mx=function(e){return Te.from(e.selection.getRng()).map(function(t){var n=e.dom.add(e.getBody(),"div",{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},t.cloneContents()),r=Dx(n),o=cc(n.textContent);if(e.dom.remove(n),Ax(o,0)||Ax(o,o.length-1)){var i=e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock),a=Dx(i),u=a.indexOf(r);if(-1!==u){var s=Ax(a,u-1),c=Ax(a,u+r.length);return(s?" ":"")+r+(c?" ":"")}return r}return r}).getOr("")},Ix=function(e,t){var n=e.selection.getRng(),r=e.dom.create("body"),o=e.selection.getSel(),i=ex(e,Fh(o)),a=t.contextual?Nx(Wn.fromDom(e.getBody()),i).dom():n.cloneContents();return a&&r.appendChild(a),e.selection.serializer.serialize(r,t)},Rx=function(e,t,n){if(void 0===n&&(n={}),n.get=!0,n.format=t,n.selection=!0,n=e.fire("BeforeGetContent",n),n.isDefaultPrevented())return e.fire("GetContent",n),n.content;if("text"===n.format)return Mx(e);n.getInner=!0;var r=Ix(e,n);return"tree"===n.format?r:(n.content=e.selection.isCollapsed()?"":r,e.fire("GetContent",n),n.content)},Px=function(e,t){var n=e.length+t.length+2,r=new Array(n),o=new Array(n),i=function(e,t,n){return{start:e,end:t,diag:n}},a=function(n,r,o,i,u){var c=s(n,r,o,i);if(null===c||c.start===r&&c.diag===r-i||c.end===n&&c.diag===n-o)for(var l=n,f=o;l<r||f<i;)l<r&&f<i&&e[l]===t[f]?(u.push([0,e[l]]),++l,++f):r-n>i-o?(u.push([2,e[l]]),++l):(u.push([1,t[f]]),++f);else{a(n,c.start,o,c.start-c.diag,u);for(var d=c.start;d<c.end;++d)u.push([0,e[d]]);a(c.end,r,c.end-c.diag,i,u)}},u=function(n,r,o,a){for(var u=n;u-r<a&&u<o&&e[u]===t[u-r];)++u;return i(n,u,r)},s=function(n,i,a,s){var c=i-n,l=s-a;if(0===c||0===l)return null;var f=c-l,d=l+c,p=(d%2==0?d:d+1)/2;r[1+p]=n,o[1+p]=i+1;var h,m,g,v,b;for(h=0;h<=p;++h){for(m=-h;m<=h;m+=2){for(g=m+p,m===-h||m!==h&&r[g-1]<r[g+1]?r[g]=r[g+1]:r[g]=r[g-1]+1,v=r[g],b=v-n+a-m;v<i&&b<s&&e[v]===t[b];)r[g]=++v,++b;if(f%2!=0&&f-h<=m&&m<=f+h&&o[g-f]<=r[g])return u(o[g-f],m+n-a,i,s)}for(m=f-h;m<=f+h;m+=2){for(g=m+p-f,m===f-h||m!==f+h&&o[g+1]<=o[g-1]?o[g]=o[g+1]-1:o[g]=o[g-1],v=o[g]-1,b=v-n+a-m;v>=n&&b>=a&&e[v]===t[b];)o[g]=v--,b--;if(f%2==0&&-h<=m&&m<=h&&o[g]<=r[g+f])return u(o[g],m+n-a,i,s)}}},c=[];return a(0,e.length,0,t.length,c),c},Lx=function(e){return io(e)?e.outerHTML:mo(e)?Oi.encodeRaw(e.data,!1):go(e)?"\x3c!--"+e.data+"--\x3e":""},jx=function(e){var t,r=n.document.createElement("div"),o=n.document.createDocumentFragment();for(e&&(r.innerHTML=e);t=r.firstChild;)o.appendChild(t);return o},Bx=function(e,t,n){var r=jx(t);if(e.hasChildNodes()&&n<e.childNodes.length){var o=e.childNodes[n];o.parentNode.insertBefore(r,o)}else e.appendChild(r)},zx=function(e,t){if(e.hasChildNodes()&&t<e.childNodes.length){var n=e.childNodes[t];n.parentNode.removeChild(n)}},Fx=function(e,t){var n=0;Xe(e,function(e){0===e[0]?n++:1===e[0]?(Bx(t,e[1],n),n++):2===e[0]&&zx(t,n)})},Hx=function(e){return Je($e(dt(e.childNodes),Lx),function(e){return e.length>0})},Ux=function(e,t){var n=$e(dt(t.childNodes),Lx);return Fx(Px(n,e),t),t},Vx=is(Te.none()),qx=function(){return Vx.get().getOrThunk(function(){var e=n.document.implementation.createHTMLDocument("undo");return Vx.set(Te.some(e)),e})},Wx=function(e){return-1!==e.indexOf("</iframe>")},Gx=function(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}},$x=function(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}},Xx=function(e){var t=Hx(e.getBody()),n=ot(t,function(t){var n=Mm(e.serializer,t);return n.length>0?[n]:[]}),r=n.join("");return Wx(r)?Gx(n):$x(r)},Yx=function(e,t,n){"fragmented"===t.type?Ux(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw"}),e.selection.moveToBookmark(n?t.beforeBookmark:t.bookmark)},Kx=function(e){return"fragmented"===e.type?e.fragments.join(""):e.content},Jx=function(e){var t=Wn.fromTag("body",qx());return tc(t,Kx(e)),Xe(Rs(t,"*[data-mce-bogus]"),Vr),ec(t)},Qx=function(e,t){return Kx(e)===Kx(t)},Zx=function(e,t){return Jx(e)===Jx(t)},e_=function(e,t){return!(!e||!t)&&(!!Qx(e,t)||Zx(e,t))},t_=function(e){return 0===e.get()},n_=function(e,t,n){t_(n)&&(e.typing=t)},r_=function(e,t){e.typing&&(n_(e,!1,t),e.add())},o_=function(e){e.typing&&(e.typing=!1,e.add())},i_=function(e,t,n){t_(t)&&n.set(Te.some(af(e.selection)))},a_=function(e,t,n,r,o,i,a){var u=Xx(e);if(i=i||{},i=zn.extend(i,u),!1===t_(r)||e.removed)return null;var s=t.data[n.get()];if(e.fire("BeforeAddUndo",{level:i,lastLevel:s,originalEvent:a}).isDefaultPrevented())return null;if(s&&e_(s,i))return null;t.data[n.get()]&&o.get().each(function(e){t.data[n.get()].beforeBookmark=e});var c=sd(e);if(c&&t.data.length>c){for(var l=0;l<t.data.length-1;l++)t.data[l]=t.data[l+1];t.data.length--,n.set(t.data.length)}i.bookmark=af(e.selection),n.get()<t.data.length-1&&(t.data.length=n.get()+1),t.data.push(i),n.set(t.data.length-1);var f={level:i,lastLevel:s,originalEvent:a};return e.fire("AddUndo",f),n.get()>0&&(e.setDirty(!0),e.fire("change",f)),i},u_=function(e,t,n){t.data=[],n.set(0),t.typing=!1,e.fire("ClearUndos")},s_=function(e,t,n,r,o){if(t.transact(r)){var i=t.data[n.get()].bookmark,a=t.data[n.get()-1];Yx(e,a,!0),t.transact(o)&&(t.data[n.get()-1].beforeBookmark=i)}},c_=function(e,t,n){var r;return t.get()<n.length-1&&(t.set(t.get()+1),r=n[t.get()],Yx(e,r,!1),e.setDirty(!0),e.fire("Redo",{level:r})),r},l_=function(e,t,n,r){var o;return t.typing&&(t.add(),t.typing=!1,n_(t,!1,n)),r.get()>0&&(r.set(r.get()-1),o=t.data[r.get()],Yx(e,o,!0),e.setDirty(!0),e.fire("Undo",{level:o})),o},f_=function(e){e.clear(),e.add()},d_=function(e,t,n){return n.get()>0||t.typing&&t.data[0]&&!e_(Xx(e),t.data[0])},p_=function(e,t){return t.get()<e.data.length-1&&!e.typing},h_=function(e,t,n){return r_(e,t),e.beforeChange(),e.ignore(n),e.add()},m_=function(e,t){try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}},g_=function(e){return e instanceof gm},v_=function(e,t){Ay(e.serializer.getNodeFilters(),e.serializer.getAttributeFilters(),t)},b_=function(){return{type:"complete",fragments:[],content:"",bookmark:null,beforeBookmark:null}},y_=function(e){return{undoManager:{beforeChange:function(t,n){return i_(e,t,n)},addUndoLevel:function(t,n,r,o,i,a){return a_(e,t,n,r,o,i,a)},undo:function(t,n,r){return l_(e,t,n,r)},redo:function(t,n){return c_(e,t,n)},clear:function(t,n){return u_(e,t,n)},reset:function(e){return f_(e)},hasUndo:function(t,n){return d_(e,t,n)},hasRedo:function(e,t){return p_(e,t)},transact:function(e,t,n){return h_(e,t,n)},ignore:function(e,t){return m_(e,t)},extra:function(t,n,r,o){return s_(e,t,n,r,o)}},formatter:{apply:function(t,n,r){return Qw(e,t,n,r)},remove:function(t,n,r,o){return Rw(e,t,n,r,o)},toggle:function(t,n,r){return Zw(e,t,n,r)}},editor:{getContent:function(t,n){return Lm(e,t,n)},setContent:function(t,n){return Ly(e,t,n)},insertContent:function(t,n){return hb(e,t,n)}},selection:{getContent:function(t,n){return Rx(e,t,n)}},raw:{getModel:function(){return Te.none()}}}},w_=function(e,t){var n=function(e){return Ie(e)?e:{}},r=we("Unimplemented feature for rtc");return{undoManager:{beforeChange:he,addUndoLevel:r,undo:function(){return t.undo(),b_()},redo:function(){return t.redo(),b_()},clear:r,reset:r,hasUndo:function(){return t.hasUndo()},hasRedo:function(){return t.hasRedo()},transact:function(e,n,r){return t.transact(r),b_()},ignore:r,extra:r},formatter:{apply:function(e,r,o){return t.applyFormat(e,n(r))},remove:function(e,r,o,i){return t.removeFormat(e,n(r))},toggle:function(e,r,o){return t.toggleFormat(e,n(r))}},editor:{getContent:function(n,r){if("html"===r||"tree"===r){var o=t.getContent(),i=ym({inner:!0});return v_(e,o),"tree"===r?o:i.serialize(o)}return y_(e).editor.getContent(n,r)},setContent:function(n,r){var o=g_(n)?n:e.parser.parse(n,{isRootContent:!0,insert:!0});return t.setContent(o),n},insertContent:function(n,r){var o=g_(n)?n:e.parser.parse(n,{insert:!0});t.insertContent(o)}},selection:{getContent:function(n,r){if("html"===n||"tree"===n){var o=t.getSelectedContent(),i=ym({});return v_(e,o),"tree"===n?o:i.serialize(o)}return y_(e).selection.getContent(n,r)}},raw:{getModel:function(){return Te.some(t.getRawModel())}}}},x_=function(e){return Et(e.plugins,"rtc")},__=function(e){var t=e;return St(e.plugins,"rtc").fold(function(){return t.rtcInstance=y_(e),Te.none()},function(n){return Te.some(n.setup().then(function(n){return t.rtcInstance=w_(e,n),n.isRemote}))})},C_=function(e){return e.rtcInstance?e.rtcInstance:y_(e)},S_=function(e){var t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},E_=function(e,t,n){S_(e).undoManager.beforeChange(t,n)},k_=function(e,t,n,r,o,i,a){return S_(e).undoManager.addUndoLevel(t,n,r,o,i,a)},T_=function(e,t,n,r){return S_(e).undoManager.undo(t,n,r)},N_=function(e,t,n){return S_(e).undoManager.redo(t,n)},O_=function(e,t,n){S_(e).undoManager.clear(t,n)},A_=function(e,t){S_(e).undoManager.reset(t)},D_=function(e,t,n){return S_(e).undoManager.hasUndo(t,n)},M_=function(e,t,n){return S_(e).undoManager.hasRedo(t,n)},I_=function(e,t,n,r){return S_(e).undoManager.transact(t,n,r)},R_=function(e,t,n){S_(e).undoManager.ignore(t,n)},P_=function(e,t,n,r,o){S_(e).undoManager.extra(t,n,r,o)},L_=function(e,t,n,r){S_(e).formatter.apply(t,n,r)},j_=function(e,t,n,r,o){S_(e).formatter.remove(t,n,r,o)},B_=function(e,t,n,r){S_(e).formatter.toggle(t,n,r)},z_=function(e,t,n){return C_(e).editor.getContent(t,n)},F_=function(e,t,n){return C_(e).editor.setContent(t,n)},H_=function(e,t,n){return C_(e).editor.insertContent(t,n)},U_=function(e,t,n){return S_(e).selection.getContent(t,n)},V_=function(e,t){void 0===t&&(t={});var n=t.format?t.format:"html";return z_(e,t,n)},q_=function(e,t,n){return void 0===n&&(n={}),F_(e,t,n)},W_=function(e,t){return e.fire("PreProcess",t)},G_=function(e,t){return e.fire("PostProcess",t)},$_=function(e){return e.fire("remove")},X_=function(e){return e.fire("detach")},Y_=function(e,t){return e.fire("SwitchMode",{mode:t})},K_=function(e,t,n,r){e.fire("ObjectResizeStart",{target:t,width:n,height:r})},J_=function(e,t,n,r){e.fire("ObjectResized",{target:t,width:n,height:r})},Q_=function(e){return e.fire("PreInit")},Z_=function(e){return e.fire("PostRender")},eC=function(e){return e.fire("Init")},tC=function(e,t){return e.fire("PlaceholderToggle",{state:t})},nC=function(e,t,n){return e.fire(t,n)},rC=es.DOM,oC=function(e){rC.setStyle(e.id,"display",e.orgDisplay)},iC=function(e){return Te.from(e).each(function(e){return e.destroy()})},aC=function(e){e.contentAreaContainer=e.formElement=e.container=e.editorContainer=null,e.bodyElement=e.contentDocument=e.contentWindow=null,e.iframeElement=e.targetElm=null,e.selection&&(e.selection=e.selection.win=e.selection.dom=e.selection.dom.doc=null)},uC=function(e){var t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,t._mceOldSubmit=null),rC.unbind(t,"submit reset",e.formEventDelegate))},sC=function(e){if(!e.removed){var t=e._selectionOverrides,n=e.editorUpload,r=e.getBody(),o=e.getElement();r&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&o&&rC.remove(o.nextSibling),$_(e),e.editorManager.remove(e),!e.inline&&r&&oC(e),X_(e),rC.remove(e.getContainer()),iC(t),iC(n),e.destroy()}},cC=function(e,t){var n=e.selection,r=e.dom;if(!e.destroyed){if(!t&&!e.removed)return void e.remove();t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),iC(n),iC(r)),uC(e),aC(e),e.destroyed=!0}},lC=Object.prototype.hasOwnProperty,fC=function(e,t){return Ie(e)&&Ie(t)?dC(e,t):t},dC=function(e){return function(){for(var t=new Array(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];if(0===t.length)throw new Error("Can't merge zero objects");for(var r={},o=0;o<t.length;o++){var i=t[o];for(var a in i)lC.call(i,a)&&(r[a]=e(r[a],i[a]))}return r}}(fC),pC=function(e,t){return{sections:ve(e),settings:ve(t)}},hC=vn().deviceType,mC=hC.isTouch(),gC=hC.isPhone(),vC=hC.isTablet(),bC=["lists","autolink","autosave"],yC={table_grid:!1,object_resizing:!1,resize:!1},wC=function(e){var t=Re(e)?e.join(" "):e,n=$e(Me(t)?t.split(" "):[],on);return Je(n,function(e){return e.length>0})},xC=function(e){return Je(e,r(We,bC))},_C=function(e,t){var n=wt(t,function(t,n){return We(e,n)});return pC(n.t,n.f)},CC=function(e,t,n){void 0===n&&(n={});var r=e.sections(),o=r.hasOwnProperty(t)?r[t]:{};return zn.extend({},n,o)},SC=function(e,t){return e.sections().hasOwnProperty(t)},EC=function(e,t,n){var r=e.sections();return SC(e,t)&&r[t].theme===n},kC=function(e,t){return SC(e,t)?e.sections()[t]:{}},TC=function(e,t){return St(e,"toolbar_mode").orThunk(function(){return St(e,"toolbar_drawer").map(function(e){return!1===e?"wrap":e})}).getOr(t)},NC=function(e,t,n,r,o){var i={id:t,theme:"silver",toolbar_mode:TC(e,"floating"),plugins:"",document_base_url:n,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,inline_styles:!0,convert_fonts_to_spans:!0,indent:!0,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:o.convertURL,url_converter_scope:o};return Lt(Lt({},i),r?yC:{})},OC=function(e,t){var n={resize:!1,toolbar_mode:TC(e,"scrolling"),toolbar_sticky:!1},r={menubar:!1};return Lt(Lt(Lt({},yC),n),t?r:{})},AC=function(e,t){var n=t.external_plugins?t.external_plugins:{};return e&&e.external_plugins?zn.extend({},e.external_plugins,n):n},DC=function(e,t){return[].concat(wC(e)).concat(wC(t))},MC=function(e,t,n,r){var o=wC(n.forced_plugins),i=wC(r.plugins),a=kC(t,"mobile"),u=a.plugins?wC(a.plugins):i,s=e&&EC(t,"mobile","mobile")?xC(u):e&&SC(t,"mobile")?u:i,c=DC(o,s);return zn.extend(r,{plugins:c.join(" ")})},IC=function(e,t){return e&&SC(t,"mobile")},RC=function(e,t,n,r,o){var i=e?{mobile:OC(o.mobile||{},t)}:{},a=_C(["mobile"],dC(i,o)),u=zn.extend(n,r,a.settings(),IC(e,a)?CC(a,"mobile"):{},{validate:!0,external_plugins:AC(r,a.settings())});return MC(e,a,r,u)},PC=function(e,t,n,r,o){var i=NC(o,t,n,mC,e);return RC(gC||vC,gC,i,r,o)},LC=function(e,t,n){return Te.from(t.settings[n]).filter(e)},jC=function(e){var t={};return"string"==typeof e?Xe(e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(","),function(e){var n=e.split("=");n.length>1?t[zn.trim(n[0])]=zn.trim(n[1]):t[zn.trim(n[0])]=zn.trim(n[0])}):t=e,t},BC=function(e){return function(t){return Re(t)&&it(t,e)}},zC=function(e,t,n,r){var o=t in e.settings?e.settings[t]:n;return"hash"===r?jC(o):"string"===r?LC(Me,e,t).getOr(n):"number"===r?LC(ze,e,t).getOr(n):"boolean"===r?LC(Le,e,t).getOr(n):"object"===r?LC(Ie,e,t).getOr(n):"array"===r?LC(Re,e,t).getOr(n):"string[]"===r?LC(BC(Me),e,t).getOr(n):"function"===r?LC(Be,e,t).getOr(n):o},FC=function(){var e={};return{add:function(t,n){e[t]=n},get:function(t){return e[t]?e[t]:{icons:{}}},has:function(t){return Et(e,t)}}}(),HC=function(e,t){return t.dom()[e]},UC=function(e,t){return parseInt(Do(t,e),10)},VC=r(HC,"clientWidth"),qC=r(HC,"clientHeight"),WC=r(UC,"margin-top"),GC=r(UC,"margin-left"),$C=function(e){return e.dom().getBoundingClientRect()},XC=function(e,t,n){var r=VC(e),o=qC(e);return t>=0&&n>=0&&t<=r&&n<=o},YC=function(e,t,n,r){var o=$C(t);return{x:n-(e?o.left+t.dom().clientLeft+GC(t):0),y:r-(e?o.top+t.dom().clientTop+WC(t):0)}},KC=function(e,t,n){var r=Wn.fromDom(e.getBody()),o=e.inline?r:hr(r),i=YC(e.inline,o,t,n);return XC(o,i.x,i.y)},JC=function(e){return Te.from(e).map(Wn.fromDom)},QC=function(e){var t=e.inline?e.getBody():e.getContentAreaContainer();return JC(t).map(function(e){return fr(dr(e),e)}).getOr(!1)},ZC=ys.PluginManager,eS=ys.ThemeManager,tS=function(e){var t=[],n=function(){var t=e.theme;return t&&t.getWindowManagerImpl?t.getWindowManagerImpl():D()},r=function(e,t){return function(){return t?t.apply(e,arguments):void 0}},o=function(t){e.fire("OpenWindow",{dialog:t})},i=function(t){e.fire("CloseWindow",{dialog:t})},a=function(e){t.push(e),o(e)},u=function(n){i(n),t=Je(t,function(e){return e!==n}),0===t.length&&e.focus()},s=function(){return Te.from(t[t.length-1])},c=function(t){e.editorManager.setActive(e),Xb(e);var n=t();return a(n),n},l=function(e,t){return c(function(){return n().open(e,t,u)})},f=function(e){return c(function(){return n().openUrl(e,u)})},d=function(e,t,o){n().alert(e,r(o||this,t))},p=function(e,t,o){n().confirm(e,r(o||this,t))},h=function(){s().each(function(e){n().close(e),u(e)})};return e.on("remove",function(){Xe(t,function(e){n().close(e)})}),{open:l,openUrl:f,alert:d,confirm:p,close:h}},nS=function(e,t){e.notificationManager.open({type:"error",text:t})},rS=function(e,t){e._skinLoaded?nS(e,t):e.on("SkinLoaded",function(){nS(e,t)})},oS=function(e,t){rS(e,bs.translate(["Failed to upload image: {0}",t]))},iS=function(e,t,r){nC(e,t,{message:r}),n.console.error(r)},aS=function(e,t,n){return n?"Failed to load "+e+": "+n+" from url "+t:"Failed to load "+e+" url: "+t},uS=function(e,t,n){iS(e,"PluginLoadError",aS("plugin",t,n))},sS=function(e,t,n){iS(e,"IconsLoadError",aS("icons",t,n))},cS=function(e,t,n){iS(e,"LanguageLoadError",aS("language",t,n))},lS=function(e,t,n){var r=bs.translate(["Failed to initialize plugin: {0}",t]);fS(r,n),rS(e,r)},fS=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var o=n.window.console;o&&(o.error?o.error.apply(o,i([e],t)):o.log.apply(o,i([e],t)))},dS=function(e){return/^[a-z0-9\-]+$/i.test(e)},pS=function(e){var t=Ff(e),n=e.editorManager.baseURL+"/skins/content",r=e.editorManager.suffix,o="content"+r+".css",i=!0===e.inline;return $e(t,function(t){return dS(t)&&!i?n+"/"+t+"/"+o:e.documentBaseURI.toAbsolute(t)})},hS=function(e){e.contentCSS=e.contentCSS.concat(pS(e))},mS=function(e,t){var n=function(t,n){if(!ze(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n);var r=t.dom();_o(r)&&(r.style[e]=n+"px")},r=function(n){var r=t(n);if(r<=0||null===r){var o=Do(n,e);return parseFloat(o)||0}return r},o=r,i=function(e,t){return Ze(t,function(t,n){var r=Do(e,n),o=void 0===r?0:parseInt(r,10);return isNaN(o)?t:t+o},0)};return{set:n,get:r,getOuter:o,aggregate:i,max:function(e,t,n){var r=i(e,n);return t>r?t-r:0}}}("height",function(e){var t=e.dom();return qr(e)?t.getBoundingClientRect().height:t.offsetHeight}),gS=function(e){return mS.get(e)},vS=function(e,t){return e.view(t).fold(ve([]),function(t){var n=e.owner(t);return[t].concat(vS(e,n))})},bS=function(e,t){var n=t.owner(e);return vS(t,n)},yS=function(e){return(e.dom()===n.document?Te.none():Te.from(e.dom().defaultView.frameElement)).map(Wn.fromDom)},wS=function(e){return dr(e)},xS=Object.freeze({__proto__:null,view:yS,owner:wS}),_S=function(e){var t=Wn.fromDom(n.document),r=Jr(t),o=bS(e,xS),i=Kr(e),a=Qe(o,function(e,t){var n=Kr(t);return{left:e.left+n.left(),top:e.top+n.top()}},{left:0,top:0});return Gr(a.left+i.left()+r.left(),a.top+i.top()+r.top())},CS=function(e){return"textarea"===Gn(e)},SS=function(e,t){return e.fire("ScrollIntoView",t).isDefaultPrevented()},ES=function(e,t){e.fire("AfterScrollIntoView",t)},kS=function(e,t){var n=Cr(e);if(0===n.length||CS(e))return{element:e,offset:t};if(t<n.length&&!CS(n[t]))return{element:n[t],offset:0};var r=n[n.length-1];return CS(r)?{element:e,offset:t}:"img"===Gn(r)?{element:r,offset:1}:Jn(r)?{element:r,offset:rm(r).length}:{element:r,offset:Cr(r).length}},TS=function(e,t){var n=Yr(e),r=gS(e);return{element:e,bottom:n.top()+r,height:r,pos:n,cleanup:t}},NS=function(e,t){var n=kS(e,t),r=Wn.fromHtml('<span data-mce-bogus="all">\ufeff</span>');return Rr(n.element,r),TS(r,function(){return Ur(r)})},OS=function(e){return TS(Wn.fromDom(e),he)},AS=function(e,t,n,r){RS(e,function(o,i){return MS(e,t,n,r)},n)},DS=function(e,t,n,r,o){var i={elm:r.element.dom(),alignToTop:o};if(!SS(e,i)){n(t,Jr(t).top(),r,o),ES(e,i)}},MS=function(e,t,n,r){var o=Wn.fromDom(e.getBody()),i=Wn.fromDom(e.getDoc());Po(o);var a=NS(Wn.fromDom(n.startContainer),n.startOffset);DS(e,i,t,a,r),a.cleanup()},IS=function(e,t,n,r){var o=Wn.fromDom(e.getDoc());DS(e,o,n,OS(t),r)},RS=function(e,t,n){var r=n.startContainer,o=n.startOffset,i=n.endContainer,a=n.endOffset;t(Wn.fromDom(r),Wn.fromDom(i));var u=e.dom.createRng();u.setStart(r,o),u.setEnd(i,a),e.selection.setRng(n)},PS=function(e,t,n,r){var o=e.pos;if(n)Qr(o.left(),o.top(),r);else{var i=o.top()-t+e.height;Qr(o.left(),i,r)}},LS=function(e,t,n,r,o){var i=n+t,a=r.pos.top(),u=r.bottom,s=u-a>=n;if(a<t)PS(r,n,!1!==o,e);else if(a>i){var c=s?!1!==o:!0===o;PS(r,n,c,e)}else u>i&&!s&&PS(r,n,!0===o,e)},jS=function(e,t,n,r){var o=e.dom().defaultView.innerHeight;LS(e,t,o,n,r)},BS=function(e,t,r,o){var i=e.dom().defaultView.innerHeight;LS(e,t,i,r,o);var a=_S(r.element),u=no(n.window);a.top()<u.y?Zr(r.element,!1!==o):a.top()>u.bottom&&Zr(r.element,!0===o)},zS=function(e,t,n){return AS(e,jS,t,n)},FS=function(e,t,n){return IS(e,t,jS,n)},HS=function(e,t,n){return AS(e,BS,t,n)},US=function(e,t,n){return IS(e,t,BS,n)},VS=function(e,t,n){(e.inline?FS:US)(e,t,n)},qS=function(e,t,n){(e.inline?zS:HS)(e,t,n)},WS=function(e){return wo(e)||xo(e)},GS=function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null},$S=function(e,t,n){var r,o=n.elementFromPoint(e,t),i=n.body.createTextRange();if(o&&"HTML"!==o.tagName||(o=n.body),i.moveToElementText(o),r=zn.toArray(i.getClientRects()),r=r.sort(function(e,n){return e=Math.abs(Math.max(e.top-t,e.bottom-t)),n=Math.abs(Math.max(n.top-t,n.bottom-t)),e-n}),r.length>0){t=(r[0].bottom+r[0].top)/2;try{return i.moveToPoint(e,t),i.collapse(!0),i}catch(e){}}return null},XS=function(e,t){var n=e&&e.parentElement?e.parentElement():null;return xo(GS(n,t,WS))?null:e},YS=function(e,t,n){var r,o,i=n;if(i.caretPositionFromPoint)(o=i.caretPositionFromPoint(e,t))&&(r=n.createRange(),r.setStart(o.offsetNode,o.offset),r.collapse(!0));else if(n.caretRangeFromPoint)r=n.caretRangeFromPoint(e,t);else if(i.body.createTextRange){r=i.body.createTextRange();try{r.moveToPoint(e,t),r.collapse(!0)}catch(o){r=$S(e,t,n)}return XS(r,n.body)}return r},KS=function(e,t,n,r,o){var i=n?t.startContainer:t.endContainer,a=n?t.startOffset:t.endOffset;return Te.from(i).map(Wn.fromDom).map(function(e){return r&&t.collapsed?e:Sr(e,o(e,a)).getOr(e)}).bind(function(e){return Kn(e)?Te.some(e):gr(e).filter(Kn)}).map(function(e){return e.dom()}).getOr(e)},JS=function(e,t,n){return KS(e,t,!0,n,function(e,t){return Math.min(Tr(e),t)})},QS=function(e,t,n){return KS(e,t,!1,n,function(e,t){return t>0?t-1:t})},ZS=function(e,t){for(var n=e;e&&mo(e)&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||n},eE=function(e,t){var n,r,o;if(!t)return e;r=t.startContainer,o=t.endContainer;var i=t.startOffset,a=t.endOffset;return n=t.commonAncestorContainer,!t.collapsed&&(r===o&&a-i<2&&r.hasChildNodes()&&(n=r.childNodes[i]),3===r.nodeType&&3===o.nodeType&&(r=r.length===i?ZS(r.nextSibling,!0):r.parentNode,o=0===a?ZS(o.previousSibling,!1):o.parentNode,r&&r===o))?r:n&&3===n.nodeType?n.parentNode:n},tE=function(e,t,n,r){var o,i=[],a=e.getRoot();if(n=e.getParent(n||JS(a,t,t.collapsed),e.isBlock),r=e.getParent(r||QS(a,t,t.collapsed),e.isBlock),n&&n!==a&&i.push(n),n&&r&&n!==r){o=n;for(var u=new mu(n,a);(o=u.next())&&o!==r;)e.isBlock(o)&&i.push(o)}return r&&n!==r&&r!==a&&i.push(r),i},nE=function(e,t,n){return Te.from(t).map(function(t){var r=e.nodeIndex(t),o=e.createRng();return o.setStart(t.parentNode,r),o.setEnd(t.parentNode,r+1),n&&(Qh(e,o,t,!0),Qh(e,o,t,!1)),o})},rE=function(e,t){void 0===t&&(t={});var n=t.format?t.format:"html";return U_(e,n,t)},oE=function(e,t){return e&&t&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset},iE=function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null},aE=function(e,t,n){return null!==iE(e,t,n)},uE=function(e,t,n){return aE(e,t,function(e){return e.nodeName===n})},sE=function(e){return e&&"TABLE"===e.nodeName},cE=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},lE=function(e,t){return hc(e)&&!1===aE(e,t,Pp)},fE=function(e,t,n){for(var r=new mu(t,e.getParent(t.parentNode,e.isBlock)||e.getRoot());t=r[n?"prev":"next"]();)if(yo(t))return!0},dE=function(e,t){return e.previousSibling&&e.previousSibling.nodeName===t},pE=function(e,t){for(;t&&t!==e;){if(xo(t))return!0;t=t.parentNode}return!1},hE=function(e,t,n,r,o){var i,a,u=e.getRoot(),s=e.schema.getNonEmptyElements(),c=e.getParent(o.parentNode,e.isBlock)||u;if(r&&yo(o)&&t&&e.isEmpty(c))return Te.some(T(o.parentNode,e.nodeIndex(o)));for(var l=new mu(o,c);a=l[r?"prev":"next"]();){if("false"===e.getContentEditableParent(a)||lE(a,u))return Te.none();if(mo(a)&&a.nodeValue.length>0)return!1===uE(a,u,"A")?Te.some(T(a,r?a.nodeValue.length:0)):Te.none();if(e.isBlock(a)||s[a.nodeName.toLowerCase()])return Te.none();i=a}return n&&i?Te.some(T(i,0)):Te.none()},mE=function(e,t,n,r){var o,i,a,u,s=e.getRoot(),c=!1;o=r[(n?"start":"end")+"Container"],i=r[(n?"start":"end")+"Offset"];var l=io(o)&&i===o.childNodes.length,f=e.schema.getNonEmptyElements();if(u=n,hc(o))return Te.none();if(io(o)&&i>o.childNodes.length-1&&(u=!1),vo(o)&&(o=s,i=0),o===s){if(u&&(a=o.childNodes[i>0?i-1:0])){if(hc(a))return Te.none();if(f[a.nodeName]||sE(a))return Te.none()}if(o.hasChildNodes()){if(i=Math.min(!u&&i>0?i-1:i,o.childNodes.length-1),o=o.childNodes[i],i=mo(o)&&l?o.data.length:0,!t&&o===s.lastChild&&sE(o))return Te.none();if(pE(s,o)||hc(o))return Te.none();if(o.hasChildNodes()&&!1===sE(o)){a=o;var d=new mu(o,s);do{if(xo(a)||hc(a)){c=!1;break}if(mo(a)&&a.nodeValue.length>0){i=u?0:a.nodeValue.length,o=a,c=!0;break}if(f[a.nodeName.toLowerCase()]&&!cE(a)){i=e.nodeIndex(a),o=a.parentNode,u||i++,c=!0;break}}while(a=u?d.next():d.prev())}}}return t&&(mo(o)&&0===i&&hE(e,l,t,!0,o).each(function(e){o=e.container(),i=e.offset(),c=!0}),io(o)&&(a=o.childNodes[i],a||(a=o.childNodes[i-1]),!a||!yo(a)||dE(a,"A")||fE(e,a,!1)||fE(e,a,!0)||hE(e,l,t,!0,a).each(function(e){o=e.container(),i=e.offset(),c=!0}))),u&&!t&&mo(o)&&i===o.nodeValue.length&&hE(e,l,t,!1,o).each(function(e){o=e.container(),i=e.offset(),c=!0}),c?Te.some(T(o,i)):Te.none()},gE=function(e,t){var n=t.collapsed,r=t.cloneRange(),o=T.fromRangeStart(t);return mE(e,n,!0,r).each(function(e){n&&T.isAbove(o,e)||r.setStart(e.container(),e.offset())}),n||mE(e,n,!1,r).each(function(e){r.setEnd(e.container(),e.offset())}),n&&r.collapse(!0),oE(t,r)?Te.none():Te.some(r)},vE=function(e,t){e.insertData(0,t)},bE=function(e){return 0===e.dom().length?(Ur(e),Te.none()):Te.some(e)},yE=function(e,t){var n=Te.from(t.firstChild).map(Wn.fromDom),r=Te.from(t.lastChild).map(Wn.fromDom);e.deleteContents(),e.insertNode(t);var o=n.bind(yr).filter(Jn).bind(bE),i=r.bind(wr).filter(Jn).bind(bE);Tc(o,n.filter(Jn),function(e,t){vE(t.dom(),e.dom().data),Ur(e)}),Tc(i,r.filter(Jn),function(t,n){var r=n.dom().length;n.dom().appendData(t.dom().data),e.setEnd(n.dom(),r),Ur(t)}),e.collapse(!1)},wE=function(e,t){return Lt(Lt({format:"html"},e),{set:!0,selection:!0,content:t})},xE=function(e,t){if("raw"!==t.format){var n=e.parser.parse(t.content,Lt({isRootContent:!0,forced_root_block:!1},t));return ym({validate:e.validate},e.schema).serialize(n)}return t.content},_E=function(e,t,n){void 0===n&&(n={});var r=wE(n,t);if(!r.no_events&&(r=e.fire("BeforeSetContent",r),r.isDefaultPrevented()))return void e.fire("SetContent",r);n.content=xE(e,r);var o=e.selection.getRng();yE(o,o.createContextualFragment(n.content)),e.selection.setRng(o),qS(e,o),r.no_events||e.fire("SetContent",r)};!function(e){e.isBookmarkNode=rh}(M||(M={}));var CE,SE=M,EE=function(e,t,n){if(n.collapsed)return!1;if(kn.browser.isIE()&&n.startOffset===n.endOffset-1&&n.startContainer===n.endContainer){var r=n.startContainer.childNodes[n.startOffset];if(io(r))return Ge(r.getClientRects(),function(n){return jc(n,e,t)})}return Ge(n.getClientRects(),function(n){return jc(n,e,t)})},kE={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,END:35,HOME:36,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||this.metaKeyPressed(e)},metaKeyPressed:function(e){return kn.mac?e.metaKey:e.ctrlKey&&!e.altKey}},TE=xo,NE=wo,OE=function(e,t){for(;t&&t!==e;){if(NE(t)||TE(t))return t;t=t.parentNode}return null},AE=function(e,t){var r,o,i,a,u,s,c,l,f,d,p,h,m,g,v=t.dom,b=zn.each,y=t.getDoc(),w=n.document,x=Math.abs,_=Math.round,C=t.getBody(),S={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},E=function(e){return e&&("IMG"===e.nodeName||t.dom.is(e,"figure.image"))},k=function(e,t){if("longpress"===e.type||0===e.type.indexOf("touch")){var n=e.touches[0];return E(e.target)&&!EE(n.clientX,n.clientY,t)}return E(e.target)&&!EE(e.clientX,e.clientY,t)},T=function(e){var n=e.target;k(e,t.selection.getRng())&&!e.isDefaultPrevented()&&t.selection.select(n)},N=function(e){return t.dom.is(e,"figure.image")?e.querySelector("img"):e},O=function(e){var n=Vf(t);return!1!==n&&!kn.iOS&&("string"!=typeof n&&(n="table,img,figure.image,div"),"false"!==e.getAttribute("data-mce-resize")&&(e!==t.getBody()&&or(Wn.fromDom(e),n)))},A=function(e,t,n){v.setStyles(N(e),{width:t,height:n})},D=function(e){var n,b,y,w,S;n=e.screenX-u,b=e.screenY-s,p=n*a[2]+c,h=b*a[3]+l,p=p<5?5:p,h=h<5?5:h,y=E(r)&&!1!==qf(t)?!kE.modifierPressed(e):kE.modifierPressed(e),y&&(x(n)>x(b)?(h=_(p*f),p=_(h/f)):(p=_(h/f),h=_(p*f))),A(o,p,h),w=a.startPos.x+n,S=a.startPos.y+b,w=w>0?w:0,S=S>0?S:0,v.setStyles(i,{left:w,top:S,display:"block"}),i.innerHTML=p+" &times; "+h,a[2]<0&&o.clientWidth<=p&&v.setStyle(o,"left",void 0+(c-p)),a[3]<0&&o.clientHeight<=h&&v.setStyle(o,"top",void 0+(l-h)),n=C.scrollWidth-m,b=C.scrollHeight-g,n+b!==0&&v.setStyles(i,{left:w-n,top:S-b}),d||(K_(t,r,c,l),d=!0)},M=function(){var e=d;d=!1;var n=function(e,n){n&&(r.style[e]||!t.schema.isValid(r.nodeName.toLowerCase(),e)?v.setStyle(N(r),e,n):v.setAttrib(N(r),e,""+n))};e&&(n("width",p),n("height",h)),v.unbind(y,"mousemove",D),v.unbind(y,"mouseup",M),w!==y&&(v.unbind(w,"mousemove",D),v.unbind(w,"mouseup",M)),v.remove(o),v.remove(i),I(r),e&&(J_(t,r,p,h),v.setAttrib(r,"style",v.getAttrib(r,"style"))),t.nodeChanged()},I=function(e){R(),j();var n=v.getPos(e,C),d=n.x,x=n.y,_=e.getBoundingClientRect(),E=_.width||_.right-_.left,k=_.height||_.bottom-_.top;r!==e&&(r=e,p=h=0);var T=t.fire("ObjectSelected",{target:e});O(e)&&!T.isDefaultPrevented()?b(S,function(e,t){var n,p=function(t){u=t.screenX,s=t.screenY,c=N(r).clientWidth,l=N(r).clientHeight,f=l/c,a=e,e.startPos={x:E*e[0]+d,y:k*e[1]+x},m=C.scrollWidth,g=C.scrollHeight,o=r.cloneNode(!0),v.addClass(o,"mce-clonedresizable"),v.setAttrib(o,"data-mce-bogus","all"),o.contentEditable=!1,o.unSelectabe=!0,v.setStyles(o,{left:d,top:x,margin:0}),A(o,E,k),o.removeAttribute("data-mce-selected"),C.appendChild(o),v.bind(y,"mousemove",D),v.bind(y,"mouseup",M),w!==y&&(v.bind(w,"mousemove",D),v.bind(w,"mouseup",M)),i=v.add(C,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},c+" &times; "+l)};n=v.get("mceResizeHandle"+t),n&&v.remove(n),n=v.add(C,"div",{id:"mceResizeHandle"+t,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+t+"-resize; margin:0; padding:0"}),11===kn.ie&&(n.contentEditable=!1),v.bind(n,"mousedown",function(e){e.stopImmediatePropagation(),e.preventDefault(),p(e)}),e.elm=n,v.setStyles(n,{left:E*e[0]+d-n.offsetWidth/2,top:k*e[1]+x-n.offsetHeight/2})}):R(),r.setAttribute("data-mce-selected","1")},R=function(){j(),r&&r.removeAttribute("data-mce-selected"),mt(S,function(e,t){var n=v.get("mceResizeHandle"+t);n&&(v.unbind(n),v.remove(n))})},P=function(n){var r,o,i=function(e,t){if(e)do{if(e===t)return!0}while(e=e.parentNode)};if(!d&&!t.removed){if(b(v.select("img[data-mce-selected],hr[data-mce-selected]"),function(e){e.removeAttribute("data-mce-selected")}),o="mousedown"===n.type?n.target:e.getNode(),o=v.$(o).closest("table,img,figure.image,hr")[0],i(o,C)&&(B(),r=e.getStart(!0),i(r,o)&&i(e.getEnd(!0),o)))return void I(o);R()}},L=function(e){return TE(OE(t.getBody(),e))},j=function(){mt(S,function(e){e.elm&&(v.unbind(e.elm),delete e.elm)})},B=function(){try{t.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(e){}};return t.on("init",function(){if(B(),kn.browser.isIE()||kn.browser.isEdge()){t.on("mousedown click",function(e){var n=e.target,r=n.nodeName;d||!/^(TABLE|IMG|HR)$/.test(r)||L(n)||(2!==e.button&&t.selection.select(n,"TABLE"===r),"mousedown"===e.type&&t.nodeChanged())});var e=function(e){var n=function(e){qu.setEditorTimeout(t,function(){return t.selection.select(e)})};if(L(e.target))return e.preventDefault(),void n(e.target);/^(TABLE|IMG|HR)$/.test(e.target.nodeName)&&(e.preventDefault(),"IMG"===e.target.tagName&&n(e.target))};v.bind(C,"mscontrolselect",e),t.on("remove",function(){return v.unbind(C,"mscontrolselect",e)})}var n=qu.throttle(function(e){t.composing||P(e)});t.on("nodechange ResizeEditor ResizeWindow ResizeContent drop FullscreenStateChanged",n),t.on("keyup compositionend",function(e){r&&"TABLE"===r.nodeName&&n(e)}),t.on("hide blur",R),t.on("contextmenu longpress",T,!0)}),t.on("remove",j),{isResizable:O,showResizeRect:I,hideResizeRect:R,updateResizeRect:P,destroy:function(){r=o=null}}},DE=function(e,t,n){if(e&&e.hasOwnProperty(t)){var r=Je(e[t],function(e){return e!==n});0===r.length?delete e[t]:e[t]=r}},ME=function(e){return!!e.select},IE=function(e){return!(!e||!e.ownerDocument)&&fr(Wn.fromDom(e.ownerDocument),Wn.fromDom(e))},RE=function(e){return!!e&&(!!ME(e)||IE(e.startContainer)&&IE(e.endContainer))},PE=function(e,t,n,r){var o,i,a=I(e,r).selectorChangedWithUnbind,u=function(t,n){var o=e.createRng();t?(o.setStart(t,n),o.setEnd(t,n),y(o),g(!1)):(Qh(e,o,r.getBody(),!0),y(o))},s=function(e){return rE(r,e)},c=function(e,t){return _E(r,e,t)},l=function(e){return JS(r.getBody(),b(),e)},f=function(e){return QS(r.getBody(),b(),e)},d=function(e,t){return M.getBookmark(e,t)},p=function(e){return M.moveToBookmark(e)},h=function(t,n){return nE(e,t,n).each(y),t},m=function(){var e=b(),t=v();return!(!e||e.item)&&(e.compareEndPoints?0===e.compareEndPoints("StartToEnd",e):!t||e.collapsed)},g=function(e){var t=b();t.collapse(!!e),y(t)},v=function(){return t.getSelection?t.getSelection():t.document.selection},b=function(){var n,a,u,s=function(e,t,n){try{return t.compareBoundaryPoints(e,n)}catch(e){return-1}};if(!t)return null;var c=t.document;if(void 0===c||null===c)return null;if(void 0!==r.bookmark&&!1===Cy(r)){var l=Kb(r);if(l.isSome())return l.map(function(e){return ex(r,[e])[0]}).getOr(c.createRange())}try{(n=v())&&!oo(n.anchorNode)&&(a=n.rangeCount>0?n.getRangeAt(0):n.createRange?n.createRange():c.createRange())}catch(e){}return a=ex(r,[a])[0],a||(a=c.createRange?c.createRange():c.body.createTextRange()),a.setStart&&9===a.startContainer.nodeType&&a.collapsed&&(u=e.getRoot(),a.setStart(u,0),a.setEnd(u,0)),o&&i&&(0===s(a.START_TO_START,a,o)&&0===s(a.END_TO_END,a,o)?a=i:(o=null,i=null)),a},y=function(e,t){var n;if(RE(e)){var a=ME(e)?e:null;if(a){i=null;try{a.select()}catch(e){}}else{var u=v();if(e=r.fire("SetSelectionRange",{range:e,forward:t}).range,u){i=e;try{u.removeAllRanges(),u.addRange(e)}catch(e){}!1===t&&u.extend&&(u.collapse(e.endContainer,e.endOffset),u.extend(e.startContainer,e.startOffset)),o=u.rangeCount>0?u.getRangeAt(0):null}e.collapsed||e.startContainer!==e.endContainer||!u.setBaseAndExtent||kn.ie||e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()&&(n=e.startContainer.childNodes[e.startOffset])&&"IMG"===n.tagName&&(u.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset),u.anchorNode===e.startContainer&&u.focusNode===e.endContainer||u.setBaseAndExtent(n,0,n,1)),r.fire("AfterSetSelectionRange",{range:e,forward:t})}}},w=function(t){return c(e.getOuterHTML(t)),t},x=function(){return eE(r.getBody(),b())},_=function(t,n){return tE(e,b(),t,n)},C=function(){var t=v();if(!t||!t.anchorNode||!t.focusNode)return!0;var n=e.createRng();n.setStart(t.anchorNode,t.anchorOffset),n.collapse(!0);var r=e.createRng();return r.setStart(t.focusNode,t.focusOffset),r.collapse(!0),n.compareBoundaryPoints(n.START_TO_START,r)<=0},S=function(){var t=b(),n=v();if(!Uh(n)&&Zh(r)){var o=gE(e,t);return o.each(function(e){y(e,C())}),o.getOr(t)}return t},E=function(e,t){return a(e,t),D},k=function(){for(var t,n=e.getRoot();n&&"BODY"!==n.nodeName;){if(n.scrollHeight>n.clientHeight){t=n;break}n=n.parentNode}return t},T=function(e,t){return VS(r,e,t)},N=function(e,t){return y(YS(e,t,r.getDoc()))},O=function(){var e=b();return e.collapsed?El.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()},A=function(){t=o=i=null,R.destroy()},D={bookmarkManager:null,controlSelection:null,dom:e,win:t,serializer:n,editor:r,collapse:g,setCursorLocation:u,getContent:s,setContent:c,getBookmark:d,moveToBookmark:p,select:h,isCollapsed:m,isForward:C,setNode:w,getNode:x,getSel:v,setRng:y,getRng:b,getStart:l,getEnd:f,getSelectedBlocks:_,normalize:S,selectorChanged:E,selectorChangedWithUnbind:a,getScrollContainer:k,scrollIntoView:T,placeCaretAt:N,getBoundingClientRect:O,destroy:A},M=SE(D),R=AE(D,r);return D.bookmarkManager=M,D.controlSelection=R,D},LE=function(e,t){Xe(t,function(t){e.attr(t,null)})},jE=function(e,t,n){e.addNodeFilter("font",function(e){Xe(e,function(e){var r=t.parse(e.attr("style")),o=e.attr("color"),i=e.attr("face"),a=e.attr("size");o&&(r.color=o),i&&(r["font-family"]=i),a&&(r["font-size"]=n[parseInt(e.attr("size"),10)-1]),e.name="span",e.attr("style",t.serialize(r)),LE(e,["color","face","size"])})})},BE=function(e,t){e.addNodeFilter("strike",function(e){Xe(e,function(e){var n=t.parse(e.attr("style"));n["text-decoration"]="line-through",e.name="span",e.attr("style",t.serialize(n))})})},zE=function(e,t){var n=Vi();t.convert_fonts_to_spans&&jE(e,n,zn.explode(t.font_size_legacy_values)),BE(e,n)},FE=function(e,t){t.inline_styles&&zE(e,t)},HE=function(e){return new ju(function(t,r){var o=function(){r("Cannot convert "+e+" to Blob. Resource might not exist or is inaccessible.")};try{var i=new n.XMLHttpRequest;i.open("GET",e,!0),i.responseType="blob",i.onload=function(){200===this.status?t(this.response):o()},i.onerror=o,i.send()}catch(e){o()}})},UE=function(e){var t,n=decodeURIComponent(e).split(","),r=/data:([^;]+)/.exec(n[0]);return r&&(t=r[1]),{type:t,data:n[1]}},VE=function(e,t){var r;try{r=n.atob(t)}catch(e){return Te.none()}for(var o=new Uint8Array(r.length),i=0;i<o.length;i++)o[i]=r.charCodeAt(i);return Te.some(new n.Blob([o],{type:e}))},qE=function(e){return new ju(function(t){var r=UE(e),o=r.type,i=r.data;VE(o,i).fold(function(){return t(new n.Blob([]))},t)})},WE=function(e){return 0===e.indexOf("blob:")?HE(e):0===e.indexOf("data:")?qE(e):null},GE=function(e){return new ju(function(t){var r=new n.FileReader;r.onloadend=function(){t(r.result)},r.readAsDataURL(e)})},$E=0,XE=function(e){return(e||"blobid")+$E++},YE=function(e,t,n,r){var o,i;if(0===t.src.indexOf("blob:"))return i=e.getByUri(t.src),void(i?n({image:t,blobInfo:i}):WE(t.src).then(function(r){GE(r).then(function(a){o=UE(a).data,i=e.create(XE(),r,o),e.add(i),n({image:t,blobInfo:i})})},function(e){r(e)}));var a=UE(t.src),u=a.data,s=a.type;o=u,i=e.getByData(o,s),i?n({image:t,blobInfo:i}):WE(t.src).then(function(r){i=e.create(XE(),r,o),e.add(i),n({image:t,blobInfo:i})},function(e){r(e)})},KE=function(e){return e?dt(e.getElementsByTagName("img")):[]},JE=function(e,t,n,r){(e.padd_empty_with_br||t.insert)&&n[r.name]?r.empty().append(new gm("br",1)).shortEnded=!0:r.empty().append(new gm("#text",3)).value=" "},QE=function(e){return ZE(e,"#text")&&" "===e.firstChild.value},ZE=function(e,t){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===t},ek=function(e,t){var n=e.getElementRule(t.name);return n&&n.paddEmpty},tk=function(e,t,n,r){return r.isEmpty(t,n,function(t){return ek(e,t)})},nk=function(e,t){return e&&(t[e.name]||"br"===e.name)},rk=function(e){return e.attr("data-mce-bogus")},ok=function(e){return e.attr("src")===kn.transparentSrc||e.attr("data-mce-placeholder")},ik=function(e,t){if(t.images_dataimg_filter){var r=new n.Image;return r.src=e.attr("src"),mt(e.attributes.map,function(e,t){r.setAttribute(t,e)}),t.images_dataimg_filter(r)}return!0},ak=function(e,t){var n=t.blob_cache,r=function(e){var r=e.attr("src");ok(e)||rk(e)||_m(r).filter(function(){return ik(e,t)}).bind(function(e){var t=e.type,r=e.data;return Te.from(n.getByData(r,t)).orThunk(function(){return VE(t,r).map(function(e){var t=n.create(XE(),e,r);return n.add(t),t})})}).each(function(t){e.attr("src",t.blobUri())})};n&&e.addAttributeFilter("src",function(e){return Xe(e,r)})},uk=function(e,t){var n=e.schema;t.remove_trailing_brs&&e.addNodeFilter("br",function(e,r,o){var i,a,u,s,c,l,f,d,p=e.length,h=zn.extend({},n.getBlockElements()),m=n.getNonEmptyElements(),g=n.getWhiteSpaceElements();for(h.body=1,i=0;i<p;i++)if(a=e[i],u=a.parent,h[a.parent.name]&&a===u.lastChild){for(c=a.prev;c;){if("span"!==(l=c.name)||"bookmark"!==c.attr("data-mce-type")){if("br"!==l)break;if("br"===l){a=null;break}}c=c.prev}a&&(a.remove(),tk(n,m,g,u)&&(f=n.getElementRule(u.name))&&(f.removeEmpty?u.remove():f.paddEmpty&&JE(t,o,h,u)))}else{for(s=a;u&&u.firstChild===s&&u.lastChild===s&&(s=u,!h[u.name]);)u=u.parent;s===u&&!0!==t.padd_empty_with_br&&(d=new gm("#text",3),d.value=" ",a.replace(d))}}),e.addAttributeFilter("href",function(e){var n=e.length,r=function(e){return e.split(" ").filter(function(e){return e.length>0}).concat(["noopener"]).sort().join(" ")};if(!t.allow_unsafe_link_target)for(;n--;){var o=e[n];"a"===o.name&&"_blank"===o.attr("target")&&o.attr("rel",function(e){var t=e?zn.trim(e):"";return/\b(noopener)\b/g.test(t)?t:r(t)}(o.attr("rel")))}}),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",function(e){for(var t,n,r,o,i=e.length;i--;)if(o=e[i],"a"===o.name&&o.firstChild&&!o.attr("href")){r=o.parent,t=o.lastChild;do{n=t.prev,r.insert(t,o),t=n}while(t)}}),t.fix_list_elements&&e.addNodeFilter("ul,ol",function(e){for(var t,n,r=e.length;r--;)if(t=e[r],n=t.parent,"ul"===n.name||"ol"===n.name)if(t.prev&&"li"===t.prev.name)t.prev.append(t);else{var o=new gm("li",1);o.attr("style","list-style-type: none"),t.wrap(o)}}),t.validate&&n.getValidClasses()&&e.addAttributeFilter("class",function(e){for(var t,r,o,i,a,u,s,c=e.length,l=n.getValidClasses();c--;){for(t=e[c],r=t.attr("class").split(" "),a="",o=0;o<r.length;o++)i=r[o],s=!1,u=l["*"],u&&u[i]&&(s=!0),u=l[t.name],!s&&u&&u[i]&&(s=!0),s&&(a&&(a+=" "),a+=i);a.length||(a=null),t.attr("class",a)}}),ak(e,t)},sk=zn.makeMap,ck=zn.each,lk=zn.explode,fk=zn.extend,dk=function(e,t){void 0===t&&(t=a());var n={},r=[],o={},i={};e=e||{},e.validate=!("validate"in e)||e.validate,e.root_name=e.root_name||"body";var u=function(e){var n,r,o,i,a,u,c,l,f,d,p,h=sk("tr,td,th,tbody,thead,tfoot,table"),m=t.getNonEmptyElements(),g=t.getWhiteSpaceElements(),v=t.getTextBlockElements(),b=t.getSpecialElements();for(n=0;n<e.length;n++)if(r=e[n],r.parent&&!r.fixed)if(v[r.name]&&"li"===r.parent.name){for(d=r.next;d&&v[d.name];)d.name="li",d.fixed=!0,r.parent.insert(d,r.parent),d=d.next;r.unwrap(r)}else{for(i=[r],o=r.parent;o&&!t.isValidChild(o.name,r.name)&&!h[o.name];o=o.parent)i.push(o);if(o&&i.length>1){for(i.reverse(),a=u=s(i[0].clone()),f=0;f<i.length-1;f++){for(t.isValidChild(u.name,i[f].name)?(c=s(i[f].clone()),u.append(c)):c=u,l=i[f].firstChild;l&&l!==i[f+1];)p=l.next,c.append(l),l=p;u=c}tk(t,m,g,a)?o.insert(r,i[0],!0):(o.insert(a,i[0],!0),o.insert(r,a)),o=i[0],(tk(t,m,g,o)||ZE(o,"br"))&&o.empty().remove()}else if(r.parent){if("li"===r.name){if((d=r.prev)&&("ul"===d.name||"ul"===d.name)){d.append(r);continue}if((d=r.next)&&("ul"===d.name||"ul"===d.name)){d.insert(r,d.firstChild,!0);continue}r.wrap(s(new gm("ul",1)));continue}t.isValidChild(r.parent.name,"div")&&t.isValidChild("div",r.name)?r.wrap(s(new gm("div",1))):b[r.name]?r.empty().remove():r.unwrap()}}},s=function(e){var t,a,u;a=e.name,a in n&&(u=o[a],u?u.push(e):o[a]=[e]),t=r.length;for(;t--;)(a=r[t].name)in e.attributes.map&&(u=i[a],u?u.push(e):i[a]=[e]);return e},c=function(e,t){ck(lk(e),function(e){var r=n[e];r||(n[e]=r=[]),r.push(t)})},l=function(){var e=[];for(var t in n)n.hasOwnProperty(t)&&e.push({name:t,callbacks:n[t]});return e},f=function(e,t){ck(lk(e),function(e){var n;for(n=0;n<r.length;n++)if(r[n].name===e)return void r[n].callbacks.push(t);r.push({name:e,callbacks:[t]})})},d=function(){return[].concat(r)},p=function(a,s){var c,l,f,d,p,h,m,g,v,b=[];s=s||{},o={},i={};var y=fk(sk("script,style,head,html,body,title,meta,param"),t.getBlockElements()),w=t.getNonEmptyElements(),x=t.children,_=e.validate,C="forced_root_block"in s?s.forced_root_block:e.forced_root_block,S=function(e){return!1===e?"":!0===e?"p":e}(C),E=t.getWhiteSpaceElements(),k=/^[ \t\r\n]+/,T=/[ \t\r\n]+$/,N=/[ \t\r\n]+/g,O=/^[ \t\r\n]+$/;g=E.hasOwnProperty(s.context)||E.hasOwnProperty(e.root_name);var A=function(e,t){var r,i=new gm(e,t);return e in n&&(r=o[e],r?r.push(i):o[e]=[i]),i},D=function(e){var n,r,o,i,a=t.getBlockElements();for(n=e.prev;n&&3===n.type;){if(o=n.value.replace(T,""),o.length>0)return void(n.value=o);if(r=n.next){if(3===r.type&&r.value.length){n=n.prev;continue}if(!a[r.name]&&"script"!==r.name&&"style"!==r.name){n=n.prev;continue}}i=n.prev,n.remove(),n=i}},M=Am({validate:_,allow_html_data_urls:e.allow_html_data_urls,allow_script_urls:e.allow_script_urls,allow_conditional_comments:e.allow_conditional_comments,preserve_cdata:e.preserve_cdata,self_closing_elements:function(e){var t,n={};for(t in e)"li"!==t&&"p"!==t&&(n[t]=e[t]);return n}(t.getSelfClosingElements()),cdata:function(e){v.append(A("#cdata",4)).value=e},text:function(e,t){var n;g||(e=e.replace(N," "),nk(v.lastChild,y)&&(e=e.replace(k,""))),0!==e.length&&(n=A("#text",3),n.raw=!!t,v.append(n).value=e)},comment:function(e){v.append(A("#comment",8)).value=e},pi:function(e,t){v.append(A(e,7)).value=t,D(v)},doctype:function(e){v.append(A("#doctype",10)).value=e,D(v)},start:function(e,n,o){var a,u,s,c,l=_?t.getElementRule(e):{};if(l){for(a=A(l.outputName||e,1),a.attributes=n,a.shortEnded=o,v.append(a),c=x[v.name],c&&x[a.name]&&!c[a.name]&&b.push(a),u=r.length;u--;)(s=r[u].name)in n.map&&(h=i[s],h?h.push(a):i[s]=[a]);y[e]&&D(a),o||(v=a),!g&&E[e]&&(g=!0)}},end:function(n){var r,o,i,a,u=_?t.getElementRule(n):{};if(u){if(y[n]&&!g){if((r=v.firstChild)&&3===r.type)if(o=r.value.replace(k,""),o.length>0)r.value=o,r=r.next;else for(i=r.next,r.remove(),r=i;r&&3===r.type;)o=r.value,i=r.next,(0===o.length||O.test(o))&&(r.remove(),r=i),r=i;if((r=v.lastChild)&&3===r.type)if(o=r.value.replace(T,""),o.length>0)r.value=o,r=r.prev;else for(i=r.prev,r.remove(),r=i;r&&3===r.type;)o=r.value,i=r.prev,(0===o.length||O.test(o))&&(r.remove(),r=i),r=i}if(g&&E[n]&&(g=!1),u.removeEmpty&&tk(t,w,E,v))return a=v.parent,y[v.name]?v.empty().remove():v.unwrap(),void(v=a);u.paddEmpty&&(QE(v)||tk(t,w,E,v))&&JE(e,s,y,v),v=v.parent}}},t),I=v=new gm(s.context||e.root_name,11);if(M.parse(a,s.format),_&&b.length&&(s.context?s.invalid=!0:u(b)),S&&("body"===I.name||s.isRootContent)&&function(){var n,r,o=I.firstChild,i=function(e){e&&(o=e.firstChild,o&&3===o.type&&(o.value=o.value.replace(k,"")),(o=e.lastChild)&&3===o.type&&(o.value=o.value.replace(T,"")))};if(t.isValidChild(I.name,S.toLowerCase())){for(;o;)n=o.next,3===o.type||1===o.type&&"p"!==o.name&&!y[o.name]&&!o.attr("data-mce-type")?r?r.append(o):(r=A(S,1),r.attr(e.forced_root_block_attrs),I.insert(r,o),r.append(o)):(i(r),r=null),o=n;i(r)}}(),!s.invalid){for(m in o)if(o.hasOwnProperty(m)){for(h=n[m],c=o[m],d=c.length;d--;)c[d].parent||c.splice(d,1);for(l=0,f=h.length;l<f;l++)h[l](c,m,s)}for(l=0,f=r.length;l<f;l++)if(h=r[l],h.name in i){for(c=i[h.name],d=c.length;d--;)c[d].parent||c.splice(d,1);for(d=0,p=h.callbacks.length;d<p;d++)h.callbacks[d](c,h.name,s)}}return I},h={schema:t,addAttributeFilter:f,getAttributeFilters:d,addNodeFilter:c,getNodeFilters:l,filterNode:s,parse:p};return uk(h,e),FE(h,e),h},pk=function(e,t,n){e.addAttributeFilter("data-mce-tabindex",function(e,t){for(var n,r=e.length;r--;)n=e[r],n.attr("tabindex",n.attr("data-mce-tabindex")),n.attr(t,null)}),e.addAttributeFilter("src,href,style",function(e,r){for(var o,i,a=e.length,u="data-mce-"+r,s=t.url_converter,c=t.url_converter_scope;a--;)o=e[a],i=o.attr(u),void 0!==i?(o.attr(r,i.length>0?i:null),o.attr(u,null)):(i=o.attr(r),"style"===r?i=n.serializeStyle(n.parseStyle(i),o.name):s&&(i=s.call(c,i,r,o.name)),o.attr(r,i.length>0?i:null))}),e.addAttributeFilter("class",function(e){for(var t,n,r=e.length;r--;)t=e[r],(n=t.attr("class"))&&(n=t.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),t.attr("class",n.length>0?n:null))}),e.addAttributeFilter("data-mce-type",function(e,t,n){for(var r,o=e.length;o--;)if(r=e[o],"bookmark"===r.attr("data-mce-type")&&!n.cleanup){var i=Te.from(r.firstChild).exists(function(e){return!sc(e.value)});i?r.unwrap():r.remove()}}),e.addNodeFilter("noscript",function(e){for(var t,n=e.length;n--;)(t=e[n].firstChild)&&(t.value=Oi.decode(t.value))}),e.addNodeFilter("script,style",function(e,n){for(var r,o,i,a=e.length,u=function(e){return e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")};a--;)r=e[a],o=r.firstChild?r.firstChild.value:"","script"===n?(i=r.attr("type"),i&&r.attr("type","mce-no/type"===i?null:i.replace(/^mce\-/,"")),"xhtml"===t.element_format&&o.length>0&&(r.firstChild.value="// <![CDATA[\n"+u(o)+"\n// ]]>")):"xhtml"===t.element_format&&o.length>0&&(r.firstChild.value="\x3c!--\n"+u(o)+"\n--\x3e")}),e.addNodeFilter("#comment",function(e){for(var r,o=e.length;o--;)r=e[o],t.preserve_cdata&&0===r.value.indexOf("[CDATA[")?(r.name="#cdata",r.type=4,r.value=n.decode(r.value.replace(/^\[CDATA\[|\]\]$/g,""))):0===r.value.indexOf("mce:protected ")&&(r.name="#text",r.type=3,r.raw=!0,r.value=unescape(r.value).substr(14))}),e.addNodeFilter("xml:namespace,input",function(e,t){for(var n,r=e.length;r--;)n=e[r],7===n.type?n.remove():1===n.type&&("input"!==t||n.attr("type")||n.attr("type","text"))}),e.addAttributeFilter("data-mce-type",function(t){Xe(t,function(t){"format-caret"===t.attr("data-mce-type")&&(t.isEmpty(e.schema.getNonEmptyElements())?t.remove():t.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)})},hk=function(e){var t=function(e){return e&&"br"===e.name},n=e.lastChild;if(t(n)){var r=n.prev;t(r)&&(n.remove(),r.remove())}},mk=function(e,t,r){var o,i,a=e.dom;t=t.cloneNode(!0);var u=n.document.implementation;return u.createHTMLDocument&&(o=u.createHTMLDocument(""),zn.each("BODY"===t.nodeName?t.childNodes:[t],function(e){o.body.appendChild(o.importNode(e,!0))}),t="BODY"!==t.nodeName?o.body.firstChild:o.body,i=a.doc,a.doc=o),W_(e,Lt(Lt({},r),{node:t})),i&&(a.doc=i),t},gk=function(e,t){return e&&e.hasEventListeners("PreProcess")&&!t.no_events},vk=function(e,t,n){return gk(e,n)?mk(e,t,n):t},bk=function(e,t,n){-1===zn.inArray(t,n)&&(e.addAttributeFilter(n,function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}),t.push(n))},yk=function(e,t,n){if(!t.no_events&&e){return G_(e,Lt(Lt({},t),{content:n})).content}return n},wk=function(e,t,n){var r=cc(n.getInner?t.innerHTML:e.getOuterHTML(t));return n.selection||si(Wn.fromDom(t))?r:zn.trim(r)},xk=function(e,t,n){var r=n.selection?Lt({forced_root_block:!1},n):n,o=e.parse(t,r);return hk(o),o},_k=function(e,t,n){return ym(e,t).serialize(n)},Ck=function(e,t,n,r,o){var i=_k(t,n,r);return yk(e,o,i)},Sk=function(e,t){var n=["data-mce-selected"],o=t&&t.dom?t.dom:es.DOM,i=t&&t.schema?t.schema:a(e);e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs=!("remove_trailing_brs"in e)||e.remove_trailing_brs;var u=dk(e,i);pk(u,e,o);var s=function(n,r){void 0===r&&(r={});var a=Lt({format:"html"},r),s=vk(t,n,a),c=wk(o,s,a),l=xk(u,c,a);return"tree"===a.format?l:Ck(t,e,i,l,a)};return{schema:i,addNodeFilter:u.addNodeFilter,addAttributeFilter:u.addAttributeFilter,serialize:s,addRules:function(e){i.addValidElements(e)},setRules:function(e){i.setValidElements(e)},addTempAttr:r(bk,u,n),getTempAttrs:function(){return n},getNodeFilters:u.getNodeFilters,getAttributeFilters:u.getAttributeFilters}},Ek=function(e,t){var n=Sk(e,t);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters}},kk=0,Tk=function(){var e=function(){return Math.round(4294967295*Math.random()).toString(36)};return"s"+(new Date).getTime().toString(36)+e()+e()+e()},Nk=function(e){return e+kk+++Tk()},Ok=function(){var e=[],t=function(e){return{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"}[e.toLowerCase()]||"dat"},r=function(e,t,n,r){if(Me(e)){return o({id:e,name:r,blob:t,base64:n})}if(Ie(e))return o(e);throw new Error("Unknown input type")},o=function(e){if(!e.blob||!e.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");var r=e.id||Nk("blobid"),o=e.name||r;return{id:ve(r),name:ve(o),filename:ve(o+"."+t(e.blob.type)),blob:ve(e.blob),base64:ve(e.base64),blobUri:ve(e.blobUri||n.URL.createObjectURL(e.blob)),uri:ve(e.uri)}},i=function(t){u(t.id())||e.push(t)},a=function(t){return tt(e,t).getOrUndefined()},u=function(e){return a(function(t){return t.id()===e})};return{create:r,add:i,get:u,getByUri:function(e){return a(function(t){return t.blobUri()===e})},getByData:function(e,t){return a(function(n){return n.base64()===e&&n.blob().type===t})},findFirst:a,removeByUri:function(t){e=Je(e,function(e){return e.blobUri()!==t||(n.URL.revokeObjectURL(e.blobUri()),!1)})},destroy:function(){Xe(e,function(e){n.URL.revokeObjectURL(e.blobUri())}),e=[]}}},Ak=function(e){var t,n,r=Ok(),o=L(),i=[],a=function(t){return function(n){return e.selection?t(n):[]}},u=function(e){return e+(-1===e.indexOf("?")?"?":"&")+(new Date).getTime()},s=function(e,t,n){var r=0;do{-1!==(r=e.indexOf(t,r))&&(e=e.substring(0,r)+n+e.substr(r+t.length),r+=n.length-t.length+1)}while(-1!==r);return e},c=function(e,t,n){return e=s(e,'src="'+t+'"','src="'+n+'"'),e=s(e,'data-mce-src="'+t+'"','data-mce-src="'+n+'"')},l=function(t,n){Xe(e.undoManager.data,function(e){"fragmented"===e.type?e.fragments=$e(e.fragments,function(e){return c(e,t,n)}):e.content=c(e.content,t,n)})},f=function(){return e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})},d=function(t,n){var r=e.convertURL(n,"src");l(t.src,n),e.$(t).attr({src:kf(e)?u(n):n,"data-mce-src":r})},p=function(n){return t||(t=P(o,{url:Af(e),basePath:Df(e),credentials:Mf(e),handler:If(e)})),v().then(a(function(o){var i=$e(o,function(e){return e.blobInfo});return t.upload(i,f).then(a(function(t){var i=$e(t,function(t,n){var i=o[n].blobInfo,a=o[n].image;return t.status&&Tf(e)?(r.removeByUri(a.src),d(a,t.url)):t.error&&oS(e,t.error),{element:a,status:t.status,uploadUri:t.url,blobInfo:i}});return n&&n(i),i}))}))},h=function(t){if(Ef(e))return p(t)},m=function(t){if(!1===it(i,function(e){return e(t)}))return!1;if(0===t.getAttribute("src").indexOf("data:")){return Sf(e)(t)}return!0},g=function(e){i.push(e)},v=function(){return n||(n=R(o,r)),n.findAll(e.getBody(),m).then(a(function(t){return t=Je(t,function(t){return"string"!=typeof t||(rS(e,t),!1)}),Xe(t,function(e){l(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute("data-mce-src")}),t}))},b=function(){r.destroy(),o.destroy(),n=t=null},y=function(t){return t.replace(/src="(blob:[^"]+)"/g,function(t,n){var i=o.getResultUri(n);if(i)return'src="'+i+'"';var a=r.getByUri(n);if(a||(a=Ze(e.editorManager.get(),function(e,t){return e||t.editorUpload&&t.editorUpload.blobCache.getByUri(n)},null)),a){return'src="data:'+a.blob().type+";base64,"+a.base64()+'"'}return t})};return e.on("SetContent",function(){Ef(e)?h():v()}),e.on("RawSaveContent",function(e){e.content=y(e.content)}),e.on("GetContent",function(e){e.source_view||"raw"===e.format||(e.content=y(e.content))}),e.on("PostRender",function(){e.parser.addNodeFilter("img",function(e){Xe(e,function(e){var t=e.attr("src");if(!r.getByUri(t)){var n=o.getResultUri(t);n&&e.attr("src",n)}})})}),{blobCache:r,addFilter:g,uploadImages:p,uploadImagesAuto:h,scanForImages:v,destroy:b}},Dk=function(e,t){var n=is({});e.set({}),t.on("NodeChange",function(r){Mk(t,r.element,n,e.get())})},Mk=function(e,t,n,r){var o=pt(n.get()),i={},a={},u=Je(wh(e.dom,t),function(e){return 1===e.nodeType&&!e.getAttribute("data-mce-bogus")});mt(r,function(t,n){zn.each(u,function(r){return e.formatter.matchNode(r,n,{},t.similar)?(-1===o.indexOf(n)&&(Xe(t.callbacks,function(e){e(!0,{node:r,format:n,parents:u})}),i[n]=t.callbacks),a[n]=t.callbacks,!1):!Fy(e,r,n)&&void 0})});var s=Ik(n.get(),a,t,u);n.set(Lt(Lt({},i),s))},Ik=function(e,t,n,r){return wt(e,function(e,o){return!!Et(t,o)||(Xe(e,function(e){e(!1,{node:n,format:o,parents:r})}),!1)}).t},Rk=function(e,t,n,r){var o=e.get();Xe(t.split(","),function(e){o[e]||(o[e]={similar:r,callbacks:[]}),o[e].callbacks.push(n)}),e.set(o)},Pk=function(e,t,n){var r=e.get();Xe(t.split(","),function(e){r[e].callbacks=Je(r[e].callbacks,function(e){return e!==n}),0===r[e].callbacks.length&&delete r[e]}),e.set(r)},Lk=function(e,t,n,r,o){return null===t.get()&&Dk(t,e),Rk(t,n,r,o),{unbind:function(){return Pk(t,n,r)}}},jk=function(e){var t={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all",preserve_attributes:["class","style"]}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(t,n,r){zn.each(r,function(n,r){e.setAttrib(t,r,n)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return zn.each("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(e){t[e]={block:e,remove:"all"}}),t},Bk=zn.each,zk=es.DOM,Fk=function(e,t){var n,r,o,i=t&&t.schema||a({}),u=function(e,t){t.classes.length&&zk.addClass(e,t.classes.join(" ")),zk.setAttribs(e,t.attrs)},s=function(e){r="string"==typeof e?{name:e,classes:[],attrs:{}}:e;var t=zk.create(r.name);return u(t,r),t},c=function(e,t){var n="string"!=typeof e?e.nodeName.toLowerCase():e,r=i.getElementRule(n),o=r&&r.parentsRequired;return!(!o||!o.length)&&(t&&-1!==zn.inArray(o,t)?t:o[0])},l=function(e,t,n){var r,o,i=t.length>0&&t[0],a=i&&i.name,u=c(e,a);if(u)a===u?(o=t[0],t=t.slice(1)):o=u;else if(i)o=t[0],t=t.slice(1);else if(!n)return e;return o&&(r=s(o),r.appendChild(e)),n&&(r||(r=zk.create("div"),r.appendChild(e)),zn.each(n,function(t){var n=s(t);r.insertBefore(n,e)})),l(r,t,o&&o.siblings)};return e&&e.length?(r=e[0],n=s(r),o=zk.create("div"),o.appendChild(l(n,e.slice(1),r.siblings)),o):""},Hk=function(e){var t,n={classes:[],attrs:{}};return e=n.selector=zn.trim(e),"*"!==e&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(e,t,r,o,i){switch(t){case"#":n.attrs.id=r;break;case".":n.classes.push(r);break;case":":-1!==zn.inArray("checked disabled enabled read-only required".split(" "),r)&&(n.attrs[r]=r)}if("["===o){var a=i.match(/([\w\-]+)(?:\=\"([^\"]+))?/);a&&(n.attrs[a[1]]=a[2])}return""})),n.name=t||"div",n},Uk=function(e){return e&&"string"==typeof e?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),zn.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),function(e){var t=zn.map(e.split(/(?:~\+|~|\+)/),Hk),n=t.pop();return t.length&&(n.siblings=t),n}).reverse()):[]},Vk=function(e,t){var n,r,o,i="",a=Qf(e);if(""===a)return"";var u=function(e){return e.replace(/%(\w+)/g,"")};if("string"==typeof t){if(!(t=e.formatter.get(t)))return;t=t[0]}if("preview"in t){var s=St(t,"preview");if(s.is(!1))return"";a=s.getOr(a)}n=t.block||t.inline||"span";var c=Uk(t.selector);c.length?(c[0].name||(c[0].name=n),n=t.selector,r=Fk(c,e)):r=Fk([n],e);var l=zk.select(n,r)[0]||r.firstChild;return Bk(t.styles,function(e,t){(e=u(e))&&zk.setStyle(l,t,e)}),Bk(t.attributes,function(e,t){(e=u(e))&&zk.setAttrib(l,t,e)}),Bk(t.classes,function(e){e=u(e),zk.hasClass(l,e)||zk.addClass(l,e)}),e.fire("PreviewFormats"),zk.setStyles(r,{position:"absolute",left:-65535}),e.getBody().appendChild(r),o=zk.getStyle(e.getBody(),"fontSize",!0),o=/px$/.test(o)?parseInt(o,10):0,Bk(a.split(" "),function(t){var n=zk.getStyle(l,t,!0);if(!("background-color"===t&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(n)&&(n=zk.getStyle(e.getBody(),t,!0),"#ffffff"===zk.toHex(n).toLowerCase())||"color"===t&&"#000000"===zk.toHex(n).toLowerCase())){if("font-size"===t&&/em|%$/.test(n)){if(0===o)return;n=parseFloat(n)/(/%$/.test(n)?100:1)*o+"px"}"border"===t&&n&&(i+="padding:0 2px;"),i+=t+":"+n+";"}}),e.fire("AfterPreviewFormats"),zk.remove(r),i},qk=function(e){e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(var t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},Wk=function(e){var t=j(e),n=is(null);return qk(e),lw(e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:function(t,n,r){L_(e,t,n,r)},remove:function(t,n,r,o){j_(e,t,n,r,o)},toggle:function(t,n,r){B_(e,t,n,r)},match:r(Wy,e),matchAll:r(Gy,e),matchNode:r(qy,e),canApply:r($y,e),formatChanged:r(Lk,e,n),getCssText:r(Vk,e)}},Gk=function(e,t,n){var r=is(!1),o=function(e){n_(t,!1,n),t.add({},e)};e.on("init",function(){t.add()}),e.on("BeforeExecCommand",function(e){var r=e.command.toLowerCase();"undo"!==r&&"redo"!==r&&"mcerepaint"!==r&&(r_(t,n),t.beforeChange())}),e.on("ExecCommand",function(e){var t=e.command.toLowerCase();"undo"!==t&&"redo"!==t&&"mcerepaint"!==t&&o(e)}),e.on("ObjectResizeStart cut",function(){t.beforeChange()}),e.on("SaveContent ObjectResized blur",o),e.on("dragend",o),e.on("keyup",function(n){var i=n.keyCode;n.isDefaultPrevented()||((i>=33&&i<=36||i>=37&&i<=40||45===i||n.ctrlKey)&&(o(),e.nodeChanged()),46!==i&&8!==i||e.nodeChanged(),r.get()&&t.typing&&!1===e_(Xx(e),t.data[0])&&(!1===e.isDirty()&&(e.setDirty(!0),e.fire("change",{level:t.data[0],lastLevel:null})),e.fire("TypingUndo"),r.set(!1),e.nodeChanged()))}),e.on("keydown",function(e){var i=e.keyCode;if(!e.isDefaultPrevented()){if(i>=33&&i<=36||i>=37&&i<=40||45===i)return void(t.typing&&o(e));var a=e.ctrlKey&&!e.altKey||e.metaKey;!(i<16||i>20)||224===i||91===i||t.typing||a||(t.beforeChange(),n_(t,!0,n),t.add({},e),r.set(!0))}}),e.on("mousedown",function(e){t.typing&&o(e)});var i=function(e){return"insertReplacementText"===e.inputType},a=function(e){return"insertText"===e.inputType&&null===e.data},u=function(e){return"insertFromPaste"===e.inputType||"insertFromDrop"===e.inputType};e.on("input",function(e){e.inputType&&(i(e)||a(e)||u(e))&&o(e)}),e.on("AddUndo Undo Redo ClearUndos",function(t){t.isDefaultPrevented()||e.nodeChanged()})},$k=function(e){e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},Xk=function(e){var t=is(Te.none()),n=is(0),r=is(0),o={data:[],typing:!1,beforeChange:function(){E_(e,n,t)},add:function(i,a){return k_(e,o,r,n,t,i,a)},undo:function(){return T_(e,o,n,r)},redo:function(){return N_(e,r,o.data)},clear:function(){O_(e,o,r)},reset:function(){A_(e,o)},hasUndo:function(){return D_(e,o,r)},hasRedo:function(){return M_(e,o,r)},transact:function(t){return I_(e,o,n,t)},ignore:function(t){R_(e,n,t)},extra:function(t,n){P_(e,o,r,t,n)}};return x_(e)||Gk(e,o,n),$k(e),o},Yk=[9,27,kE.HOME,kE.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,kE.DOWN,kE.UP,kE.LEFT,kE.RIGHT].concat(kn.browser.isFirefox()?[224]:[]),Kk=function(e){return"keydown"===e.type||"keyup"===e.type},Jk=function(e){var t=e.keyCode;return t===kE.BACKSPACE||t===kE.DELETE},Qk=function(e){if(Kk(e)){var t=e.keyCode;return!Jk(e)&&(kE.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||We(Yk,t))}return!1},Zk=function(e){return Kk(e)&&!(Jk(e)||"keyup"===e.type&&229===e.keyCode)},eT=function(e,t,n){if(ug(Wn.fromDom(t),!1)){var r=""===n,o=t.firstElementChild;return!o||!e.getStyle(t.firstElementChild,"padding-left")&&!e.getStyle(t.firstElementChild,"padding-right")&&(r?!e.isBlock(o):n===o.nodeName.toLowerCase())}return!1},tT=function(e){var t=e.dom,n=gf(e),r=Wf(e),o=function(i,a){if(!Qk(i)){var u=e.getBody(),s=!Zk(i)&&eT(t,u,n);(""!==t.getAttrib(u,"data-mce-placeholder")!==s||a)&&(t.setAttrib(u,"data-mce-placeholder",s?r:null),t.setAttrib(u,"aria-placeholder",s?r:null),tC(e,s),e.on(s?"keydown":"keyup",o),e.off(s?"keyup":"keydown",o))}};r&&e.on("init",function(t){o(t,!0),e.on("change SetContent ExecCommand",o),e.on("paste",function(t){return qu.setEditorTimeout(e,function(){return o(t)})})})},nT=function(e){return void 0===e.touches||1!==e.touches.length?Te.none():Te.some(e.touches[0])},rT=function(e,t){var n=Math.abs(e.clientX-t.x()),r=Math.abs(e.clientY-t.y());return n>5||r>5},oT=function(e){var t=is(Te.none()),n=is(!1),r=xs(function(t){e.fire("longpress",Lt(Lt({},t),{type:"longpress"})),n.set(!0)},400);e.on("touchstart",function(e){nT(e).each(function(o){r.cancel();var i={x:ve(o.clientX),y:ve(o.clientY),target:ve(e.target)};r.throttle(e),n.set(!1),t.set(Te.some(i))})},!0),e.on("touchmove",function(o){r.cancel(),nT(o).each(function(r){t.get().each(function(o){rT(r,o)&&(t.set(Te.none()),n.set(!1),e.fire("longpresscancel"))})})},!0),e.on("touchend touchcancel",function(o){r.cancel(),"touchcancel"!==o.type&&t.get().filter(function(e){return e.target().isEqualNode(o.target)}).each(function(){n.get()?o.preventDefault():e.fire("tap",Lt(Lt({},o),{type:"tap"}))})},!0)},iT=function(e,t){return e.hasOwnProperty(t.nodeName)},aT=function(e,t){return!!mo(t)||!!io(t)&&(!iT(e,t)&&!rh(t))},uT=function(e,t,n){return Ge(hg(Wn.fromDom(n),Wn.fromDom(t)),function(t){return iT(e,t.dom())})},sT=function(e,t){if(mo(t)){if(0===t.nodeValue.length)return!0;if(/^\s+$/.test(t.nodeValue)&&(!t.nextSibling||iT(e,t.nextSibling)))return!0}return!1},cT=function(e){var t,n,r,o=e.dom,i=e.selection,a=e.schema,u=a.getBlockElements(),s=i.getStart(),c=e.getBody(),l=gf(e);if(s&&io(s)&&l){var f=c.nodeName.toLowerCase();if(a.isValidChild(f,l.toLowerCase())&&!uT(u,c,s)){var d=i.getRng(),p=d.startContainer,h=d.startOffset,m=d.endContainer,g=d.endOffset,v=Cy(e);for(s=c.firstChild;s;)if(aT(u,s)){if(sT(u,s)){n=s,s=s.nextSibling,o.remove(n);continue}t||(t=o.create(l,vf(e)),s.parentNode.insertBefore(t,s),r=!0),n=s,s=s.nextSibling,t.appendChild(n)}else t=null,s=s.nextSibling;r&&v&&(d.setStart(p,h),d.setEnd(m,g),i.setRng(d),e.nodeChanged())}}},lT=function(e){gf(e)&&e.on("NodeChange",r(cT,e))},fT=function(e){return Be(e.selection.getSel().modify)},dT=function(e,t,n){var r=e?1:-1;return t.setRng(El(n.container(),n.offset()+r).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},pT=function(e,t){var n=t.selection.getRng(),r=e?El.fromRangeEnd(n):El.fromRangeStart(n);return!!fT(t)&&(e&&vc(r)?dT(!0,t.selection,r):!(e||!bc(r))&&dT(!1,t.selection,r))},hT=mo,mT=function(e){return hT(e)&&e.data[0]===uc},gT=function(e){return hT(e)&&e.data[e.data.length-1]===uc},vT=function(e){return e.ownerDocument.createTextNode(uc)},bT=function(e){if(hT(e.previousSibling))return gT(e.previousSibling)?e.previousSibling:(e.previousSibling.appendData(uc),e.previousSibling);if(hT(e))return mT(e)?e:(e.insertData(0,uc),e);var t=vT(e);return e.parentNode.insertBefore(t,e),t},yT=function(e){if(hT(e.nextSibling))return mT(e.nextSibling)?e.nextSibling:(e.nextSibling.insertData(0,uc),e.nextSibling);if(hT(e))return gT(e)?e:(e.appendData(uc),e);var t=vT(e);return e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),t},wT=function(e,t){return e?bT(t):yT(t)},xT=r(wT,!0),_T=r(wT,!1),CT=function(e,t){return mo(e.container())?wT(t,e.container()):wT(t,e.getNode())},ST=function(e,t){var n=t.get();return n&&e.container()===n&&pc(n)},ET=function(e,t){return t.fold(function(t){Td(e.get());var n=xT(t);return e.set(n),Te.some(El(n,n.length-1))},function(t){return Ip(t).map(function(t){if(ST(t,e))return El(e.get(),1);Td(e.get());var n=CT(t,!0);return e.set(n),El(n,1)})},function(t){return Rp(t).map(function(t){if(ST(t,e))return El(e.get(),e.get().length-1);Td(e.get());var n=CT(t,!1);return e.set(n),El(n,n.length-1)})},function(t){Td(e.get());var n=_T(t);return e.set(n),Te.some(El(n,1))})},kT=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,TT=function(e){return kT.test(e)},NT=function(e,t){return or(Wn.fromDom(t),Uf(e))},OT=function(e){return"rtl"===es.DOM.getStyle(e,"direction",!0)||TT(e.textContent)},AT=function(e,t,n){return Je(es.DOM.getParents(n.container(),"*",t),e)},DT=function(e,t,n){var r=AT(e,t,n);return Te.from(r[r.length-1])},MT=function(e,t,n){var r=Gd(t,e),o=Gd(n,e);return r&&r===o},IT=function(e){return vc(e)||bc(e)},RT=function(e,t){if(!t)return t;var n=t.container(),r=t.offset();return e?pc(n)?mo(n.nextSibling)?El(n.nextSibling,0):El.after(n):vc(t)?El(n,r+1):t:pc(n)?mo(n.previousSibling)?El(n.previousSibling,n.previousSibling.data.length):El.before(n):bc(t)?El(n,r-1):t},PT=r(RT,!0),LT=r(RT,!1),jT=function(e,t){for(var n=0;n<e.length;n++){var r=e[n].apply(null,t);if(r.isSome())return r}return Te.none()},BT=Pu.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),zT=function(e,t){var n=Gd(t,e);return n||e},FT=function(e,t,n){var o=PT(n),i=zT(t,o.container());return DT(e,i,o).fold(function(){return Dp(i,o).bind(r(DT,e,i)).map(function(e){return BT.before(e)})},Te.none)},HT=function(e,t){return null===Lp(e,t)},UT=function(e,t,n){return DT(e,t,n).filter(r(HT,t))},VT=function(e,t,n){var r=LT(n);return UT(e,t,r).bind(function(e){return Mp(e,r).isNone()?Te.some(BT.start(e)):Te.none()})},qT=function(e,t,n){var r=PT(n);return UT(e,t,r).bind(function(e){return Dp(e,r).isNone()?Te.some(BT.end(e)):Te.none()})},WT=function(e,t,n){var o=LT(n),i=zT(t,o.container());return DT(e,i,o).fold(function(){return Mp(i,o).bind(r(DT,e,i)).map(function(e){return BT.after(e)})},Te.none)},GT=function(e){return!1===OT(XT(e))},$T=function(e,t,n){return jT([FT,VT,qT,WT],[e,t,n]).filter(GT)},XT=function(e){return e.fold(be,be,be,be)},YT=function(e){return e.fold(ve("before"),ve("start"),ve("end"),ve("after"))},KT=function(e){return e.fold(BT.before,BT.before,BT.after,BT.after)},JT=function(e){return e.fold(BT.start,BT.start,BT.end,BT.end)},QT=function(e,t){return YT(e)===YT(t)&&XT(e)===XT(t)},ZT=function(e,t,n,r,o,i){return Tc(DT(t,n,r),DT(t,n,o),function(t,r){return t!==r&&MT(n,t,r)?BT.after(e?t:r):i}).getOr(i)},eN=function(e,t){return e.fold(ve(!0),function(e){return!QT(e,t)})},tN=function(e,t,n,o,i){var a=RT(e,i);return Tp(e,n,a).map(r(RT,e)).fold(function(){return o.map(KT)},function(i){return $T(t,n,i).map(r(ZT,e,t,n,a,i)).filter(r(eN,o))}).filter(GT)},nN=function(e,t){return e?t.fold(me(Te.some,BT.start),Te.none,me(Te.some,BT.after),Te.none):t.fold(Te.none,me(Te.some,BT.before),Te.none,me(Te.some,BT.end))},rN=function(e,t,n,o){var i=RT(e,o),a=$T(t,n,i);return $T(t,n,i).bind(r(nN,e)).orThunk(function(){return tN(e,t,n,a,o)})},oN=(r(rN,!1),r(rN,!0),function(e,t){var n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)}),iN=function(e,t){e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},aN=function(e,t,n){return ET(t,n).map(function(t){return oN(e,t),n})},uN=function(e,t,n){var o=e.getBody(),i=El.fromRangeStart(e.selection.getRng()),a=r(NT,e);return rN(n,a,o,i).bind(function(n){return aN(e,t,n)})},sN=function(e,t,n){var o=$e(Rs(Wn.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),function(e){return e.dom()}),i=Je(o,e),a=Je(n,e);Xe(ut(i,a),r(iN,!1)),Xe(ut(a,i),r(iN,!0))},cN=function(e,t){if(e.selection.isCollapsed()&&!0!==e.composing&&t.get()){var n=El.fromRangeStart(e.selection.getRng());El.isTextPosition(n)&&!1===IT(n)&&(oN(e,kd(t.get(),n)),t.set(null))}},lN=function(e,t,n,r){if(t.selection.isCollapsed()){var o=Je(r,e);Xe(o,function(r){var o=El.fromRangeStart(t.selection.getRng());$T(e,t.getBody(),o).bind(function(e){return aN(t,n,e)})})}},fN=function(e,t,n){return function(){return!!Kf(e)&&uN(e,t,n).isSome()}},dN=function(e,t,n){return function(){return!!Kf(t)&&pT(e,t)}},pN=function(e){var t=is(null),n=r(NT,e);return e.on("NodeChange",function(r){!Kf(e)||kn.browser.isIE()&&r.initial||(sN(n,e.dom,r.parents),cN(e,t),lN(n,e,t,r.parents))}),t},hN=r(dN,!0),mN=r(dN,!1);!function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"}(CE||(CE={}));var gN,vN=function(e,t){return e===Sl.Backwards?at(t):t},bN=function(e,t,n){return e===Sl.Forwards?t.next(n):t.prev(n)},yN=function(e,t,n,r){return yo(r.getNode(t===Sl.Forwards))?CE.Br:!1===$d(n,r)?CE.Block:CE.Wrap},wN=function(e,t,n,r){for(var o,i=yp(n),a=r,u=[];a&&(o=bN(t,i,a));){if(yo(o.getNode(!1)))return t===Sl.Forwards?{positions:vN(t,u).concat([o]),breakType:CE.Br,breakAt:Te.some(o)}:{positions:vN(t,u),breakType:CE.Br,breakAt:Te.some(o)};if(o.isVisible()){if(e(a,o)){var s=yN(0,t,a,o);return{positions:vN(t,u),breakType:s,breakAt:Te.some(o)}}u.push(o),a=o}else a=o}return{positions:vN(t,u),breakType:CE.Eol,breakAt:Te.none()}},xN=function(e,t,n,r){return t(n,r).breakAt.map(function(r){var o=t(n,r).positions;return e===Sl.Backwards?o.concat(r):[r].concat(o)}).getOr([])},_N=function(e,t){return Ze(e,function(e,n){return e.fold(function(){return Te.some(n)},function(r){return Tc(lt(r.getClientRects()),lt(n.getClientRects()),function(e,o){var i=Math.abs(t-e.left);return Math.abs(t-o.left)<=i?n:r}).or(e)})},Te.none())},CN=function(e,t){return lt(t.getClientRects()).bind(function(t){return _N(e,t.left)})},SN=r(wN,T.isAbove,-1),EN=r(wN,T.isBelow,1),kN=function(e,t){return SN(e,t).breakAt.isNone()},TN=function(e,t){return EN(e,t).breakAt.isNone()},NN=r(xN,-1,SN),ON=r(xN,1,EN),AN=function(e){return Ip(e).map(function(t){return[t].concat(EN(e,t).positions)}).getOr([])},DN=function(e){return Rp(e).map(function(t){return SN(e,t).positions.concat(t)}).getOr([])},MN=function(e){var t=function(t){return $e(t,function(t){return t=Dc(t),t.node=e,t})};if(io(e))return t(e.getClientRects());if(mo(e)){var n=e.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,e.data.length),t(n.getClientRects())}},IN=function(e){return ot(e,MN)};!function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"}(gN||(gN={}));var RN,PN,LN=function(e,t,n,r){for(;r=Wd(r,e,rl,t);)if(n(r))return},jN=function(e,t,n,r,o,i){var a=0,u=[],s=function(r){var i,s,l;for(l=IN([r]),-1===e&&(l=l.reverse()),i=0;i<l.length;i++)if(s=l[i],!n(s,c)){if(u.length>0&&t(s,Pt(u))&&a++,s.line=a,o(s))return!0;u.push(s)}},c=Pt(i.getClientRects());if(!c)return u;var l=i.getNode();return s(l),LN(e,r,s,l),u},BN=function(e,t){return t.line>e},zN=function(e,t){return t.line===e},FN=r(jN,gN.Up,Pc,Lc),HN=r(jN,gN.Down,Lc,Pc),UN=function(e,t,n,r){var o,i,a,u,s,c=yp(t),l=[],f=0,d=function(t){return Pt(1===e?t.getClientRects():t.getClientRects())};1===e?(o=c.next,i=Lc,a=Pc,u=El.after(r)):(o=c.prev,i=Pc,a=Lc,u=El.before(r));var p=d(u);do{if(u.isVisible()&&(s=d(u),!a(s,p))){if(l.length>0&&i(s,Pt(l))&&f++,s=Dc(s),s.position=u,s.line=f,n(s))return l;l.push(s)}}while(u=o(u));return l},VN=function(e){return function(t){return BN(e,t)}},qN=function(e){return function(t){return zN(e,t)}},WN=xo,GN=Wd,$N=function(e,t){return Math.abs(e.left-t)},XN=function(e,t){return Math.abs(e.right-t)},YN=function(e,t){return e>=t.left&&e<=t.right},KN=function(e,t){return e>=t.top&&e<=t.bottom},JN=function(e,t){return It(e,function(e,n){var r=Math.min($N(e,t),XN(e,t)),o=Math.min($N(n,t),XN(n,t));return YN(t,n)?n:YN(t,e)?e:o===r&&WN(n.node)?n:o<r?n:e})},QN=function(e,t,n,r,o){var i=GN(r,e,rl,t,!o);do{if(!i||n(i))return}while(i=GN(i,e,rl,t))},ZN=function(e,t,n){void 0===n&&(n=!0);var o=[],i=function(e,n){var r=Je(IN([n]),function(n){return!e(n,t)});return o=o.concat(r),0===r.length};return o.push(t),QN(gN.Up,e,r(i,Pc),t.node,n),QN(gN.Down,e,r(i,Lc),t.node,n),o},eO=function(e){return Je(dt(e.getElementsByTagName("*")),Pd)},tO=function(e,t){return{node:e.node,before:$N(e,t)<XN(e,t)}},nO=function(e,t,n){var o=IN(eO(e)),i=Je(o,r(KN,n)),a=JN(i,t);if(a){var u=!fo(a.node);if((a=JN(ZN(e,a,u),t))&&Pd(a.node))return tO(a,t)}return null},rO=wo,oO=xo,iO=function(e,t,n,r,o){return t._selectionOverrides.showCaret(e,n,r,o)},aO=function(e){var t=e.ownerDocument.createRange();return t.selectNode(e),t},uO=function(e,t){return e.fire("BeforeObjectSelected",{target:t}).isDefaultPrevented()?null:aO(t)},sO=function(e,t,n){var r=ep(1,e.getBody(),t),o=El.fromRangeStart(r),i=o.getNode();if(oO(i))return iO(1,e,i,!o.isAtEnd(),!1);var a=o.getNode(!0);if(oO(a))return iO(1,e,a,!1,!1);var u=e.dom.getParent(o.getNode(),function(e){return oO(e)||rO(e)});return oO(u)?iO(1,e,u,!1,n):null},cO=function(e,t,n){if(!t||!t.collapsed)return t;var r=sO(e,t,n);return r||t},lO=xo,fO=Bc,dO=function(e,t,n,r){var o=e===Sl.Forwards,i=o?Km:Jm;if(!r.collapsed){var a=fO(r);if(lO(a))return iO(e,t,a,e===Sl.Backwards,!0)}var u=Ec(r),s=np(e,t.getBody(),r);if(i(s))return uO(t,s.getNode(!o));var c=RT(o,n(s));if(!c)return u?r:null;if(i(c))return iO(e,t,c.getNode(!o),o,!0);var l=n(c);return l&&i(l)&&ap(c,l)?iO(e,t,l.getNode(!o),o,!0):u?cO(t,c.toRange(),!0):null},pO=function(e,t,n,r){var o,i,a,u;u=fO(r);var s=np(e,t.getBody(),r),c=n(t.getBody(),VN(1),s),l=Je(c,qN(1)),f=Pt(s.getClientRects());if((Km(s)||Xm(s))&&(u=s.getNode()),(Jm(s)||Ym(s))&&(u=s.getNode(!0)),!f)return null;var d=f.left;if((o=JN(l,d))&&lO(o.node))return i=Math.abs(d-o.left),a=Math.abs(d-o.right),iO(e,t,o.node,i<a,!0);if(u){var p=UN(e,t.getBody(),VN(1),u);if(o=JN(Je(p,qN(1)),d))return cO(t,o.position.toRange(),!0);if(o=Pt(Je(p,qN(0))))return cO(t,o.position.toRange(),!0)}},hO=function(e){var t=e.dom.create(gf(e));return(!kn.ie||kn.ie>=11)&&(t.innerHTML='<br data-mce-bogus="1">'),t},mO=function(e,t,n){var o,i,a,u=yp(e.getBody()),s=r(ip,u.next),c=r(ip,u.prev);if(n.collapsed&&ud(e)){if(!(o=e.dom.getParent(n.startContainer,"PRE")))return;i=1===t?s(El.fromRangeStart(n)):c(El.fromRangeStart(n)),i||(a=hO(e),1===t?e.$(o).after(a):e.$(o).before(a),e.selection.select(a,!0),e.selection.collapse())}},gO=function(e,t){var n,o=yp(e.getBody()),i=r(ip,o.next),a=r(ip,o.prev),u=t?Sl.Forwards:Sl.Backwards,s=t?i:a,c=e.selection.getRng();return(n=dO(u,e,s,c))?n:(n=mO(e,u,c))||null},vO=function(e,t){var n,r=t?1:-1,o=t?HN:FN,i=e.selection.getRng();return(n=pO(r,e,o,i))?n:(n=mO(e,r,i))||null},bO=function(e,t){return function(){var n=gO(e,t);return!!n&&(e.selection.setRng(n),!0)}},yO=function(e,t){return function(){var n=vO(e,t);return!!n&&(e.selection.setRng(n),!0)}},wO=function(e){return function(t){return e?Jm(t):Km(t)}},xO=function(e,t){return function(){var n=t?El.fromRangeEnd(e.selection.getRng()):El.fromRangeStart(e.selection.getRng()),r=t?EN(e.getBody(),n):SN(e.getBody(),n);return(t?ft(r.positions):lt(r.positions)).filter(wO(t)).fold(ve(!1),function(t){return e.selection.setRng(t.toRange()),!0})}},_O=function(e,t){return{left:e.left-t,top:e.top-t,right:e.right+2*t,bottom:e.bottom+2*t,width:e.width+t,height:e.height+t}},CO=function(e,t){return ot(t,function(t){var n=_O(Dc(t.getBoundingClientRect()),-1);return[{x:n.left,y:e(n),cell:t},{x:n.right,y:e(n),cell:t}]})},SO=function(e,t,n){return Ze(e,function(e,r){return e.fold(function(){return Te.some(r)},function(e){var o=Math.sqrt(Math.abs(e.x-t)+Math.abs(e.y-n)),i=Math.sqrt(Math.abs(r.x-t)+Math.abs(r.y-n));return Te.some(i<o?r:e)})},Te.none())},EO=function(e,t,n,r,o){var i=Rs(Wn.fromDom(n),"td,th,caption").map(function(e){return e.dom()}),a=Je(CO(e,i),function(e){return t(e,o)});return SO(a,r,o).map(function(e){return e.cell})},kO=function(e){return e.bottom},TO=function(e){return e.top},NO=function(e,t){return e.y<t},OO=function(e,t){return e.y>t},AO=r(EO,kO,NO),DO=r(EO,TO,OO),MO=function(e,t){return lt(t.getClientRects()).bind(function(t){return AO(e,t.left,t.top)}).bind(function(e){return CN(DN(e),t)})},IO=function(e,t){return ft(t.getClientRects()).bind(function(t){return DO(e,t.left,t.top)}).bind(function(e){return CN(AN(e),t)})},RO=function(e,t){e.selection.setRng(t),qS(e,t)},PO=function(e,t,n){return n.breakAt.map(function(n){return e(t,n).breakAt.isSome()}).getOr(!1)},LO=function(e){return e.breakType===CE.Wrap&&0===e.positions.length},jO=function(e){return e.breakType===CE.Br&&1===e.positions.length},BO=function(e,t,n){var r=e(t,n);return LO(r)||!yo(n.getNode())&&jO(r)?!PO(e,t,r):r.breakAt.isNone()},zO=r(BO,SN),FO=r(BO,EN),HO=function(e,t,n){var r=El.fromRangeStart(t);return Ap(!e,n).map(function(e){return e.isEqual(r)}).getOr(!1)},UO=function(e,t,n,r){var o=e.selection.getRng(),i=t?1:-1;if(Rd()&&HO(t,o,n)){var a=iO(i,e,n,!t,!0);return RO(e,a),!0}return!1},VO=function(e,t,n){return MO(t,n).orThunk(function(){return lt(n.getClientRects()).bind(function(n){return _N(NN(e,El.before(t)),n.left)})}).getOr(El.before(t))},qO=function(e,t,n){return IO(t,n).orThunk(function(){return lt(n.getClientRects()).bind(function(n){return _N(ON(e,El.after(t)),n.left)})}).getOr(El.after(t))},WO=function(e,t){var n=t.getNode(e);return io(n)&&"TABLE"===n.nodeName?Te.some(n):Te.none()},GO=function(e,t,n,r){var o=gf(t);o?t.undoManager.transact(function(){var r=Wn.fromTag(o);Eo(r,vf(t)),jr(r,Wn.fromTag("br")),e?Pr(Wn.fromDom(n),r):Rr(Wn.fromDom(n),r);var i=t.dom.createRng();i.setStart(r.dom(),0),i.setEnd(r.dom(),0),RO(t,i)}):RO(t,r.toRange())},$O=function(e,t,n){var r=!1===t;(t?WO(!0,n):WO(!1,n)).fold(function(){return RO(e,n.toRange())},function(o){return Ap(r,e.getBody()).filter(function(e){return e.isEqual(n)}).fold(function(){return RO(e,n.toRange())},function(r){return GO(t,e,o,n)})})},XO=function(e,t,n,r){var o=e.selection.getRng(),i=El.fromRangeStart(o),a=e.getBody();if(!t&&zO(r,i)){var u=VO(a,n,i);return $O(e,t,u),!0}if(t&&FO(r,i)){var u=qO(a,n,i);return $O(e,t,u),!0}return!1},YO=function(e,t){return function(){return Te.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(function(n){return Te.from(e.dom.getParent(n,"table")).map(function(n){return UO(e,t,n)})}).getOr(!1)}},KO=function(e,t){return function(){return Te.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(function(n){return Te.from(e.dom.getParent(n,"table")).map(function(r){return XO(e,t,r,n)})}).getOr(!1)}},JO=function(e){return We(["figcaption"],Gn(e))},QO=function(e){var t=n.document.createRange();return t.setStartBefore(e.dom()),t.setEndBefore(e.dom()),t},ZO=function(e,t,n){n?jr(e,t):Lr(e,t)},eA=function(e,t){var n=Wn.fromTag("br");return ZO(e,n,t),QO(n)},tA=function(e,t,n,r){var o=Wn.fromTag(n),i=Wn.fromTag("br");return Eo(o,r),jr(o,i),ZO(e,o,t),QO(i)},nA=function(e,t,n,r){return""===t?eA(e,r):tA(e,r,t,n)},rA=function(e,t){var n=r(sr,t);return Ls(Wn.fromDom(e.container()),Qo,n).filter(JO)},oA=function(e,t,n){return t?TN(e.dom(),n):kN(e.dom(),n)},iA=function(e,t){var n=Wn.fromDom(e.getBody()),r=El.fromRangeStart(e.selection.getRng()),o=gf(e),i=vf(e);return rA(r,n).exists(function(){if(oA(n,t,r)){var a=nA(n,o,i,t);return e.selection.setRng(a),!0}return!1})},aA=function(e,t){return function(){return!!e.selection.isCollapsed()&&iA(e,t)}},uA=function(e){return $e(e,function(e){return Lt({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:he},e)})},sA=function(e,t){return t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey},cA=function(e,t){return ot(uA(e),function(e){return sA(e,t)?[e]:[]})},lA=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){return e.apply(null,t)}},fA=function(e,t){return tt(cA(e,t),function(e){return e.action()})},dA=function(e,t,n){var r=vn().os;fA([{keyCode:kE.RIGHT,action:bO(e,!0)},{keyCode:kE.LEFT,action:bO(e,!1)},{keyCode:kE.UP,action:yO(e,!1)},{keyCode:kE.DOWN,action:yO(e,!0)},{keyCode:kE.RIGHT,action:YO(e,!0)},{keyCode:kE.LEFT,action:YO(e,!1)},{keyCode:kE.UP,action:KO(e,!1)},{keyCode:kE.DOWN,action:KO(e,!0)},{keyCode:kE.RIGHT,action:fN(e,t,!0)},{keyCode:kE.LEFT,action:fN(e,t,!1)},{keyCode:kE.RIGHT,ctrlKey:!r.isOSX(),altKey:r.isOSX(),action:hN(e,t)},{keyCode:kE.LEFT,ctrlKey:!r.isOSX(),altKey:r.isOSX(),action:mN(e,t)},{keyCode:kE.UP,action:aA(e,!1)},{keyCode:kE.DOWN,action:aA(e,!0)}],n).each(function(e){n.preventDefault()})},pA=function(e,t){e.on("keydown",function(n){!1===n.isDefaultPrevented()&&dA(e,t,n)})},hA=function(e){return function(t){return sr(e,Wn.fromDom(t.dom().parentNode))}},mA=function(e,t){return fr(e,t)?Ls(t,function(e){return ni(e)||oi(e)},hA(e)):Te.none()},gA=function(e){var t=e.getBody(),n=t.firstChild&&e.dom.isBlock(t.firstChild)?t.firstChild:t;e.selection.setCursorLocation(n,0)},vA=function(e){e.dom.isEmpty(e.getBody())&&(e.setContent(""),gA(e))},bA=function(e,t,n){return Tc(Ip(n),Rp(n),function(r,o){var i=RT(!0,r),a=RT(!1,o),u=RT(!1,t);return e?Dp(n,u).map(function(e){return e.isEqual(a)&&t.isEqual(i)}).getOr(!1):Mp(n,u).map(function(e){return e.isEqual(i)&&t.isEqual(a)}).getOr(!1)}).getOr(!0)},yA=function(e,t){return{block:e,position:t}},wA=function(e,t){return{from:e,to:t}},xA=function(e,t){var n=Wn.fromDom(e),r=Wn.fromDom(t.container());return mA(n,r).map(function(e){return yA(e,t)})},_A=function(e){return!1===sr(e.from.block,e.to.block)},CA=function(e){return gr(e.from.block).bind(function(t){return gr(e.to.block).filter(function(e){return sr(t,e)})}).isSome()},SA=function(e){return!1===xo(e.from.block.dom())&&!1===xo(e.to.block.dom())},EA=function(e,t,n){return yo(n.position.getNode())&&!1===ug(n.block)?Ap(!1,n.block.dom()).bind(function(r){return r.isEqual(n.position)?Tp(t,e,r).bind(function(t){return xA(e,t)}):Te.some(n)}).getOr(n):n},kA=function(e,t,n){var r=xA(e,El.fromRangeStart(n)),o=r.bind(function(n){return Tp(t,e,n.position).bind(function(n){return xA(e,n).map(function(n){return EA(e,t,n)})})});return Tc(r,o,wA).filter(function(e){return _A(e)&&CA(e)&&SA(e)})},TA=function(e,t,n){return n.collapsed?kA(e,t,n):Te.none()},NA=function(e){var t=Cr(e);return nt(t,Qo).fold(function(){return t},function(e){return t.slice(0,e)})},OA=function(e){var t=NA(e);return Xe(t,Ur),t},AA=function(e,t){var n=mg(t,e);return tt(n.reverse(),function(e){return ug(e)}).each(Ur)},DA=function(e){return 0===Je(xr(e),function(e){return!ug(e)}).length},MA=function(e,t,n,r){if(ug(n))return lg(n),Ip(n.dom());DA(r)&&ug(t)&&Rr(r,Wn.fromTag("br"));var o=Mp(n.dom(),El.before(r.dom()));return Xe(OA(t),function(e){Rr(r,e)}),AA(e,t),o},IA=function(e,t,n){if(ug(n))return Ur(n),ug(t)&&lg(t),Ip(t.dom());var r=Rp(n.dom());return Xe(OA(t),function(e){jr(n,e)}),AA(e,t),r},RA=function(e,t){var n=mg(t,e);return Te.from(n[n.length-1])},PA=function(e,t){return fr(t,e)?RA(t,e):Te.none()},LA=function(e,t){Ap(e,t.dom()).map(function(e){return e.getNode()}).map(Wn.fromDom).filter(ti).each(Ur)},jA=function(e,t,n){return LA(!0,t),LA(!1,n),PA(t,n).fold(r(IA,e,t,n),r(MA,e,t,n))},BA=function(e,t,n,r){return t?jA(e,r,n):jA(e,n,r)},zA=function(e,t){var n=Wn.fromDom(e.getBody()),r=TA(n.dom(),t,e.selection.getRng()).bind(function(e){return BA(n,t,e.from.block,e.to.block)});return r.each(function(t){e.selection.setRng(t.toRange())}),r.isSome()},FA=function(e,t){var n=t.getRng();return Tc(mA(e,Wn.fromDom(n.startContainer)),mA(e,Wn.fromDom(n.endContainer)),function(r,o){return!1===sr(r,o)&&(n.deleteContents(),BA(e,!0,r,o).each(function(e){t.setRng(e.toRange())}),!0)}).getOr(!1)},HA=function(e,t){var n=Wn.fromDom(t),o=r(sr,e);return Ps(n,ui,o).isSome()},UA=function(e,t){return HA(e,t.startContainer)||HA(e,t.endContainer)},VA=function(e,t){var n=Mp(e.dom(),El.fromRangeStart(t)).isNone(),r=Dp(e.dom(),El.fromRangeEnd(t)).isNone();return!UA(e,t)&&n&&r},qA=function(e){return e.setContent(""),e.selection.setCursorLocation(),!0},WA=function(e){var t=Wn.fromDom(e.getBody()),n=e.selection.getRng();return VA(t,n)?qA(e):FA(t,e.selection)},GA=function(e,t){return!e.selection.isCollapsed()&&WA(e)},$A=function(e){return rp(e).exists(ti)},XA=function(e,t,n){var r=Je(mg(Wn.fromDom(n.container()),t),Qo),o=lt(r).getOr(t);return Tp(e,o.dom(),n).filter($A)},YA=function(e,t){return rp(t).exists(ti)||XA(!0,e,t).isSome()},KA=function(e,t){return op(t).exists(ti)||XA(!1,e,t).isSome()},JA=r(XA,!1),QA=r(XA,!0),ZA=function(e){return ui(Wn.fromDom(e))||oi(Wn.fromDom(e))},eD=Pu.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),tD=function(e,t){var n=t.getNode(!1===e),r=e?"after":"before";return io(n)&&n.getAttribute("data-mce-caret")===r},nD=function(e,t,n,r){var o=function(t){return ei(Wn.fromDom(t))&&!$d(n,r,e)};return tp(!t,n).fold(function(){return tp(t,r).fold(ve(!1),o)},o)},rD=function(e,t,n,r){var o=r.getNode(!1===t);return mA(Wn.fromDom(e),Wn.fromDom(n.getNode())).map(function(e){return ug(e)?eD.remove(e.dom()):eD.moveToElement(o)}).orThunk(function(){return Te.some(eD.moveToElement(o))})},oD=function(e,t,n){return Tp(t,e,n).bind(function(r){return ZA(r.getNode())?Te.none():nD(e,t,n,r)?Te.none():t&&xo(r.getNode())?rD(e,t,n,r):!1===t&&xo(r.getNode(!0))?rD(e,t,n,r):t&&Jm(n)?Te.some(eD.moveToPosition(r)):!1===t&&Km(n)?Te.some(eD.moveToPosition(r)):Te.none()})},iD=function(e,t){return e&&xo(t.nextSibling)?Te.some(eD.moveToElement(t.nextSibling)):!1===e&&xo(t.previousSibling)?Te.some(eD.moveToElement(t.previousSibling)):Te.none()},aD=function(e,t,n){return n.fold(function(e){return Te.some(eD.remove(e))},function(e){return Te.some(eD.moveToElement(e))},function(n){return $d(t,n,e)?Te.none():Te.some(eD.moveToPosition(n))})},uD=function(e,t,n){return tD(t,n)?iD(t,n.getNode(!1===t)).fold(function(){return oD(e,t,n)},Te.some):oD(e,t,n).bind(function(t){return aD(e,n,t)})},sD=function(e,t,n){var r=ep(t?1:-1,e,n),o=El.fromRangeStart(r),i=Wn.fromDom(e);return!1===t&&Jm(o)?Te.some(eD.remove(o.getNode(!0))):t&&Km(o)?Te.some(eD.remove(o.getNode())):!1===t&&Km(o)&&KA(i,o)?JA(i,o).map(function(e){return eD.remove(e.getNode())}):t&&Jm(o)&&YA(i,o)?QA(i,o).map(function(e){return eD.remove(e.getNode())}):uD(e,t,o)},cD=function(e,t){return function(n){return e._selectionOverrides.hideFakeCaret(),zg(e,t,Wn.fromDom(n)),!0}},lD=function(e,t){return function(n){var r=t?El.before(n):El.after(n);return e.selection.setRng(r.toRange()),!0}},fD=function(e){return function(t){return e.selection.setRng(t.toRange()),!0}},dD=function(e,t){return Te.from(gD(e.getBody(),t))},pD=function(e,t){var n=e.selection.getNode();return dD(e,n).filter(xo).fold(function(){return sD(e.getBody(),t,e.selection.getRng()).map(function(n){return n.fold(cD(e,t),lD(e,t),fD(e))}).getOr(!1)},function(){return!0})},hD=function(e){Xe(Rs(e,".mce-offscreen-selection"),Ur)},mD=function(e,t){var n=e.selection.getNode();if(xo(n)){return dD(e,n.parentNode).filter(xo).fold(function(){return hD(Wn.fromDom(e.getBody())),zg(e,t,Wn.fromDom(e.selection.getNode())),vA(e),!0},function(){return!0})}return!1},gD=function(e,t){for(;t&&t!==e;){if(wo(t)||xo(t))return t;t=t.parentNode}return null},vD=function(e){var t,n=gD(e.getBody(),e.selection.getNode());return wo(n)&&e.dom.isBlock(n)&&e.dom.isEmpty(n)&&(t=e.dom.create("br",{"data-mce-bogus":"1"}),e.dom.setHTML(n,""),n.appendChild(t),e.selection.setRng(El.before(t).toRange())),!0},bD=function(e,t){return e.selection.isCollapsed()?pD(e,t):mD(e,t)},yD=function(e,t){mo(t)&&0===t.data.length&&e.remove(t)},wD=function(e,t,n,r,o,i){var a=iO(r,e,i.getNode(!o),o,!0);if(t.collapsed){var u=t.cloneRange();o?u.setEnd(a.startContainer,a.startOffset):u.setStart(a.endContainer,a.endOffset),u.deleteContents()}else t.deleteContents();return e.selection.setRng(a),yD(e.dom,n),!0},xD=function(e,t){var n=e.selection.getRng();if(!mo(n.commonAncestorContainer))return!1;var o=t?Sl.Forwards:Sl.Backwards,i=yp(e.getBody()),a=r(ip,i.next),u=r(ip,i.prev),s=t?a:u,c=t?Km:Jm,l=np(o,e.getBody(),n),f=RT(t,s(l));if(!f||!ap(l,f))return!1;if(c(f))return wD(e,n,l.getNode(),o,t,f);var d=s(f);return!!(d&&c(d)&&ap(f,d))&&wD(e,n,l.getNode(),o,t,d)},_D=function(e,t){return xD(e,t)},CD=function(e,t){var r=n.document.createRange();return r.setStart(e.container(),e.offset()),r.setEnd(t.container(),t.offset()),r},SD=function(e){return Tc(Ip(e),Rp(e),function(t,n){var r=RT(!0,t),o=RT(!1,n);return Dp(e,r).map(function(e){return e.isEqual(o)}).getOr(!0)}).getOr(!0)},ED=function(e,t){return function(n){return ET(t,n).map(function(t){return oN(e,t),!0}).getOr(!1)}},kD=function(e,t,n,o){var i=e.getBody(),a=r(NT,e);e.undoManager.ignore(function(){e.selection.setRng(CD(n,o)),e.execCommand("Delete"),$T(a,i,El.fromRangeStart(e.selection.getRng())).map(JT).map(ED(e,t))}),e.nodeChanged()},TD=function(e,t){var n=Gd(t,e);return n||e},ND=function(e,t,n,o){var i=TD(e.getBody(),o.container()),a=r(NT,e),u=$T(a,i,o);return u.bind(function(e){return n?e.fold(ve(Te.some(JT(e))),Te.none,ve(Te.some(KT(e))),Te.none):e.fold(Te.none,ve(Te.some(KT(e))),Te.none,ve(Te.some(JT(e))))}).map(ED(e,t)).getOrThunk(function(){var r=Np(n,i,o),s=r.bind(function(e){return $T(a,i,e)});return u.isSome()&&s.isSome()?DT(a,i,o).map(function(t){return!!SD(t)&&(zg(e,n,Wn.fromDom(t)),!0)}).getOr(!1):s.bind(function(i){return r.map(function(r){return n?kD(e,t,o,r):kD(e,t,r,o),!0})}).getOr(!1)})},OD=function(e,t,n){if(e.selection.isCollapsed()&&Kf(e)){var r=El.fromRangeStart(e.selection.getRng());return ND(e,t,n,r)}return!1},AD=function(e,t){var n=mg(t,e);return nt(n,Qo).fold(ve(n),function(e){return n.slice(0,e)})},DD=function(e){return 1===Cr(e).length},MD=function(e,t,n,o){var i=r(dw,t),a=$e(Je(o,i),function(e){return e.dom()});if(0===a.length)zg(t,e,n);else{var u=fw(n.dom(),a);t.selection.setRng(u.toRange())}},ID=function(e,t){var n=Wn.fromDom(e.getBody()),r=Wn.fromDom(e.selection.getStart()),o=Je(AD(n,r),DD);return ft(o).map(function(n){var r=El.fromRangeStart(e.selection.getRng());return!(!bA(t,r,n.dom())||pw(n))&&(MD(t,e,n,o),!0)}).getOr(!1)},RD=function(e,t){return!!e.selection.isCollapsed()&&ID(e,t)},PD=function(e,t){var n=El.fromRangeStart(e.selection.getRng());return Tp(t,e.getBody(),n).filter(function(e){return t?Gm(e):$m(e)}).bind(function(e){return Te.from(Xd(t?0:-1,e))}).map(function(t){return e.selection.select(t),!0}).getOr(!1)},LD=function(e,t){return!!e.selection.isCollapsed()&&PD(e,t)},jD=function(e){return Ls(e,function(e){return wo(e.dom())||xo(e.dom())}).exists(function(e){return wo(e.dom())})},BD=function(e){var t=parseInt(e,10);return isNaN(t)?0:t},zD=function(e,t){return(e||Zo(t)?"margin":"padding")+("rtl"===Do(t,"direction")?"-right":"-left")},FD=function(e,t,n,r,o,i){var a=zD(n,Wn.fromDom(i));if("outdent"===t){var u=Math.max(0,BD(i.style[a])-r);e.setStyle(i,a,u?u+o:"")}else{var u=BD(i.style[a])+r+o;e.setStyle(i,a,u)}},HD=function(e,t){return it(t,function(t){var n=zD(Bf(e),t),r=Io(t,n).map(BD).getOr(0);return"false"!==e.dom.getContentEditable(t.dom())&&r>0})},UD=function(e){var t=WD(e);return!e.mode.isReadOnly()&&(t.length>1||HD(e,t))},VD=function(e){return ri(e)||oi(e)},qD=function(e){return gr(e).map(VD).getOr(!1)},WD=function(e){return Je($e(e.selection.getSelectedBlocks(),Wn.fromDom),function(e){return!VD(e)&&!qD(e)&&jD(e)})},GD=function(e,t){var n=e.dom,r=e.selection,o=e.formatter,i=zf(e),a=/[a-z%]+$/i.exec(i)[0],u=parseInt(i,10),s=Bf(e),c=gf(e);e.queryCommandState("InsertUnorderedList")||e.queryCommandState("InsertOrderedList")||""!==c||n.getParent(r.getNode(),n.isBlock)||o.apply("div"),Xe(WD(e),function(e){FD(n,t,s,u,a,e.dom())})},$D=function(e,t,n){return Op(e,t,n,Um)},XD=function(e,t){return tt(mg(Wn.fromDom(t.container()),e),Qo)},YD=function(e,t,n){return $D(e,t.dom(),n).forall(function(e){return XD(t,n).fold(function(){return!1===$d(e,n,t.dom())},function(r){return!1===$d(e,n,t.dom())&&fr(r,Wn.fromDom(e.container()))})})},KD=function(e,t,n){return XD(t,n).fold(function(){return $D(e,t.dom(),n).forall(function(e){return!1===$d(e,n,t.dom())})},function(t){return $D(e,t.dom(),n).isNone()})},JD=r(KD,!1),QD=r(KD,!0),ZD=r(YD,!1),eM=r(YD,!0),tM=function(e,t,n){if(e.selection.isCollapsed()&&UD(e)){var r=e.dom,o=e.selection.getRng(),i=El.fromRangeStart(o),a=r.getParent(o.startContainer,r.isBlock);if(null!==a&&JD(Wn.fromDom(a),i))return GD(e,"outdent"),!0}return!1},nM=function(e,t,n){fA([{keyCode:kE.BACKSPACE,action:lA(tM,e,!1)},{keyCode:kE.BACKSPACE,action:lA(bD,e,!1)},{keyCode:kE.DELETE,action:lA(bD,e,!0)},{keyCode:kE.BACKSPACE,action:lA(_D,e,!1)},{keyCode:kE.DELETE,action:lA(_D,e,!0)},{keyCode:kE.BACKSPACE,action:lA(OD,e,t,!1)},{keyCode:kE.DELETE,action:lA(OD,e,t,!0)},{keyCode:kE.BACKSPACE,action:lA(Nv,e,!1)},{keyCode:kE.DELETE,action:lA(Nv,e,!0)},{keyCode:kE.BACKSPACE,action:lA(LD,e,!1)},{keyCode:kE.DELETE,action:lA(LD,e,!0)},{keyCode:kE.BACKSPACE,action:lA(GA,e,!1)},{keyCode:kE.DELETE,action:lA(GA,e,!0)},{keyCode:kE.BACKSPACE,action:lA(zA,e,!1)},{keyCode:kE.DELETE,action:lA(zA,e,!0)},{keyCode:kE.BACKSPACE,action:lA(RD,e,!1)},{keyCode:kE.DELETE,action:lA(RD,e,!0)}],n).each(function(e){n.preventDefault()})},rM=function(e,t){fA([{keyCode:kE.BACKSPACE,action:lA(vD,e)},{keyCode:kE.DELETE,action:lA(vD,e)}],t)},oM=function(e,t){e.on("keydown",function(n){!1===n.isDefaultPrevented()&&nM(e,t,n)}),e.on("keyup",function(t){!1===t.isDefaultPrevented()&&rM(e,t)})},iM=function(e){for(;e;){if(1===e.nodeType||3===e.nodeType&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}},aM=function(e,t){var n,r=t,o=e.dom,i=e.schema.getMoveCaretBeforeOnEnterElements();if(t){if(/^(LI|DT|DD)$/.test(t.nodeName)){var a=iM(t.firstChild);a&&/^(UL|OL|DL)$/.test(a.nodeName)&&t.insertBefore(o.doc.createTextNode(" "),t.firstChild)}var u=o.createRng();if(t.normalize(),t.hasChildNodes()){for(var s=new mu(t,t);n=s.current();){if(mo(n)){u.setStart(n,0),u.setEnd(n,0);break}if(i[n.nodeName.toLowerCase()]){u.setStartBefore(n),u.setEndBefore(n);break}r=n,n=s.next()}n||(u.setStart(r,0),u.setEnd(r,0))}else yo(t)?t.nextSibling&&o.isBlock(t.nextSibling)?(u.setStartBefore(t),u.setEndBefore(t)):(u.setStartAfter(t),u.setEndAfter(t)):(u.setStart(t,0),u.setEnd(t,0));e.selection.setRng(u),qS(e,u)}},uM=function(e,t){var n,r,o=e.getRoot();for(n=t;n!==o&&"false"!==e.getContentEditable(n);)"true"===e.getContentEditable(n)&&(r=n),n=n.parentNode;return n!==o?r:o},sM=function(e){return Te.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock))},cM=function(e){return sM(e).fold(ve(""),function(e){return e.nodeName.toUpperCase()})},lM=function(e){return sM(e).filter(function(e){return oi(Wn.fromDom(e))}).isSome()},fM=function(e,t){return e.firstChild&&e.firstChild.nodeName===t},dM=function(e,t){return e&&e.parentNode&&e.parentNode.nodeName===t},pM=function(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)},hM=function(e){return pM(e)&&pM(e.parentNode)},mM=function(e){var t=e.parentNode;return/^(LI|DT|DD)$/.test(t.nodeName)?t:e},gM=function(e,t,n){for(var r=e[n?"firstChild":"lastChild"];r&&!io(r);)r=r[n?"nextSibling":"previousSibling"];return r===t},vM=function(e,t,n,r,o){var i=e.dom,a=e.selection.getRng();if(n!==e.getBody()){hM(n)&&(o="LI");var u=o?t(o):i.create("BR");if(gM(n,r,!0)&&gM(n,r,!1))dM(n,"LI")?i.insertAfter(u,mM(n)):i.replace(u,n);else if(gM(n,r,!0))dM(n,"LI")?(i.insertAfter(u,mM(n)),u.appendChild(i.doc.createTextNode(" ")),u.appendChild(n)):n.parentNode.insertBefore(u,n);else if(gM(n,r,!1))i.insertAfter(u,mM(n));else{n=mM(n);var s=a.cloneRange();s.setStartAfter(r),s.setEndAfter(n);var c=s.extractContents();"LI"===o&&fM(c,"LI")?(u=c.firstChild,i.insertAfter(c,n)):(i.insertAfter(c,n),i.insertAfter(u,n))}i.remove(r),aM(e,u)}},bM=function(e){Xe(Is(Wn.fromDom(e),Jn),function(e){var t=e.dom();t.nodeValue=cc(t.nodeValue)})},yM=function(e,t){return t&&"A"===t.nodeName&&e.isEmpty(t)},wM=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},xM=function(e){e.innerHTML='<br data-mce-bogus="1">'},_M=function(e,t){return e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t},CM=function(e,t){return t&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&"true"!==e.getContentEditable(t)},SM=function(e,t,n){var r,o=n,i=[];if(o){for(;o=o.firstChild;){if(e.isBlock(o))return;io(o)&&!t[o.nodeName.toLowerCase()]&&i.push(o)}for(r=i.length;r--;)o=i[r],!o.hasChildNodes()||o.firstChild===o.lastChild&&""===o.firstChild.nodeValue?e.remove(o):yM(e,o)&&e.remove(o)}},EM=function(e,t,n){return!1===mo(t)?n:e?1===n&&t.data.charAt(n-1)===uc?0:n:n===t.data.length-1&&t.data.charAt(n)===uc?t.data.length:n},kM=function(e){var t=e.cloneRange();return t.setStart(e.startContainer,EM(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,EM(!1,e.endContainer,e.endOffset)),t},TM=function(e){do{mo(e)&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild}while(e)},NM=function(e,t){var n,r,o=e.getRoot();for(n=t;n!==o&&"false"!==e.getContentEditable(n);)"true"===e.getContentEditable(n)&&(r=n),n=n.parentNode;return n!==o?r:o},OM=function(e,t,n){Te.from(n.style).map(e.dom.parseStyle).each(function(n){var r=Ro(Wn.fromDom(t)),o=Lt(Lt({},r),n);e.dom.setStyles(t,o)});var r=Te.from(n.class).map(function(e){return e.split(/\s+/)}),o=Te.from(t.className).map(function(e){return Je(e.split(/\s+/),function(e){return""!==e})});Tc(r,o,function(n,r){var o=Je(r,function(e){return!We(n,e)}),a=i(n,o);e.dom.setAttrib(t,"class",a.join(" "))});var a=["style","class"],u=xt(n,function(e,t){return!We(a,t)});e.dom.setAttribs(t,u)},AM=function(e,t){var n=gf(e);if(n&&n.toLowerCase()===t.tagName.toLowerCase()){var r=vf(e);OM(e,t,r)}},DM=function(e,t,n,r,o){var i,a,u,s,c,l,f=t||"P",d=e.dom,p=NM(d,r);if(!(a=d.getParent(r,d.isBlock))||!CM(d,a)){if(a=a||p,l=a===e.getBody()||wM(a)?a.nodeName.toLowerCase():a.parentNode.nodeName.toLowerCase(),!a.hasChildNodes())return i=d.create(f),AM(e,i),a.appendChild(i),n.setStart(i,0),n.setEnd(i,0),i;for(s=r;s.parentNode!==a;)s=s.parentNode;for(;s&&!d.isBlock(s);)u=s,s=s.previousSibling;if(u&&e.schema.isValidChild(l,f.toLowerCase())){for(i=d.create(f),AM(e,i),u.parentNode.insertBefore(i,u),s=u;s&&!d.isBlock(s);)c=s.nextSibling,i.appendChild(s),s=c;n.setStart(r,o),n.setEnd(r,o)}}return r},MM=function(e,t){t.normalize();var n=t.lastChild;n&&!/^(left|right)$/gi.test(e.getStyle(n,"float",!0))||e.add(t,"br")},IM=function(e,t){var n,r,o,i,a,u,s,c,l,f,d=e.dom,p=e.schema,h=p.getNonEmptyElements(),m=e.selection.getRng(),g=function(t){var n,o,a,u=r,s=p.getTextInlineElements();if(n=t||"TABLE"===c||"HR"===c?d.create(t||l):i.cloneNode(!1),a=n,!1===wf(e))d.setAttrib(n,"style",null),d.setAttrib(n,"class",null);else do{if(s[u.nodeName]){if(Pp(u)||rh(u))continue;o=u.cloneNode(!1),d.setAttrib(o,"id",""),n.hasChildNodes()?(o.appendChild(n.firstChild),n.appendChild(o)):(a=o,n.appendChild(o))}}while((u=u.parentNode)&&u!==x);return AM(e,n),xM(a),n},v=function(e){var t,n,a=EM(e,r,o);if(mo(r)&&(e?a>0:a<r.nodeValue.length))return!1;if(r.parentNode===i&&f&&!e)return!0;if(e&&io(r)&&r===i.firstChild)return!0;if(_M(r,"TABLE")||_M(r,"HR"))return f&&!e||!f&&e;var u=new mu(r,i);for(mo(r)&&(e&&0===a?u.prev():e||a!==r.nodeValue.length||u.next());t=u.current();){if(io(t)){if(!t.getAttribute("data-mce-bogus")&&(n=t.nodeName.toLowerCase(),h[n]&&"br"!==n))return!1}else if(mo(t)&&!/^[ \t\r\n]*$/.test(t.nodeValue))return!1;e?u.prev():u.next()}return!0},b=function(){a=/^(H[1-6]|PRE|FIGURE)$/.test(c)&&"HGROUP"!==_?g(l):g(),xf(e)&&CM(d,s)&&d.isEmpty(i)?a=d.split(s,i):d.insertAfter(a,i),aM(e,a)};gE(d,m).each(function(e){m.setStart(e.startContainer,e.startOffset),m.setEnd(e.endContainer,e.endOffset)}),r=m.startContainer,o=m.startOffset,l=gf(e);var y=!(!t||!t.shiftKey),w=!(!t||!t.ctrlKey);io(r)&&r.hasChildNodes()&&(f=o>r.childNodes.length-1,r=r.childNodes[Math.min(o,r.childNodes.length-1)]||r,o=f&&mo(r)?r.nodeValue.length:0);var x=NM(d,r);if(x){(l&&!y||!l&&y)&&(r=DM(e,l,m,r,o)),i=d.getParent(r,d.isBlock),s=i?d.getParent(i.parentNode,d.isBlock):null,c=i?i.nodeName.toUpperCase():"";var _=s?s.nodeName.toUpperCase():"";if("LI"!==_||w||(i=s,s=s.parentNode,c=_),/^(LI|DT|DD)$/.test(c)&&d.isEmpty(i))return void vM(e,g,s,i,l);l&&i===e.getBody()||(l=l||"P",dc(i)?(a=Sc(i),d.isEmpty(i)&&xM(i),AM(e,a),aM(e,a)):v()?b():v(!0)?(a=i.parentNode.insertBefore(g(),i),aM(e,_M(i,"HR")?a:i)):(n=kM(m).cloneRange(),n.setEndAfter(i),u=n.extractContents(),bM(u),TM(u),a=u.firstChild,d.insertAfter(u,i),SM(d,h,a),MM(d,i),d.isEmpty(i)&&xM(i),a.normalize(),d.isEmpty(a)?(d.remove(a),b()):(AM(e,a),aM(e,a))),d.setAttrib(a,"id",""),e.fire("NewBlock",{newBlock:a}))}},RM=function(e,t,n){for(var r,o=new mu(t,n),i=e.getNonEmptyElements();r=o.next();)if(i[r.nodeName.toLowerCase()]||r.length>0)return!0},PM=function(e,t,n){var r=e.create("span",{},"&nbsp;");n.parentNode.insertBefore(r,n),t.scrollIntoView(r),e.remove(r)},LM=function(e,t,n,r){var o=e.createRng();r?(o.setStartBefore(n),o.setEndBefore(n)):(o.setStartAfter(n),o.setEndAfter(n)),t.setRng(o)},jM=function(e,t){var n,r,o=e.selection,i=e.dom,a=o.getRng();gE(i,a).each(function(e){a.setStart(e.startContainer,e.startOffset),a.setEnd(e.endContainer,e.endOffset)});var u=a.startOffset,s=a.startContainer;if(1===s.nodeType&&s.hasChildNodes()){var c=u>s.childNodes.length-1;s=s.childNodes[Math.min(u,s.childNodes.length-1)]||s,u=c&&3===s.nodeType?s.nodeValue.length:0}var l=i.getParent(s,i.isBlock),f=l?i.getParent(l.parentNode,i.isBlock):null,d=f?f.nodeName.toUpperCase():"",p=!(!t||!t.ctrlKey);"LI"!==d||p||(l=f),s&&3===s.nodeType&&u>=s.nodeValue.length&&(RM(e.schema,s,l)||(n=i.create("br"),a.insertNode(n),a.setStartAfter(n),a.setEndAfter(n),r=!0)),n=i.create("br"),Ol(i,a,n),PM(i,o,n),LM(i,o,n,r),e.undoManager.add()},BM=function(e,t){var n=Wn.fromTag("br");Rr(Wn.fromDom(t),n),e.undoManager.add()},zM=function(e,t){HM(e.getBody(),t)||Pr(Wn.fromDom(t),Wn.fromTag("br"));var n=Wn.fromTag("br");Pr(Wn.fromDom(t),n),PM(e.dom,e.selection,n.dom()),LM(e.dom,e.selection,n.dom(),!1),e.undoManager.add()},FM=function(e){return yo(e.getNode())},HM=function(e,t){return!!FM(El.after(t))||Dp(e,El.after(t)).map(function(e){return yo(e.getNode())}).getOr(!1)},UM=function(e){return e&&"A"===e.nodeName&&"href"in e},VM=function(e){return e.fold(ve(!1),UM,UM,ve(!1))},qM=function(e){var t=r(NT,e),n=El.fromRangeStart(e.selection.getRng());return $T(t,e.getBody(),n).filter(VM)},WM=function(e,t){t.fold(he,r(BM,e),r(zM,e),he)},GM=function(e,t){var n=qM(e);n.isSome()?n.each(r(WM,e)):jM(e,t)},$M=function(e,t){return sM(e).filter(function(e){return t.length>0&&or(Wn.fromDom(e),t)}).isSome()},XM=function(e){return $M(e,bf(e))},YM=function(e){return $M(e,yf(e))},KM=Pu.generate([{br:[]},{block:[]},{none:[]}]),JM=function(e,t){return YM(e)},QM=function(e){return function(t,n){return""===gf(t)===e}},ZM=function(e){return function(t,n){return lM(t)===e}},eI=function(e,t){return function(n,r){return cM(n)===e.toUpperCase()===t}},tI=function(e){return eI("pre",e)},nI=function(){return eI("summary",!0)},rI=function(e){return function(t,n){return mf(t)===e}},oI=function(e,t){return XM(e)},iI=function(e,t){return t},aI=function(e){var t=gf(e),n=uM(e.dom,e.selection.getStart());return n&&e.schema.isValidChild(n.nodeName,t||"P")},uI=function(e,t){return function(n,r){return Ze(e,function(e,t){return e&&t(n,r)},!0)?Te.some(t):Te.none()}},sI=function(e,t){return jT([uI([JM],KM.none()),uI([nI()],KM.br()),uI([tI(!0),rI(!1),iI],KM.br()),uI([tI(!0),rI(!1)],KM.block()),uI([tI(!0),rI(!0),iI],KM.block()),uI([tI(!0),rI(!0)],KM.br()),uI([ZM(!0),iI],KM.br()),uI([ZM(!0)],KM.block()),uI([QM(!0),iI,aI],KM.block()),uI([QM(!0)],KM.br()),uI([oI],KM.br()),uI([QM(!1),iI],KM.br()),uI([aI],KM.block())],[e,!(!t||!t.shiftKey)]).getOr(KM.none())},cI=function(e,t){sI(e,t).fold(function(){GM(e,t)},function(){IM(e,t)},he)},lI=function(e,t){t.isDefaultPrevented()||(t.preventDefault(),o_(e.undoManager),e.undoManager.transact(function(){!1===e.selection.isCollapsed()&&e.execCommand("Delete"),cI(e,t)}))},fI=function(e){e.on("keydown",function(t){t.keyCode===kE.ENTER&&lI(e,t)})},dI=function(e,t){var n=t.container(),r=t.offset();return mo(n)?(n.insertData(r,e),Te.some(T(n,r+e.length))):rp(t).map(function(n){var r=Wn.fromText(e);return t.isAtEnd()?Pr(n,r):Rr(n,r),T(r.dom(),e.length)})},pI=r(dI," "),hI=r(dI," "),mI=function(e){return T.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd()},gI=function(e,t){var n=Je(mg(Wn.fromDom(t.container()),e),Qo);return lt(n).getOr(e)},vI=function(e,t){return mI(t)?Hm(t):Hm(t)||Mp(gI(e,t).dom(),t).exists(Hm)},bI=function(e,t){return mI(t)?Fm(t):Fm(t)||Dp(gI(e,t).dom(),t).exists(Fm)},yI=function(e){return We(["pre","pre-wrap"],e)},wI=function(e){return rp(e).bind(function(e){return Ls(e,Kn)}).exists(function(e){return yI(Do(e,"white-space"))})},xI=function(e,t){return Mp(e.dom(),t).isNone()},_I=function(e,t){return Dp(e.dom(),t).isNone()},CI=function(e,t){return xI(e,t)||_I(e,t)||JD(e,t)||QD(e,t)||KA(e,t)||YA(e,t)},SI=function(e,t){return!wI(t)&&(CI(e,t)||vI(e,t)||bI(e,t))},EI=function(e,t){return!wI(t)&&(JD(e,t)||ZD(e,t)||KA(e,t)||vI(e,t))},kI=function(e){var t=e.container(),n=e.offset();return mo(t)&&n<t.data.length?T(t,n+1):e},TI=function(e,t){var n=kI(t);return!wI(n)&&(QD(e,n)||eM(e,n)||YA(e,n)||bI(e,n))},NI=function(e,t){return EI(e,t)||TI(e,t)},OI=function(e,t){return oh(e.charAt(t))},AI=function(e){var t=e.container();return mo(t)&&tn(t.data," ")},DI=function(e){var t=e.split("");return $e(t,function(e,n){return oh(e)&&n>0&&n<t.length-1&&ah(t[n-1])&&ah(t[n+1])?" ":e}).join("")},MI=function(e,t){var n=t.data,r=T(t,0);return!(!OI(n,0)||NI(e,r))&&(t.data=" "+n.slice(1),!0)},II=function(e){var t=e.data,n=DI(t);return n!==t&&(e.data=n,!0)},RI=function(e,t){var n=t.data,r=T(t,n.length-1);return!(!OI(n,n.length-1)||NI(e,r))&&(t.data=n.slice(0,-1)+" ",!0)},PI=function(e,t){return Te.some(t).filter(AI).bind(function(t){var n=t.container();return MI(e,n)||II(n)||RI(e,n)?Te.some(t):Te.none()})},LI=function(e){var t=Wn.fromDom(e.getBody());e.selection.isCollapsed()&&PI(t,T.fromRangeStart(e.selection.getRng())).each(function(t){e.selection.setRng(t.toRange())})},jI=function(e){return function(t){return t.fold(function(t){return Mp(e.dom(),El.before(t))},function(e){return Ip(e)},function(e){return Rp(e)},function(t){return Dp(e.dom(),El.after(t))})}},BI=function(e,t){return function(n){return SI(e,n)?pI(t):hI(t)}},zI=function(e){return function(t){return e.selection.setRng(t.toRange()),e.nodeChanged(),!0}},FI=function(e){var t=El.fromRangeStart(e.selection.getRng()),n=Wn.fromDom(e.getBody());if(e.selection.isCollapsed()){var o=r(NT,e),i=El.fromRangeStart(e.selection.getRng());return $T(o,e.getBody(),i).bind(jI(n)).bind(BI(n,t)).exists(zI(e))}return!1},HI=function(e,t){fA([{keyCode:kE.SPACEBAR,action:lA(FI,e)}],t).each(function(e){t.preventDefault()})},UI=function(e){e.on("keydown",function(t){!1===t.isDefaultPrevented()&&HI(e,t)})},VI=function(e){return Bs(Wn.fromDom(e.getBody()),"*[data-mce-caret]").fold(ve(null),function(e){return e.dom()})},qI=function(e){e.selection.setRng(e.selection.getRng())},WI=function(e,t){t.hasAttribute("data-mce-caret")&&(Sc(t),qI(e),e.selection.scrollIntoView(t))},GI=function(e,t){var n=VI(e);if(n)return"compositionstart"===t.type?(t.preventDefault(),t.stopPropagation(),void WI(e,n)):void(mc(n)&&(WI(e,n),e.undoManager.add()))},$I=function(e){e.on("keyup compositionstart",r(GI,e))},XI=vn().browser,YI=function(e){var t=ws(function(){e.composing||LI(e)},0);XI.isIE()&&(e.on("keypress",function(e){t.throttle()}),e.on("remove",function(e){t.cancel()}))},KI=function(e){YI(e),e.on("input",function(t){!1===t.isComposing&&LI(e)})},JI=function(e,t){fA([{keyCode:kE.END,action:xO(e,!0)},{keyCode:kE.HOME,action:xO(e,!1)}],t).each(function(e){t.preventDefault()})},QI=function(e){e.on("keydown",function(t){!1===t.isDefaultPrevented()&&JI(e,t)})},ZI=function(e){var t=pN(e);$I(e),pA(e,t),oM(e,t),fI(e),UI(e),KI(e),QI(e)},eR=function(e){x_(e)||ZI(e)},tR=function(){function e(e){this.lastPath=[],this.editor=e;var t,n=this;"onselectionchange"in e.getDoc()||e.on("NodeChange click mouseup keyup focus",function(n){var r=e.selection.getRng(),o={startContainer:r.startContainer,startOffset:r.startOffset,endContainer:r.endContainer,endOffset:r.endOffset};"nodechange"!==n.type&&oE(o,t)||e.fire("SelectionChange"),t=o}),e.on("contextmenu",function(){e.fire("SelectionChange")}),e.on("SelectionChange",function(){var t=e.selection.getStart(!0);!t||!kn.range&&e.selection.isCollapsed()||Zh(e)&&!n.isSameElementPath(t)&&e.dom.isChildOf(t,e.getBody())&&e.nodeChanged({selectionChange:!0})}),e.on("mouseup",function(t){!t.isDefaultPrevented()&&Zh(e)&&("IMG"===e.selection.getNode().nodeName?qu.setEditorTimeout(e,function(){e.nodeChanged()}):e.nodeChanged())})}return e.prototype.nodeChanged=function(e){var t,n,r,o=this.editor.selection;this.editor.initialized&&o&&!cd(this.editor)&&!this.editor.mode.isReadOnly()&&(r=this.editor.getBody(),t=o.getStart(!0)||r,t.ownerDocument===this.editor.getDoc()&&this.editor.dom.isChildOf(t,r)||(t=r),n=[],this.editor.dom.getParent(t,function(e){if(e===r)return!0;n.push(e)}),e=e||{},e.element=t,e.parents=n,this.editor.fire("NodeChange",e))},e.prototype.isSameElementPath=function(e){var t,n=this.editor.$(e).parentsUntil(this.editor.getBody()).add(e);if(n.length===this.lastPath.length){for(t=n.length;t>=0&&n[t]===this.lastPath[t];t--);if(-1===t)return this.lastPath=n,!0}return this.lastPath=n,!1},e}(),nR=function(e){e.on("click",function(t){e.dom.getParent(t.target,"details")&&t.preventDefault()})},rR=function(e){e.parser.addNodeFilter("details",function(e){Xe(e,function(e){e.attr("data-mce-open",e.attr("open")),e.attr("open","open")})}),e.serializer.addNodeFilter("details",function(e){Xe(e,function(e){var t=e.attr("data-mce-open");e.attr("open",Me(t)?t:null),e.attr("data-mce-open",null)})})},oR=function(e){nR(e),rR(e)},iR=function(e){return io(e)&&ni(Wn.fromDom(e))},aR=function(e){var t=e.selection.getRng(),n=T.fromRangeStart(t),r=T.fromRangeEnd(t);if(T.isElementPosition(n)){var o=n.container();iR(o)&&Ip(o).each(function(e){return t.setStart(e.container(),e.offset())})}if(T.isElementPosition(r)){var o=n.container();iR(o)&&Rp(o).each(function(e){return t.setEnd(e.container(),e.offset())})}e.selection.setRng(Dv(t))},uR=function(e){e.on("click",function(t){t.detail>=3&&aR(e)})},sR=function(e){var t=e.getBoundingClientRect(),n=e.ownerDocument,r=n.documentElement,o=n.defaultView;return{top:t.top+o.pageYOffset-r.clientTop,left:t.left+o.pageXOffset-r.clientLeft}},cR=function(e){return e.inline?sR(e.getBody()):{left:0,top:0}},lR=function(e){var t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},fR=function(e){var t=e.getBody(),n=e.getDoc().documentElement,r={left:t.scrollLeft,top:t.scrollTop},o={left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop};return e.inline?r:o},dR=function(e,t){if(t.target.ownerDocument!==e.getDoc()){var n=sR(e.getContentAreaContainer()),r=fR(e);return{left:t.pageX-n.left+r.left,top:t.pageY-n.top+r.top}}return{left:t.pageX,top:t.pageY}},pR=function(e,t,n){return{pageX:n.left-e.left+t.left,pageY:n.top-e.top+t.top}},hR=function(e,t){return pR(cR(e),lR(e),dR(e,t))},mR=xo,gR=wo,vR=function(e,t){return mR(t)&&t!==e},bR=function(e,t,n){return t!==n&&!e.dom.isChildOf(t,n)&&!mR(t)},yR=function(e){var t=e.cloneNode(!0);return t.removeAttribute("data-mce-selected"),t},wR=function(e,t,n,r){var o=t.cloneNode(!0);e.dom.setStyles(o,{width:n,height:r}),e.dom.setAttrib(o,"data-mce-selected",null);var i=e.dom.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return e.dom.setStyles(i,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:r}),e.dom.setStyles(o,{margin:0,boxSizing:"border-box"}),i.appendChild(o),i},xR=function(e,t){e.parentNode!==t&&t.appendChild(e)},_R=function(e,t,n,r,o,i){var a=0,u=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+n>o&&(a=t.pageX+n-o),t.pageY+r>i&&(u=t.pageY+r-i),e.style.width=n-a+"px",e.style.height=r-u+"px"},CR=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},SR=function(e){return 0===e.button},ER=function(e){return e.element},kR=function(e,t){return{pageX:t.pageX-e.relX,pageY:t.pageY+5}},TR=function(e,t){return function(n){if(SR(n)){var r=tt(t.dom.getParents(n.target),Uc(mR,gR)).getOr(null);if(vR(t.getBody(),r)){var o=t.dom.getPos(r),i=t.getBody(),a=t.getDoc().documentElement;e.element=r,e.screenX=n.screenX,e.screenY=n.screenY,e.maxX=(t.inline?i.scrollWidth:a.offsetWidth)-2,e.maxY=(t.inline?i.scrollHeight:a.offsetHeight)-2,e.relX=n.pageX-o.x,e.relY=n.pageY-o.y,e.width=r.offsetWidth,e.height=r.offsetHeight,e.ghost=wR(t,r,e.width,e.height)}}}},NR=function(e,t){var n=qu.throttle(function(e,n){t._selectionOverrides.hideFakeCaret(),t.selection.placeCaretAt(e,n)},0);return function(r){var o=Math.max(Math.abs(r.screenX-e.screenX),Math.abs(r.screenY-e.screenY));if(ER(e)&&!e.dragging&&o>10){if(t.fire("dragstart",{target:e.element}).isDefaultPrevented())return;e.dragging=!0,t.focus()}if(e.dragging){var i=kR(e,hR(t,r));xR(e.ghost,t.getBody()),_R(e.ghost,i,e.width,e.height,e.maxX,e.maxY),n(r.clientX,r.clientY)}}},OR=function(e){var t=e.getSel().getRangeAt(0),n=t.startContainer;return 3===n.nodeType?n.parentNode:n},AR=function(e,t){return function(n){if(e.dragging&&bR(t,OR(t.selection),e.element)){var r=yR(e.element),o=t.fire("drop",{targetClone:r,clientX:n.clientX,clientY:n.clientY});o.isDefaultPrevented()||(r=o.targetClone,t.undoManager.transact(function(){CR(e.element),t.insertContent(t.dom.getOuterHTML(r)),t._selectionOverrides.hideFakeCaret()}))}MR(e)}},DR=function(e,t){return function(){e.dragging&&t.fire("dragend"),MR(e)}},MR=function(e){e.dragging=!1,e.element=null,CR(e.ghost)},IR=function(e){var t={},r=es.DOM,o=n.document,i=TR(t,e),a=NR(t,e),u=AR(t,e),s=DR(t,e);e.on("mousedown",i),e.on("mousemove",a),e.on("mouseup",u),r.bind(o,"mousemove",a),r.bind(o,"mouseup",s),e.on("remove",function(){r.unbind(o,"mousemove",a),r.unbind(o,"mouseup",s)})},RR=function(e){e.on("drop",function(t){var n=void 0!==t.clientX?e.getDoc().elementFromPoint(t.clientX,t.clientY):null;(mR(n)||mR(e.dom.getContentEditableParent(n)))&&t.preventDefault()})},PR=function(e){var t=function(e){if(!e.defaultPrevented){var t=e.dataTransfer;t&&(We(t.types,"Files")||t.files.length>0)&&e.preventDefault()}},r=function(n){cy(e,n.target)&&t(n)},o=function(){var o=es.DOM,i=e.dom,a=n.document,u=e.inline?e.getBody():e.getDoc(),s=["drop","dragover"];Xe(s,function(e){o.bind(a,e,r),i.bind(u,e,t)}),e.on("remove",function(){Xe(s,function(e){o.unbind(a,e,r),i.unbind(u,e,t)})})};e.on("init",function(){qu.setEditorTimeout(e,o,0)})},LR=function(e){IR(e),RR(e),hd(e)&&PR(e)},jR=function(e){var t=ws(function(){if(!e.removed&&e.getBody().contains(n.document.activeElement)){if(e.selection.getRng().collapsed){var t=cO(e,e.selection.getRng(),!1);e.selection.setRng(t)}}},0);e.on("focus",function(){t.throttle()}),e.on("blur",function(){t.cancel()})},BR=wo,zR=xo,FR=function(e,t){for(var n=e.getBody();t&&t!==n;){if(BR(t)||zR(t))return t;t=t.parentNode}return null},HR=function(e){var t,n=function(t){return e.dom.isBlock(t)},r=e.getBody(),o=Id(e,r,n,function(){return Cy(e)}),i="sel-"+e.dom.uniqueId(),a=function(t){return e.dom.hasClass(t,"mce-offscreen-selection")},u=function(){var t=e.dom.get(i);return t?t.getElementsByTagName("*")[0]:t},s=function(t){t&&e.selection.setRng(t)},c=function(){return e.selection.getRng()},l=function(t,n,r,i){return void 0===i&&(i=!0),e.fire("ShowCaret",{target:n,direction:t,before:r}).isDefaultPrevented()?null:(i&&e.selection.scrollIntoView(n,-1===t),o.show(r,n))},f=function(t){t.hasAttribute("data-mce-caret")&&(Sc(t),s(c()),e.selection.scrollIntoView(t))},d=function(e){return hc(e)||xc(e)||_c(e)},p=function(e){return d(e.startContainer)||d(e.endContainer)},h=function(t){var n=e.schema.getShortEndedElements(),r=e.dom.createRng(),o=t.startContainer,i=t.startOffset,a=t.endContainer,u=t.endOffset;return Et(n,o.nodeName.toLowerCase())?0===i?r.setStartBefore(o):r.setStartAfter(o):r.setStart(o,i),Et(n,a.nodeName.toLowerCase())?0===u?r.setEndBefore(a):r.setEndAfter(a):r.setEnd(a,u),r},m=function(n,o){var a,u,s,c,f,d,h,m=e.$,g=e.dom;if(!n)return null;if(n.collapsed){if(!p(n))if(!1===o){if(f=np(-1,r,n),Pd(f.getNode(!0)))return l(-1,f.getNode(!0),!1,!1);if(Pd(f.getNode()))return l(-1,f.getNode(),!f.isAtEnd(),!1)}else{if(f=np(1,r,n),Pd(f.getNode()))return l(1,f.getNode(),!f.isAtEnd(),!1);if(Pd(f.getNode(!0)))return l(1,f.getNode(!0),!1,!1)}return null}s=n.startContainer,c=n.startOffset;var v=n.endOffset;if(3===s.nodeType&&0===c&&zR(s.parentNode)&&(s=s.parentNode,c=g.nodeIndex(s),s=s.parentNode),1!==s.nodeType)return null;if(v===c+1&&s===n.endContainer&&(a=s.childNodes[c]),!zR(a))return null;d=h=a.cloneNode(!0);var y=e.fire("ObjectSelected",{target:a,targetClone:d});if(y.isDefaultPrevented())return null;u=Bs(Wn.fromDom(e.getBody()),"#"+i).fold(function(){return m([])},function(e){return m([e.dom()])}),d=y.targetClone,0===u.length&&(u=m('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",i),u.appendTo(e.getBody())),n=e.dom.createRng(),d===h&&kn.ie?(u.empty().append('<p style="font-size: 0" data-mce-bogus="all"> </p>').append(d),n.setStartAfter(u[0].firstChild.firstChild),n.setEndAfter(d)):(u.empty().append(" ").append(d).append(" "),n.setStart(u[0].firstChild,1),n.setEnd(u[0].lastChild,0)),u.css({top:g.getPos(a,e.getBody()).y}),u[0].focus();var w=e.selection.getSel();w.removeAllRanges(),w.addRange(n);var x=Wn.fromDom(a);return Xe(Rs(Wn.fromDom(e.getBody()),"*[data-mce-selected]"),function(e){sr(x,e)||Oo(e,"data-mce-selected")}),e.dom.getAttrib(a,"data-mce-selected")||a.setAttribute("data-mce-selected","1"),t=a,b(),n},g=function(){t&&(t.removeAttribute("data-mce-selected"),Bs(Wn.fromDom(e.getBody()),"#"+i).each(Ur),t=null),Bs(Wn.fromDom(e.getBody()),"#"+i).each(Ur),t=null},v=function(){o.destroy(),t=null},b=function(){o.hide()};return kn.ceFalse&&function(){e.on("mouseup",function(t){var n=c();n.collapsed&&KC(e,t.clientX,t.clientY)&&s(sO(e,n,!1))}),e.on("click",function(t){var n=FR(e,t.target);n&&(zR(n)&&(t.preventDefault(),e.focus()),BR(n)&&e.dom.isChildOf(n,e.selection.getNode())&&g())}),e.on("blur NewBlock",function(){g()}),e.on("ResizeWindow FullscreenStateChanged",function(){return o.reposition()});var n=function(e){var t=yp(e);if(!e.firstChild)return!1;var n=El.before(e.firstChild),r=t.next(n);return r&&!Km(r)&&!Jm(r)},i=function(t,n){return e.dom.getParent(t,e.dom.isBlock)===e.dom.getParent(n,e.dom.isBlock)},f=function(t,r){var o=e.dom.getParent(t,e.dom.isBlock),a=e.dom.getParent(r,e.dom.isBlock);return!(!o||!e.dom.isChildOf(o,a)||!1!==zR(FR(e,o)))||o&&!i(o,a)&&n(o)};!function(e){e.on("tap",function(t){var n=FR(e,t.target);zR(n)&&(t.preventDefault(),m(uO(e,n)))},!0)}(e),e.on("mousedown",function(t){var n=t.target;if((n===r||"HTML"===n.nodeName||e.dom.isChildOf(n,r))&&!1!==KC(e,t.clientX,t.clientY)){var o=FR(e,n);if(o)zR(o)?(t.preventDefault(),m(uO(e,o))):(g(),BR(o)&&t.shiftKey||EE(t.clientX,t.clientY,e.selection.getRng())||(b(),e.selection.placeCaretAt(t.clientX,t.clientY)));else if(!1===Pd(n)){g(),b();var i=nO(r,t.clientX,t.clientY);if(i&&!f(t.target,i.node)){t.preventDefault();var a=l(1,i.node,i.before,!1);e.getBody().focus(),s(a)}}}}),e.on("keypress",function(t){kE.modifierPressed(t)||(t.keyCode,zR(e.selection.getNode())&&t.preventDefault())}),e.on("GetSelectionRange",function(e){var n=e.range;if(t){if(!t.parentNode)return void(t=null);n=n.cloneRange(),n.selectNode(t),e.range=n}}),e.on("SetSelectionRange",function(e){e.range=h(e.range);var t=m(e.range,e.forward);t&&(e.range=t)});var d=function(e){return"mcepastebin"===e.id};e.on("AfterSetSelectionRange",function(e){var t=e.range;p(t)||d(t.startContainer.parentNode)||b(),a(t.startContainer.parentNode)||g()}),e.on("copy",function(e){var t=e.clipboardData;if(!e.isDefaultPrevented()&&e.clipboardData&&!kn.ie){var n=u();n&&(e.preventDefault(),t.clearData(),t.setData("text/html",n.outerHTML),t.setData("text/plain",n.outerText))}}),LR(e),jR(e)}(),{showCaret:l,showBlockCaretContainer:f,hideFakeCaret:b,destroy:v}},UR=function(e){var t=zn.each,r=kE.BACKSPACE,o=kE.DELETE,i=e.dom,a=e.selection,u=e.parser,s=kn.gecko,c=kn.ie,l=kn.webkit,f=c?"Text":"URL",d=function(t,n){try{e.getDoc().execCommand(t,!1,n)}catch(e){}},p=function(e){return e.isDefaultPrevented()},h=function(t){var n,r;t.dataTransfer&&(e.selection.isCollapsed()&&"IMG"===t.target.tagName&&a.select(t.target),n=e.selection.getContent(),n.length>0&&(r="data:text/mce-internal,"+escape(e.id)+","+escape(n),t.dataTransfer.setData(f,r)))},m=function(e){var t;return e.dataTransfer&&(t=e.dataTransfer.getData(f))&&t.indexOf("data:text/mce-internal,")>=0?(t=t.substr("data:text/mce-internal,".length).split(","),{id:unescape(t[0]),html:unescape(t[1])}):null},g=function(t,n){e.queryCommandSupported("mceInsertClipboardContent")?e.execCommand("mceInsertClipboardContent",!1,{content:t,internal:n}):e.execCommand("mceInsertContent",!1,t)},v=function(){e.shortcuts.add("meta+a",null,"SelectAll")},b=function(){e.on("keydown",function(e){if(!p(e)&&e.keyCode===r&&a.isCollapsed()&&0===a.getRng().startOffset){var t=a.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1}})},y=function(){e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",function(t){var n;if("HTML"===t.target.nodeName){if(kn.ie>11)return void e.getBody().focus();n=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(n),e.selection.normalize(),e.nodeChanged()}}))},w=function(){},x=function(){if(!s||e.removed)return!1;var t=e.selection.getSel();return!t||!t.rangeCount||0===t.rangeCount};return function(){e.on("keydown",function(t){var n,r;if(!p(t)&&t.keyCode===kE.BACKSPACE){n=a.getRng();var o=n.startContainer,u=n.startOffset,s=i.getRoot();if(r=o,n.collapsed&&0===u){for(;r&&r.parentNode&&r.parentNode.firstChild===r&&r.parentNode!==s;)r=r.parentNode;"BLOCKQUOTE"===r.tagName&&(e.formatter.toggle("blockquote",null,r),n=i.createRng(),n.setStart(o,0),n.setEnd(o,0),a.setRng(n))}}})}(),function(){var t=function(e){var t=i.create("body"),n=e.cloneContents();return t.appendChild(n),a.serializer.serialize(t,{format:"html"})},n=function(n){var r=t(n),o=i.createRng();return o.selectNode(e.getBody()),r===t(o)};e.on("keydown",function(t){var a,u,s=t.keyCode;if(!p(t)&&(s===o||s===r)){if(a=e.selection.isCollapsed(),u=e.getBody(),a&&!i.isEmpty(u))return;if(!a&&!n(e.selection.getRng()))return;t.preventDefault(),e.setContent(""),u.firstChild&&i.isBlock(u.firstChild)?e.selection.setCursorLocation(u.firstChild,0):e.selection.setCursorLocation(u,0),e.nodeChanged()}})}(),kn.windowsPhone||function(){e.on("keyup focusin mouseup",function(e){kE.modifierPressed(e)||a.normalize()},!0)}(),l&&(function(){e.inline||i.bind(e.getDoc(),"mousedown mouseup",function(t){var n;if(t.target===e.getDoc().documentElement)if(n=a.getRng(),e.getBody().focus(),"mousedown"===t.type){if(hc(n.startContainer))return;a.placeCaretAt(t.clientX,t.clientY)}else a.setRng(n)})}(),function(){e.on("click",function(t){var n=t.target;/^(IMG|HR)$/.test(n.nodeName)&&"false"!==i.getContentEditableParent(n)&&(t.preventDefault(),e.selection.select(n),e.nodeChanged()),"A"===n.nodeName&&i.hasClass(n,"mce-item-anchor")&&(t.preventDefault(),a.select(n))})}(),function(){gf(e)&&e.on("init",function(){d("DefaultParagraphSeparator",gf(e))})}(),function(){e.on("init",function(){e.dom.bind(e.getBody(),"submit",function(e){e.preventDefault()})})}(),b(),function(){u.addNodeFilter("br",function(e){for(var t=e.length;t--;)"Apple-interchange-newline"===e[t].attr("class")&&e[t].remove()})}(),kn.iOS?(function(){e.inline||e.on("keydown",function(){n.document.activeElement===n.document.body&&e.getWin().focus()})}(),y(),function(){e.on("click",function(e){var t=e.target;do{if("A"===t.tagName)return void e.preventDefault()}while(t=t.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")}()):v()),kn.ie>=11&&(y(),b()),kn.ie&&(v(),function(){d("AutoUrlDetect",!1)}(),function(){e.on("dragstart",function(e){h(e)}),e.on("drop",function(t){if(!p(t)){var n=m(t);if(n&&n.id!==e.id){t.preventDefault();var r=YS(t.x,t.y,e.getDoc());a.setRng(r),g(n.html,!0)}}})}()),s&&(!function(){e.on("keydown",function(t){if(!p(t)&&t.keyCode===r){if(!e.getBody().getElementsByTagName("hr").length)return;if(a.isCollapsed()&&0===a.getRng().startOffset){var n=a.getNode(),o=n.previousSibling;if("HR"===n.nodeName)return i.remove(n),void t.preventDefault();o&&o.nodeName&&"hr"===o.nodeName.toLowerCase()&&(i.remove(o),t.preventDefault())}}})}(),function(){n.Range.prototype.getClientRects||e.on("mousedown",function(t){if(!p(t)&&"HTML"===t.target.nodeName){var n=e.getBody();n.blur(),qu.setEditorTimeout(e,function(){n.focus()})}})}(),function(){var n=function(){var n=i.getAttribs(a.getStart().cloneNode(!1));return function(){var r=a.getStart();r!==e.getBody()&&(i.setAttrib(r,"style",null),t(n,function(e){r.setAttributeNode(e.cloneNode(!0))}))}},r=function(){return!a.isCollapsed()&&i.getParent(a.getStart(),i.isBlock)!==i.getParent(a.getEnd(),i.isBlock)};e.on("keypress",function(t){var o;if(!p(t)&&(8===t.keyCode||46===t.keyCode)&&r())return o=n(),e.getDoc().execCommand("delete",!1,null),o(),t.preventDefault(),!1}),i.bind(e.getDoc(),"cut",function(t){var o;!p(t)&&r()&&(o=n(),qu.setEditorTimeout(e,function(){o()}))})}(),function(){var t=function(){d("StyleWithCSS",!1),d("enableInlineTableEditing",!1),Vf(e)||d("enableObjectResizing",!1)};ld(e)||e.on("BeforeExecCommand mousedown",t)}(),function(){var n=function(){t(i.select("a"),function(e){var t=e.parentNode,n=i.getRoot();if(t.lastChild===e){for(;t&&!i.isBlock(t);){if(t.parentNode.lastChild!==t||t===n)return;t=t.parentNode}i.add(t,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",function(e){"setcontent"!==e.type&&"mceInsertLink"!==e.command||n()})}(),function(){e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")}(),function(){kn.mac&&e.on("keydown",function(t){if(kE.metaKeyPressed(t)&&!t.shiftKey&&(37===t.keyCode||39===t.keyCode)){t.preventDefault();e.selection.getSel().modify("move",37===t.keyCode?"backward":"forward","lineboundary")}})}(),b()),{refreshContentEditable:w,isHidden:x}},VR=es.DOM,qR=function(e,t){var n=Wn.fromDom(e.getDoc().head),r=Wn.fromTag("style");So(r,"type","text/css"),jr(r,Wn.fromText(t)),jr(n,r)},WR=function(e){return e.inline?e.getElement().nodeName.toLowerCase():void 0},GR=function(e){return xt(e,function(e){return!1===je(e)})},$R=function(e){var t=e.settings,n=e.editorUpload.blobCache;return GR({allow_conditional_comments:t.allow_conditional_comments,allow_html_data_urls:t.allow_html_data_urls,allow_html_in_named_anchor:t.allow_html_in_named_anchor,allow_script_urls:t.allow_script_urls,allow_unsafe_link_target:t.allow_unsafe_link_target,convert_fonts_to_spans:t.convert_fonts_to_spans,fix_list_elements:t.fix_list_elements,font_size_legacy_values:t.font_size_legacy_values,forced_root_block:t.forced_root_block,forced_root_block_attrs:t.forced_root_block_attrs,padd_empty_with_br:t.padd_empty_with_br,preserve_cdata:t.preserve_cdata,remove_trailing_brs:t.remove_trailing_brs,inline_styles:t.inline_styles,root_name:WR(e),validate:!0,blob_cache:n,images_dataimg_filter:t.images_dataimg_filter})},XR=function(e){var t=e.settings;return Lt(Lt({},$R(e)),GR({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope,element_format:t.element_format,entities:t.entities,entity_encoding:t.entity_encoding,indent:t.indent,indent_after:t.indent_after,indent_before:t.indent_before,block_elements:t.block_elements,boolean_attributes:t.boolean_attributes,custom_elements:t.custom_elements,extended_valid_elements:t.extended_valid_elements,invalid_elements:t.invalid_elements,invalid_styles:t.invalid_styles,move_caret_before_on_enter_elements:t.move_caret_before_on_enter_elements,non_empty_elements:t.non_empty_elements,schema:t.schema,self_closing_elements:t.self_closing_elements,short_ended_elements:t.short_ended_elements,special:t.special,text_block_elements:t.text_block_elements,text_inline_elements:t.text_inline_elements,valid_children:t.valid_children,valid_classes:t.valid_classes,valid_elements:t.valid_elements,valid_styles:t.valid_styles,verify_html:t.verify_html,whitespace_elements:t.whitespace_elements}))},YR=function(e){var t=dk($R(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",function(t,n){for(var r,o,i=t.length,a=e.dom,u="data-mce-"+n;i--;)if(r=t[i],(o=r.attr(n))&&!r.attr(u)){if(0===o.indexOf("data:")||0===o.indexOf("blob:"))continue;"style"===n?(o=a.serializeStyle(a.parseStyle(o),r.name),o.length||(o=null),r.attr(u,o),r.attr(n,o)):"tabindex"===n?(r.attr(u,o),r.attr(n,null)):r.attr(u,e.convertURL(o,n,r.name))}}),t.addNodeFilter("script",function(e){for(var t=e.length;t--;){var n=e[t],r=n.attr("type")||"no/type";0!==r.indexOf("mce-")&&n.attr("type","mce-"+r)}}),e.settings.preserve_cdata&&t.addNodeFilter("#cdata",function(t){for(var n=t.length;n--;){var r=t[n];r.type=8,r.name="#comment",r.value="[CDATA["+e.dom.encode(r.value)+"]]"}}),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(t){for(var n=t.length,r=e.schema.getNonEmptyElements();n--;){var o=t[n];o.isEmpty(r)&&0===o.getAll("br").length&&(o.append(new gm("br",1)).shortEnded=!0)}}),t},KR=function(e){e.settings.auto_focus&&qu.setEditorTimeout(e,function(){var t;t=!0===e.settings.auto_focus?e:e.editorManager.get(e.settings.auto_focus),t.destroyed||t.focus()},100)},JR=function(e){var t=e.dom.getRoot();e.inline||Zh(e)&&e.selection.getStart(!0)!==t||Ip(t).each(function(t){var n=t.getNode(),r=fo(n)?Ip(n).getOr(t):t;kn.browser.isIE()?Yb(e,r.toRange()):e.selection.setRng(r.toRange())})},QR=function(e){e.bindPendingEventDelegates(),e.initialized=!0,eC(e),e.focus(!0),JR(e),e.nodeChanged({initial:!0}),e.execCallback("init_instance_callback",e),KR(e)},ZR=function(e){return e.inline?VR.styleSheetLoader:e.dom.styleSheetLoader},eP=function(e,t){var n=e.settings,r=e.getDoc(),o=e.getBody();n.browser_spellcheck||n.gecko_spellcheck||(r.body.spellcheck=!1,VR.setAttrib(o,"spellcheck","false")),e.quirks=UR(e),Z_(e);var i=Hf(e);if(void 0!==i&&(o.dir=i),n.protect&&e.on("BeforeSetContent",function(e){zn.each(n.protect,function(t){e.content=e.content.replace(t,function(e){return"\x3c!--mce:protected "+escape(e)+"--\x3e"})})}),e.on("SetContent",function(){e.addVisual(e.getBody())}),!1===t&&e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"}),e.on("compositionstart compositionend",function(t){e.composing="compositionstart"===t.type}),e.contentStyles.length>0){var a="";zn.each(e.contentStyles,function(e){a+=e+"\r\n"}),e.dom.addStyle(a)}ZR(e).loadAll(e.contentCSS,function(t){QR(e)},function(t){QR(e)}),n.content_style&&qR(e,n.content_style)},tP=function(e,t){var r=e.settings,o=e.getElement(),i=e.getDoc();r.inline||(e.getElement().style.visibility=e.orgVisibility),t||e.inline||(i.open(),i.write(e.iframeHTML),i.close()),e.inline&&(VR.addClass(o,"mce-content-body"),e.contentDocument=i=n.document,e.contentWindow=n.window,e.bodyElement=o,e.contentAreaContainer=o);var u=e.getBody();u.disabled=!0,e.readonly=!!r.readonly,e.readonly||(e.inline&&"static"===VR.getStyle(u,"position",!0)&&(u.style.position="relative"),u.contentEditable=e.getParam("content_editable_state",!0)),u.disabled=!1,e.editorUpload=Ak(e),e.schema=a(r),e.dom=es(i,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,hex_colors:r.force_hex_style_colors,update_styles:!0,root_element:e.inline?e.getBody():null,collect:function(){return e.inline},schema:e.schema,contentCssCors:Rf(e),referrerPolicy:Pf(e),onSetAttrib:function(t){e.fire("SetAttrib",t)}}),e.parser=YR(e),e.serializer=Ek(XR(e),e),e.selection=PE(e.dom,e.getWin(),e.serializer,e),e.annotator=lm(e),e.formatter=Wk(e),e.undoManager=Xk(e),e._nodeChangeDispatcher=new tR(e),e._selectionOverrides=HR(e),oT(e),oR(e),x_(e)||uR(e),eR(e),lT(e),tT(e),Q_(e),__(e).fold(function(){eP(e,!1)},function(t){e.setProgressState(!0),t.then(function(t){e.setProgressState(!1),eP(e,t)})})},nP=es.DOM,rP=function(e,t){if(n.document.domain!==n.window.location.hostname&&kn.browser.isIE()){var r=Nk("mce");e[r]=function(){tP(e)};var o='javascript:(function(){document.open();document.domain="'+n.document.domain+'";var ed = window.parent.tinymce.get("'+e.id+'");document.write(ed.iframeHTML);document.close();ed.'+r+"(true);})()";return nP.setAttrib(t,"src",o),!0}return!1},oP=function(e,t,n,r){var o=Wn.fromTag("iframe");return Eo(o,r),Eo(o,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),Os(o,"tox-edit-area__iframe"),o},iP=function(e){var t=lf(e)+"<html><head>";ff(e)!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';var n=df(e),r=pf(e);return hf(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+hf(e)+'" />'),t+='</head><body id="'+n+'" class="mce-content-body '+r+'" data-id="'+e.id+'"><br></body></html>'},aP=function(e,t){var n=e.editorManager.translate("Rich Text Area. Press ALT-0 for help."),r=oP(e.id,n,t.height,cf(e)).dom();r.onload=function(){r.onload=null,e.fire("load")};var o=rP(e,r);return e.contentAreaContainer=t.iframeContainer,e.iframeElement=r,e.iframeHTML=iP(e),nP.add(t.iframeContainer,r),o},uP=function(e,t){var n=aP(e,t);t.editorContainer&&(nP.get(t.editorContainer).style.display=e.orgDisplay,e.hidden=nP.isHidden(t.editorContainer)),e.getElement().style.display="none",nP.setAttrib(e.id,"aria-hidden","true"),n||tP(e)},sP=es.DOM,cP=function(e,t,n){var r=ZC.get(n),o=ZC.urls[n]||e.documentBaseUrl.replace(/\/$/,"");if(n=zn.trim(n),r&&-1===zn.inArray(t,n)){if(zn.each(ZC.dependencies(n),function(n){cP(e,t,n)}),e.plugins[n])return;try{var i=new r(e,o,e.$);e.plugins[n]=i,i.init&&(i.init(e,o),t.push(n))}catch(t){lS(e,n,t)}}},lP=function(e){return e.replace(/^\-/,"")},fP=function(e){var t=[];zn.each(dd(e).split(/[ ,]/),function(n){cP(e,t,lP(n))})},dP=function(e){var t=zn.trim(Nf(e)),n=e.ui.registry.getAll().icons,r=Lt(Lt({},FC.get("default").icons),FC.get(t).icons);mt(r,function(t,r){Et(n,r)||e.ui.registry.addIcon(r,t)})},pP=function(e){var t=Xf(e);if(Me(t)){e.settings.theme=lP(t);var n=eS.get(t);e.theme=new n(e,eS.urls[t]),e.theme.init&&e.theme.init(e,eS.urls[t]||e.documentBaseUrl.replace(/\/$/,""),e.$)}else e.theme={}},hP=function(e){return e.theme.renderUI()},mP=function(e){var t=e.getElement(),n=Xf(e),r=n(e,t);return r.editorContainer.nodeType&&(r.editorContainer.id=r.editorContainer.id||e.id+"_parent"),r.iframeContainer&&r.iframeContainer.nodeType&&(r.iframeContainer.id=r.iframeContainer.id||e.id+"_iframecontainer"),r.height=r.iframeHeight?r.iframeHeight:t.offsetHeight,r},gP=function(e){return{editorContainer:e,iframeContainer:e}},vP=function(e){var t=sP.create("div");return sP.insertAfter(t,e),gP(t)},bP=function(e){var t=e.getElement();return e.inline?gP(null):vP(t)},yP=function(e){var t=e.getElement();return e.orgDisplay=t.style.display,Me(Xf(e))?hP(e):Be(Xf(e))?mP(e):bP(e)},wP=function(e){e.fire("ScriptsLoaded"),dP(e),pP(e),fP(e);var t=yP(e);return e.editorContainer=t.editorContainer?t.editorContainer:null,hS(e),e.inline?tP(e):uP(e,t)},xP=es.DOM,_P=function(e){return"-"===e.charAt(0)},CP=function(e,t){var n=Lf(t),r=jf(t);if(!1===bs.hasCode(n)&&"en"!==n){var o=""!==r?r:t.editorManager.baseURL+"/langs/"+n+".js";e.add(o,he,void 0,function(){cS(t,o,n)})}},SP=function(e,t,n,r){var o=Xf(t);if(Me(o)){if(!_P(o)&&!eS.urls.hasOwnProperty(o)){var i=ed(t);i?eS.load(o,t.documentBaseURI.toAbsolute(i)):eS.load(o,"themes/"+o+"/theme"+n+".js")}e.loadQueue(function(){eS.waitFor(o,r)})}else r()},EP=function(e){return Te.from(Of(e)).filter(function(e){return e.length>0}).map(function(e){return{url:e,name:Te.none()}})},kP=function(e,t,n){return Te.from(t).filter(function(e){return e.length>0&&!FC.has(e)}).map(function(t){return{url:e.editorManager.baseURL+"/icons/"+t+"/icons"+n+".js",name:Te.some(t)}})},TP=function(e,t,n){var r=kP(t,"default",n),o=EP(t).orThunk(function(){return kP(t,Nf(t),"")});Xe(kc([r,o]),function(n){e.add(n.url,he,void 0,function(){sS(t,n.url,n.name.getOrUndefined())})})},NP=function(e,t){zn.each(pd(e),function(t,n){ZC.load(n,t,he,void 0,function(){uS(e,t,n)}),e.settings.plugins+=" "+n}),zn.each(dd(e).split(/[ ,]/),function(n){if((n=zn.trim(n))&&!ZC.urls[n])if(_P(n)){n=n.substr(1,n.length);var r=ZC.dependencies(n);zn.each(r,function(n){var r={prefix:"plugins/",resource:n,suffix:"/plugin"+t+".js"},o=ZC.createUrl(r,n);ZC.load(o.resource,o,he,void 0,function(){uS(e,o.prefix+o.resource+o.suffix,o.resource)})})}else{var o={prefix:"plugins/",resource:n,suffix:"/plugin"+t+".js"};ZC.load(n,o,he,void 0,function(){uS(e,o.prefix+o.resource+o.suffix,n)})}})},OP=function(e,t){var n=os.ScriptLoader;SP(n,e,t,function(){CP(n,e),TP(n,e,t),NP(e,t),n.loadQueue(function(){e.removed||wP(e)},e,function(){e.removed||wP(e)})})},AP=function(e,t){return Wu.forElement(e,{contentCssCors:fd(t),referrerPolicy:Pf(t)})},DP=function(e){var t=e.id;bs.setCode(Lf(e));var r=function(){xP.unbind(n.window,"ready",r),e.render()};if(!ta.Event.domLoaded)return void xP.bind(n.window,"ready",r);if(e.getElement()&&kn.contentEditable){var o=Wn.fromDom(e.getElement()),i=Ao(o);e.on("remove",function(){Ye(o.dom().attributes,function(e){return Oo(o,e.name)}),Eo(o,i)}),e.ui.styleSheetLoader=AP(o,e),td(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");var a=e.getElement().form||xP.getParent(t,"form");a&&(e.formElement=a,nd(e)&&!ho(e.getElement())&&(xP.insertAfter(xP.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=function(t){e.fire(t.type,t)},xP.bind(a,"submit reset",e.formEventDelegate),e.on("reset",function(){e.resetContent()}),!rd(e)||a.submit.nodeType||a.submit.length||a._mceOldSubmit||(a._mceOldSubmit=a.submit,a.submit=function(){return e.editorManager.triggerSave(),e.setDirty(!1),a._mceOldSubmit(a)})),e.windowManager=tS(e),e.notificationManager=A(e),od(e)&&e.on("GetContent",function(e){e.save&&(e.content=xP.encode(e.content))}),id(e)&&e.on("submit",function(){e.initialized&&e.save()}),ad(e)&&(e._beforeUnload=function(){!e.initialized||e.destroyed||e.isHidden()||e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),OP(e,e.suffix)}},MP=function(e){return Be(e)?e:ve(!1)},IP=function(e,t,n){for(var r=e.dom(),o=MP(n);r.parentNode;){r=r.parentNode;var i=Wn.fromDom(r),a=t(i);if(a.isSome())return a;if(o(i))break}return Te.none()},RP=function(e,t,n){var r=t(e),o=MP(n);return r.orThunk(function(){return o(e)?Te.none():IP(e,t,o)})},PP={"font-size":"size","font-family":"face"},LP=function(e,t,n){var r=function(t){return Io(t,e).orThunk(function(){return"font"===Gn(t)?St(PP,e).bind(function(e){return To(t,e)}):Te.none()})},o=function(e){return sr(Wn.fromDom(t),e)};return RP(Wn.fromDom(n),function(e){return r(e)},o)},jP=function(e){return e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},BP=function(e,t){return Te.from(es.DOM.getStyle(t,e,!0))},zP=function(e){return function(t,n){return Te.from(n).map(Wn.fromDom).filter(Kn).bind(function(n){return LP(e,t,n.dom()).or(BP(e,n.dom()))}).getOr("")}},FP=zP("font-size"),HP=me(jP,zP("font-family")),UP=function(e){return Ip(e.getBody()).map(function(e){var t=e.container();return mo(t)?t.parentNode:t})},VP=function(e,t){return e.startContainer===t&&0===e.startOffset},qP=function(e){return Te.from(e.selection.getRng()).bind(function(t){var n=e.getBody();return VP(t,n)?Te.none():Te.from(e.selection.getStart(!0))})},WP=function(e,t){if(/^[0-9\.]+$/.test(t)){var n=parseInt(t,10);if(n>=1&&n<=7){var r=_f(e),o=Cf(e);return o?o[n-1]||t:r[n-1]||t}return t}return t},GP=function(e){var t=e.split(/\s*,\s*/);return $e(t,function(e){return-1===e.indexOf(" ")||nn(e,'"')||nn(e,"'")?e:"'"+e+"'"}).join(",")},$P=function(e,t){var n=WP(e,t);e.formatter.toggle("fontname",{value:GP(n)}),e.nodeChanged()},XP=function(e){return qP(e).fold(function(){return UP(e).map(function(t){return HP(e.getBody(),t)}).getOr("")},function(t){return HP(e.getBody(),t)})},YP=function(e,t){e.formatter.toggle("fontsize",{value:WP(e,t)}),e.nodeChanged()},KP=function(e){return qP(e).fold(function(){return UP(e).map(function(t){return FP(e.getBody(),t)}).getOr("")},function(t){return FP(e.getBody(),t)})},JP=function(e){var t;return"string"!=typeof e?(t=zn.extend({paste:e.paste,data:{paste:e.paste}},e),{content:e.content,details:t}):{content:e,details:{}}},QP=function(e,t){var n=JP(t);H_(e,n.content,n.details)},ZP=function(e,t){e.getDoc().execCommand(t,!1,null)},eL=function(e){tM(e)||bD(e,!1)||_D(e,!1)||OD(e,!1)||zA(e,!1)||Nv(e)||GA(e)||RD(e,!1)||(ZP(e,"Delete"),vA(e))},tL=function(e){bD(e,!0)||_D(e,!0)||OD(e,!0)||zA(e,!0)||Nv(e)||GA(e)||RD(e,!0)||ZP(e,"ForwardDelete")},nL=zn.each,rL=zn.map,oL=zn.inArray,iL=function(){function e(e){this.commands={state:{},exec:{},value:{}},this.editor=e,this.setupCommands(e)}return e.prototype.execCommand=function(e,t,n,r){var o,i=!1,a=this;if(!a.editor.removed){if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(e)||r&&r.skip_focus?Jb(a.editor):a.editor.focus(),r=a.editor.fire("BeforeExecCommand",{command:e,ui:t,value:n}),r.isDefaultPrevented())return!1;var u=e.toLowerCase();if(o=a.commands.exec[u])return o(u,t,n),a.editor.fire("ExecCommand",{command:e,ui:t,value:n}),!0;if(nL(this.editor.plugins,function(r){if(r.execCommand&&r.execCommand(e,t,n))return a.editor.fire("ExecCommand",{command:e,ui:t,value:n}),i=!0,!1}),i)return i;if(a.editor.theme&&a.editor.theme.execCommand&&a.editor.theme.execCommand(e,t,n))return a.editor.fire("ExecCommand",{command:e,ui:t,value:n}),!0;try{i=a.editor.getDoc().execCommand(e,t,n)}catch(e){}return!!i&&(a.editor.fire("ExecCommand",{command:e,ui:t,value:n}),!0)}},e.prototype.queryCommandState=function(e){var t;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(e=e.toLowerCase(),t=this.commands.state[e])return t(e);try{return this.editor.getDoc().queryCommandState(e)}catch(e){}return!1}},e.prototype.queryCommandValue=function(e){var t;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(e=e.toLowerCase(),t=this.commands.value[e])return t(e);try{return this.editor.getDoc().queryCommandValue(e)}catch(e){}}},e.prototype.addCommands=function(e,t){var n=this;t=t||"exec",nL(e,function(e,r){nL(r.toLowerCase().split(","),function(r){n.commands[t][r]=e})})},e.prototype.addCommand=function(e,t,n){var r=this;e=e.toLowerCase(),this.commands.exec[e]=function(e,o,i,a){return t.call(n||r.editor,o,i,a)}},e.prototype.queryCommandSupported=function(e){if(e=e.toLowerCase(),this.commands.exec[e])return!0;try{return this.editor.getDoc().queryCommandSupported(e)}catch(e){}return!1},e.prototype.addQueryStateHandler=function(e,t,n){var r=this;e=e.toLowerCase(),this.commands.state[e]=function(){return t.call(n||r.editor)}},e.prototype.addQueryValueHandler=function(e,t,n){var r=this;e=e.toLowerCase(),this.commands.value[e]=function(){return t.call(n||r.editor)}},e.prototype.hasCustomCommand=function(e){return e=e.toLowerCase(),!!this.commands.exec[e]},e.prototype.execNativeCommand=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n=null),this.editor.getDoc().execCommand(e,t,n)},e.prototype.isFormatMatch=function(e){return this.editor.formatter.match(e)},e.prototype.toggleFormat=function(e,t){this.editor.formatter.toggle(e,t?{value:t}:void 0),this.editor.nodeChanged()},e.prototype.storeSelection=function(e){this.selectionBookmark=this.editor.selection.getBookmark(e)},e.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)},e.prototype.setupCommands=function(e){var t=this;this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){e.undoManager.add()},"Cut,Copy,Paste":function(n){var r,o=e.getDoc();try{t.execNativeCommand(n)}catch(e){r=!0}if("paste"!==n||o.queryCommandEnabled(n)||(r=!0),r||!o.queryCommandSupported(n)){var i=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");kn.mac&&(i=i.replace(/Ctrl\+/g,"⌘+")),e.notificationManager.open({text:i,type:"error"})}},unlink:function(){if(e.selection.isCollapsed()){var t=e.dom.getParent(e.selection.getStart(),"a");return void(t&&e.dom.remove(t,!0))}e.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(n){var r=n.substring(7);"full"===r&&(r="justify"),nL("left,center,right,justify".split(","),function(t){r!==t&&e.formatter.remove("align"+t)}),"none"!==r&&t.toggleFormat("align"+r)},"InsertUnorderedList,InsertOrderedList":function(n){var r;t.execNativeCommand(n);var o=e.dom.getParent(e.selection.getNode(),"ol,ul");o&&(r=o.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(r.nodeName)&&(t.storeSelection(),e.dom.split(r,o),t.restoreSelection()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){t.toggleFormat(e)},"ForeColor,HiliteColor":function(e,n,r){t.toggleFormat(e,r)},FontName:function(t,n,r){$P(e,r)},FontSize:function(t,n,r){YP(e,r)},RemoveFormat:function(t){e.formatter.remove(t)},mceBlockQuote:function(){t.toggleFormat("blockquote")},FormatBlock:function(e,n,r){return t.toggleFormat(r||"p")},mceCleanup:function(){var t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},mceRemoveNode:function(n,r,o){var i=o||e.selection.getNode();i!==e.getBody()&&(t.storeSelection(),e.dom.remove(i,!0),t.restoreSelection())},mceSelectNodeDepth:function(t,n,r){var o=0;e.dom.getParent(e.selection.getNode(),function(t){if(1===t.nodeType&&o++===r)return e.selection.select(t),!1},e.getBody())},mceSelectNode:function(t,n,r){e.selection.select(r)},mceInsertContent:function(t,n,r){QP(e,r)},mceInsertRawHTML:function(t,n,r){e.selection.setContent("tiny_mce_marker");var o=e.getContent();e.setContent(o.replace(/tiny_mce_marker/g,function(){return r}))},mceInsertNewLine:function(t,n,r){cI(e,r)},mceToggleFormat:function(e,n,r){t.toggleFormat(r)},mceSetContent:function(t,n,r){e.setContent(r)},"Indent,Outdent":function(t){GD(e,t)},mceRepaint:function(){},InsertHorizontalRule:function(){e.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){e.hasVisual=!e.hasVisual,e.addVisual()},mceReplaceContent:function(t,n,r){e.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceInsertLink:function(t,n,r){"string"==typeof r&&(r={href:r});var o=e.dom.getParent(e.selection.getNode(),"a");r.href=r.href.replace(/ /g,"%20"),o&&r.href||e.formatter.remove("link"),r.href&&e.formatter.apply("link",r,o)},selectAll:function(){var t=e.dom.getParent(e.selection.getStart(),wo);if(t){var n=e.dom.createRng();n.selectNodeContents(t),e.selection.setRng(n)}},delete:function(){eL(e)},forwardDelete:function(){tL(e)},mceNewDocument:function(){e.setContent("")},InsertLineBreak:function(t,n,r){return GM(e,r),!0}});var n=function(t){return function(){var n=e.selection.isCollapsed()?[e.dom.getParent(e.selection.getNode(),e.dom.isBlock)]:e.selection.getSelectedBlocks(),r=rL(n,function(n){return!!e.formatter.matchNode(n,t)});return-1!==oL(r,!0)}};t.addCommands({JustifyLeft:n("alignleft"),JustifyCenter:n("aligncenter"),JustifyRight:n("alignright"),JustifyFull:n("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){return t.isFormatMatch(e)},mceBlockQuote:function(){return t.isFormatMatch("blockquote")},Outdent:function(){return UD(e)},"InsertUnorderedList,InsertOrderedList":function(t){var n=e.dom.getParent(e.selection.getNode(),"ul,ol");return n&&("insertunorderedlist"===t&&"UL"===n.tagName||"insertorderedlist"===t&&"OL"===n.tagName)}},"state"),t.addCommands({Undo:function(){e.undoManager.undo()},Redo:function(){e.undoManager.redo()}}),t.addQueryValueHandler("FontName",function(){return XP(e)},this),t.addQueryValueHandler("FontSize",function(){return KP(e)},this)},e}(),aL=function(e,t,n){Ms(e,t)&&!1===n?Ds(e,t):n&&Os(e,t)},uL=function(e,t,n){try{e.getDoc().execCommand(t,!1,n)}catch(e){}},sL=function(e,t){e.dom().contentEditable=t?"true":"false"},cL=function(e){Xe(Rs(e,'*[contenteditable="true"]'),function(e){So(e,"data-mce-contenteditable","true"),sL(e,!1)})},lL=function(e){Xe(Rs(e,'*[data-mce-contenteditable="true"]'),function(e){Oo(e,"data-mce-contenteditable"),sL(e,!0)})},fL=function(e){Te.from(e.selection.getNode()).each(function(e){e.removeAttribute("data-mce-selected")})},dL=function(e){e.selection.setRng(e.selection.getRng())},pL=function(e,t){var n=Wn.fromDom(e.getBody());aL(n,"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),fL(e),e.readonly=!0,sL(n,!1),cL(n)):(e.readonly=!1,sL(n,!0),lL(n),uL(e,"StyleWithCSS",!1),uL(e,"enableInlineTableEditing",!1),uL(e,"enableObjectResizing",!1),Sy(e)&&e.focus(),dL(e),e.nodeChanged())},hL=function(e){return e.readonly},mL=function(e){e.parser.addAttributeFilter("contenteditable",function(t){hL(e)&&Xe(t,function(e){e.attr("data-mce-contenteditable",e.attr("contenteditable")),e.attr("contenteditable","false")})}),e.serializer.addAttributeFilter("data-mce-contenteditable",function(t){hL(e)&&Xe(t,function(e){e.attr("contenteditable",e.attr("data-mce-contenteditable"))})}),e.serializer.addTempAttr("data-mce-contenteditable")},gL=function(e){e.serializer?mL(e):e.on("PreInit",function(){mL(e)})},vL=function(e){return"click"===e.type},bL=function(e,t){return null!==e.dom.getParent(t,"a")},yL=function(e,t){var n=t.target;vL(t)&&!kE.metaKeyPressed(t)&&bL(e,n)&&t.preventDefault()},wL=function(e){e.on("ShowCaret",function(t){hL(e)&&t.preventDefault()}),e.on("ObjectSelected",function(t){hL(e)&&t.preventDefault()})},xL=zn.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," "),_L=function(){function e(e){this.bindings={},this.settings=e||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||xe}return e.isNative=function(e){return!!xL[e.toLowerCase()]},e.prototype.fire=function(e,t){e=e.toLowerCase(),t=t||{},t.type=e,t.target||(t.target=this.scope),t.preventDefault||(t.preventDefault=function(){t.isDefaultPrevented=_e},t.stopPropagation=function(){t.isPropagationStopped=_e},t.stopImmediatePropagation=function(){t.isImmediatePropagationStopped=_e},t.isDefaultPrevented=xe,t.isPropagationStopped=xe,t.isImmediatePropagationStopped=xe),this.settings.beforeFire&&this.settings.beforeFire(t);var n=this.bindings[e];if(n)for(var r=0,o=n.length;r<o;r++){var i=n[r];if(i.once&&this.off(e,i.func),t.isImmediatePropagationStopped())return t.stopPropagation(),t;if(!1===i.func.call(this.scope,t))return t.preventDefault(),t}return t},e.prototype.on=function(e,t,n,r){var o,i,a;if(!1===t&&(t=xe),t){var u={func:t};for(r&&zn.extend(u,r),i=e.toLowerCase().split(" "),a=i.length;a--;)e=i[a],o=this.bindings[e],o||(o=this.bindings[e]=[],this.toggleEvent(e,!0)),n?o.unshift(u):o.push(u)}return this},e.prototype.off=function(e,t){var n,r,o,i,a=this;if(e)for(o=e.toLowerCase().split(" "),n=o.length;n--;){if(e=o[n],r=this.bindings[e],!e)return mt(this.bindings,function(e,t){a.toggleEvent(t,!1),delete a.bindings[t]}),this;if(r){if(t)for(i=r.length;i--;)r[i].func===t&&(r=r.slice(0,i).concat(r.slice(i+1)),this.bindings[e]=r);else r.length=0;r.length||(this.toggleEvent(e,!1),delete this.bindings[e])}}else mt(this.bindings,function(e,t){a.toggleEvent(t,!1)}),this.bindings={};return this},e.prototype.once=function(e,t,n){return this.on(e,t,n,{once:!0})},e.prototype.has=function(e){return e=e.toLowerCase(),!(!this.bindings[e]||0===this.bindings[e].length)},e}(),CL=function(e){return e._eventDispatcher||(e._eventDispatcher=new _L({scope:e,toggleEvent:function(t,n){_L.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,n)}})),e._eventDispatcher},SL={fire:function(e,t,n){var r=this;if(r.removed&&"remove"!==e&&"detach"!==e)return t;var o=CL(r).fire(e,t);if(!1!==n&&r.parent)for(var i=r.parent();i&&!o.isPropagationStopped();)i.fire(e,o,!1),i=i.parent();return o},on:function(e,t,n){return CL(this).on(e,t,n)},off:function(e,t){return CL(this).off(e,t)},once:function(e,t){return CL(this).once(e,t)},hasEventListeners:function(e){return CL(this).has(e)}},EL=es.DOM,kL=function(e,t){if("selectionchange"===t)return e.getDoc();if(!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t))return e.getDoc().documentElement;var n=Gf(e);return n?(e.eventRoot||(e.eventRoot=EL.select(n)[0]),e.eventRoot):e.getBody()},TL=function(e){return!e.hidden&&!hL(e)},NL=function(e,t,n){TL(e)?e.fire(t,n):hL(e)&&yL(e,n)},OL=function(e,t){var n;if(e.delegates||(e.delegates={}),!e.delegates[t]&&!e.removed){var r=kL(e,t);if(Gf(e)){if(RN||(RN={},e.editorManager.on("removeEditor",function(){e.editorManager.activeEditor||RN&&(mt(RN,function(t,n){e.dom.unbind(kL(e,n))}),RN=null)})),RN[t])return;n=function(n){for(var r=n.target,o=e.editorManager.get(),i=o.length;i--;){var a=o[i].getBody();(a===r||EL.isChildOf(r,a))&&NL(o[i],t,n)}},RN[t]=n,EL.bind(r,t,n)}else n=function(n){NL(e,t,n)},EL.bind(r,t,n),e.delegates[t]=n}},AL=Lt(Lt({},SL),{bindPendingEventDelegates:function(){var e=this;zn.each(e._pendingNativeEvents,function(t){OL(e,t)})},toggleNativeEvent:function(e,t){var n=this;"focus"!==e&&"blur"!==e&&(t?n.initialized?OL(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&(n.dom.unbind(kL(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents:function(){var e=this,t=e.getBody(),n=e.dom;e.delegates&&(mt(e.delegates,function(t,n){e.dom.unbind(kL(e,n),n,t)}),delete e.delegates),!e.inline&&t&&n&&(t.onload=null,n.unbind(e.getWin()),n.unbind(e.getDoc())),n&&(n.unbind(t),n.unbind(e.getContainer()))}}),DL=["design","readonly"],ML=function(e,t,r,o){var i=r[t.get()],a=r[o];try{a.activate()}catch(e){return void n.console.error("problem while activating editor mode "+o+":",e)}i.deactivate(),i.editorReadOnly!==a.editorReadOnly&&pL(e,a.editorReadOnly),t.set(o),Y_(e,o)},IL=function(e,t,n,r){if(r!==n.get()){if(!Et(t,r))throw new Error("Editor mode '"+r+"' is invalid");e.initialized?ML(e,n,t,r):e.on("init",function(){return ML(e,n,t,r)})}},RL=function(e,t,r){var o;if(We(DL,t))throw new Error("Cannot override default mode "+t);return Lt(Lt({},e),(o={},o[t]=Lt(Lt({},r),{deactivate:function(){try{r.deactivate()}catch(e){n.console.error("problem while deactivating editor mode "+t+":",e)}}}),o))},PL=function(e){var t=is("design"),n=is({design:{activate:he,deactivate:he,editorReadOnly:!1},readonly:{activate:he,deactivate:he,editorReadOnly:!0}});return gL(e),wL(e),{isReadOnly:function(){return hL(e)},set:function(r){return IL(e,n.get(),t,r)},get:function(){return t.get()},register:function(e,t){n.set(RL(n.get(),e,t))}}},LL=zn.each,jL=zn.explode,BL={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},zL=zn.makeMap("alt,ctrl,shift,meta,access"),FL=function(){function e(e){this.shortcuts={},this.pendingPatterns=[],this.editor=e;var t=this;e.on("keyup keypress keydown",function(e){!t.hasModifier(e)&&!t.isFunctionKey(e)||e.isDefaultPrevented()||(LL(t.shortcuts,function(n){if(t.matchShortcut(e,n))return t.pendingPatterns=n.subpatterns.slice(0),"keydown"===e.type&&t.executeShortcutAction(n),!0}),t.matchShortcut(e,t.pendingPatterns[0])&&(1===t.pendingPatterns.length&&"keydown"===e.type&&t.executeShortcutAction(t.pendingPatterns[0]),t.pendingPatterns.shift()))})}return e.prototype.add=function(e,t,n,r){var o=this,i=n;return"string"==typeof i?n=function(){o.editor.execCommand(i,!1,null)}:zn.isArray(i)&&(n=function(){o.editor.execCommand(i[0],i[1],i[2])}),LL(jL(zn.trim(e)),function(e){var i=o.createShortcut(e,t,n,r);o.shortcuts[i.id]=i}),!0},e.prototype.remove=function(e){var t=this.createShortcut(e);return!!this.shortcuts[t.id]&&(delete this.shortcuts[t.id],!0)},e.prototype.parseShortcut=function(e){var t,n={};LL(jL(e.toLowerCase(),"+"),function(e){e in zL?n[e]=!0:/^[0-9]{2,}$/.test(e)?n.keyCode=parseInt(e,10):(n.charCode=e.charCodeAt(0),n.keyCode=BL[e]||e.toUpperCase().charCodeAt(0))});var r=[n.keyCode];for(t in zL)n[t]?r.push(t):n[t]=!1;return n.id=r.join(","),n.access&&(n.alt=!0,kn.mac?n.ctrl=!0:n.shift=!0),n.meta&&(kn.mac?n.meta=!0:(n.ctrl=!0,n.meta=!1)),n},e.prototype.createShortcut=function(e,t,n,r){var o=zn.map(jL(e,">"),this.parseShortcut);return o[o.length-1]=zn.extend(o[o.length-1],{func:n,scope:r||this.editor}),zn.extend(o[0],{desc:this.editor.translate(t),subpatterns:o.slice(1)})},e.prototype.hasModifier=function(e){return e.altKey||e.ctrlKey||e.metaKey},e.prototype.isFunctionKey=function(e){return"keydown"===e.type&&e.keyCode>=112&&e.keyCode<=123},e.prototype.matchShortcut=function(e,t){return!!t&&(t.ctrl===e.ctrlKey&&t.meta===e.metaKey&&(t.alt===e.altKey&&t.shift===e.shiftKey&&(!!(e.keyCode===t.keyCode||e.charCode&&e.charCode===t.charCode)&&(e.preventDefault(),!0))))},e.prototype.executeShortcutAction=function(e){return e.func?e.func.call(e.scope):null},e}(),HL=function(){var e={},t={},n={},r={},o={},i={},a={},u=function(e,t){return function(n,r){return e[n.toLowerCase()]=Lt(Lt({},r),{type:t})}},s=function(e,t){return r[e.toLowerCase()]=t};return{addButton:u(e,"button"),addGroupToolbarButton:u(e,"grouptoolbarbutton"),addToggleButton:u(e,"togglebutton"),addMenuButton:u(e,"menubutton"),addSplitButton:u(e,"splitbutton"),addMenuItem:u(t,"menuitem"),addNestedMenuItem:u(t,"nestedmenuitem"),addToggleMenuItem:u(t,"togglemenuitem"),addAutocompleter:u(n,"autocompleter"),addContextMenu:u(o,"contextmenu"),addContextToolbar:u(i,"contexttoolbar"),addContextForm:u(i,"contextform"),addSidebar:u(a,"sidebar"),addIcon:s,getAll:function(){return{buttons:e,menuItems:t,icons:r,popups:n,contextMenus:o,contextToolbars:i,sidebars:a}}}},UL=function(){var e=HL();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,getAll:e.getAll}},VL=zn.each,qL=zn.trim,WL="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),GL={ftp:21,http:80,https:443,mailto:25},$L=function(){function e(t,r){t=qL(t),this.settings=r||{};var o=this.settings.base_uri,i=this;if(/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t))return void(i.source=t);var a=0===t.indexOf("//");if(0!==t.indexOf("/")||a||(t=(o?o.protocol||"http":"http")+"://mce_host"+t),!/^[\w\-]*:?\/\//.test(t)){var u=this.settings.base_uri?this.settings.base_uri.path:new e(n.document.location.href).directory;if(this.settings.base_uri&&""==this.settings.base_uri.protocol)t="//mce_host"+i.toAbsPath(u,t);else{var s=/([^#?]*)([#?]?.*)/.exec(t);t=(o&&o.protocol||"http")+"://mce_host"+i.toAbsPath(u,s[1])+s[2]}}t=t.replace(/@@/g,"(mce_at)");var c=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t);VL(WL,function(e,t){var n=c[t];n&&(n=n.replace(/\(mce_at\)/g,"@@")),i[e]=n}),o&&(i.protocol||(i.protocol=o.protocol),i.userInfo||(i.userInfo=o.userInfo),i.port||"mce_host"!==i.host||(i.port=o.port),i.host&&"mce_host"!==i.host||(i.host=o.host),i.source=""),a&&(i.protocol="")}return e.parseDataUri=function(e){var t,n=decodeURIComponent(e).split(","),r=/data:([^;]+)/.exec(n[0]);return r&&(t=r[1]),{type:t,data:n[1]}},e.getDocumentBaseUrl=function(e){var t;return t=0!==e.protocol.indexOf("http")&&"file:"!==e.protocol?e.href:e.protocol+"//"+e.host+e.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/")),t},e.prototype.setPath=function(e){var t=/^(.*?)\/?(\w+)?$/.exec(e);this.path=t[0],this.directory=t[1],this.file=t[2],this.source="",this.getURI()},e.prototype.toRelative=function(t){var n;if("./"===t)return t;var r=new e(t,{base_uri:this});if("mce_host"!==r.host&&this.host!==r.host&&r.host||this.port!==r.port||this.protocol!==r.protocol&&""!==r.protocol)return r.getURI();var o=this.getURI(),i=r.getURI();return o===i||"/"===o.charAt(o.length-1)&&o.substr(0,o.length-1)===i?o:(n=this.toRelPath(this.path,r.path),r.query&&(n+="?"+r.query),r.anchor&&(n+="#"+r.anchor),n)},e.prototype.toAbsolute=function(t,n){var r=new e(t,{base_uri:this});return r.getURI(n&&this.isSameOrigin(r))},e.prototype.isSameOrigin=function(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;var t=GL[this.protocol];if(t&&(this.port||t)==(e.port||t))return!0}return!1},e.prototype.toRelPath=function(e,t){var n,r,o=0,i="",a=e.substring(0,e.lastIndexOf("/")).split("/"),u=t.split("/");if(a.length>=u.length)for(n=0,r=a.length;n<r;n++)if(n>=u.length||a[n]!==u[n]){o=n+1;break}if(a.length<u.length)for(n=0,r=u.length;n<r;n++)if(n>=a.length||a[n]!==u[n]){o=n+1;break}if(1===o)return t;for(n=0,r=a.length-(o-1);n<r;n++)i+="../";for(n=o-1,r=u.length;n<r;n++)i+=n!==o-1?"/"+u[n]:u[n];return i},e.prototype.toAbsPath=function(e,t){var n,r,o=0,i=[],a=/\/$/.test(t)?"/":"",u=e.split("/"),s=t.split("/");for(VL(u,function(e){e&&i.push(e)}),u=i,n=s.length-1,i=[];n>=0;n--)0!==s[n].length&&"."!==s[n]&&(".."!==s[n]?o>0?o--:i.push(s[n]):o++);return n=u.length-o,r=n<=0?at(i).join("/"):u.slice(0,n).join("/")+"/"+at(i).join("/"),0!==r.indexOf("/")&&(r="/"+r),a&&r.lastIndexOf("/")!==r.length-1&&(r+=a),r},e.prototype.getURI=function(e){void 0===e&&(e=!1);var t;return this.source&&!e||(t="",e||(this.protocol?t+=this.protocol+"://":t+="//",this.userInfo&&(t+=this.userInfo+"@"),this.host&&(t+=this.host),this.port&&(t+=":"+this.port)),this.path&&(t+=this.path),this.query&&(t+="?"+this.query),this.anchor&&(t+="#"+this.anchor),this.source=t),this.source},e}(),XL=es.DOM,YL=zn.extend,KL=zn.each,JL=zn.resolve,QL=kn.ie,ZL=function(){function e(e,t,n){var r=this;this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=n,this.documentBaseUrl=n.documentBaseURL,YL(this,AL),this.settings=PC(this,e,this.documentBaseUrl,n.defaultSettings,t),this.settings.suffix&&(n.suffix=this.settings.suffix),this.suffix=n.suffix,this.settings.base_url&&n._setBaseUrl(this.settings.base_url),this.baseUri=n.baseURI,this.settings.referrer_policy&&(os.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy),es.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)),ys.languageLoad=this.settings.language_load,ys.baseURL=n.baseURL,this.id=e,this.setDirty(!1),this.documentBaseURI=new $L(this.settings.document_base_url,{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=!!this.settings.inline,this.shortcuts=new FL(this),this.editorCommands=new iL(this),this.settings.cache_suffix&&(kn.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,"")),this.ui={registry:UL(),styleSheetLoader:void 0};var o=this,i=PL(o);this.mode=i,this.setMode=i.set,n.fire("SetupEditor",{editor:this}),this.execCallback("setup",this),this.$=hu.overrideDefaults(function(){return{context:r.inline?r.getBody():r.getDoc(),element:r.getBody()}})}return e.prototype.render=function(){DP(this)},e.prototype.focus=function(e){Ty(this,e)},e.prototype.hasFocus=function(){return Cy(this)},e.prototype.execCallback=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r,o=this,i=o.settings[e];if(i)return o.callbackLookup&&(r=o.callbackLookup[e])&&(i=r.func,r=r.scope),"string"==typeof i&&(r=i.replace(/\.\w+$/,""),r=r?JL(r):0,i=JL(i),o.callbackLookup=o.callbackLookup||{},o.callbackLookup[e]={func:i,scope:r}),i.apply(r||o,t)},e.prototype.translate=function(e){return bs.translate(e)},e.prototype.getParam=function(e,t,n){return zC(this,e,t,n)},e.prototype.nodeChanged=function(e){this._nodeChangeDispatcher.nodeChanged(e)},e.prototype.addCommand=function(e,t,n){this.editorCommands.addCommand(e,t,n)},e.prototype.addQueryStateHandler=function(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n)},e.prototype.addQueryValueHandler=function(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n)},e.prototype.addShortcut=function(e,t,n,r){this.shortcuts.add(e,t,n,r)},e.prototype.execCommand=function(e,t,n,r){return this.editorCommands.execCommand(e,t,n,r)},e.prototype.queryCommandState=function(e){return this.editorCommands.queryCommandState(e)},e.prototype.queryCommandValue=function(e){return this.editorCommands.queryCommandValue(e)},e.prototype.queryCommandSupported=function(e){return this.editorCommands.queryCommandSupported(e)},e.prototype.show=function(){var e=this;e.hidden&&(e.hidden=!1,e.inline?e.getBody().contentEditable="true":(XL.show(e.getContainer()),XL.hide(e.id)),e.load(),e.fire("show"))},e.prototype.hide=function(){var e=this,t=e.getDoc();e.hidden||(QL&&t&&!e.inline&&t.execCommand("SelectAll"),e.save(),e.inline?(e.getBody().contentEditable="false",e===e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(XL.hide(e.getContainer()),XL.setStyle(e.id,"display",e.orgDisplay)),e.hidden=!0,e.fire("hide"))},e.prototype.isHidden=function(){return!!this.hidden},e.prototype.setProgressState=function(e,t){this.fire("ProgressState",{state:e,time:t})},e.prototype.load=function(e){var t,n=this,r=n.getElement();if(n.removed)return"";if(r){e=e||{},e.load=!0;var o=ho(r)?r.value:r.innerHTML;return t=n.setContent(o,e),e.element=r,e.no_events||n.fire("LoadContent",e),e.element=r=null,t}},e.prototype.save=function(e){var t,n,r=this,o=r.getElement();if(o&&r.initialized&&!r.removed)return e=e||{},e.save=!0,e.element=o,t=e.content=r.getContent(e),e.no_events||r.fire("SaveContent",e),"raw"===e.format&&r.fire("RawSaveContent",e),t=e.content,ho(o)?o.value=t:(!e.is_removing&&r.inline||(o.innerHTML=t),(n=XL.getParent(r.id,"form"))&&KL(n.elements,function(e){if(e.name===r.id)return e.value=t,!1})),e.element=o=null,!1!==e.set_dirty&&r.setDirty(!1),t},e.prototype.setContent=function(e,t){return q_(this,e,t)},e.prototype.getContent=function(e){return V_(this,e)},e.prototype.insertContent=function(e,t){t&&(e=YL({content:e},t)),this.execCommand("mceInsertContent",!1,e)},e.prototype.resetContent=function(e){void 0===e?q_(this,this.startContent,{format:"raw"}):q_(this,e),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()},e.prototype.isDirty=function(){return!this.isNotDirty},e.prototype.setDirty=function(e){var t=!this.isNotDirty;this.isNotDirty=!e,e&&e!==t&&this.fire("dirty")},e.prototype.getContainer=function(){var e=this;return e.container||(e.container=XL.get(e.editorContainer||e.id+"_parent")),e.container},e.prototype.getContentAreaContainer=function(){return this.contentAreaContainer},e.prototype.getElement=function(){return this.targetElm||(this.targetElm=XL.get(this.id)),this.targetElm},e.prototype.getWin=function(){var e,t=this;return t.contentWindow||(e=t.iframeElement)&&(t.contentWindow=e.contentWindow),t.contentWindow},e.prototype.getDoc=function(){var e,t=this;return t.contentDocument||(e=t.getWin())&&(t.contentDocument=e.document),t.contentDocument},e.prototype.getBody=function(){var e=this.getDoc();return this.bodyElement||(e?e.body:null)},e.prototype.convertURL=function(e,t,n){var r=this,o=r.settings;return o.urlconverter_callback?r.execCallback("urlconverter_callback",e,n,!0,t):!o.convert_urls||n&&"LINK"===n.nodeName||0===e.indexOf("file:")||0===e.length?e:o.relative_urls?r.documentBaseURI.toRelative(e):e=r.documentBaseURI.toAbsolute(e,o.remove_script_host)},e.prototype.addVisual=function(e){var t,n=this,r=n.settings,o=n.dom;e=e||n.getBody(),void 0===n.hasVisual&&(n.hasVisual=r.visual),KL(o.select("table,a",e),function(e){var i;switch(e.nodeName){case"TABLE":return t=r.visual_table_class||"mce-item-table",i=o.getAttrib(e,"border"),void(i&&"0"!==i||!n.hasVisual?o.removeClass(e,t):o.addClass(e,t));case"A":return void(o.getAttrib(e,"href")||(i=o.getAttrib(e,"name")||e.id,t=r.visual_anchor_class||"mce-item-anchor",i&&n.hasVisual?o.addClass(e,t):o.removeClass(e,t)))}}),n.fire("VisualAid",{element:e,hasVisual:n.hasVisual})},e.prototype.remove=function(){sC(this)},e.prototype.destroy=function(e){cC(this,e)},e.prototype.uploadImages=function(e){return this.editorUpload.uploadImages(e)},e.prototype._scanForImages=function(){return this.editorUpload.scanForImages()},e.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")},e.prototype.addSidebar=function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")},e.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")},e.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")},e}(),ej=es.DOM,tj=zn.explode,nj=zn.each,rj=zn.extend,oj=0,ij=!1,aj=[],uj=[],sj=function(e){return"length"!==e},cj=function(e){var t=e.type;nj(hj.get(),function(n){switch(t){case"scroll":n.fire("ScrollWindow",e);break;case"resize":n.fire("ResizeWindow",e)}})},lj=function(e){e!==ij&&(e?hu(window).on("resize scroll",cj):hu(window).off("resize scroll",cj),ij=e)},fj=function(e){var t=uj;delete aj[e.id];for(var n=0;n<aj.length;n++)if(aj[n]===e){aj.splice(n,1);break}return uj=Je(uj,function(t){return e!==t}),hj.activeEditor===e&&(hj.activeEditor=uj.length>0?uj[0]:null),hj.focusedEditor===e&&(hj.focusedEditor=null),t.length!==uj.length},dj=function(e){return e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(fj(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0,e=null),e},pj="CSS1Compat"!==n.document.compatMode,hj=Lt(Lt({},SL),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:hu,majorVersion:"5",minorVersion:"4.1",releaseDate:"2020-07-08",editors:aj,i18n:bs,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var e,t,r=this,o="";t=$L.getDocumentBaseUrl(n.document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/"));var i=window.tinymce||window.tinyMCEPreInit;if(i)e=i.base||i.baseURL,o=i.suffix;else{for(var a=n.document.getElementsByTagName("script"),u=0;u<a.length;u++){var s=a[u].src||"";if(""!==s){var c=s.substring(s.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(s)){-1!==c.indexOf(".min")&&(o=".min"),e=s.substring(0,s.lastIndexOf("/"));break}}}if(!e&&n.document.currentScript){var s=n.document.currentScript.src;-1!==s.indexOf(".min")&&(o=".min"),e=s.substring(0,s.lastIndexOf("/"))}}r.baseURL=new $L(t).toAbsolute(e),r.documentBaseURL=t,r.baseURI=new $L(r.baseURL),r.suffix=o,py(r)},overrideDefaults:function(e){var t=e.base_url;t&&this._setBaseUrl(t);var n=e.suffix;e.suffix&&(this.suffix=n),this.defaultSettings=e;var r=e.plugin_base_urls;void 0!==r&&mt(r,function(e,t){ys.PluginManager.urls[t]=e})},init:function(e){var t,r=this,o=zn.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),i=function(e,t){return e.inline&&t.tagName.toLowerCase()in o},a=function(e){var t=e.id;return t||(t=St(e,"name").filter(function(e){return!ej.get(e)}).getOrThunk(ej.uniqueId),e.setAttribute("id",t)),t},u=function(t){var n=e[t];if(n)return n.apply(r,Array.prototype.slice.call(arguments,2))},s=function(e,t){return t.constructor===RegExp?t.test(e.className):ej.hasClass(e,t)},c=function(e){var t=[];if(kn.browser.isIE()&&kn.browser.version.major<11)return fS("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(pj)return fS("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[];if(e.types)return nj(e.types,function(e){t=t.concat(ej.select(e.selector))}),t;if(e.selector)return ej.select(e.selector);if(e.target)return[e.target];switch(e.mode){case"exact":var r=e.elements||"";r.length>0&&nj(tj(r),function(e){var r=ej.get(e);r?t.push(r):nj(n.document.forms,function(n){nj(n.elements,function(n){n.name===e&&(e="mce_editor_"+oj++,ej.setAttrib(n,"id",e),t.push(n))})})});break;case"textareas":case"specific_textareas":nj(ej.select("textarea"),function(n){e.editor_deselector&&s(n,e.editor_deselector)||e.editor_selector&&!s(n,e.editor_selector)||t.push(n)})}return t},l=function(e){t=e},f=function(){var t,n=0,o=[],s=function(e,i,a){var u=new ZL(e,i,r);o.push(u),u.on("init",function(){++n===t.length&&l(o)}),u.targetElm=u.targetElm||a,u.render()};if(ej.unbind(window,"ready",f),u("onpageload"),t=hu.unique(c(e)),e.types)return void nj(e.types,function(n){zn.each(t,function(t){return!ej.is(t,n.selector)||(s(a(t),rj({},e,n),t),!1)})});zn.each(t,function(e){dj(r.get(e.id))}),t=zn.grep(t,function(e){return!r.get(e.id)}),0===t.length?l([]):nj(t,function(t){i(e,t)?fS("Could not initialize inline editor on invalid inline target element",t):s(a(t),e,t)})};return r.settings=e,ej.bind(window,"ready",f),new ju(function(e){t?e(t):l=function(t){e(t)}})},get:function(e){return 0===arguments.length?uj.slice(0):Me(e)?tt(uj,function(t){return t.id===e}).getOr(null):ze(e)&&uj[e]?uj[e]:null},add:function(e){var t=this;return aj[e.id]===e?e:(null===t.get(e.id)&&(sj(e.id)&&(aj[e.id]=e),aj.push(e),uj.push(e)),lj(!0),t.activeEditor=e,t.fire("AddEditor",{editor:e}),PN||(PN=function(e){var n=t.fire("BeforeUnload");if(n.returnValue)return e.preventDefault(),e.returnValue=n.returnValue,n.returnValue},window.addEventListener("beforeunload",PN)),e)},createEditor:function(e,t){return this.add(new ZL(e,t,this))},remove:function(e){var t,n,r=this;if(e)return Me(e)?void nj(ej.select(e),function(e){(n=r.get(e.id))&&r.remove(n)}):(n=e,Pe(r.get(n.id))?null:(fj(n)&&r.fire("RemoveEditor",{editor:n}),0===uj.length&&window.removeEventListener("beforeunload",PN),n.remove(),lj(uj.length>0),n));for(t=uj.length-1;t>=0;t--)r.remove(uj[t])},execCommand:function(e,t,n){var r=this,o=r.get(n);switch(e){case"mceAddEditor":return r.get(n)||new ZL(n,r.settings,r).render(),!0;case"mceRemoveEditor":return o&&o.remove(),!0;case"mceToggleEditor":return o?(o.isHidden()?o.show():o.hide(),!0):(r.execCommand("mceAddEditor",0,n),!0)}return!!r.activeEditor&&r.activeEditor.execCommand(e,t,n)},triggerSave:function(){nj(uj,function(e){e.save()})},addI18n:function(e,t){bs.add(e,t)},translate:function(e){return bs.translate(e)},setActive:function(e){var t=this.activeEditor;this.activeEditor!==e&&(t&&t.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl:function(e){this.baseURL=new $L(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new $L(this.baseURL)}});hj.setup(),function(e){e.compareRanges=oE,e.getCaretRangeFromPoint=YS,e.getSelectedNode=Bc,e.getNode=zc}(B||(B={}));var mj,gj,vj=B,bj=function(e,t,r){void 0===r&&(r=1e3);var o=!1,i=null,a=function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];o||(o=!0,null!==i&&(n.clearTimeout(i),i=null),e.apply(null,t))}},u=a(e),s=a(t);return{start:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o||null!==i||(i=n.setTimeout(function(){return s.apply(null,e)},r))},resolve:u,reject:s}},yj=function(){var e={},t={};return{load:function(n,r){var o='Script at URL "'+r+'" failed to load',i='Script at URL "'+r+"\" did not call `tinymce.Resource.add('"+n+"', data)` within 1 second";if(void 0!==e[n])return e[n];var a=new ju(function(e,a){var u=bj(e,a);t[n]=u.resolve,os.ScriptLoader.loadScript(r,function(){return u.start(i)},function(){return u.reject(o)})});return e[n]=a,a},add:function(n,r){void 0!==t[n]&&(t[n](r),delete t[n]),e[n]=ju.resolve(r)}}}(),wj=Math.min,xj=Math.max,_j=Math.round,Cj=function(e,t,n){var r=t.x,o=t.y,i=e.w,a=e.h,u=t.w,s=t.h;return n=(n||"").split(""),"b"===n[0]&&(o+=s),"r"===n[1]&&(r+=u),"c"===n[0]&&(o+=_j(s/2)),"c"===n[1]&&(r+=_j(u/2)),"b"===n[3]&&(o-=a),"r"===n[4]&&(r-=i),"c"===n[3]&&(o-=_j(a/2)),"c"===n[4]&&(r-=_j(i/2)),Nj(r,o,i,a)},Sj=function(e,t,n,r){var o,i;for(i=0;i<r.length;i++)if(o=Cj(e,t,r[i]),o.x>=n.x&&o.x+o.w<=n.w+n.x&&o.y>=n.y&&o.y+o.h<=n.h+n.y)return r[i];return null},Ej=function(e,t,n){return Nj(e.x-t,e.y-n,e.w+2*t,e.h+2*n)},kj=function(e,t){var n=xj(e.x,t.x),r=xj(e.y,t.y),o=wj(e.x+e.w,t.x+t.w),i=wj(e.y+e.h,t.y+t.h);return o-n<0||i-r<0?null:Nj(n,r,o-n,i-r)},Tj=function(e,t,n){var r=e.x,o=e.y,i=e.x+e.w,a=e.y+e.h,u=t.x+t.w,s=t.y+t.h,c=xj(0,t.x-r),l=xj(0,t.y-o),f=xj(0,i-u),d=xj(0,a-s);return r+=c,o+=l,n&&(i+=c,a+=l,r-=f,o-=d),i-=f,a-=d,Nj(r,o,i-r,a-o)},Nj=function(e,t,n,r){return{x:e,y:t,w:n,h:r}},Oj=function(e){return Nj(e.left,e.top,e.width,e.height)},Aj={inflate:Ej,relativePosition:Cj,findBestRelativePosition:Sj,intersect:kj,clamp:Tj,create:Nj,fromClientRect:Oj},Dj=zn.each,Mj=zn.extend,Ij=function(){};Ij.extend=mj=function(e){var t=this,n=t.prototype,r=function(){var e,t,n,r=this;if(!gj&&(r.init&&r.init.apply(r,arguments),t=r.Mixins))for(e=t.length;e--;)n=t[e],n.init&&n.init.apply(r,arguments)},o=function(){return this},i=function(e,t){return function(){var r=this,o=r._super;r._super=n[e];var i=t.apply(r,arguments);return r._super=o,i}};gj=!0;var a=new t;return gj=!1,e.Mixins&&(Dj(e.Mixins,function(t){for(var n in t)"init"!==n&&(e[n]=t[n])}),n.Mixins&&(e.Mixins=n.Mixins.concat(e.Mixins))),e.Methods&&Dj(e.Methods.split(","),function(t){e[t]=o}),e.Properties&&Dj(e.Properties.split(","),function(t){var n="_"+t;e[t]=function(e){var t=this;return void 0!==e?(t[n]=e,t):t[n]}}),e.Statics&&Dj(e.Statics,function(e,t){r[t]=e}),e.Defaults&&n.Defaults&&(e.Defaults=Mj({},n.Defaults,e.Defaults)),mt(e,function(e,t){"function"==typeof e&&n[t]?a[t]=i(t,e):a[t]=e}),r.prototype=a,r.constructor=r,r.extend=mj,r};var Rj,Pj=Math.min,Lj=Math.max,jj=Math.round,Bj=function(e){var t={},n=0,r=0,o=0,i=function(e,t,n){var r,o,i;r=0,o=0,i=0,e/=255,t/=255,n/=255;var a=Pj(e,Pj(t,n)),u=Lj(e,Lj(t,n));if(a===u)return i=a,{h:0,s:0,v:100*i};var s=e===a?t-n:n===a?e-t:n-e;return r=e===a?3:n===a?1:5,r=60*(r-s/(u-a)),o=(u-a)/u,i=u,{h:jj(r),s:jj(100*o),v:jj(100*i)}},a=function(e,t,i){if(e=(parseInt(e,10)||0)%360,t=parseInt(t,10)/100,i=parseInt(i,10)/100,t=Lj(0,Pj(t,1)),i=Lj(0,Pj(i,1)),0===t)return void(n=r=o=jj(255*i));var a=e/60,u=i*t,s=u*(1-Math.abs(a%2-1)),c=i-u;switch(Math.floor(a)){case 0:n=u,r=s,o=0;break;case 1:n=s,r=u,o=0;break;case 2:n=0,r=u,o=s;break;case 3:n=0,r=s,o=u;break;case 4:n=s,r=0,o=u;break;case 5:n=u,r=0,o=s;break;default:n=r=o=0}n=jj(255*(n+c)),r=jj(255*(r+c)),o=jj(255*(o+c))},u=function(){var e=function(e){return e=parseInt(e,10).toString(16),e.length>1?e:"0"+e};return"#"+e(n)+e(r)+e(o)},s=function(){return{r:n,g:r,b:o}},c=function(){return i(n,r,o)},l=function(e){var i;return"object"==typeof e?"r"in e?(n=e.r,r=e.g,o=e.b):"v"in e&&a(e.h,e.s,e.v):(i=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(e))?(n=parseInt(i[1],10),r=parseInt(i[2],10),o=parseInt(i[3],10)):(i=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(e))?(n=parseInt(i[1],16),r=parseInt(i[2],16),o=parseInt(i[3],16)):(i=/#([0-F])([0-F])([0-F])/gi.exec(e))&&(n=parseInt(i[1]+i[1],16),r=parseInt(i[2]+i[2],16),o=parseInt(i[3]+i[3],16)),n=n<0?0:n>255?255:n,r=r<0?0:r>255?255:r,o=o<0?0:o>255?255:o,t};return e&&l(e),t.toRgb=s,t.toHsv=c,t.toHex=u,t.parse=l,t},zj=function(e){var t=JSON.stringify(e);return Me(t)?t.replace(/[\u0080-\uFFFF]/g,function(e){var t=e.charCodeAt(0).toString(16);return"\\u"+"0000".substring(t.length)+t}):t},Fj={serialize:zj,parse:function(e){try{return JSON.parse(e)}catch(e){}}},Hj={callbacks:{},count:0,send:function(e){var t=this,n=es.DOM,r=void 0!==e.count?e.count:t.count,o="tinymce_jsonp_"+r;t.callbacks[r]=function(i){n.remove(o),delete t.callbacks[r],e.callback(i)},n.add(n.doc.body,"script",{id:o,src:e.url,type:"text/javascript"}),t.count++}},Uj=Lt(Lt({},SL),{send:function(e){var t,r=0,o=function(){!e.async||4===t.readyState||r++>1e4?(e.success&&r<1e4&&200===t.status?e.success.call(e.success_scope,""+t.responseText,t,e):e.error&&e.error.call(e.error_scope,r>1e4?"TIMED_OUT":"GENERAL",t,e),t=null):qu.setTimeout(o,10)};if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=!1!==e.async,e.data=e.data||"",Uj.fire("beforeInitialize",{settings:e}),t=new n.XMLHttpRequest){if(t.overrideMimeType&&t.overrideMimeType(e.content_type),t.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(t.withCredentials=!0),e.content_type&&t.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&zn.each(e.requestheaders,function(e){t.setRequestHeader(e.key,e.value)}),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t=Uj.fire("beforeSend",{xhr:t,settings:e}).xhr,t.send(e.data),!e.async)return o();qu.setTimeout(o,10)}}}),Vj=zn.extend,qj=function(){function e(e){this.settings=Vj({},e),this.count=0}return e.sendRPC=function(t){return(new e).send(t)},e.prototype.send=function(e){var t=e.error,n=e.success,r=Vj(this.settings,e);r.success=function(e,o){e=Fj.parse(e),void 0===e&&(e={error:"JSON Parse error."}),e.error?t.call(r.error_scope||r.scope,e.error,o):n.call(r.success_scope||r.scope,e.result)},r.error=function(e,n){t&&t.call(r.error_scope||r.scope,e,n)},r.data=Fj.serialize({id:e.id||"c"+this.count++,method:e.method,params:e.params}),r.content_type="application/json",Uj.send(r)},e}();try{var Wj="__storage_test__";Rj=n.window.localStorage,Rj.setItem(Wj,Wj),Rj.removeItem(Wj)}catch(e){Rj=function(){return function(){var e={},t=[],n={getItem:function(t){var n=e[t];return n||null},setItem:function(n,r){t.push(n),e[n]=String(r)},key:function(e){return t[e]},removeItem:function(n){t=t.filter(function(e){return e===n}),delete e[n]},clear:function(){t=[],e={}},length:0};return Object.defineProperty(n,"length",{get:function(){return t.length},configurable:!1,enumerable:!1}),n}()}()}var Gj=Rj,$j={geom:{Rect:Aj},util:{Promise:ju,Delay:qu,Tools:zn,VK:kE,URI:$L,Class:Ij,EventDispatcher:_L,Observable:SL,I18n:bs,XHR:Uj,JSON:Fj,JSONRequest:qj,JSONP:Hj,LocalStorage:Gj,Color:Bj},dom:{EventUtils:ta,Sizzle:Ba,DomQuery:hu,TreeWalker:mu,TextSeeker:ac,DOMUtils:es,ScriptLoader:os,RangeUtils:vj,Serializer:Ek,StyleSheetLoader:C,ControlSelection:AE,BookmarkManager:SE,Selection:PE,Event:ta.Event},html:{Styles:Vi,Entities:Oi,Node:gm,Schema:a,SaxParser:Am,DomParser:dk,Writer:bm,Serializer:ym},Env:kn,AddOnManager:ys,Annotator:lm,Formatter:Wk,UndoManager:Xk,EditorCommands:iL,WindowManager:tS,NotificationManager:A,EditorObservable:AL,Shortcuts:FL,Editor:ZL,FocusManager:Zb,EditorManager:hj,DOM:es.DOM,ScriptLoader:os.ScriptLoader,PluginManager:ys.PluginManager,ThemeManager:ys.ThemeManager,IconManager:FC,Resource:yj,trim:zn.trim,isArray:zn.isArray,is:zn.is,toArray:zn.toArray,makeMap:zn.makeMap,each:zn.each,map:zn.map,grep:zn.grep,inArray:zn.inArray,extend:zn.extend,create:zn.create,walk:zn.walk,createNS:zn.createNS,resolve:zn.resolve,explode:zn.explode,_addCacheSuffix:zn._addCacheSuffix,isOpera:kn.opera,isWebKit:kn.webkit,isIE:kn.ie,isGecko:kn.gecko,isMac:kn.mac},Xj=zn.extend(hj,$j);!function(e){window.tinymce=e,window.tinyMCE=e}(Xj),function(t){try{e.exports=t}catch(e){}}(Xj)}(window)}).call(t,n(0))},function(e,t,n){n(39)},function(e,t){tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 012 2 2 2 0 01-2 2 2 2 0 01-2-2c0-1.1.9-2 2-2zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 01-1-1v-5c0-.6-.4-1-1-1a1 1 0 00-1 1v5c0 .6-.4 1-1 1a1 1 0 01-1-1V9H4a1 1 0 110-2h16c.6 0 1 .4 1 1s-.4 1-1 1z" fill-rule="nonzero"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 00-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 10-1.4-1.4L12 13.6 5.7 7.3z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 001.4-1.4L12 6.6l-7.7 7.7a1 1 0 001.4 1.4L12 9.4l6.3 6.3z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5L13 7H5a1 1 0 110-2h9.2zm4 0h.8a1 1 0 010 2h-2l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h6.8zm4 0H19a1 1 0 010 2h-4.4l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h4.4zm4 0H19a1 1 0 010 2h-6.8l1.2-2zM7 17l-1.2 2H5a1 1 0 010-2h2zm4 0h8a1 1 0 010 2H9.8l1.2-2zm5.2-13.5l1.3.7-9.7 16.3-1.3-.7 9.7-16.3z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="M5.6 13l12 6a1 1 0 001.4-1V6a1 1 0 00-1.4-.9l-12 6a1 1 0 000 1.8z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="M18.5 13l-12 6A1 1 0 015 18V6a1 1 0 011.4-.9l12 6a1 1 0 010 1.8z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 01-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 00-1 1z" fill-rule="nonzero"/></svg>',"border-width":'<svg width="24" height="24"><path d="M5 14.8h14a1 1 0 010 2H5a1 1 0 010-2zm-.5 3.7h15c.3 0 .5.2.5.5s-.2.5-.5.5h-15a.5.5 0 110-1zm.5-8.3h14c.6 0 1 .4 1 1v1c0 .5-.4 1-1 1H5a1 1 0 01-1-1v-1c0-.6.4-1 1-1zm0-5.7h14c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1H5a1 1 0 01-1-1v-2c0-.6.4-1 1-1z" fill-rule="evenodd"/></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3zm0-10a1 1 0 01-.7-.3A1 1 0 0111 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3h-1a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1zM7 12c0 .3-.1.5-.3.7a1 1 0 01-.7.3H5a1 1 0 01-.7-.3A1 1 0 014 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7zm10 3.5l.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 01-.8.3 1 1 0 01-.6-.3l-.8-.7a1 1 0 01-.3-.8c0-.2.1-.5.3-.7a1 1 0 011.4 0zm-10-7l-.7-.8a1 1 0 01-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.8-.3zm10 0a1 1 0 01-.8.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 010 1.4l-.8.8a1 1 0 01-.6.3 1 1 0 01-.8-.3 1 1 0 01-.3-.8c0-.2.1-.5.3-.6l.7-.8zM12 8a4 4 0 013.7 2.4 4 4 0 010 3.2A4 4 0 0112 16a4 4 0 01-3.7-2.4 4 4 0 010-3.2A4 4 0 0112 8zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9.4l-2.3 2.3a1 1 0 11-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 01-1.4 1.4L13 13.4V20a1 1 0 01-2 0v-6.6z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 110 14.8 7.4 7.4 0 010-14.8zM12 3a9 9 0 100 18 9 9 0 000-18zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7z" fill-rule="nonzero"/></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 01-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 01-1 .7h-.2a.7.7 0 01-.7-1l4-12a1 1 0 012 0l4 12a.7.7 0 01-.8 1h-.2a1 1 0 01-1-.7l-.8-2.6zm-.3-1.5l-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1zm4.8-6.8V10H7.7V5.8h-1v-1h2zM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1zM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2v-.1-.2l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 01-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 00-.5-.1 1 1 0 00-.4 0l-.3.4h-1zm2.3.8h-.2l-.2.1-.4.1a1 1 0 00-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 001.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 00-.6-.3l-.6.3-.2.8zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 00-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 01-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 01-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8a1 1 0 010 2h-8a1 1 0 010-2zM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 011.6 1.2l-8 12a1 1 0 01-1.5.1l-5-5a1 1 0 111.4-1.4l4.1 4.1 7.4-11z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 010-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3L4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 010-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 010-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 010-1.1L6 5 2.2 1.3z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8L5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 010-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2L13.4 12l3.9 3.8a1 1 0 01-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 01-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 011.5-1.5l3.8 3.9 3.8-3.9a1 1 0 011.5 1.5z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 01-.8 2 2.8 2.8 0 01.8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 01-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 01.8-2 2.8 2.8 0 01-.8-2zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2zM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 01-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 01-.5-.5V17a3 3 0 001-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0118 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 01-3.7 3 5.7 5.7 0 01-3.2 0A5.9 5.9 0 017.6 18a6.2 6.2 0 01-1.4-2.6 6.7 6.7 0 010-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 012.3-4A20 20 0 0112 4a26.4 26.4 0 013.2 3.4 18.2 18.2 0 012.3 4zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 00-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 01-1.3 3 5.3 5.3 0 01-2.3 1.5 4.9 4.9 0 01-2 .1 4.3 4.3 0 002.4.8 4 4 0 002-.6 4 4 0 001.5-1.5z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 000 18 1.5 1.5 0 001.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 005-5c0-4.4-4-8-9-8zm-5.5 9a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3-4a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm5 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3 4a1.5 1.5 0 110-3 1.5 1.5 0 010 3z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3L3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/><path d="M13 10h2a1 1 0 010 2h-2v2a1 1 0 01-2 0v-2H9a1 1 0 010-2h2V8a1 1 0 012 0v2z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-6 8a6 6 0 006 6V6a6 6 0 00-6 6z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 00-2 2v11h2V5h10V3zm1 4a2 2 0 012 2v10a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7zm0 12V9h-7v10h7z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 01-1-1v-2H7V9H5a1 1 0 110-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3zM9 9v5l5-5H9zm1 6h5v-5l-5 5z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0110.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 012 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 017 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7zm12.3 5h-3v10h3v-10zM8 13.8h-.3l-.4.2a2.8 2.8 0 00-.7.4v.1a2.8 2.8 0 00-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 00.8-.3 2.4 2.4 0 00.7-.7 2.5 2.5 0 00.3-.8 1.5 1.5 0 000-.8 1 1 0 00-.2-.4 1 1 0 00-.5-.2H8zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zM7 5.8h-.4a1 1 0 00-.5.3 1 1 0 00-.2.5v.7a2.5 2.5 0 00.3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 000-.8 2.6 2.6 0 00-.3-.8A2.5 2.5 0 007.7 6l-.4-.1H7z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l2 2V3h14zM8.5 15.3h-.3a2.6 2.6 0 00-.8.4 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3L9 18V18l.4-.4.2-.4.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2h-.5zm7 0H15a1 1 0 00-.4.3 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4a2.8 2.8 0 00.5.7h.1a2.8 2.8 0 00.8.6l.4.1h.7l.5-.2.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3h-.3zM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zm8.5-7.1h-11v2h11v-2z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 010 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8zm-8.5 2.2l.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2 1.6 1.6 0 00-.8 0 2.6 2.6 0 00-.8.3 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3 2.8 2.8 0 001-1zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4zm5.4 4l.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3 1.5 1.5 0 00-.8 0 1 1 0 00-.4.2 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4l.3.4.3.4a2.8 2.8 0 00.8.5l.4.1h.7l.5-.2z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5zm0 4h2v2h-2V9zM9 9h2v2H9V9zm4 4h2v2h-2v-2zm-4 0h2v2H9v-2zm0 4h2v2H9v-2zm4 0h2v2h-2v-2zM9 5h2v2H9V5z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7zm-2 2h-3v12h3V8zm-2-6v2H8v15H6V2h7z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16zm-2 2H8v3h12v-3zm-1-6v2H4v5H2V7h17z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10zm3 8h-2V9h-7v10h9a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7a2 2 0 012 2v2z"/><path d="M17 14h1a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1h-1a1 1 0 010-2h1v-1a1 1 0 012 0v1z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19.8 8.8l-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5zm-2-.2l1-.9v-.3l-2.2-2.2a.3.3 0 00-.3 0l-1 1L18 8.5zm-1 1l-2.5-2.4-6 6 2.5 2.5 6-6zm-7 7.1l-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 00-2-2H7v2h11v9zM6 17h15a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1H6a2 2 0 01-2-2V7H3a1 1 0 110-2h1V4a1 1 0 112 0v13zm3-5.3l1.3 2 3-4.7 3.7 6H7l2-3.3z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0119 6zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 008 19h3zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 00-4 4.5h2.2zm-3.4 0a12 12 0 012.8-4 12 12 0 00-5 4h2.2z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm4.8 2.6l5.6 4a.5.5 0 010 .8l-5.6 4A.5.5 0 019 16V8a.5.5 0 01.8-.4z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5zM12 4a8 8 0 100 16 8 8 0 000-16zm0 14.5a6.5 6.5 0 110-13 6.5 6.5 0 010 13z" fill-rule="nonzero"/></svg>',fill:'<svg width="24" height="26"><path d="M16.6 12l-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 002.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2zM5.2 13L10 8.2l4.8 4.8H5.2zM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 002-2c0-1.3-2-3.5-2-3.5z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2zm4-8h2V9h-2v2zM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 00-2 2zm14-2v2h2a2 2 0 00-2-2zm-7 16h2V3h-2v18zm7-6h2v-2h-2v2zm-4-8h2V5h-2v2zm4 12a2 2 0 002-2h-2v2z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5zm8 4v2h2v-2h-2zm4-14H7a2 2 0 00-2 2v3h2V6h10v3h2V6a2 2 0 00-2-2zm2 14h-2v2a2 2 0 002-2zM3 11v2h18v-2H3zm6 7v2h2v-2H9zm8-4v2h2v-2h-2zM5 18c0 1.1.9 2 2 2v-2H5z" fill-rule="nonzero"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 00-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 010 2h-4v11a1 1 0 01-2 0V7H7a1 1 0 110-2h10z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="M15.3 10l-1.2-1.3 2.9-3h-2.3a.9.9 0 110-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 11-1.8 0V7l-2.9 3zm0 4l3 3v-2.3a.9.9 0 111.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 110-1.8H17l-3-2.9 1.3-1.2zM10 15.4l-2.9 3h2.3a.9.9 0 110 1.7H5a.9.9 0 01-.9-.9v-4.4a.9.9 0 111.8 0V17l2.9-3 1.2 1.3zM8.7 10L5.7 7v2.3a.9.9 0 01-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 010 1.8H7l3 2.9-1.3 1.2z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="M5 15.7l2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7zM5 18V19h3l1.8-1.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 01-1-1V7c0-.6.4-1 1-1zm6 7a2 2 0 110-4 2 2 0 010 4zM4.5 4h15a.5.5 0 110 1h-15a.5.5 0 010-1zm2-2h11a.5.5 0 110 1h-11a.5.5 0 010-1z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 00-.4-.8l-.1-.2H8 8v-1l.3-.1.3-.1h.7a1 1 0 01.6.5l.1.3a8.5 8.5 0 01.3.6l1.9 4.6 2-5.2a1 1 0 011-.6.5.5 0 01.5.6L13 14v2.8a.7.7 0 01-1.4 0z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 00-6 9 6.3 6.3 0 001.4 2l1 1a6.3 6.3 0 003.6 1 6.5 6.5 0 006-9 6.3 6.3 0 00-1.4-2l-1-1a6.3 6.3 0 00-3.6-1zM12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4z"/><path d="M9.6 9.7a.7.7 0 01-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 00-.8.8.8.8 0 01-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 012.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="M5 15.7l3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7zM5 18V19h3l2.8-2.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm6 8a2 2 0 100-4 2 2 0 000 4z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-1 3v2h2V7h-2zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 001.8-2.9 6.3 6.3 0 00-.1-4.1 5.8 5.8 0 00-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 00-3.9 1.8 6.3 6.3 0 00-1.3 6 6.2 6.2 0 001.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 014 11c0-1 .2-1.9.6-2.7A7 7 0 016.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 015.7 2 7 7 0 011.7 2.3 6 6 0 01.2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 01-3.6 2.5v.5z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 100-14 7 7 0 000 14zm0 2a9 9 0 110-18 9 9 0 010 18z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 00-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3L16.5 18a5.8 5.8 0 01-3.1 1.9 6.1 6.1 0 01-5.5-1.6A5.8 5.8 0 016 14v-.3l.1-1.2A13.9 13.9 0 017.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 00.2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 00-3-4.2L12 6a26.1 26.1 0 00-2.2 2.5l-1-1a20.9 20.9 0 012.9-3.3L12 4l1 .8a22.2 22.2 0 014 5.4c.6 1.2 1 2.4 1 3.6z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="M16.7 4.7l-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8z" fill-rule="evenodd"/></svg>',line:'<svg width="24" height="24"><path d="M15 9l-8 8H4v-3l8-8 3 3zm1-1l-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1zM4 18h16v2H4v-2z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2.1 2a2 2 0 102.7 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2-2a2 2 0 10-2.6-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 26a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 36a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8l-1.6 1v-1.1l1.6-1h1.2V17zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6zM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3zM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4zM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3zM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM37.1 34.6L34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3zM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33zm0 10v-1.2h-1.3V26H33zm0 10v-1.2h-1.3V36H33z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15zm0 10v-1.2h1.3V26H15zm0 10v-1.2h1.3V36H15z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M39.3 17l-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3zm-1.6-4.7l-.7 2.3h1.6l-.8-2.3zM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26zM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M12.6 17l-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3zM11 12.3l-.7 2.3h1.6l-.8-2.3zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3zm0 10v-1.2H33V27h-1.3zm0 10v-1.2H33V37h-1.3z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15zm0 10v-1.2h1.3V27H15zm0 10v-1.2h1.3V37H15z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3zM10 8v3h4V8a1 1 0 00-.3-.7A1 1 0 0013 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 017.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L11 5zM4.4 16.2L6.2 15l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="M15 13l2-2v8H5V7h8l-2 2H7v8h8v-4zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 110-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 01-1-1v-3zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M17.8 9.8L15.4 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7l2.3 5.8zm0 0l2.2 5.7-2.3-5.8zM13 17v-2h-2v2h2zm0-4V7h-2v6h2z" fill-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 110-2zm13-1v3.5a.5.5 0 11-1 0V5h-.5a.5.5 0 110-1H19zm-1 8.8l.2.2h1.3a.5.5 0 110 1h-1.6a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2h-1.3a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 010-1h1.2a.3.3 0 100-.6h-1.3a.4.4 0 110-.8h1.3a.3.3 0 000-.6h-1.2a.5.5 0 110-1H19c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 110-2zM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 01-.5-.5V5h-.5a.5.5 0 010-1H6zm-1 8.8l.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2H4.5a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 010-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 110-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 110-1H6c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4L1 13l6.4 6.5 6.5-6.5-6.5-6.5zM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7zM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 010-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 11-4.3 16.9l1.5-1.5A7 7 0 1013 6h-1z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm1.6-3.8a1 1 0 01-1.2 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 011.2 1.6L6.8 12l1.8 1.2z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1zM6 22a1 1 0 01-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 01-1-1v-5H7v5c0 .6-.4 1-1 1z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm8 7v12h-6V8h6zm-1.5 1.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm-2 7v12H4V8h6zM8.5 9.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 11v5H8v-5h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 7v5H8V8h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5L8 20H3v-3l3.5-3.5a2 2 0 010-3L14 3l1 1-7.3 7.3a1 1 0 000 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 01-2.8 0l-.1-.1z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 01.1 2H13v6a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H11V5c0-.6.4-1 1-1z"/></svg>',preferences:'<svg width="24" height="24"><path d="M20.1 13.5l-1.9.2a5.8 5.8 0 01-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 01-1.4 0l-1.5-1.2a6.2 6.2 0 01-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 01-1-.9l-.2-1.9a5.8 5.8 0 01-1.5-.6l-1.5 1.2a1 1 0 01-1.4 0l-.7-.7a1 1 0 010-1.4l1.2-1.5a6.2 6.2 0 01-.6-1.5l-1.9-.2a1 1 0 01-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 01.6-1.5L5.2 7.3a1 1 0 010-1.4l.7-.7a1 1 0 011.4 0l1.5 1.2a6.2 6.2 0 011.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 011.5.6l1.5-1.2a1 1 0 011.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 01.6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1zM12 15a3 3 0 100-6 3 3 0 000 6z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 002.1-2.8 15.7 15.7 0 00-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 00-6.7 3.2A16.2 16.2 0 003.2 12c0 .2.2.3.3.5zm-2.4-1l.7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 012.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 01-2.8-3.7 1 1 0 010-1zm12-3.3a2 2 0 102.7 2.6 4 4 0 11-2.6-2.6z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 00-3 3v6h2v3h14v-3h2v-6a3 3 0 00-3-3zm-1 10H7v-4h10v4zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm.5-8H6v2h12V5z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 11-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 111.4-1.4l5 5a1 1 0 010 1.4l-5 5a1 1 0 01-1.4-1.4l3.3-3.3z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M5 22.1l-1.2-4.7v-.2a1 1 0 011-1l5 .4a1 1 0 11-.2 2l-2.2-.2a7.8 7.8 0 008.4.2 7.5 7.5 0 003.5-6.4 1 1 0 112 0 9.5 9.5 0 01-4.5 8 9.9 9.9 0 01-10.2 0l.4 1.4a1 1 0 11-2 .5zM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 00-9.5-1 7.5 7.5 0 00-3.6 7 1 1 0 01-2 0 9.5 9.5 0 014.5-8.6 10 10 0 0110.9.3l-.3-1a1 1 0 012-.5l1.1 4.8a1 1 0 01-1 1.2l-5-.4a1 1 0 01-.9-1z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 010 .2l-2.6 10a1 1 0 01-1 .8h-.2a.8.8 0 01-.8-1l2.6-10H8a1 1 0 110-2h9a1 1 0 010 2h-3.8zM5 18h7a1 1 0 010 2H5a1 1 0 010-2zm13 1.5L16.5 18 15 19.5a.7.7 0 01-1-1l1.5-1.5-1.5-1.5a.7.7 0 011-1l1.5 1.5 1.5-1.5a.7.7 0 011 1L17.5 17l1.5 1.5a.7.7 0 01-1 1z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 010 2h-1v9a3 3 0 01-3 3H9a3 3 0 01-3-3V9H5a1 1 0 110-2h3V6a3 3 0 013-3h2a3 3 0 013 3v1zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 00-1 1v1h4zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9zm-7 3a1 1 0 012 0v4a1 1 0 01-2 0v-4zm4 0a1 1 0 012 0v4a1 1 0 01-2 0v-4z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 119 2l-7 7A.5.5 0 111 8l7-7zM8.1 5.1A.5.5 0 119 6l-3 3A.5.5 0 115 8l3-3z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-6a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3A1 1 0 014 11V5z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1z"/><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 012 0v6c0 .6-.4 1-1 1h-6a1 1 0 010-2h4.3L16 7A7.2 7.2 0 007.7 6a7 7 0 003 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 011.4 1.5A9.2 9.2 0 012.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 014.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L8 5zm12 11.2a1 1 0 11-1 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 111 1.6L18.4 15l1.8 1.2z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 012 2v2a2 2 0 01-2 2H5a2 2 0 01-2-2v-2c0-1.1.9-2 2-2zm0 2v2h14v-2H5zm10 0h2v2h-2v-2zm-4-6.4L8.7 9.3a1 1 0 10-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 10-1.4-1.4L13 11.6V4a1 1 0 00-2 0v7.6z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 00-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2a2 2 0 00-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8a2 2 0 002-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm3.6 10.9L7 12.3a.7.7 0 00-1 1L9.6 17 18 8.6a.7.7 0 000-1 .7.7 0 00-1 0l-7.4 7.3z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V8H5a1 1 0 110-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6zM8 8h2V6H8v2zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V13H5a1 1 0 010-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6zM14 13h2v-2h-2v2zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V18H5a1 1 0 010-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6zM8 18h2v-2H8v2z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="M16 6l4 4-8 9-8-9 4-4h8zm-4 10.2l5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 010-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7zM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 00-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6zm0-3v2h2V5H6zm13 0h-3v5h3v1h-3a1 1 0 01-.7-.3 1 1 0 01-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1zm-5 1.5l-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5zM13 10V8h-2v2h2zm0-3V5h-2v2h2zm3 5l1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 017 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1z"/><path d="M5 11h14a1 1 0 010 2H5a1 1 0 010-2z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="M10.4 10l4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10zM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 00-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 01-1.3 1.3l-.6.6h2.6V19z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4L10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11z" fill-rule="nonzero"/></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8 0h-6v5h6v-5zm-8-7H5v5h6V6z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2zm.3.5l1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6zm-4.7 1.8l1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 6v12h14V6H5z"/><path d="M14.4 8.6l1 1-2.3 2.4 2.3 2.4-1 1-2.4-2.3-2.4 2.3-1-1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 01-2 0V6h-8v12h8v-1a1 1 0 012 0v2c0 .5-.4 1-.9 1H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h15zM9 13H5v5h4v-5zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H17v2a1 1 0 01-2 .1V13h-2a1 1 0 01-.1-2H15V9c0-.6.4-1 1-1zM9 6H5v5h4V6z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H4a1 1 0 01-1-1v-2a1 1 0 012 0v1h8V6H5v1a1 1 0 11-2 0V5c0-.6.4-1 1-1h15zm0 9h-4v5h4v-5zM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H9v2a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H7V9c0-.6.4-1 1-1zm11-2h-4v5h4V6z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 110 2H5v6h14V6h-1a1 1 0 010-2h2c.6 0 1 .4 1 1v13a2 2 0 01-2 2H5a2 2 0 01-2-2V5c0-.6.4-1 1-1h2zm5 10H5v4h6v-4zm8 0h-6v4h6v-4zM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 010 2h-2v2a1 1 0 01-2 .1V8H9a1 1 0 010-2h2V4c0-.6.4-1 1-1z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 01.1 2H13v2a1 1 0 01-2 .1V18H9a1 1 0 01-.1-2H11v-2c0-.6.4-1 1-1zm6 7a1 1 0 010-2h1v-6H5v6h1a1 1 0 010 2H4a1 1 0 01-1-1V6c0-1.1.9-2 2-2h14a2 2 0 012 2v13c0 .5-.4 1-.9 1H18zM11 6H5v4h6V6zm8 0h-6v4h6V6z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 9h-4v5h4v-5zm-6 0H9v5h4v-5zm0-7H9v5h4V6zm6 0h-4v5h4V6z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15.5V18h3v-2.5H5zm14-5h-9V18h9v-7.5zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6zm-8 7.5h3v-3H5v3z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-9h-6v3h6V6zM5 9h6V6H5v3z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM8 15.5H5V18h3v-2.5zm11-5h-9V18h9v-7.5zm-2.5 1l1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2zm-8.5-1H5v3h3v-3zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 11H5v3h6v-3zm8 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 14v4h6v-4H5zm14 0h-6v4h6v-4zm0-6h-6v4h6V8zM5 12h6V8H5v4z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14zM9 16v-4a5 5 0 116 0v4h4a2 2 0 012 2v3H3v-3c0-1.1.9-2 2-2h4zm4 0v-5l.8-.6a3 3 0 10-3.6 0l.8.6v5h2z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 111 0V6H15v1.6a8 8 0 11-6 0zm-2.6 5.3a.5.5 0 00.3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 013.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 00-4.1 3.7z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 01-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 01-.5.6h-.8a.5.5 0 01-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4zm2.6-7.6l-.6 2a.5.5 0 00.5.6h1.6a.5.5 0 00.5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4z"/></g></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="M12.7 14.3l-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 010-1l3.1-3A12.4 12.4 0 016.7 9H8a10.1 10.1 0 001.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 110-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 01-1 2.4 13.5 13.5 0 01-1.7 2.3l1.9 1.8zm4.3-3l2.7 7.3a.5.5 0 01-.4.7 1 1 0 01-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 01-1 .7.5.5 0 01-.4-.7l2.7-7.4a1 1 0 012 0zm-2.2 4.4h2.4L16 12.5l-1.2 3.2z" fill-rule="evenodd"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 01-.4 1.8l-1 1.4a5.3 5.3 0 01-5.5 1 5 5 0 01-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 01-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 002.2.8 3.4 3.4 0 002.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1zM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 01-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 11-1.4 1.4l-5-5a1 1 0 010-1.4l5-5a1 1 0 011.4 1.4L6.4 8z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2 2a2 2 0 102.6 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2.1-2a2 2 0 10-2.7-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2zM7.6 6.3a.8.8 0 01-1 1.1L3.3 4.2a.7.7 0 111-1l3.2 3.1zM5.1 8.6a.8.8 0 010 1.5H3a.8.8 0 010-1.5H5zm5-3.5a.8.8 0 01-1.5 0V3a.8.8 0 011.5 0V5zm6 11.8a.8.8 0 011-1l3.2 3.2a.8.8 0 01-1 1L16 17zm-2.2 2a.8.8 0 011.5 0V21a.8.8 0 01-1.5 0V19zm5-3.5a.7.7 0 110-1.5H21a.8.8 0 010 1.5H19z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 00-.3-.7A1 1 0 0016 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm0 1a1 1 0 00-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 012 0v3c0 .6-.4 1-1 1H5a1 1 0 01-1-1v-3a1 1 0 012 0v2h12zM11 6.4L8.7 8.7a1 1 0 01-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 11-1.4 1.4L13 6.4V16a1 1 0 01-2 0V6.4z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 110-24 12 12 0 010 24zm-8.7-5.3a11 11 0 0017.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7zM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13z" fill-rule="nonzero"/></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2zm-4 0v2a2 2 0 01-2-2h2zm8 0v2h-2v-2h2zm8 0a2 2 0 01-2 2v-2h2zm-4 0v2h-2v-2h2zM15 7a1 1 0 010 2v7a1 1 0 01-2 0V9h-1v7a1 1 0 01-2 0v-4a2.5 2.5 0 01-.2-5H15zM5 15v2H3v-2h2zm16 0v2h-2v-2h2zM5 11v2H3v-2h2zm16 0v2h-2v-2h2zM5 7v2H3V7h2zm16 0v2h-2V7h2zM5 3v2H3c0-1.1.9-2 2-2zm8 0v2h-2V3h2zm6 0a2 2 0 012 2h-2V3zM9 3v2H7V3h2zm8 0v2h-2V3h2z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6zM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3zm.7-3l.3-4a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7l.3 4h1.4z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-1-9a1 1 0 012 0v6a1 1 0 01-2 0V8zm-2 4a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-3-5a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>'}})},function(e,t,n){n(41)},function(e,t,n){(function(e){!function(t){"use strict";function n(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=t.concat(n);return e.apply(null,o)}}function r(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function o(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),o=0,t=0;t<n;t++)for(var i=arguments[t],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r}function i(e,t){var n=function(t,n){if(!Oe(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n);var r=t.dom();Yu(r)&&(r.style[e]=n+"px")},r=function(n){var r=t(n);if(r<=0||null===r){var o=ps(n,e);return parseFloat(o)||0}return r},o=r,i=function(e,t){return Ge(t,function(t,n){var r=ps(e,n),o=void 0===r?0:parseInt(r,10);return isNaN(o)?t:t+o},0)};return{set:n,get:r,getOuter:o,aggregate:i,max:function(e,t,n){var r=i(e,n);return t>r?t-r:0}}}function a(e,t,n,r,o){return e(n,r)?ve.some(n):Ne(o)&&o(n)?ve.none():t(n,r,o)}function u(e){return void 0!==e.uid}function s(e,t,n){var r=t.backstage,o=function(e){switch(e){case"bc-bc":return Xw;case"tc-tc":return $w;case"tc-bc":return Ol;case"bc-tc":default:return Al}},i=function(e){He(e,function(e){return e.moveTo(0,0)})},a=function(e){e.length>0&&(rt(e).each(function(e){return e.moveRel(null,"banner")}),He(e,function(t,n){n>0&&t.moveRel(e[n-1].getEl(),"bc-tc")}))},u=function(e){i(e),a(e)};return{open:function(e,i){var a=!e.closeButton&&e.timeout&&(e.timeout>0||e.timeout<0),u=function(){i(),jw.hide(c)},s=Rs(ix.sketch({text:e.text,level:Le(["success","error","warning","warn","info"],e.type)?e.type:void 0,progress:!0===e.progressBar,icon:ve.from(e.icon),closeButton:!a,onAction:u,iconProvider:r.shared.providers.icons,translationProvider:r.shared.providers.translate})),c=Rs(jw.sketch(de({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:t.backstage.shared.getSink,fireDismissalEventInstead:{}},r.shared.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}})));return n.add(c),e.timeout>0&&Yw.setTimeout(function(){u()},e.timeout),{close:u,moveTo:function(e,t){jw.showAt(c,{anchor:"makeshift",x:e,y:t},Ps(s))},moveRel:function(e,n){if("banner"!==n){var r=o(n),i={anchor:"node",root:as(),node:ve.some(Ur.fromDom(e)),layouts:{onRtl:function(){return[r]},onLtr:function(){return[r]}}};jw.showAt(c,i,Ps(s))}else jw.showAt(c,t.backstage.shared.anchors.banner(),Ps(s))},text:function(e){ix.updateText(s,e)},settings:e,getEl:function(){return s.element().dom()},progressBar:{value:function(e){ix.updateProgress(s,e)}}}},close:function(e){e.close()},reposition:u,getArgs:function(e){return e.settings}}}function c(e,t){var n=ME(t.colorinput.getColors(),t.colorinput.hasCustomColors()),r=t.colorinput.getColorCols(),o=zE(qa("menu-value"),n,function(t){e.onAction({value:t})},r,"color",Vx.CLOSE_ON_EXECUTE,function(){return!1},t.shared.providers),i=de(de({},o),{markers:Jx("color"),movement:HE(r,"color")});return{type:"widget",data:{value:qa("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[AS().widget(_w.sketch(i))]}}function l(e,n){var r=null,o=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];r=t.setTimeout(function(){e.apply(null,o),r=null},n)};return{cancel:function(){null!==r&&(t.clearTimeout(r),r=null)},schedule:o}}function f(){var e={},t=function(t,n,r){Et(r,function(r,o){var i=void 0!==e[o]?e[o]:{};i[n]=_u(r,t),e[o]=i})},n=function(e,t){return Ja(t).fold(function(){return ve.none()},function(n){return e.bind(function(e){return Rt(e,n)}).map(function(e){return Ik(t,e)})})},r=function(t){return Rt(e,t).map(function(e){return Dt(e,function(e,t){return Rk(t,e)})}).getOr([])},o=function(t,r,o){var i=Rt(e,r);return Io(o,function(e){return n(i,e)},t)};return{registerId:t,unregisterId:function(t){Et(e,function(e,n){e.hasOwnProperty(t)&&delete e[t]})},filterByType:r,find:o}}function d(){var e=f(),t={},n=function(e){var t=e.element();return Ja(t).fold(function(){return Ya("uid-",e.element())},function(e){return e})},r=function(e,n){var r=t[n];if(r!==e)throw new Error('The tagId "'+n+'" is already used by: '+za(r.element())+"\nCannot use it for: "+za(e.element())+"\nThe conflicting element is"+(is(r.element())?" ":" not ")+"already in the DOM");i(e)},o=function(o){var i=n(o);Lt(t,i)&&r(o,i);var a=[o];e.registerId(a,i,o.events()),t[i]=o},i=function(n){Ja(n.element()).each(function(n){delete t[n],e.unregisterId(n)})},a=function(t){return e.filterByType(t)};return{find:function(t,n,r){return e.find(t,n,r)},filter:a,register:o,unregister:i,getById:function(e){return Rt(t,e)}}}function p(e,n){return g(t.document.createElement("canvas"),e,n)}function h(e){var t=p(e.width,e.height);return m(t).drawImage(e,0,0),t}function m(e){return e.getContext("2d")}function g(e,t,n){return e.width=t,e.height=n,e}function v(e){return e.naturalWidth||e.width}function b(e){return e.naturalHeight||e.height}function y(e){return new LD(function(n,r){function o(){s(),n(u)}function i(){s(),r("Unable to load data of type "+e.type+": "+a)}var a=t.URL.createObjectURL(e),u=new t.Image,s=function(){u.removeEventListener("load",o),u.removeEventListener("error",i)};u.addEventListener("load",o),u.addEventListener("error",i),u.src=a,u.complete&&o()})}function w(e){var n=e.split(","),r=/data:([^;]+)/.exec(n[0]);if(!r)return ve.none();for(var o=r[1],i=n[1],a=t.atob(i),u=a.length,s=Math.ceil(u/1024),c=new Array(s),l=0;l<s;++l){for(var f=1024*l,d=Math.min(f+1024,u),p=new Array(d-f),h=f,m=0;h<d;++m,++h)p[m]=a[h].charCodeAt(0);c[l]=new Uint8Array(p)}return ve.some(new t.Blob(c,{type:o}))}function x(e){return new LD(function(t,n){w(e).fold(function(){n("uri is not base64: "+e)},t)})}function _(e,n,r){return n=n||"image/png",t.HTMLCanvasElement.prototype.toBlob?new LD(function(t,o){e.toBlob(function(e){e?t(e):o()},n,r)}):x(e.toDataURL(n,r))}function C(e,t,n){return t=t||"image/png",e.toDataURL(t,n)}function S(e){return y(e).then(function(e){k(e);var t=p(v(e),b(e));return m(t).drawImage(e,0,0),t})}function E(e){return new LD(function(n){var r=new t.FileReader;r.onloadend=function(){n(r.result)},r.readAsDataURL(e)})}function k(e){t.URL.revokeObjectURL(e.src)}function T(e,t,n){function r(){return LD.resolve(t)}function o(){return n.split(",")[1]}function i(t,n){return e.then(function(e){return _(e,t,n)})}function a(t,n){return e.then(function(e){return C(e,t,n)})}function u(e,t){return a(e,t).then(function(e){return e.split(",")[1]})}function s(){return e.then(h)}var c=t.type;return{getType:ie(c),toBlob:r,toDataURL:ie(n),toBase64:o,toAdjustedBlob:i,toAdjustedDataURL:a,toAdjustedBase64:u,toCanvas:s}}function N(e){return E(e).then(function(t){return T(S(e),e,t)})}function O(e,t){return _(e,t).then(function(t){return T(LD.resolve(e),t,e.toDataURL())})}function A(e,t,n){var r="string"==typeof e?parseFloat(e):e;return r>n?r=n:r<t&&(r=t),r}function D(){return[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1]}function M(e,t){for(var n,r=[],o=new Array(25),i=0;i<5;i++){for(var a=0;a<5;a++)r[a]=t[a+5*i];for(var a=0;a<5;a++){n=0;for(var u=0;u<5;u++)n+=e[a+5*u]*r[u];o[a+5*i]=n}}return o}function I(e,t){var n;return t=A(t,-1,1),t*=100,t<0?n=127+t/100*127:(n=t%1,n=0===n?BD[t]:BD[Math.floor(t)]*(1-n)+BD[Math.floor(t)+1]*n,n=127*n+127),M(e,[n/127,0,0,0,.5*(127-n),0,n/127,0,0,.5*(127-n),0,0,n/127,0,.5*(127-n),0,0,0,1,0,0,0,0,0,1])}function R(e,t){return t=A(255*t,-255,255),M(e,[1,0,0,0,t,0,1,0,0,t,0,0,1,0,t,0,0,0,1,0,0,0,0,0,1])}function P(e,t,n,r){return t=A(t,0,2),n=A(n,0,2),r=A(r,0,2),M(e,[t,0,0,0,0,0,n,0,0,0,0,0,r,0,0,0,0,0,1,0,0,0,0,0,1])}function L(e,t){return e.toCanvas().then(function(n){return j(n,e.getType(),t)})}function j(e,t,n){var r=m(e),o=function(e,t){for(var n,r,o,i,a=e.data,u=t[0],s=t[1],c=t[2],l=t[3],f=t[4],d=t[5],p=t[6],h=t[7],m=t[8],g=t[9],v=t[10],b=t[11],y=t[12],w=t[13],x=t[14],_=t[15],C=t[16],S=t[17],E=t[18],k=t[19],T=0;T<a.length;T+=4)n=a[T],r=a[T+1],o=a[T+2],i=a[T+3],a[T]=n*u+r*s+o*c+i*l+f,a[T+1]=n*d+r*p+o*h+i*m+g,a[T+2]=n*v+r*b+o*y+i*w+x,a[T+3]=n*_+r*C+o*S+i*E+k;return e}(r.getImageData(0,0,e.width,e.height),n);return r.putImageData(o,0,0),O(e,t)}function B(e,t){return e.toCanvas().then(function(n){return z(n,e.getType(),t)})}function z(e,t,n){var r=m(e),o=r.getImageData(0,0,e.width,e.height),i=r.getImageData(0,0,e.width,e.height);return i=function(e,t,n){function r(e,t,n){return e>n?e=n:e<t&&(e=t),e}for(var o=Math.round(Math.sqrt(n.length)),i=Math.floor(o/2),a=e.data,u=t.data,s=e.width,c=e.height,l=0;l<c;l++)for(var f=0;f<s;f++){for(var d=0,p=0,h=0,m=0;m<o;m++)for(var g=0;g<o;g++){var v=r(f+g-i,0,s-1),b=r(l+m-i,0,c-1),y=4*(b*s+v),w=n[m*o+g];d+=a[y]*w,p+=a[y+1]*w,h+=a[y+2]*w}var x=4*(l*s+f);u[x]=r(d,0,255),u[x+1]=r(p,0,255),u[x+2]=r(h,0,255)}return t}(o,i,n),r.putImageData(i,0,0),O(e,t)}function F(e){return function(t,n){return L(t,e(D(),n))}}function H(e,t,n){var r=v(e),o=b(e),i=t/r,a=n/o,u=!1;(i<.5||i>2)&&(i=i<.5?.5:2,u=!0),(a<.5||a>2)&&(a=a<.5?.5:2,u=!0);var s=U(e,i,a);return u?s.then(function(e){return H(e,t,n)}):s}function U(e,t,n){return new LD(function(r){var o=v(e),i=b(e),a=Math.floor(o*t),u=Math.floor(i*n),s=p(a,u);m(s).drawImage(e,0,0,o,i,0,0,a,u),r(s)})}function V(e,t){return e.toCanvas().then(function(n){return q(n,e.getType(),t)})}function q(e,t,n){var r=p(e.width,e.height),o=m(r),i=0,a=0;return n=n<0?360+n:n,90!==n&&270!==n||g(r,r.height,r.width),90!==n&&180!==n||(i=r.width),270!==n&&180!==n||(a=r.height),o.translate(i,a),o.rotate(n*Math.PI/180),o.drawImage(e,0,0),O(r,t)}function W(e,t){return e.toCanvas().then(function(n){return G(n,e.getType(),t)})}function G(e,t,n){var r=p(e.width,e.height),o=m(r);return"v"===n?(o.scale(1,-1),o.drawImage(e,0,-r.height)):(o.scale(-1,1),o.drawImage(e,-r.width,0)),O(r,t)}function $(e,t,n,r,o){return e.toCanvas().then(function(i){return X(i,e.getType(),t,n,r,o)})}function X(e,t,n,r,o,i){var a=p(o,i);return m(a).drawImage(e,-n,-r),O(a,t)}function Y(e,t,n){return e.toCanvas().then(function(r){return H(r,t,n).then(function(t){return O(t,e.getType())})})}function K(e){var t=Math.max,n=e.documentElement,r=e.body,o=t(n.scrollWidth,r.scrollWidth),i=t(n.clientWidth,r.clientWidth),a=t(n.offsetWidth,r.offsetWidth),u=t(n.scrollHeight,r.scrollHeight),s=t(n.clientHeight,r.clientHeight),c=t(n.offsetHeight,r.offsetHeight);return{width:o<a?i:o,height:u<c?s:u}}function J(e){var t,n;if(e.changedTouches)for(t="screenX screenY pageX pageY clientX clientY".split(" "),n=0;n<t.length;n++)e[t[n]]=e.changedTouches[0][t[n]]}function Q(e,n){var r,o,i,a,u=n.document||t.document;n=n||{};var s=u.getElementById(n.handle||e),c=function(e){var c,d=K(u);J(e),e.preventDefault(),o=e.button;var p=s;i=e.screenX,a=e.screenY,c=t.window.getComputedStyle?t.window.getComputedStyle(p,null).getPropertyValue("cursor"):p.runtimeStyle.cursor,r=sI("<div></div>").css({position:"absolute",top:0,left:0,width:d.width,height:d.height,zIndex:2147483647,opacity:1e-4,cursor:c}).appendTo(u.body),sI(u).on("mousemove touchmove",l).on("mouseup touchend",f),n.start(e)},l=function(e){if(J(e),e.button!==o)return f(e);e.deltaX=e.screenX-i,e.deltaY=e.screenY-a,e.preventDefault(),n.drag(e)},f=function(e){J(e),sI(u).off("mousemove touchmove",l).off("mouseup touchend",f),r.remove(),n.stop&&n.stop(e)};this.destroy=function(){sI(s).off()},sI(s).on("mousedown touchstart",c)}function Z(){function e(e){var t=i.splice(++a);return i.push(e),{state:e,removed:t}}function t(){if(r())return i[--a]}function n(){if(o())return i[++a]}function r(){return a>0}function o(){return-1!==a&&a<i.length-1}var i=[],a=-1;return{data:i,add:e,undo:t,redo:n,canUndo:r,canRedo:o}}var ee,te=function(){},ne=function(e){return function(){return e()}},re=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e(t.apply(null,n))}},oe=function(e,t){return function(n){return e(t(n))}},ie=function(e){return function(){return e}},ae=function(e){return e},ue=function(e){return function(t){return!e(t)}},se=function(e){return function(){throw new Error(e)}},ce=ie(!1),le=ie(!0),fe=tinymce.util.Tools.resolve("tinymce.ThemeManager"),de=function(){return de=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},de.apply(this,arguments)},pe=function(){return he},he=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e};return{fold:function(e,t){return e()},is:ce,isSome:ce,isNone:le,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:ie(null),getOrUndefined:ie(void 0),or:n,orThunk:t,map:pe,each:te,bind:pe,exists:ce,forall:le,filter:pe,equals:e,equals_:e,toArray:function(){return[]},toString:ie("none()")}}(),me=function(e){var t=ie(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:le,isNone:ce,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return me(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:he},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(ce,function(t){return n(e,t)})}};return o},ge=function(e){return null===e||void 0===e?he:me(e)},ve={some:me,none:pe,from:ge},be=function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},ye=function(e){return function(t){return be(t)===e}},we=function(e){return function(t){return typeof t===e}},xe=ye("string"),_e=ye("object"),Ce=ye("array"),Se=we("boolean"),Ee=function(e){return function(t){return e===t}}(void 0),ke=function(e){return null===e||void 0===e},Te=function(e){return!ke(e)},Ne=we("function"),Oe=we("number"),Ae=function(e,t){if(Ce(e)){for(var n=0,r=e.length;n<r;++n)if(!t(e[n]))return!1;return!0}return!1},De=Array.prototype.slice,Me=Array.prototype.indexOf,Ie=Array.prototype.push,Re=function(e,t){return Me.call(e,t)},Pe=function(e,t){var n=Re(e,t);return-1===n?ve.none():ve.some(n)},Le=function(e,t){return Re(e,t)>-1},je=function(e,t){for(var n=0,r=e.length;n<r;n++){if(t(e[n],n))return!0}return!1},Be=function(e,t){for(var n=[],r=0;r<e;r++)n.push(t(r));return n},ze=function(e,t){for(var n=[],r=0;r<e.length;r+=t){var o=De.call(e,r,r+t);n.push(o)}return n},Fe=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},He=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n)}},Ue=function(e,t){for(var n=e.length-1;n>=0;n--){t(e[n],n)}},Ve=function(e,t){for(var n=[],r=[],o=0,i=e.length;o<i;o++){var a=e[o];(t(a,o)?n:r).push(a)}return{pass:n,fail:r}},qe=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n},We=function(e,t,n){return Ue(e,function(e){n=t(n,e)}),n},Ge=function(e,t,n){return He(e,function(e){n=t(n,e)}),n},$e=function(e,t,n){for(var r=0,o=e.length;r<o;r++){var i=e[r];if(t(i,r))return ve.some(i);if(n(i,r))break}return ve.none()},Xe=function(e,t){return $e(e,t,ce)},Ye=function(e,t){for(var n=0,r=e.length;n<r;n++){if(t(e[n],n))return ve.some(n)}return ve.none()},Ke=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!Ce(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);Ie.apply(t,e[n])}return t},Je=function(e,t){return Ke(Fe(e,t))},Qe=function(e,t){for(var n=0,r=e.length;n<r;++n){if(!0!==t(e[n],n))return!1}return!0},Ze=function(e){var t=De.call(e,0);return t.reverse(),t},et=function(e,t){return qe(e,function(e){return!Le(t,e)})},tt=function(e,t){for(var n={},r=0,o=e.length;r<o;r++){var i=e[r];n[String(i)]=t(i,r)}return n},nt=function(e,t){var n=De.call(e,0);return n.sort(t),n},rt=function(e){return 0===e.length?ve.none():ve.some(e[0])},ot=function(e){return 0===e.length?ve.none():ve.some(e[e.length-1])},it=Ne(Array.from)?Array.from:function(e){return De.call(e)},at=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return ve.none()},ut=function(e){var t=function(t){return e===t},n=function(t){return ut(e)},r=function(t){return ut(e)},o=function(t){return ut(t(e))},i=function(t){return ut(e)},a=function(t){t(e)},u=function(t){return t(e)},s=function(t,n){return n(e)},c=function(t){return t(e)},l=function(t){return t(e)},f=function(){return ve.some(e)};return{is:t,isValue:le,isError:ce,getOr:ie(e),getOrThunk:ie(e),getOrDie:ie(e),or:n,orThunk:r,fold:s,map:o,mapError:i,each:a,bind:u,exists:c,forall:l,toOption:f}},st=function(e){var t=function(e){return e()},n=function(){return se(String(e))()},r=function(e){return e},o=function(e){return e()},i=function(t){return st(e)},a=function(t){return st(t(e))},u=function(t){return st(e)};return{is:ce,isValue:ce,isError:le,getOr:ae,getOrThunk:t,getOrDie:n,or:r,orThunk:o,fold:function(t,n){return t(e)},map:i,mapError:a,each:te,bind:u,exists:ce,forall:le,toOption:ve.none}},ct=function(e,t){return e.fold(function(){return st(t)},ut)},lt={value:ut,error:st,fromOption:ct};!function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"}(ee||(ee={}));var ft,dt=function(e,t,n){return e.stype===ee.Error?t(e.serror):n(e.svalue)},pt=function(e){var t=[],n=[];return He(e,function(e){dt(e,function(e){return n.push(e)},function(e){return t.push(e)})}),{values:t,errors:n}},ht=function(e,t){return e.stype===ee.Error?{stype:ee.Error,serror:t(e.serror)}:e},mt=function(e,t){return e.stype===ee.Value?{stype:ee.Value,svalue:t(e.svalue)}:e},gt=function(e,t){return e.stype===ee.Value?t(e.svalue):e},vt=function(e,t){return e.stype===ee.Error?t(e.serror):e},bt=function(e){return{stype:ee.Value,svalue:e}},yt=function(e){return{stype:ee.Error,serror:e}},wt=function(e){return dt(e,lt.error,lt.value)},xt=function(e){return e.fold(yt,bt)},_t={fromResult:xt,toResult:wt,svalue:bt,partition:pt,serror:yt,bind:gt,bindError:vt,map:mt,mapError:ht,fold:dt},Ct=Object.keys,St=Object.hasOwnProperty,Et=function(e,t){for(var n=Ct(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i)}},kt=function(e,t){return Tt(e,function(e,n){return{k:n,v:t(e,n)}})},Tt=function(e,t){var n={};return Et(e,function(e,r){var o=t(e,r);n[o.k]=o.v}),n},Nt=function(e){return function(t,n){e[n]=t}},Ot=function(e,t,n,r){var o={};return Et(e,function(e,o){(t(e,o)?n:r)(e,o)}),o},At=function(e,t){var n={};return Ot(e,t,Nt(n),te),n},Dt=function(e,t){var n=[];return Et(e,function(e,r){n.push(t(e,r))}),n},Mt=function(e,t){for(var n=Ct(e),r=0,o=n.length;r<o;r++){var i=n[r],a=e[i];if(t(a,i,e))return ve.some(a)}return ve.none()},It=function(e){return Dt(e,function(e){return e})},Rt=function(e,t){return Pt(e,t)?ve.from(e[t]):ve.none()},Pt=function(e,t){return St.call(e,t)},Lt=function(e,t){return Pt(e,t)&&void 0!==e[t]&&null!==e[t]},jt=function(e){if(!Ce(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");var n=[],r={};return He(e,function(o,i){var a=Ct(o);if(1!==a.length)throw new Error("one and only one name per case");var u=a[0],s=o[u];if(void 0!==r[u])throw new Error("duplicate key detected:"+u);if("cata"===u)throw new Error("cannot have a case named cata (sorry)");if(!Ce(s))throw new Error("case arguments must be an array");n.push(u),r[u]=function(){var r=arguments.length;if(r!==s.length)throw new Error("Wrong number of arguments to case "+u+". Expected "+s.length+" ("+s+"), got "+r);for(var o=new Array(r),a=0;a<o.length;a++)o[a]=arguments[a];var c=function(e){var t=Ct(e);if(n.length!==t.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+"\nActual: "+t.join(","));if(!Qe(n,function(e){return Le(t,e)}))throw new Error("Not all branches were specified when using match. Specified: "+t.join(", ")+"\nRequired: "+n.join(", "));return e[u].apply(null,o)};return{fold:function(){if(arguments.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+arguments.length);return arguments[i].apply(null,o)},match:c,log:function(e){t.console.log(e,{constructors:n,constructor:u,params:o})}}}}),r},Bt={generate:jt},zt=Object.prototype.hasOwnProperty,Ft=function(e,t){return t},Ht=function(e,t){return _e(e)&&_e(t)?Vt(e,t):t},Ut=function(e){return function(){for(var t=new Array(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];if(0===t.length)throw new Error("Can't merge zero objects");for(var r={},o=0;o<t.length;o++){var i=t[o];for(var a in i)zt.call(i,a)&&(r[a]=e(r[a],i[a]))}return r}},Vt=Ut(Ht),qt=Ut(Ft),Wt=function(e){var t,n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n||(n=!0,t=e.apply(null,r)),t}},Gt=Bt.generate([{strict:[]},{defaultedThunk:["fallbackThunk"]},{asOption:[]},{asDefaultedOptionThunk:["fallbackThunk"]},{mergeWithThunk:["baseThunk"]}]),$t=function(e){return Gt.defaultedThunk(ie(e))},Xt=function(e){return Gt.mergeWithThunk(ie(e))},Yt=Gt.strict,Kt=Gt.asOption,Jt=Gt.defaultedThunk,Qt=(Gt.asDefaultedOptionThunk,Gt.mergeWithThunk),Zt=function(e,t){var n={};return Et(e,function(e,r){Le(t,r)||(n[r]=e)}),n},en=function(e,t){var n;return n={},n[e]=t,n},tn=function(e){var t={};return He(e,function(e){t[e.key]=e.value}),t},nn=(Bt.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]),function(e){var t=[],n=[];return He(e,function(e){e.fold(function(e){t.push(e)},function(e){n.push(e)})}),{errors:t,values:n}}),rn=function(e,t){return Zt(e,t)},on=function(e,t){return en(e,t)},an=function(e){return tn(e)},un=function(e,t){return 0===e.length?lt.value(t):lt.value(Vt(t,qt.apply(void 0,e)))},sn=function(e){return lt.error(Ke(e))},cn=function(e,t){var n=nn(e);return n.errors.length>0?sn(n.errors):un(n.values,t)},ln=function(e,t){return e.length>0?_t.svalue(Vt(t,qt.apply(void 0,e))):_t.svalue(t)},fn=function(e){return re(_t.serror,Ke)(e)},dn=function(e,t){var n=_t.partition(e);return n.errors.length>0?fn(n.errors):ln(n.values,t)},pn=function(e){var t=_t.partition(e);return t.errors.length>0?fn(t.errors):_t.svalue(t.values)},hn={consolidateObj:dn,consolidateArr:pn},mn=function(e){return _e(e)&&Ct(e).length>100?" removed due to size":JSON.stringify(e,null,2)},gn=function(e){var t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:function(){return"... (only showing first ten failures)"}}]):e;return Fe(t,function(e){return"Failed path: ("+e.path.join(" > ")+")\n"+e.getErrorInfo()})},vn=function(e,t){return _t.serror([{path:e,getErrorInfo:t}])},bn=function(e,t,n){return vn(e,function(){return'Could not find valid *strict* value for "'+t+'" in '+mn(n)})},yn=function(e,t){return vn(e,function(){return'Choice schema did not contain choice key: "'+t+'"'})},wn=function(e,t,n){return vn(e,function(){return'The chosen schema: "'+n+'" did not exist in branches: '+mn(t)})},xn=function(e,t){return vn(e,function(){return"There are unsupported fields: ["+t.join(", ")+"] specified"})},_n=function(e,t){return vn(e,function(){return t})},Cn=Bt.generate([{field:["key","okey","presence","prop"]},{state:["okey","instantiator"]}]),Sn=function(e,t,n){return Rt(t,n).fold(function(){return bn(e,n,t)},_t.svalue)},En=function(e,t,n){var r=Rt(e,t).fold(function(){return n(e)},ae);return _t.svalue(r)},kn=function(e,t){return _t.svalue(Rt(e,t))},Tn=function(e,t,n){var r=Rt(e,t).map(function(t){return!0===t?n(e):t});return _t.svalue(r)},Nn=function(e,t,n,r){return n.fold(function(n,o,i,a){var u=function(t){var i=a.extract(e.concat([n]),r,t);return _t.map(i,function(e){return en(o,r(e))})},s=function(t){return t.fold(function(){var e=en(o,r(ve.none()));return _t.svalue(e)},function(t){var i=a.extract(e.concat([n]),r,t);return _t.map(i,function(e){return en(o,r(ve.some(e)))})})};return function(){return i.fold(function(){return _t.bind(Sn(e,t,n),u)},function(e){return _t.bind(En(t,n,e),u)},function(){return _t.bind(kn(t,n),s)},function(e){return _t.bind(Tn(t,n,e),s)},function(e){var r=e(t),o=_t.map(En(t,n,ie({})),function(e){return Vt(r,e)});return _t.bind(o,u)})}()},function(e,n){var o=n(t);return _t.svalue(en(e,r(o)))})},On=function(e,t,n,r){var o=Fe(n,function(n){return Nn(e,t,n,r)});return hn.consolidateObj(o,{})},An=function(e){var t=function(t,n,r){return e().extract(t,n,r)},n=function(){return e().toString()};return{extract:t,toString:n}},Dn=function(e){var t=function(t,n,r){return _t.bindError(e(r,n),function(e){return _n(t,e)})},n=function(){return"val"};return{extract:t,toString:n}},Mn=function(e){return Ct(At(e,function(e){return void 0!==e&&null!==e}))},In=function(e){var t=Rn(e),n=We(e,function(e,t){return t.fold(function(t){return Vt(e,on(t,!0))},ie(e))},{});return{extract:function(e,r,o){var i=Se(o)?[]:Mn(o),a=qe(i,function(e){return!Lt(n,e)});return 0===a.length?t.extract(e,r,o):xn(e,a)},toString:t.toString}},Rn=function(e){var t=function(t,n,r){return On(t,r,e,n)},n=function(){return"obj{\n"+Fe(e,function(e){return e.fold(function(e,t,n,r){return e+" -> "+r.toString()},function(e,t){return"state("+e+")"})}).join("\n")+"}"};return{extract:t,toString:n}},Pn=function(e){var t=function(t,n,r){var o=Fe(r,function(r,o){return e.extract(t.concat(["["+o+"]"]),n,r)});return hn.consolidateArr(o)},n=function(){return"array("+e.toString()+")"};return{extract:t,toString:n}},Ln=function(e,t){var n=function(t,n){return Pn(Dn(e)).extract(t,ae,n)},r=function(e,r,o){var i=Ct(o),a=n(e,i);return _t.bind(a,function(n){var i=Fe(n,function(e){return Cn.field(e,e,Yt(),t)});return Rn(i).extract(e,r,o)})},o=function(){return"setOf("+t.toString()+")"};return{extract:r,toString:o}},jn=ie(Dn(_t.svalue)),Bn=re(Pn,Rn),zn=Cn.state,Fn=Cn.field,Hn=function(e,t,n,r,o){return Rt(r,o).fold(function(){return wn(e,r,o)},function(r){return r.extract(e.concat(["branch: "+o]),t,n)})},Un=function(e,t){var n=function(n,r,o){return Rt(o,e).fold(function(){return yn(n,e)},function(e){return Hn(n,r,o,t,e)})},r=function(){return"chooseOn("+e+"). Possible values: "+Ct(t)};return{extract:n,toString:r}},Vn=Dn(_t.svalue),qn=function(e){return Bn(e)},Wn=An,Gn=function(e){return Dn(function(t){return e(t).fold(_t.serror,_t.svalue)})},$n=function(e,t){return Ln(function(t){return _t.fromResult(e(t))},t)},Xn=function(e,t,n,r){var o=t.extract([e],n,r);return _t.mapError(o,function(e){return{input:r,errors:e}})},Yn=function(e,t,n){return _t.toResult(Xn(e,t,ae,n))},Kn=function(e){return e.fold(function(e){throw new Error(Qn(e))},ae)},Jn=function(e,t,n){return Kn(Yn(e,t,n))},Qn=function(e){return"Errors: \n"+gn(e.errors).join("\n")+"\n\nInput object: "+mn(e.input)},Zn=function(e,t){return Un(e,t)},er=function(e,t){return Un(e,kt(t,Rn))},tr=ie(Vn),nr=function(e,t){return Dn(function(n){var r=typeof n;return e(n)?_t.svalue(n):_t.serror("Expected type: "+t+" but got: "+r)})},rr=nr(Oe,"number"),or=nr(xe,"string"),ir=nr(Se,"boolean"),ar=nr(Ne,"function"),ur=function(e){var t=function(e,t){for(var n=e.next();!n.done;){if(!t(n.value))return!1;n=e.next()}return!0};if(Object(e)!==e)return!0;switch({}.toString.call(e).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(e).every(function(t){return ur(e[t])});case"Map":return t(e.keys(),ur)&&t(e.values(),ur);case"Set":return t(e.keys(),ur);default:return!1}},sr=Dn(function(e){return ur(e)?_t.svalue(e):_t.serror("Expected value to be acceptable for sending via postMessage")}),cr=function(e){return Gn(function(t){return Le(e,t)?lt.value(t):lt.error('Unsupported value: "'+t+'", choose one of "'+e.join(", ")+'".')})},lr=function(e){return Fn(e,e,Yt(),jn())},fr=function(e,t){return Fn(e,e,Yt(),t)},dr=function(e){return fr(e,rr)},pr=function(e){return fr(e,or)},hr=function(e,t){return Fn(e,e,Yt(),cr(t))},mr=function(e){return fr(e,ar)},gr=function(e,t){return Fn(e,e,Kt(),Dn(function(n){return _t.serror("The field: "+e+" is forbidden. "+t)}))},vr=function(e,t){return Fn(e,e,Yt(),Rn(t))},br=function(e,t){return Fn(e,e,Yt(),Bn(t))},yr=function(e,t){return Fn(e,e,Yt(),Pn(t))},wr=function(e){return Fn(e,e,Kt(),jn())},xr=function(e,t){return Fn(e,e,Kt(),t)},_r=function(e){return xr(e,rr)},Cr=function(e){return xr(e,or)},Sr=function(e){return xr(e,ar)},Er=function(e,t){return xr(e,Rn(t))},kr=function(e,t){return xr(e,In(t))},Tr=function(e,t){return Fn(e,e,$t(t),jn())},Nr=function(e,t,n){return Fn(e,e,$t(t),n)},Or=function(e,t){return Nr(e,t,rr)},Ar=function(e,t){return Nr(e,t,or)},Dr=function(e,t,n){return Nr(e,t,cr(n))},Mr=function(e,t){return Nr(e,t,ir)},Ir=function(e,t){return Nr(e,t,ar)},Rr=function(e,t,n){return Nr(e,t,Rn(n))},Pr=function(e,t){return zn(e,t)},Lr=function(e){var t=e;return{get:function(){return t},set:function(e){t=e}}},jr=function(e,n){var r=n||t.document,o=r.createElement("div");if(o.innerHTML=e,!o.hasChildNodes()||o.childNodes.length>1)throw t.console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return Fr(o.childNodes[0])},Br=function(e,n){var r=n||t.document,o=r.createElement(e);return Fr(o)},zr=function(e,n){var r=n||t.document,o=r.createTextNode(e);return Fr(o)},Fr=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:ie(e)}},Hr=function(e,t,n){var r=e.dom();return ve.from(r.elementFromPoint(t,n)).map(Fr)},Ur={fromHtml:jr,fromTag:Br,fromText:zr,fromDom:Fr,fromPoint:Hr},Vr=function(e,t,n){return 0!=(e.compareDocumentPosition(t)&n)},qr=function(e,n){return Vr(e,n,t.Node.DOCUMENT_POSITION_CONTAINED_BY)},Wr=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}},Gr=function(e,t){var n=Wr(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return Yr(r(1),r(2))},$r=function(e,t){var n=String(t).toLowerCase();return 0===e.length?Xr():Gr(e,n)},Xr=function(){return Yr(0,0)},Yr=function(e,t){return{major:e,minor:t}},Kr={nu:Yr,detect:$r,unknown:Xr},Jr=function(){return Qr({current:void 0,version:Kr.unknown()})},Qr=function(e){var t=e.current,n=e.version,r=function(e){return function(){return t===e}};return{current:t,version:n,isEdge:r("Edge"),isChrome:r("Chrome"),isIE:r("IE"),isOpera:r("Opera"),isFirefox:r("Firefox"),isSafari:r("Safari")}},Zr={unknown:Jr,nu:Qr,edge:ie("Edge"),chrome:ie("Chrome"),ie:ie("IE"),opera:ie("Opera"),firefox:ie("Firefox"),safari:ie("Safari")},eo=function(){return to({current:void 0,version:Kr.unknown()})},to=function(e){var t=e.current,n=e.version,r=function(e){return function(){return t===e}};return{current:t,version:n,isWindows:r("Windows"),isiOS:r("iOS"),isAndroid:r("Android"),isOSX:r("OSX"),isLinux:r("Linux"),isSolaris:r("Solaris"),isFreeBSD:r("FreeBSD"),isChromeOS:r("ChromeOS")}},no={unknown:eo,nu:to,windows:ie("Windows"),ios:ie("iOS"),android:ie("Android"),linux:ie("Linux"),osx:ie("OSX"),solaris:ie("Solaris"),freebsd:ie("FreeBSD"),chromeos:ie("ChromeOS")},ro=function(e,t,n,r){var o=e.isiOS()&&!0===/ipad/i.test(n),i=e.isiOS()&&!o,a=e.isiOS()||e.isAndroid(),u=a||r("(pointer:coarse)"),s=o||!i&&a&&r("(min-device-width:768px)"),c=i||a&&!s,l=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),f=!c&&!s&&!l;return{isiPad:ie(o),isiPhone:ie(i),isTablet:ie(s),isPhone:ie(c),isTouch:ie(u),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:ie(l),isDesktop:ie(f)}},oo=function(e,t){var n=String(t).toLowerCase();return Xe(e,function(e){return e.search(n)})},io=function(e,t){return oo(e,t).map(function(e){var n=Kr.detect(e.versionRegexes,t);return{current:e.name,version:n}})},ao=function(e,t){return oo(e,t).map(function(e){var n=Kr.detect(e.versionRegexes,t);return{current:e.name,version:n}})},uo={detectBrowser:io,detectOs:ao},so=function(e,t,n){return""===t||e.length>=t.length&&e.substr(n,n+t.length)===t},co=function(e,t){return-1!==e.indexOf(t)},lo=function(e,t){return so(e,t,e.length-t.length)},fo=function(e){return function(t){return t.replace(e,"")}}(/^\s+|\s+$/g),po=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,ho=function(e){return function(t){return co(t,e)}},mo=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return co(e,"edge/")&&co(e,"chrome")&&co(e,"safari")&&co(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,po],search:function(e){return co(e,"chrome")&&!co(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return co(e,"msie")||co(e,"trident")}},{name:"Opera",versionRegexes:[po,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:ho("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:ho("firefox")},{name:"Safari",versionRegexes:[po,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(co(e,"safari")||co(e,"mobile/"))&&co(e,"applewebkit")}}],go=[{name:"Windows",search:ho("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return co(e,"iphone")||co(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:ho("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:ho("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:ho("linux"),versionRegexes:[]},{name:"Solaris",search:ho("sunos"),versionRegexes:[]},{name:"FreeBSD",search:ho("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:ho("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],vo={browsers:ie(mo),oses:ie(go)},bo=function(e,t){var n=vo.browsers(),r=vo.oses(),o=uo.detectBrowser(n,e).fold(Zr.unknown,Zr.nu),i=uo.detectOs(r,e).fold(no.unknown,no.nu);return{browser:o,os:i,deviceType:ro(i,o,e,t)}},yo={detect:bo},wo=function(e){return t.window.matchMedia(e).matches},xo=Wt(function(){return yo.detect(t.navigator.userAgent,wo)}),_o=function(){return xo()},Co=function(e,t){var n=e.dom();if(1!==n.nodeType)return!1;var r=n;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},So=function(e){return 1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount},Eo=function(e,n){var r=void 0===n?t.document:n.dom();return So(r)?[]:Fe(r.querySelectorAll(e),Ur.fromDom)},ko=function(e,n){var r=void 0===n?t.document:n.dom();return So(r)?ve.none():ve.from(r.querySelector(e)).map(Ur.fromDom)},To=function(e,t){return e.dom()===t.dom()},No=function(e,t){var n=e.dom(),r=t.dom();return n!==r&&n.contains(r)},Oo=function(e,t){return qr(e.dom(),t.dom())},Ao=function(e,t){return _o().browser.isIE()?Oo(e,t):No(e,t)},Do=function(e){return Ne(e)?e:ie(!1)},Mo=function(e,t,n){for(var r=e.dom(),o=Do(n);r.parentNode;){r=r.parentNode;var i=Ur.fromDom(r),a=t(i);if(a.isSome())return a;if(o(i))break}return ve.none()},Io=function(e,t,n){var r=t(e),o=Do(n);return r.orThunk(function(){return o(e)?ve.none():Mo(e,t,o)})},Ro=function(e,t){return To(e.element(),t.event().target())},Po=function(e){if(!Lt(e,"can")&&!Lt(e,"abort")&&!Lt(e,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(e,null,2)+" does not have can, abort, or run!");return Jn("Extracting event.handler",In([Tr("can",ie(!0)),Tr("abort",ie(!1)),Tr("run",te)]),e)},Lo=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return Ge(e,function(e,r){return e&&t(r).apply(void 0,n)},!0)}},jo=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return Ge(e,function(e,r){return e||t(r).apply(void 0,n)},!1)}},Bo=function(e){return Ne(e)?{can:ie(!0),abort:ie(!1),run:e}:e},zo=function(e){var t=Lo(e,function(e){return e.can}),n=jo(e,function(e){return e.abort});return Po({can:t,abort:n,run:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];He(e,function(e){e.run.apply(void 0,t)})}})},Fo=ie("touchstart"),Ho=ie("touchmove"),Uo=ie("touchend"),Vo=ie("touchcancel"),qo=ie("mousedown"),Wo=ie("mousemove"),Go=ie("mouseout"),$o=ie("mouseup"),Xo=ie("mouseover"),Yo=ie("focusin"),Ko=ie("focusout"),Jo=ie("keydown"),Qo=ie("keyup"),Zo=ie("input"),ei=ie("change"),ti=ie("click"),ni=ie("transitionend"),ri=ie("selectstart"),oi={tap:ie("alloy.tap")},ii=ie("alloy.focus"),ai=ie("alloy.blur.post"),ui=ie("alloy.paste.post"),si=ie("alloy.receive"),ci=ie("alloy.execute"),li=ie("alloy.focus.item"),fi=oi.tap,di=ie("alloy.longpress"),pi=ie("alloy.sandbox.close"),hi=ie("alloy.typeahead.cancel"),mi=ie("alloy.system.init"),gi=ie("alloy.system.touchmove"),vi=ie("alloy.system.touchend"),bi=ie("alloy.system.scroll"),yi=ie("alloy.system.resize"),wi=ie("alloy.system.attached"),xi=ie("alloy.system.detached"),_i=ie("alloy.system.dismissRequested"),Ci=ie("alloy.system.repositionRequested"),Si=ie("alloy.focusmanager.shifted"),Ei=ie("alloy.slotcontainer.visibility"),ki=ie("alloy.change.tab"),Ti=ie("alloy.dismiss.tab"),Ni=ie("alloy.highlight"),Oi=ie("alloy.dehighlight"),Ai=function(e,t){Ri(e,e.element(),t,{})},Di=function(e,t,n){Ri(e,e.element(),t,n)},Mi=function(e){Ai(e,ci())},Ii=function(e,t,n){Ri(e,t,n,{})},Ri=function(e,t,n,r){var o=de({target:t},r);e.getSystem().triggerEvent(n,t,kt(o,ie))},Pi=function(e,t,n,r){e.getSystem().triggerEvent(n,t,r.event())},Li=function(e){return an(e)},ji=function(e,t){return{key:e,value:Po({abort:t})}},Bi=function(e){return{key:e,value:Po({run:function(e,t){t.event().prevent()}})}},zi=function(e,t){return{key:e,value:Po({run:t})}},Fi=function(e,t,n){return{key:e,value:Po({run:function(e,r){t.apply(void 0,[e,r].concat(n))}})}},Hi=function(e){return function(t){return{key:e,value:Po({run:function(e,n){Ro(e,n)&&t(e,n)}})}}},Ui=function(e,t){return zi(e,function(n,r){n.getSystem().getByUid(t).each(function(t){Pi(t,t.element(),e,r)})})},Vi=function(e,t,n){var r=t.partUids[n];return Ui(e,r)},qi=function(e,t){return zi(e,function(e,n){var r=n.event(),o=e.getSystem().getByDom(r.target()).fold(function(){return Io(r.target(),function(t){return e.getSystem().getByDom(t).toOption()},ie(!1)).getOr(e)},function(e){return e});t(e,o,n)})},Wi=function(e){return zi(e,function(e,t){t.cut()})},Gi=function(e){return zi(e,function(e,t){t.stop()})},$i=function(e,t){return Hi(e)(t)},Xi=Hi(wi()),Yi=Hi(xi()),Ki=Hi(mi()),Ji=function(e){return function(t){return zi(e,t)}}(ci()),Qi=(void 0!==t.window?t.window:Function("return this;")(),function(e){return e.dom().nodeName.toLowerCase()}),Zi=function(e){return e.dom().nodeType},ea=function(e){return function(t){return Zi(t)===e}},ta=ea(1),na=ea(3),ra=ea(9),oa=ea(11),ia=function(e){return Ur.fromDom(e.dom().ownerDocument)},aa=function(e){return ra(e)?e:ia(e)},ua=function(e){return Ur.fromDom(e.dom().ownerDocument.documentElement)},sa=function(e){return Ur.fromDom(e.dom().ownerDocument.defaultView)},ca=function(e){return ve.from(e.dom().parentNode).map(Ur.fromDom)},la=function(e){return ve.from(e.dom().offsetParent).map(Ur.fromDom)},fa=function(e){return ve.from(e.dom().nextSibling).map(Ur.fromDom)},da=function(e){return Fe(e.dom().childNodes,Ur.fromDom)},pa=function(e,t){var n=e.dom().childNodes;return ve.from(n[t]).map(Ur.fromDom)},ha=function(e){return pa(e,0)},ma=function(e,t){ca(e).each(function(n){n.dom().insertBefore(t.dom(),e.dom())})},ga=function(e,t){fa(e).fold(function(){ca(e).each(function(e){ba(e,t)})},function(e){ma(e,t)})},va=function(e,t){ha(e).fold(function(){ba(e,t)},function(n){e.dom().insertBefore(t.dom(),n.dom())})},ba=function(e,t){e.dom().appendChild(t.dom())},ya=function(e,t,n){pa(e,n).fold(function(){ba(e,t)},function(e){ma(e,t)})},wa=function(e,t){He(t,function(t){ma(e,t)})},xa=function(e,t){He(t,function(t){ba(e,t)})},_a=function(e){e.dom().textContent="",He(da(e),function(e){Ca(e)})},Ca=function(e){var t=e.dom();null!==t.parentNode&&t.parentNode.removeChild(t)},Sa=function(e){var t=da(e);t.length>0&&wa(e,t),Ca(e)},Ea=function(e,n){var r=n||t.document,o=r.createElement("div");return o.innerHTML=e,da(Ur.fromDom(o))},ka=function(e){return e.dom().innerHTML},Ta=function(e,t){var n=ia(e),r=n.dom(),o=Ur.fromDom(r.createDocumentFragment()),i=Ea(t,r);xa(o,i),_a(e),ba(e,o)},Na=function(e){var t=Ur.fromTag("div"),n=Ur.fromDom(e.dom().cloneNode(!0));return ba(t,n),ka(t)},Oa=function(e,n,r){if(!(xe(r)||Se(r)||Oe(r)))throw t.console.error("Invalid call to Attr.set. Key ",n,":: Value ",r,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(n,r+"")},Aa=function(e,t,n){Oa(e.dom(),t,n)},Da=function(e,t){var n=e.dom();Et(t,function(e,t){Oa(n,t,e)})},Ma=function(e,t){var n=e.dom().getAttribute(t);return null===n?void 0:n},Ia=function(e,t){return ve.from(Ma(e,t))},Ra=function(e,t){var n=e.dom();return!(!n||!n.hasAttribute)&&n.hasAttribute(t)},Pa=function(e,t){e.dom().removeAttribute(t)},La=function(e,t){return Ur.fromDom(e.dom().cloneNode(t))},ja=function(e){return La(e,!1)},Ba=function(e){var t=ja(e);return Na(t)},za=function(e){return Ba(e)},Fa=function(e,t,n){return To(t,e.element())&&!To(t,n)},Ha=Li([function(e,t){return{key:e,value:Po({can:t})}}(ii(),function(e,n){var r=n.event().originator(),o=n.event().target();return!Fa(e,r,o)||(t.console.warn(ii()+" did not get interpreted by the desired target. \nOriginator: "+za(r)+"\nTarget: "+za(o)+"\nCheck the "+ii()+" event handlers"),!1)})]),Ua=Object.freeze({__proto__:null,events:Ha}),Va=0,qa=function(e){var t=new Date,n=t.getTime(),r=Math.floor(1e9*Math.random());return Va++,e+"_"+r+Va+String(n)},Wa=ie("alloy-id-"),Ga=ie("data-alloy-id"),$a=Wa(),Xa=Ga(),Ya=function(e,t){var n=qa($a+e);return Ka(t,n),n},Ka=function(e,t){Object.defineProperty(e.dom(),Xa,{value:t,writable:!0})},Ja=function(e){var t=ta(e)?e.dom()[Xa]:null;return ve.from(t)},Qa=function(e){return qa(e)},Za=ae,eu=function(e){var t=function(t){return function(){throw new Error("The component must be in a context to send: "+t+(e?"\n"+za(e().element())+" is not in context.":""))}};return{debugInfo:ie("fake"),triggerEvent:t("triggerEvent"),triggerFocus:t("triggerFocus"),triggerEscape:t("triggerEscape"),build:t("build"),addToWorld:t("addToWorld"),removeFromWorld:t("removeFromWorld"),addToGui:t("addToGui"),removeFromGui:t("removeFromGui"),getByUid:t("getByUid"),getByDom:t("getByDom"),broadcast:t("broadcast"),broadcastOn:t("broadcastOn"),broadcastEvent:t("broadcastEvent"),isConnected:ie(!1)}},tu=eu(),nu=function(e,t,n){var r=n.toString(),o=r.indexOf(")")+1,i=r.indexOf("("),a=r.substring(i+1,o-1).split(/,\s*/);return e.toFunctionAnnotation=function(){return{name:t,parameters:ru(a.slice(0,1).concat(a.slice(3)))}},e},ru=function(e){return Fe(e,function(e){return lo(e,"/*")?e.substring(0,e.length-"/*".length):e})},ou=function(e,t){var n=e.toString(),r=n.indexOf(")")+1,o=n.indexOf("("),i=n.substring(o+1,r-1).split(/,\s*/);return e.toFunctionAnnotation=function(){return{name:t,parameters:ru(i)}},e},iu=function(e,t){var n=t.toString(),r=n.indexOf(")")+1,o=n.indexOf("("),i=n.substring(o+1,r-1).split(/,\s*/);return e.toFunctionAnnotation=function(){return{name:"OVERRIDE",parameters:ru(i.slice(1))}},e},au=qa("alloy-premade"),uu=function(e){return on(au,e)},su=function(e){return Rt(e,au)},cu=function(e){return iu(function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return e.apply(void 0,o([t.getApis(),t],n))},e)},lu={init:function(){return fu({readState:function(){return"No State required"}})}},fu=function(e){return e},du=function(e,t){var n=Fe(t,function(e){return Er(e.name(),[lr("config"),Tr("state",lu)])}),r=Yn("component.behaviours",Rn(n),e.behaviours).fold(function(t){throw new Error(Qn(t)+"\nComplete spec:\n"+JSON.stringify(e,null,2))},function(e){return e});return{list:t,data:kt(r,function(e){var t=e.map(function(e){return{config:e.config,state:e.state.init(e.config)}});return function(){return t}})}},pu=function(e){return e.list},hu=function(e){return e.data},mu=function(e,t){var n={};return Et(e,function(e,r){Et(e,function(e,o){var i=Rt(n,o).getOr([]);n[o]=i.concat([t(r,e)])})}),n},gu=function(e){return{classes:void 0!==e.classes?e.classes:[],attributes:void 0!==e.attributes?e.attributes:{},styles:void 0!==e.styles?e.styles:{}}},vu=function(e,t){return de(de({},e),{attributes:de(de({},e.attributes),t.attributes),styles:de(de({},e.styles),t.styles),classes:e.classes.concat(t.classes)})},bu=function(e,t,n,r){var o=de({},t);He(n,function(t){o[t.name()]=t.exhibit(e,r)});var i=mu(o,function(e,t){return{name:e,modification:t}}),a=function(e){return We(e,function(e,t){return de(de({},t.modification),e)},{})},u=We(i.classes,function(e,t){return t.modification.concat(e)},[]),s=a(i.attributes),c=a(i.styles);return gu({classes:u,attributes:s,styles:c})},yu=function(e,t,n,r){try{var o=nt(n,function(n,o){var i=n[t](),a=o[t](),u=r.indexOf(i),s=r.indexOf(a);if(-1===u)throw new Error("The ordering for "+e+" does not have an entry for "+i+".\nOrder specified: "+JSON.stringify(r,null,2));if(-1===s)throw new Error("The ordering for "+e+" does not have an entry for "+a+".\nOrder specified: "+JSON.stringify(r,null,2));return u<s?-1:s<u?1:0});return lt.value(o)}catch(e){return lt.error([e])}},wu=function(e,t){return{handler:e,purpose:ie(t)}},xu=function(e,t){return{cHandler:e,purpose:ie(t)}},_u=function(e,t){return xu(n.apply(void 0,[e.handler].concat(t)),e.purpose())},Cu=function(e){return e.cHandler},Su=function(e,t){return{name:ie(e),handler:ie(t)}},Eu=function(e,t){var n={};return He(e,function(e){n[e.name()]=e.handlers(t)}),n},ku=function(e,t,n){var r=de(de({},n),Eu(t,e));return mu(r,Su)},Tu=function(e,t,n,r){var o=ku(e,n,r);return Du(o,t)},Nu=function(e){var t=Bo(e);return function(e,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];var i=[e,n].concat(r);t.abort.apply(void 0,i)?n.stop():t.can.apply(void 0,i)&&t.run.apply(void 0,i)}},Ou=function(e,t){return lt.error(["The event ("+e+') has more than one behaviour that listens to it.\nWhen this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).\nThe behaviours that can trigger it are: '+JSON.stringify(Fe(t,function(e){return e.name()}),null,2)])},Au=function(e,t,n){var r=t[n];return r?yu("Event: "+n,"name",e,r).map(function(e){var t=Fe(e,function(e){return e.handler()});return zo(t)}):Ou(n,e)},Du=function(e,t){var n=Dt(e,function(e,n){return(1===e.length?lt.value(e[0].handler()):Au(e,t,n)).map(function(r){var o=Nu(r),i=e.length>1?qe(t[n],function(t){return je(e,function(e){return e.name()===t})}).join(" > "):e[0].name();return on(n,wu(o,i))})});return cn(n,{})},Mu=function(e){return Yn("custom.definition",Rn([Fn("dom","dom",Yt(),Rn([lr("tag"),Tr("styles",{}),Tr("classes",[]),Tr("attributes",{}),wr("value"),wr("innerHtml")])),lr("components"),lr("uid"),Tr("events",{}),Tr("apis",{}),Fn("eventOrder","eventOrder",Xt({"alloy.execute":["disabling","alloy.base.behaviour","toggling","typeaheadevents"],"alloy.focus":["alloy.base.behaviour","focusing","keying"],"alloy.system.init":["alloy.base.behaviour","disabling","toggling","representing"],input:["alloy.base.behaviour","representing","streaming","invalidating"],"alloy.system.detached":["alloy.base.behaviour","representing","item-events","tooltipping"],mousedown:["focusing","alloy.base.behaviour","item-type-events"],touchstart:["focusing","alloy.base.behaviour","item-type-events"],mouseover:["item-type-events","tooltipping"],"alloy.receive":["receiving","reflecting","tooltipping"]}),tr()),wr("domModification")]),e)},Iu=function(e){return de(de({},e.dom),{uid:e.uid,domChildren:Fe(e.components,function(e){return e.element()})})},Ru=function(e){return e.domModification.fold(function(){return gu({})},gu)},Pu=function(e){return e.events},Lu=function(e,t){var n=Ma(e,t);return void 0===n||""===n?[]:n.split(" ")},ju=function(e,t,n){var r=Lu(e,t),o=r.concat([n]);return Aa(e,t,o.join(" ")),!0},Bu=function(e,t,n){var r=qe(Lu(e,t),function(e){return e!==n});return r.length>0?Aa(e,t,r.join(" ")):Pa(e,t),!1},zu=function(e){return void 0!==e.dom().classList},Fu=function(e){return Lu(e,"class")},Hu=function(e,t){return ju(e,"class",t)},Uu=function(e,t){return Bu(e,"class",t)},Vu=function(e,t){zu(e)?e.dom().classList.add(t):Hu(e,t)},qu=function(e){0===(zu(e)?e.dom().classList:Fu(e)).length&&Pa(e,"class")},Wu=function(e,t){if(zu(e)){e.dom().classList.remove(t)}else Uu(e,t);qu(e)},Gu=function(e,t){return zu(e)&&e.dom().classList.contains(t)},$u=function(e,t){He(t,function(t){Vu(e,t)})},Xu=function(e,t){He(t,function(t){Wu(e,t)})},Yu=function(e){return void 0!==e.style&&Ne(e.style.getPropertyValue)},Ku=function(e){return oa(e)},Ju=Ne(t.Element.prototype.attachShadow)&&Ne(t.Node.prototype.getRootNode),Qu=ie(Ju),Zu=Ju?function(e){return Ur.fromDom(e.dom().getRootNode())}:aa,es=function(e){return Ku(e)?e:Ur.fromDom(aa(e).dom().body)},ts=function(e){var t=Zu(e);return Ku(t)?ve.some(t):ve.none()},ns=function(e){return Ur.fromDom(e.dom().host)},rs=function(e){if(Qu()&&Te(e.target)){var t=Ur.fromDom(e.target);if(ta(t)&&os(Ur.fromDom(e.target))){var n=e;if(n.composed&&n.composedPath){var r=n.composedPath();if(r)return rt(r)}}}return ve.from(e.target)},os=function(e){return Te(e.dom().shadowRoot)},is=function(e){var t=na(e)?e.dom().parentNode:e.dom();return void 0!==t&&null!==t&&null!==t.ownerDocument&&ts(Ur.fromDom(t)).fold(function(){return t.ownerDocument.body.contains(t)},oe(is,ns))},as=function(){return us(Ur.fromDom(t.document))},us=function(e){var t=e.dom().body;if(null===t||void 0===t)throw new Error("Body is not available yet");return Ur.fromDom(t)},ss=function(e,n,r){if(!xe(r))throw t.console.error("Invalid call to CSS.set. Property ",n,":: Value ",r,":: Element ",e),new Error("CSS value must be a string: "+r);Yu(e)&&e.style.setProperty(n,r)},cs=function(e,t){Yu(e)&&e.style.removeProperty(t)},ls=function(e,t,n){var r=e.dom();ss(r,t,n)},fs=function(e,t){var n=e.dom();Et(t,function(e,t){ss(n,t,e)})},ds=function(e,t){var n=e.dom();Et(t,function(e,t){e.fold(function(){cs(n,t)},function(e){ss(n,t,e)})})},ps=function(e,n){var r=e.dom(),o=t.window.getComputedStyle(r),i=o.getPropertyValue(n);return""!==i||is(e)?i:hs(r,n)},hs=function(e,t){return Yu(e)?e.style.getPropertyValue(t):""},ms=function(e,t){var n=e.dom(),r=hs(n,t);return ve.from(r).filter(function(e){return e.length>0})},gs=function(e){var t={},n=e.dom();if(Yu(n))for(var r=0;r<n.style.length;r++){var o=n.style.item(r);t[o]=n.style[o]}return t},vs=function(e,t,n){var r=Ur.fromTag(e);return ls(r,t,n),ms(r,t).isSome()},bs=function(e,t){var n=e.dom();cs(n,t),Ia(e,"style").map(fo).is("")&&Pa(e,"style")},ys=function(e){return e.dom().offsetWidth},ws=function(e){return e.dom().value},xs=function(e,t){if(void 0===t)throw new Error("Value.set was undefined");e.dom().value=t},_s=function(e){var t=Ur.fromTag(e.tag);Da(t,e.attributes),$u(t,e.classes),fs(t,e.styles),e.innerHtml.each(function(e){return Ta(t,e)});var n=e.domChildren;return xa(t,n),e.value.each(function(e){xs(t,e)}),e.uid,Ka(t,e.uid),t},Cs=function(e){var t=Rt(e,"behaviours").getOr({}),n=qe(Ct(t),function(e){return void 0!==t[e]});return Fe(n,function(e){return t[e].me})},Ss=function(e,t){return du(e,t)},Es=function(e){var t=Cs(e);return Ss(e,t)},ks=function(e,t,n){var r=Iu(e),o=Ru(e),i={"alloy.base.modification":o},a=t.length>0?bu(n,i,t,r):o;return vu(r,a)},Ts=function(e,t,n){var r={"alloy.base.behaviour":Pu(e)};return Tu(n,e.eventOrder,t,r).getOrDie()},Ns=function(e){var t=function(){return b},n=Lr(tu),r=Kn(Mu(e)),o=Es(e),i=pu(o),a=hu(o),u=ks(r,i,a),s=_s(u),c=Ts(r,i,a),l=Lr(r.components),f=function(e){n.set(e)},d=function(){n.set(eu(t))},p=function(){var e=da(s),t=Je(e,function(e){return n.get().getByDom(e).fold(function(){return[]},function(e){return[e]})});l.set(t)},h=function(t){var n=a;return(Ne(n[t.name()])?n[t.name()]:function(){throw new Error("Could not find "+t.name()+" in "+JSON.stringify(e,null,2))})()},m=function(e){return Ne(a[e.name()])},g=function(){return r.apis},v=function(e){return a[e]().map(function(e){return e.state.readState()}).getOr("not enabled")},b={getSystem:n.get,config:h,hasConfigured:m,spec:ie(e),readState:v,getApis:g,connect:f,disconnect:d,element:ie(s),syncComponents:p,components:l.get,events:ie(c)};return b},Os=function(e){var t=Rt(e,"components").getOr([]);return Fe(t,Rs)},As=function(e){var t=Za(e),n=t.events,o=r(t,["events"]),i=Os(o),a=de(de({},o),{events:de(de({},Ua),n),components:i});return lt.value(Ns(a))},Ds=function(e){var t=Ur.fromText(e);return Ms({element:t})},Ms=function(e){var t=Jn("external.component",In([lr("element"),wr("uid")]),e),n=Lr(eu()),r=function(e){n.set(e)},o=function(){n.set(eu(function(){return i}))};t.uid.each(function(e){Ka(t.element,e)});var i={getSystem:n.get,config:ve.none,hasConfigured:ie(!1),connect:r,disconnect:o,getApis:function(){return{}},element:ie(t.element),spec:ie(e),readState:ie("No state"),syncComponents:te,components:ie([]),events:ie({})};return uu(i)},Is=Qa,Rs=function(e){return su(e).fold(function(){var t=e.hasOwnProperty("uid")?e:de({uid:Is("")},e);return As(t).getOrDie()},function(e){return e})},Ps=uu,Ls=i("height",function(e){var t=e.dom();return is(e)?t.getBoundingClientRect().height:t.offsetHeight}),js=function(e){return Ls.get(e)},Bs=function(e){return Ls.getOuter(e)},zs=function(e,t){var n=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],r=Ls.max(e,t,n);ls(e,"max-height",r+"px")},Fs=function(e,t){var n=function(n,r){return Fs(e+n,t+r)};return{left:ie(e),top:ie(t),translate:n}},Hs=Fs,Us=function(e){var t=e.getBoundingClientRect();return Hs(t.left,t.top)},Vs=function(e,t){return void 0!==e?e:void 0!==t?t:0},qs=function(e){var t=e.dom().ownerDocument,n=t.body,r=t.defaultView,o=t.documentElement;if(n===e.dom())return Hs(n.offsetLeft,n.offsetTop);var i=Vs(r.pageYOffset,o.scrollTop),a=Vs(r.pageXOffset,o.scrollLeft),u=Vs(o.clientTop,n.clientTop),s=Vs(o.clientLeft,n.clientLeft);return Ws(e).translate(a-s,i-u)},Ws=function(e){var t=e.dom(),n=t.ownerDocument,r=n.body;return r===t?Hs(r.offsetLeft,r.offsetTop):is(e)?Us(t):Hs(0,0)},Gs=i("width",function(e){return e.dom().offsetWidth}),$s=function(e,t){return Gs.set(e,t)},Xs=function(e){return Gs.get(e)},Ys=function(e){return Gs.getOuter(e)},Ks=function(e,t){var n=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],r=Gs.max(e,t,n);ls(e,"max-width",r+"px")},Js=function(e,t,n,r,o,i,a){return{target:ie(e),x:ie(t),y:ie(n),stop:r,prevent:o,kill:i,raw:ie(a)}},Qs=function(e){var t=Ur.fromDom(rs(e).getOr(e.target)),n=function(){return e.stopPropagation()},r=function(){return e.preventDefault()},o=re(r,n);return Js(t,e.clientX,e.clientY,n,r,o,e)},Zs=function(e,t){return function(n){e(n)&&t(Qs(n))}},ec=function(e,t,r,o,i){var a=Zs(r,o);return e.dom().addEventListener(t,a,i),{unbind:n(rc,e,t,a,i)}},tc=function(e,t,n,r){return ec(e,t,n,r,!1)},nc=function(e,t,n,r){return ec(e,t,n,r,!0)},rc=function(e,t,n,r){e.dom().removeEventListener(t,n,r)},oc=function(e){var n=void 0!==e?e.dom():t.document,r=n.body.scrollLeft||n.documentElement.scrollLeft,o=n.body.scrollTop||n.documentElement.scrollTop;return Hs(r,o)},ic=function(e,n,r){(void 0!==r?r.dom():t.document).defaultView.scrollTo(e,n)},ac=function(e){var n=void 0===e?t.window:e;return ve.from(n.visualViewport)},uc=function(e,t,n,r){return{x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}},sc=function(e){var n=void 0===e?t.window:e,r=n.document,o=oc(Ur.fromDom(r));return ac(n).fold(function(){var e=n.document.documentElement,t=e.clientWidth,r=e.clientHeight;return uc(o.left(),o.top(),t,r)},function(e){return uc(Math.max(e.pageLeft,o.left()),Math.max(e.pageTop,o.top()),e.width,e.height)})},cc=function(e,t){return e.view(t).fold(ie([]),function(t){var n=e.owner(t);return[t].concat(cc(e,n))})},lc=function(e,t){var n=t.owner(e),r=cc(t,n);return ve.some(r)},fc=function(e){return(e.dom()===t.document?ve.none():ve.from(e.dom().defaultView.frameElement)).map(Ur.fromDom)},dc=function(e){return ia(e)},pc=Object.freeze({__proto__:null,view:fc,owner:dc}),hc=function(e){var r=Ur.fromDom(t.document),o=oc(r);return lc(e,pc).fold(n(qs,e),function(t){var n=Ws(e),r=We(t,function(e,t){var n=Ws(t);return{left:e.left+n.left(),top:e.top+n.top()}},{left:0,top:0});return Hs(r.left+n.left()+o.left(),r.top+n.top()+o.top())})},mc=function(e,t,n){return{point:e,width:t,height:n}},gc=function(e,t,n,r){return{x:e,y:t,width:n,height:r}},vc=function(e,t,n,r){return{x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}},bc=function(e){var t=qs(e),n=Ys(e),r=Bs(e);return vc(t.left(),t.top(),n,r)},yc=function(e){var t=hc(e),n=Ys(e),r=Bs(e);return vc(t.left(),t.top(),n,r)},wc=function(){return sc(t.window)},xc=function(e,t,n){for(var r=e.dom(),o=Ne(n)?n:ie(!1);r.parentNode;){r=r.parentNode;var i=Ur.fromDom(r);if(t(i))return ve.some(i);if(o(i))break}return ve.none()},_c=function(e,t,n){return a(function(e,t){return t(e)},xc,e,t,n)},Cc=function(e,t){var n=function(e){for(var r=0;r<e.childNodes.length;r++){var o=Ur.fromDom(e.childNodes[r]);if(t(o))return ve.some(o);var i=n(e.childNodes[r]);if(i.isSome())return i}return ve.none()};return n(e.dom())},Sc=function(e,t,n){return _c(e,t,n).isSome()},Ec=function(e,t,n){return xc(e,function(e){return Co(e,t)},n)},kc=function(e,t){return ko(t,e)},Tc=function(e,t,n){return a(function(e,t){return Co(e,t)},Ec,e,t,n)},Nc=function(e){return _c(e,function(e){if(!ta(e))return!1;var t=Ma(e,"id");return void 0!==t&&t.indexOf("aria-owns")>-1}).bind(function(e){var t=Ma(e,"id"),n=ia(e);return kc(n,'[aria-owns="'+t+'"]')})},Oc=function(){var e=qa("aria-owns");return{id:e,link:function(t){Aa(t,"aria-owns",e)},unlink:function(e){Pa(e,"aria-owns")}}},Ac=function(e,t){return Nc(t).exists(function(t){return Dc(e,t)})},Dc=function(e,t){return Sc(t,function(t){return To(t,e.element())},ie(!1))||Ac(e,t)};!function(e){e[e.STOP=0]="STOP",e[e.NORMAL=1]="NORMAL",e[e.LOGGING=2]="LOGGING"}(ft||(ft={}));var Mc,Ic=Lr({}),Rc=function(e,n){var r=[],o=(new Date).getTime();return{logEventCut:function(e,t,n){r.push({outcome:"cut",target:t,purpose:n})},logEventStopped:function(e,t,n){r.push({outcome:"stopped",target:t,purpose:n})},logNoParent:function(e,t,n){r.push({outcome:"no-parent",target:t,purpose:n})},logEventNoHandlers:function(e,t){r.push({outcome:"no-handlers-left",target:t})},logEventResponse:function(e,t,n){r.push({outcome:"response",purpose:n,target:t})},write:function(){var i=(new Date).getTime();Le(["mousemove","mouseover","mouseout",mi()],e)||t.console.log(e,{event:e,time:i-o,target:n.dom(),sequence:Fe(r,function(e){return Le(["cut","stopped","response"],e.outcome)?"{"+e.purpose+"} "+e.outcome+" at ("+za(e.target)+")":e.outcome})})}}},Pc=function(e,t,n){switch(Rt(Ic.get(),e).orThunk(function(){var t=Ct(Ic.get());return at(t,function(t){return e.indexOf(t)>-1?ve.some(Ic.get()[t]):ve.none()})}).getOr(ft.NORMAL)){case ft.NORMAL:return n(Fc());case ft.LOGGING:var r=Rc(e,t),o=n(r);return r.write(),o;case ft.STOP:return!0}},Lc=["alloy/data/Fields","alloy/debugging/Debugging"],jc=function(){var e=new Error;if(void 0!==e.stack){var t=e.stack.split("\n");return Xe(t,function(e){return e.indexOf("alloy")>0&&!je(Lc,function(t){return e.indexOf(t)>-1})}).getOr("unknown")}return"unknown"},Bc={logEventCut:te,logEventStopped:te,logNoParent:te,logEventNoHandlers:te,logEventResponse:te,write:te},zc=function(e,t,n){return Pc(e,t,n)},Fc=ie(Bc),Hc=ie([lr("menu"),lr("selectedMenu")]),Uc=ie([lr("item"),lr("selectedItem")]),Vc=(ie(Rn(Uc().concat(Hc()))),ie(Rn(Uc()))),qc=vr("initSize",[lr("numColumns"),lr("numRows")]),Wc=function(){return vr("markers",[lr("backgroundMenu")].concat(Hc()).concat(Uc()))},Gc=function(e){return vr("markers",Fe(e,lr))},$c=function(e,t,n){jc();return Fn(t,t,n,Gn(function(e){return lt.value(function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.apply(void 0,t)})}))},Xc=function(e){return $c(0,e,$t(te))},Yc=function(e){return $c(0,e,$t(ve.none))},Kc=function(e){return $c(0,e,Yt())},Jc=function(e){return $c(0,e,Yt())},Qc=function(e,t){return Pr(e,ie(t))},Zc=function(e){return Pr(e,ae)},el=ie(qc),tl=function(e,t,n,r,o,i){return{x:ie(e),y:ie(t),bubble:ie(n),direction:ie(r),boundsRestriction:ie(o),label:ie(i)}},nl=Bt.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),rl=function(e,t,n,r,o,i,a,u,s){return e.fold(t,n,r,o,i,a,u,s)},ol=function(e,t,n,r){return e.fold(t,t,r,r,t,r,n,n)},il=function(e,t,n,r){return e.fold(t,r,t,r,n,n,t,r)},al=nl.southeast,ul=nl.southwest,sl=nl.northeast,cl=nl.northwest,ll=nl.south,fl=nl.north,dl=nl.east,pl=nl.west,hl=function(e,t){switch(t){case 1:return e.x;case 0:return e.x+e.width;case 2:return e.y;case 3:return e.y+e.height}},ml=function(e,t){return tt(["left","right","top","bottom"],function(n){return Rt(t,n).map(function(t){return hl(e,t)})})},gl=function(e,t,n){var r=function(e,r){var o="top"===e||"bottom"===e?n.top():n.left();return Rt(t,e).bind(ae).bind(function(t){return"left"===e||"top"===e?t>=r?ve.some(t):ve.none():t<=r?ve.some(t):ve.none()}).map(function(e){return e+o}).getOr(r)},o=r("left",e.x),i=r("top",e.y),a=r("right",e.right),u=r("bottom",e.bottom);return vc(o,i,a-o,u-i)},vl=function(e){return e.x},bl=function(e,t){return e.x+e.width/2-t.width/2},yl=function(e,t){return e.x+e.width-t.width},wl=function(e,t){return e.y-t.height},xl=function(e){return e.y+e.height},_l=function(e,t){return e.y+e.height/2-t.height/2},Cl=function(e){return e.x+e.width},Sl=function(e,t){return e.x-t.width},El=function(e,t,n){return tl(vl(e),xl(e),n.southeast(),al(),ml(e,{left:1,top:3}),"layout-se")},kl=function(e,t,n){return tl(yl(e,t),xl(e),n.southwest(),ul(),ml(e,{right:0,top:3}),"layout-sw")},Tl=function(e,t,n){return tl(vl(e),wl(e,t),n.northeast(),sl(),ml(e,{left:1,bottom:2}),"layout-ne")},Nl=function(e,t,n){return tl(yl(e,t),wl(e,t),n.northwest(),cl(),ml(e,{right:0,bottom:2}),"layout-nw")},Ol=function(e,t,n){return tl(bl(e,t),wl(e,t),n.north(),fl(),ml(e,{bottom:2}),"layout-n")},Al=function(e,t,n){return tl(bl(e,t),xl(e),n.south(),ll(),ml(e,{top:3}),"layout-s")},Dl=function(e,t,n){return tl(Cl(e),_l(e,t),n.east(),dl(),ml(e,{left:0}),"layout-e")},Ml=function(e,t,n){return tl(Sl(e,t),_l(e,t),n.west(),pl(),ml(e,{right:1}),"layout-w")},Il=function(){return[El,kl,Tl,Nl,Al,Ol,Dl,Ml]},Rl=function(){return[kl,El,Nl,Tl,Al,Ol,Dl,Ml]},Pl=function(){return[Tl,Nl,El,kl,Ol,Al]},Ll=function(){return[Nl,Tl,kl,El,Ol,Al]},jl=function(){return[El,kl,Tl,Nl,Al,Ol]},Bl=function(){return[kl,El,Nl,Tl,Al,Ol]},zl=function(e,t,n){return Ji(function(r){n(r,e,t)})},Fl=function(e,t,n){return Ki(function(r,o){n(r,e,t)})},Hl=function(e,t,n,r,o,i){var a=In(e),u=Er(t,[kr("config",e)]);return Wl(a,u,t,n,r,o,i)},Ul=function(e,t,n,r,o,i){var a=e,u=Er(t,[xr("config",e)]);return Wl(a,u,t,n,r,o,i)},Vl=function(e,t,n){return nu(function(r){for(var o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];var a=[r].concat(o);return r.config({name:ie(e)}).fold(function(){throw new Error("We could not find any behaviour configuration for: "+e+". Using API: "+n)},function(e){var n=Array.prototype.slice.call(a,1);return t.apply(void 0,[r,e.config,e.state].concat(n))})},n,t)},ql=function(e){return{key:e,value:void 0}},Wl=function(e,t,r,o,i,a,u){var s=function(e){return Lt(e,r)?e[r]():ve.none()},c=kt(i,function(e,t){return Vl(r,e,t)}),l=kt(a,function(e,t){return ou(e,t)}),f=de(de(de({},l),c),{revoke:n(ql,r),config:function(t){var n=Jn(r+"-config",e,t);return{key:r,value:{config:n,me:f,configAsRaw:Wt(function(){return Jn(r+"-config",e,t)}),initialConfig:t,state:u}}},schema:function(){return t},exhibit:function(e,t){return s(e).bind(function(e){return Rt(o,"exhibit").map(function(n){return n(t,e.config,e.state)})}).getOr(gu({}))},name:function(){return r},handlers:function(e){return s(e).map(function(e){return Rt(o,"events").getOr(function(){return{}})(e.config,e.state)}).getOr({})}});return f},Gl=function(e){return an(e)},$l=In([lr("fields"),lr("name"),Tr("active",{}),Tr("apis",{}),Tr("state",lu),Tr("extra",{})]),Xl=function(e){var t=Jn("Creating behaviour: "+e.name,$l,e);return Hl(t.fields,t.name,t.active,t.apis,t.extra,t.state)},Yl=In([lr("branchKey"),lr("branches"),lr("name"),Tr("active",{}),Tr("apis",{}),Tr("state",lu),Tr("extra",{})]),Kl=function(e){var t=Jn("Creating behaviour: "+e.name,Yl,e);return Ul(er(t.branchKey,t.branches),t.name,t.active,t.apis,t.extra,t.state)},Jl=ie(void 0),Ql=function(e,t){return t.universal()?e:qe(e,function(e){return Le(t.channels(),e)})},Zl=function(e){return Li([zi(si(),function(t,n){var r=e.channels,o=Ct(r),i=n,a=Ql(o,i);He(a,function(e){var n=r[e],o=n.schema,a=Jn("channel["+e+"] data\nReceiver: "+za(t.element()),o,i.data());n.onReceive(t,a)})})])},ef=Object.freeze({__proto__:null,events:Zl}),tf=[fr("channels",$n(lt.value,In([Kc("onReceive"),Tr("schema",tr())])))],nf=Xl({fields:tf,name:"receiving",active:ef}),rf=function(e,t){return gu({classes:[],styles:t.useFixed()?{}:{position:"relative"}})},of=Object.freeze({__proto__:null,exhibit:rf}),af=function(){return Ur.fromDom(t.document)},uf=function(e){return e.dom().focus()},sf=function(e){return e.dom().blur()},cf=function(e){var t=Zu(e).dom();return e.dom()===t.activeElement},lf=function(e){return void 0===e&&(e=af()),ve.from(e.dom().activeElement).map(Ur.fromDom)},ff=function(e){return lf(Zu(e)).filter(function(t){return e.dom().contains(t.dom())})},df=function(e,t){var n=ia(t),r=lf(n).bind(function(e){var n=function(t){return To(e,t)};return n(t)?ve.some(t):Cc(t,n)}),o=e(t);return r.each(function(e){lf(n).filter(function(t){return To(t,e)}).fold(function(){uf(e)},te)}),o},pf=function(e,t,n,r,o){return{position:ie(e),left:ie(t),top:ie(n),right:ie(r),bottom:ie(o)}},hf=function(e,t){var n=function(e){return e+"px"};ds(e,{position:ve.some(t.position()),left:t.left().map(n),top:t.top().map(n),right:t.right().map(n),bottom:t.bottom().map(n)})},mf=Bt.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),gf=function(e,t,n,r,o,i){var a=t.x-n,u=t.y-r,s=t.width,c=t.height,l=o-(a+s),f=i-(u+c),d=ve.some(a),p=ve.some(u),h=ve.some(l),m=ve.some(f),g=ve.none();return rl(t.direction,function(){return pf(e,d,p,g,g)},function(){return pf(e,g,p,h,g)},function(){return pf(e,d,g,g,m)},function(){return pf(e,g,g,h,m)},function(){return pf(e,d,p,g,g)},function(){return pf(e,d,g,g,m)},function(){return pf(e,d,p,g,g)},function(){return pf(e,g,p,h,g)})},vf=function(e,t){return e.fold(function(){return pf("absolute",ve.some(t.x),ve.some(t.y),ve.none(),ve.none())},function(e,n,r,o){return gf("absolute",t,e,n,r,o)},function(e,n,r,o){return gf("fixed",t,e,n,r,o)})},bf=function(e,t){var r=n(hc,t),o=e.fold(r,r,function(){var e=oc();return hc(t).translate(-e.left(),-e.top())}),i=Ys(t),a=Bs(t);return vc(o.left(),o.top(),i,a)},yf=function(e,t){return t.fold(function(){return e.fold(wc,wc,vc)},function(t){return e.fold(t,t,function(){var n=t(),r=wf(e,n.x,n.y);return vc(r.left(),r.top(),n.width,n.height)})})},wf=function(e,t,n){var r=Hs(t,n),o=function(){var e=oc();return r.translate(-e.left(),-e.top())};return e.fold(ie(r),ie(r),o)},xf=function(e,t,n,r){return e.fold(t,n,r)},_f=(mf.none,mf.relative),Cf=mf.fixed,Sf=function(e,t){return{anchorBox:ie(e),origin:ie(t)}},Ef=function(e,t){return Sf(e,t)},kf=function(e,t,n,r){var o=e+t;return o>r?n:o<n?r:o},Tf=function(e,t,n){return Math.min(Math.max(e,t),n)},Nf=Bt.generate([{fit:["reposition"]},{nofit:["reposition","deltaW","deltaH"]}]),Of=function(e,t,n,r,o){var i=o.x,a=o.y,u=o.width,s=o.height,c=e>=i,l=t>=a,f=c&&l,d=e+n<=i+u,p=t+r<=a+s,h=d&&p,m=Math.abs(Math.min(n,c?i+u-e:i-(e+n))),g=Math.abs(Math.min(r,l?a+s-t:a-(t+r))),v=Math.max(o.x,o.right-n),b=Math.max(o.y,o.bottom-r);return{originInBounds:f,sizeInBounds:h,limitX:Tf(e,o.x,v),limitY:Tf(t,o.y,b),deltaW:m,deltaH:g}},Af=function(e,t,n,r){var o=e.x(),i=e.y(),a=e.bubble().offset(),u=a.left(),s=a.top(),c=gl(r,e.boundsRestriction(),a),l=c.y,f=c.bottom,d=c.x,p=c.right,h=o+u,m=i+s,g=Of(h,m,t,n,c),v=g.originInBounds,b=g.sizeInBounds,y=g.limitX,w=g.limitY,x=g.deltaW,_=g.deltaH,C=ie(w+_-l),S=ie(f-w),E=ol(e.direction(),S,S,C),k=ie(y+x-d),T=ie(p-y),N=il(e.direction(),T,T,k),O={x:y,y:w,width:x,height:_,maxHeight:E,maxWidth:N,direction:e.direction(),classes:{on:e.bubble().classesOn(),off:e.bubble().classesOff()},label:e.label(),candidateYforTest:m};return v&&b?Nf.fit(O):Nf.nofit(O,x,_)},Df=function(e,t,r,o,i){var a=r.width,u=r.height,s=function(e,n,s,c){var l=e(t,r,o);return Af(l,a,u,i).fold(Nf.fit,function(e,t,r){return r>c||t>s?Nf.nofit(e,t,r):Nf.nofit(n,s,c)})};return Ge(e,function(e,t){var r=n(s,t);return e.fold(Nf.fit,r)},Nf.nofit({x:t.x,y:t.y,width:r.width,height:r.height,maxHeight:r.height,maxWidth:r.width,direction:al(),classes:{on:[],off:[]},label:"none",candidateYforTest:t.y},-1,-1)).fold(ae,ae)},Mf=function(e){return{width:Ys(e),height:Bs(e)}},If=function(e,t,n,r){bs(t,"max-height"),bs(t,"max-width");var o=Mf(t);return Df(r.preference,e,o,n,r.bounds)},Rf=function(e,t){var n=t.classes;Xu(e,n.off),$u(e,n.on)},Pf=function(e,t,n){(0,n.maxHeightFunction)(e,t.maxHeight)},Lf=function(e,t,n){(0,n.maxWidthFunction)(e,t.maxWidth)},jf=function(e,t,n){hf(e,vf(n.origin,t))},Bf=function(e,t){zs(e,Math.floor(t))},zf=ie(function(e,t){Bf(e,t),fs(e,{"overflow-x":"hidden","overflow-y":"auto"})}),Ff=ie(function(e,t){Bf(e,t)}),Hf=function(e,t,n){return void 0===e[t]?n:e[t]},Uf=function(e,t,n,r,o,i){var a=Hf(i,"maxHeightFunction",zf()),u=Hf(i,"maxWidthFunction",te),s=e.anchorBox(),c=e.origin(),l={bounds:yf(c,o),origin:c,preference:r,maxHeightFunction:a,maxWidthFunction:u};Vf(s,t,n,l)},Vf=function(e,t,n,r){var o=If(e,t,n,r);jf(t,o,r),Rf(t,o),Pf(t,o,r),Lf(t,o,r)},qf=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right"],Wf=function(e,t,n){var r=function(e){return Rt(n,e).getOr([])},o=function(e,t,n){var o=et(qf,n);return{offset:function(){return Hs(e,t)},classesOn:function(){return Je(n,r)},classesOff:function(){return Je(o,r)}}};return{southeast:function(){return o(-e,t,["top","alignLeft"])},southwest:function(){return o(e,t,["top","alignRight"])},south:function(){return o(-e/2,t,["top","alignCentre"])},northeast:function(){return o(-e,-t,["bottom","alignLeft"])},northwest:function(){return o(e,-t,["bottom","alignRight"])},north:function(){return o(-e/2,-t,["bottom","alignCentre"])},east:function(){return o(e,-t/2,["valignCentre","left"])},west:function(){return o(-e,-t/2,["valignCentre","right"])},innerNorthwest:function(){return o(-e,t,["top","alignRight"])},innerNortheast:function(){return o(e,t,["top","alignLeft"])},innerNorth:function(){return o(-e/2,t,["top","alignCentre"])},innerSouthwest:function(){return o(-e,-t,["bottom","alignRight"])},innerSoutheast:function(){return o(e,-t,["bottom","alignLeft"])},innerSouth:function(){return o(-e/2,-t,["bottom","alignCentre"])},innerWest:function(){return o(e,-t/2,["valignCentre","right"])},innerEast:function(){return o(-e,-t/2,["valignCentre","left"])}}},Gf=function(){return Wf(0,0,{})},$f=function(e){return e},Xf=function(e,t){return function(n){return"rtl"===Yf(n)?t:e}},Yf=function(e){return"rtl"===ps(e,"direction")?"rtl":"ltr"};!function(e){e.TopToBottom="toptobottom",e.BottomToTop="bottomtotop"}(Mc||(Mc={}));var Kf,Jf="data-alloy-vertical-dir",Qf=function(e){return Sc(e,function(e){return ta(e)&&Ma(e,Jf)===Mc.BottomToTop})},Zf=function(){return Er("layouts",[lr("onLtr"),lr("onRtl"),wr("onBottomLtr"),wr("onBottomRtl")])},ed=function(e,t,n,r,o,i,a){var u=a.map(Qf).getOr(!1),s=t.layouts.map(function(t){return t.onLtr(e)}),c=t.layouts.map(function(t){return t.onRtl(e)}),l=u?t.layouts.bind(function(t){return t.onBottomLtr.map(function(t){return t(e)})}).or(s).getOr(o):s.getOr(n),f=u?t.layouts.bind(function(t){return t.onBottomRtl.map(function(t){return t(e)})}).or(c).getOr(i):c.getOr(r);return Xf(l,f)(e)},td=function(e,t,n){var r=t.hotspot,o=bf(n,r.element()),i=ed(e.element(),t,jl(),Bl(),Pl(),Ll(),ve.some(t.hotspot.element()));return ve.some($f({anchorBox:o,bubble:t.bubble.getOr(Gf()),overrides:t.overrides,layouts:i,placer:ve.none()}))},nd=[lr("hotspot"),wr("bubble"),Tr("overrides",{}),Zf(),Qc("placement",td)],rd=function(e,t,n){var r=wf(n,t.x,t.y),o=vc(r.left(),r.top(),t.width,t.height),i=ed(e.element(),t,Il(),Rl(),Il(),Rl(),ve.none());return ve.some($f({anchorBox:o,bubble:t.bubble,overrides:t.overrides,layouts:i,placer:ve.none()}))},od=[lr("x"),lr("y"),Tr("height",0),Tr("width",0),Tr("bubble",Gf()),Tr("overrides",{}),Zf(),Qc("placement",rd)],id=function(e,t,n,r){return{start:ie(e),soffset:ie(t),finish:ie(n),foffset:ie(r)}},ad={create:id},ud=Bt.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),sd=function(e,t,n,r){return e.fold(t,n,r)},cd=function(e){return e.fold(ae,ae,ae)},ld=ud.before,fd=ud.on,dd=ud.after,pd={before:ld,on:fd,after:dd,cata:sd,getStart:cd},hd=Bt.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),md=function(e){return hd.exact(e.start(),e.soffset(),e.finish(),e.foffset())},gd=function(e){return e.match({domRange:function(e){return Ur.fromDom(e.startContainer)},relative:function(e,t){return pd.getStart(e)},exact:function(e,t,n,r){return e}})},vd=hd.domRange,bd=hd.relative,yd=hd.exact,wd=function(e){var t=gd(e);return sa(t)},xd=ad.create,_d={domRange:vd,relative:bd,exact:yd,exactFromRange:md,getWin:wd,range:xd},Cd=function(e,t){t.fold(function(t){e.setStartBefore(t.dom())},function(t,n){e.setStart(t.dom(),n)},function(t){e.setStartAfter(t.dom())})},Sd=function(e,t){t.fold(function(t){e.setEndBefore(t.dom())},function(t,n){e.setEnd(t.dom(),n)},function(t){e.setEndAfter(t.dom())})},Ed=function(e,t,n){var r=e.document.createRange();return Cd(r,t),Sd(r,n),r},kd=function(e,t,n,r,o){var i=e.document.createRange();return i.setStart(t.dom(),n),i.setEnd(r.dom(),o),i},Td=function(e){return{left:ie(e.left),top:ie(e.top),right:ie(e.right),bottom:ie(e.bottom),width:ie(e.width),height:ie(e.height)}},Nd=function(e){var t=e.getClientRects(),n=t.length>0?t[0]:e.getBoundingClientRect();return n.width>0||n.height>0?ve.some(n).map(Td):ve.none()},Od=Bt.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Ad=function(e,t,n){return t(Ur.fromDom(n.startContainer),n.startOffset,Ur.fromDom(n.endContainer),n.endOffset)},Dd=function(e,t){return t.match({domRange:function(e){return{ltr:ie(e),rtl:ve.none}},relative:function(t,n){return{ltr:Wt(function(){return Ed(e,t,n)}),rtl:Wt(function(){return ve.some(Ed(e,n,t))})}},exact:function(t,n,r,o){return{ltr:Wt(function(){return kd(e,t,n,r,o)}),rtl:Wt(function(){return ve.some(kd(e,r,o,t,n))})}}})},Md=function(e,t){var n=t.ltr();if(n.collapsed){return t.rtl().filter(function(e){return!1===e.collapsed}).map(function(e){return Od.rtl(Ur.fromDom(e.endContainer),e.endOffset,Ur.fromDom(e.startContainer),e.startOffset)}).getOrThunk(function(){return Ad(0,Od.ltr,n)})}return Ad(0,Od.ltr,n)},Id=function(e,t){var n=Dd(e,t);return Md(0,n)},Rd=function(e,t){return Id(e,t).match({ltr:function(t,n,r,o){var i=e.document.createRange();return i.setStart(t.dom(),n),i.setEnd(r.dom(),o),i},rtl:function(t,n,r,o){var i=e.document.createRange();return i.setStart(r.dom(),o),i.setEnd(t.dom(),n),i}})},Pd=(Od.ltr,Od.rtl,function(e,t){var n=function(n){if(!e(n))throw new Error("Can only get "+t+" value of a "+t+" node");return r(n).getOr("")},r=function(t){return e(t)?ve.from(t.dom().nodeValue):ve.none()};return{get:n,getOption:r,set:function(n,r){if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom().nodeValue=r}}}(na,"text")),Ld=function(e){return Pd.get(e)},jd=function(e){return Pd.getOption(e)},Bd=function(e){return"img"===Qi(e)?1:jd(e).fold(function(){return da(e).length},function(e){return e.length})},zd=function(e){return jd(e).filter(function(e){return 0!==e.trim().length||e.indexOf(" ")>-1}).isSome()},Fd=["img","br"],Hd=function(e){return zd(e)||Le(Fd,Qi(e))},Ud=function(e){return Vd(e,Hd)},Vd=function(e,t){var n=function(e){for(var r=da(e),o=r.length-1;o>=0;o--){var i=r[o];if(t(i))return ve.some(i);var a=n(i);if(a.isSome())return a}return ve.none()};return n(e)},qd=function(e,t){return Eo(t,e)},Wd=function(e,t,n,r){var o=ia(e),i=o.dom().createRange();return i.setStart(e.dom(),t),i.setEnd(n.dom(),r),i},Gd=function(e,t,n,r){var o=Wd(e,t,n,r),i=To(e,n)&&t===r;return o.collapsed&&!i},$d=function(e){if(e.rangeCount>0){var t=e.getRangeAt(0),n=e.getRangeAt(e.rangeCount-1);return ve.some(ad.create(Ur.fromDom(t.startContainer),t.startOffset,Ur.fromDom(n.endContainer),n.endOffset))}return ve.none()},Xd=function(e){var t=Ur.fromDom(e.anchorNode),n=Ur.fromDom(e.focusNode);return Gd(t,e.anchorOffset,n,e.focusOffset)?ve.some(ad.create(t,e.anchorOffset,n,e.focusOffset)):$d(e)},Yd=function(e){return ve.from(e.getSelection()).filter(function(e){return e.rangeCount>0}).bind(Xd)},Kd=function(e,t){var n=Rd(e,t);return Nd(n)},Jd=function(e,t){return{element:e,offset:t}},Qd=function(e,t){var n=da(e);if(0===n.length)return Jd(e,t);if(t<n.length)return Jd(n[t],0);var r=n[n.length-1],o=na(r)?Ld(r).length:da(r).length;return Jd(r,o)},Zd=Bt.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),ep=function(e){return e.fold(ae,function(e,t,n){return e.translate(-t,-n)})},tp=function(e){return e.fold(ae,ae)},np=function(e){return Ge(e,function(e,t){return e.translate(t.left(),t.top())},Hs(0,0))},rp=function(e){var t=Fe(e,ep);return np(t)},op=function(e){var t=Fe(e,tp);return np(t)},ip=Zd.screen,ap=Zd.absolute,up=function(e,t,n){var r=sa(n.root).dom(),o=function(t){var n=ia(t),r=ia(e.element());return To(n,r)};return ve.from(r.frameElement).map(Ur.fromDom).filter(o).map(qs)},sp=function(e,t,n){var r=ia(e.element()),o=oc(r),i=up(e,0,n).getOr(o);return ap(i,o.left(),o.top())},cp=function(e,t,n,r){var o=e,i=t,a=n,u=r;e<0&&(o=0,a=n+e),t<0&&(i=0,u=r+t);var s=ip(Hs(o,i));return ve.some(mc(s,a,u))},lp=function(e,t,n,r,o){return e.map(function(e){var i=[t,e.point],a=xf(r,function(){return op(i)},function(){return op(i)},function(){return rp(i)}),u=gc(a.left(),a.top(),e.width,e.height),s=n.showAbove?Pl():jl(),c=(n.showAbove,Bl()),l=ed(o,n,s,c,s,c,ve.none());return $f({anchorBox:u,bubble:n.bubble.getOr(Gf()),overrides:n.overrides,layouts:l,placer:ve.none()})})},fp=function(e,t){return{element:e,offset:t}},dp=function(e,t){return na(e)?fp(e,t):Qd(e,t)},pp=function(e,t){return t.getSelection.getOrThunk(function(){return function(){return Yd(e)}})().map(function(e){var t=dp(e.start(),e.soffset()),n=dp(e.finish(),e.foffset());return _d.range(t.element,t.offset,n.element,n.offset)})},hp=function(e,t,n){var r=sa(t.root).dom(),o=sp(e,0,t),i=pp(r,t).bind(function(e){return Kd(r,_d.exactFromRange(e)).orThunk(function(){var t=Ur.fromText("\ufeff");return ma(e.start(),t),Kd(r,_d.exact(t,0,t,1)).map(function(e){return Ca(t),e})}).bind(function(e){return cp(e.left(),e.top(),e.width(),e.height())})}),a=pp(r,t).bind(function(e){return ta(e.start())?ve.some(e.start()):ca(e.start())}),u=a.getOr(e.element());return lp(i,o,t,n,u)},mp=[wr("getSelection"),lr("root"),wr("bubble"),Zf(),Tr("overrides",{}),Tr("showAbove",!1),Qc("placement",hp)],gp=function(e,t,n){var r=sp(e,0,t);return t.node.bind(function(o){var i=o.dom().getBoundingClientRect(),a=cp(i.left,i.top,i.width,i.height),u=t.node.getOr(e.element());return lp(a,r,t,n,u)})},vp=[lr("node"),lr("root"),wr("bubble"),Zf(),Tr("overrides",{}),Tr("showAbove",!1),Qc("placement",gp)],bp=function(e){return e.x+e.width},yp=function(e,t){return e.x-t.width},wp=function(e,t){return e.y-t.height+e.height},xp=function(e){return e.y},_p=function(e,t,n){return tl(bp(e),xp(e),n.southeast(),al(),ml(e,{left:0,top:2}),"link-layout-se")},Cp=function(e,t,n){return tl(yp(e,t),xp(e),n.southwest(),ul(),ml(e,{right:1,top:2}),"link-layout-sw")},Sp=function(e,t,n){return tl(bp(e),wp(e,t),n.northeast(),sl(),ml(e,{left:0,bottom:3}),"link-layout-ne")},Ep=function(e,t,n){return tl(yp(e,t),wp(e,t),n.northwest(),cl(),ml(e,{right:1,bottom:3}),"link-layout-nw")},kp=function(){return[_p,Cp,Sp,Ep]},Tp=function(){return[Cp,_p,Ep,Sp]},Np=function(e,t,n){var r=bf(n,t.item.element()),o=ed(e.element(),t,kp(),Tp(),kp(),Tp(),ve.none());return ve.some($f({anchorBox:r,bubble:Gf(),overrides:t.overrides,layouts:o,placer:ve.none()}))},Op=[lr("item"),Zf(),Tr("overrides",{}),Qc("placement",Np)],Ap=er("anchor",{selection:mp,node:vp,hotspot:nd,submenu:Op,makeshift:od}),Dp=function(){var e=t.document.documentElement;return Cf(0,0,e.clientWidth,e.clientHeight)},Mp=function(e){var t=qs(e.element()),n=e.element().dom().getBoundingClientRect();return _f(t.left(),t.top(),n.width,n.height)},Ip=function(e,t,n,r,o){var i=Ef(n.anchorBox,t);Uf(i,o.element(),n.bubble,n.layouts,r,n.overrides)},Rp=function(e,t,n,r,o){Pp(e,t,n,r,o,ve.none())},Pp=function(e,t,n,r,o,i){var a=i.map(bc);return Lp(e,t,n,r,o,a)},Lp=function(e,t,n,r,o,i){var a=Jn("positioning anchor.info",Ap,r);df(function(){ls(o.element(),"position","fixed");var n=ms(o.element(),"visibility");ls(o.element(),"visibility","hidden");var r=t.useFixed()?Dp():Mp(e),u=a.placement,s=i.map(ie).or(t.getBounds);u(e,a,r).each(function(t){t.placer.getOr(Ip)(e,r,t,s,o)}),n.fold(function(){bs(o.element(),"visibility")},function(e){ls(o.element(),"visibility",e)}),ms(o.element(),"left").isNone()&&ms(o.element(),"top").isNone()&&ms(o.element(),"right").isNone()&&ms(o.element(),"bottom").isNone()&&ms(o.element(),"position").is("fixed")&&bs(o.element(),"position")},o.element())},jp=function(e,t,n){return t.useFixed()?"fixed":"absolute"},Bp=Object.freeze({__proto__:null,position:Rp,positionWithin:Pp,positionWithinBounds:Lp,getMode:jp}),zp=[Tr("useFixed",ce),wr("getBounds")],Fp=Xl({fields:zp,name:"positioning",active:of,apis:Bp}),Hp=function(e){Ai(e,xi());var t=e.components();He(t,Hp)},Up=function(e){var t=e.components();He(t,Up),Ai(e,wi())},Vp=function(e,t){ba(e.element(),t.element())},qp=function(e){He(e.components(),function(e){return Ca(e.element())}),_a(e.element()),e.syncComponents()},Wp=function(e,t){var n=e.components();qp(e);var r=et(n,t);He(r,function(t){Hp(t),e.getSystem().removeFromWorld(t)}),He(t,function(t){t.getSystem().isConnected()?Vp(e,t):(e.getSystem().addToWorld(t),Vp(e,t),is(e.element())&&Up(t)),e.syncComponents()})},Gp=function(e,t){$p(e,t,ba)},$p=function(e,t,n){e.getSystem().addToWorld(t),n(e.element(),t.element()),is(e.element())&&Up(t),e.syncComponents()},Xp=function(e){Hp(e),Ca(e.element()),e.getSystem().removeFromWorld(e)},Yp=function(e){var t=ca(e.element()).bind(function(t){return e.getSystem().getByDom(t).toOption()});Xp(e),t.each(function(e){e.syncComponents()})},Kp=function(e){var t=e.components();He(t,Xp),_a(e.element()),e.syncComponents()},Jp=function(e,t){Zp(e,t,ba)},Qp=function(e,t){Zp(e,t,ga)},Zp=function(e,t,n){n(e,t.element());var r=da(t.element());He(r,function(e){t.getByDom(e).each(Up)})},eh=function(e){var t=da(e.element());He(t,function(t){e.getByDom(t).each(Hp)}),Ca(e.element())},th=function(e,t,n,r){n.get().each(function(t){Kp(e)});var o=t.getAttachPoint(e);Gp(o,e);var i=e.getSystem().build(r);return Gp(e,i),n.set(i),i},nh=function(e,t,n,r){var o=th(e,t,n,r);return t.onOpen(e,o),o},rh=function(e,t,n,r){return n.get().map(function(){return th(e,t,n,r)})},oh=function(e,t,n,r,o){fh(e,t),nh(e,t,n,r),o(),ph(e,t)},ih=function(e,t,n){n.get().each(function(r){Kp(e),Yp(e),t.onClose(e,r),n.clear()})},ah=function(e,t,n){return n.isOpen()},uh=function(e,t,n,r){return ah(0,0,n)&&n.get().exists(function(n){return t.isPartOf(e,n,r)})},sh=function(e,t,n){return n.get()},ch=function(e,t,n,r){ms(e.element(),t).fold(function(){Pa(e.element(),n)},function(t){Aa(e.element(),n,t)}),ls(e.element(),t,r)},lh=function(e,t,n){Ia(e.element(),n).fold(function(){return bs(e.element(),t)},function(n){return ls(e.element(),t,n)})},fh=function(e,t,n){var r=t.getAttachPoint(e);ls(e.element(),"position",Fp.getMode(r)),ch(e,"visibility",t.cloakVisibilityAttr,"hidden")},dh=function(e){return je(["top","left","right","bottom"],function(t){return ms(e,t).isSome()})},ph=function(e,t,n){dh(e.element())||bs(e.element(),"position"),lh(e,"visibility",t.cloakVisibilityAttr)},hh=Object.freeze({__proto__:null,cloak:fh,decloak:ph,open:nh,openWhileCloaked:oh,close:ih,isOpen:ah,isPartOf:uh,getState:sh,setContent:rh}),mh=function(e,t){return Li([zi(pi(),function(n,r){ih(n,e,t)})])},gh=Object.freeze({__proto__:null,events:mh}),vh=[Xc("onOpen"),Xc("onClose"),lr("isPartOf"),lr("getAttachPoint"),Tr("cloakVisibilityAttr","data-precloak-visibility")],bh=function(){var e=Lr(ve.none()),t=ie("not-implemented"),n=function(){return e.get().isSome()},r=function(t){e.set(ve.some(t))},o=function(){return e.get()};return fu({readState:t,isOpen:n,clear:function(){e.set(ve.none())},set:r,get:o})},yh=Object.freeze({__proto__:null,init:bh}),wh=Xl({fields:vh,name:"sandboxing",active:gh,apis:hh,state:yh}),xh=ie("dismiss.popups"),_h=ie("reposition.popups"),Ch=ie("mouse.released"),Sh=In([Tr("isExtraPart",ie(!1)),Er("fireEventInstead",[Tr("event",_i())])]),Eh=function(e){var t,n=Jn("Dismissal",Sh,e);return t={},t[xh()]={schema:In([lr("target")]),onReceive:function(e,t){if(wh.isOpen(e)){wh.isPartOf(e,t.target)||n.isExtraPart(e,t.target)||n.fireEventInstead.fold(function(){return wh.close(e)},function(t){return Ai(e,t.event)})}}},t},kh=In([Er("fireEventInstead",[Tr("event",Ci())]),mr("doReposition")]),Th=function(e){var t,n=Jn("Reposition",kh,e);return t={},t[_h()]={onReceive:function(e){wh.isOpen(e)&&n.fireEventInstead.fold(function(){return n.doReposition(e)},function(t){return Ai(e,t.event)})}},t},Nh=function(e,t,n){t.store.manager.onLoad(e,t,n)},Oh=function(e,t,n){t.store.manager.onUnload(e,t,n)},Ah=function(e,t,n,r){t.store.manager.setValue(e,t,n,r)},Dh=function(e,t,n){return t.store.manager.getValue(e,t,n)},Mh=function(e,t,n){return n},Ih=Object.freeze({__proto__:null,onLoad:Nh,onUnload:Oh,setValue:Ah,getValue:Dh,getState:Mh}),Rh=function(e,t){var n=e.resetOnDom?[Xi(function(n,r){Nh(n,e,t)}),Yi(function(n,r){Oh(n,e,t)})]:[Fl(e,t,Nh)];return Li(n)},Ph=Object.freeze({__proto__:null,events:Rh}),Lh=function(){var e=Lr(null),t=function(){return{mode:"memory",value:e.get()}},n=function(){return null===e.get()},r=function(){e.set(null)};return fu({set:e.set,get:e.get,isNotSet:n,clear:r,readState:t})},jh=function(){return fu({readState:function(){}})},Bh=function(){var e=Lr({}),t=Lr({}),n=function(){return{mode:"dataset",dataByValue:e.get(),dataByText:t.get()}},r=function(){e.set({}),t.set({})};return fu({readState:n,lookup:function(n){return Rt(e.get(),n).orThunk(function(){return Rt(t.get(),n)})},update:function(n){var r=e.get(),o=t.get(),i={},a={};He(n,function(e){i[e.value]=e,Rt(e,"meta").each(function(t){Rt(t,"text").each(function(t){a[t]=e})})}),e.set(de(de({},r),i)),t.set(de(de({},o),a))},clear:r})},zh=function(e){return e.store.manager.state(e)},Fh=Object.freeze({__proto__:null,memory:Lh,dataset:Bh,manual:jh,init:zh}),Hh=function(e,t,n,r){var o=t.store;n.update([r]),o.setValue(e,r),t.onSetValue(e,r)},Uh=function(e,t,n){var r=t.store,o=r.getDataKey(e);return n.lookup(o).fold(function(){return r.getFallbackEntry(o)},function(e){return e})},Vh=function(e,t,n){t.store.initialValue.each(function(r){Hh(e,t,n,r)})},qh=function(e,t,n){n.clear()},Wh=[wr("initialValue"),lr("getFallbackEntry"),lr("getDataKey"),lr("setValue"),Qc("manager",{setValue:Hh,getValue:Uh,onLoad:Vh,onUnload:qh,state:Bh})],Gh=function(e,t,n){return t.store.getValue(e)},$h=function(e,t,n,r){t.store.setValue(e,r),t.onSetValue(e,r)},Xh=function(e,t,n){t.store.initialValue.each(function(n){t.store.setValue(e,n)})},Yh=[lr("getValue"),Tr("setValue",te),wr("initialValue"),Qc("manager",{setValue:$h,getValue:Gh,onLoad:Xh,onUnload:te,state:lu.init})],Kh=function(e,t,n,r){n.set(r),t.onSetValue(e,r)},Jh=function(e,t,n){return n.get()},Qh=function(e,t,n){t.store.initialValue.each(function(e){n.isNotSet()&&n.set(e)})},Zh=function(e,t,n){n.clear()},em=[wr("initialValue"),Qc("manager",{setValue:Kh,getValue:Jh,onLoad:Qh,onUnload:Zh,state:Lh})],tm=[Nr("store",{mode:"memory"},er("mode",{memory:em,manual:Yh,dataset:Wh})),Xc("onSetValue"),Tr("resetOnDom",!1)],nm=Xl({fields:tm,name:"representing",active:Ph,apis:Ih,extra:{setValueFrom:function(e,t){var n=nm.getValue(t);nm.setValue(e,n)}},state:Fh}),rm=function(e,t){return Rr(e,{},Fe(t,function(t){return gr(t.name(),"Cannot configure "+t.name()+" for "+e)}).concat([Pr("dump",ae)]))},om=function(e){return e.dump},im=function(e,t){return de(de({},e.dump),Gl(t))},am={field:rm,augment:im,get:om},um=Bt.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),sm=function(e){return Pt(e,"uiType")},cm=function(e,t,n,r){return e.exists(function(e){return e!==n.owner})?um.single(!0,ie(n)):Rt(r,n.name).fold(function(){throw new Error("Unknown placeholder component: "+n.name+"\nKnown: ["+Ct(r)+"]\nNamespace: "+e.getOr("none")+"\nSpec: "+JSON.stringify(n,null,2))},function(e){return e.replace()})},lm=function(e,t,n,r){return sm(n)&&"placeholder"===n.uiType?cm(e,0,n,r):um.single(!1,ie(n))},fm=function(e,t,n,r){return lm(e,0,n,r).fold(function(o,i){var a=sm(n)?i(t,n.config,n.validated):i(t),u=Rt(a,"components").getOr([]),s=Je(u,function(n){return fm(e,t,n,r)});return[de(de({},a),{components:s})]},function(e,r){if(sm(n)){var o=r(t,n.config,n.validated);return n.validated.preprocess.getOr(ae)(o)}return r(t)})},dm=function(e,t,n,r){return Je(n,function(n){return fm(e,t,n,r)})},pm=function(e,t){var n=!1,r=function(){return n},o=function(){if(n)throw new Error("Trying to use the same placeholder more than once: "+e);return n=!0,t},i=function(){return t.fold(function(e,t){return e},function(e,t){return e})};return{name:ie(e),required:i,used:r,replace:o}},hm=function(e,t,n,r){var o=kt(r,function(e,t){return pm(t,e)}),i=dm(e,t,n,o);return Et(o,function(n){if(!1===n.used()&&n.required())throw new Error("Placeholder: "+n.name()+" was not found in components list\nNamespace: "+e.getOr("none")+"\nComponents: "+JSON.stringify(t.components,null,2))}),i},mm=um.single,gm=um.multiple,vm=ie("placeholder"),bm=Bt.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),ym=Tr("factory",{sketch:ae}),wm=Tr("schema",[]),xm=lr("name"),_m=Fn("pname","pname",Jt(function(e){return"<alloy."+qa(e.name)+">"}),tr()),Cm=Pr("schema",function(){return[wr("preprocess")]}),Sm=Tr("defaults",ie({})),Em=Tr("overrides",ie({})),km=Rn([ym,wm,xm,_m,Sm,Em]),Tm=Rn([ym,wm,xm,Sm,Em]),Nm=Rn([ym,wm,xm,_m,Sm,Em]),Om=Rn([ym,Cm,xm,lr("unit"),_m,Sm,Em]),Am=function(e){return e.fold(ve.some,ve.none,ve.some,ve.some)},Dm=function(e){var t=function(e){return e.name};return e.fold(t,t,t,t)},Mm=function(e){return e.fold(ae,ae,ae,ae)},Im=function(e,t){return function(n){var r=Jn("Converting part type",t,n);return e(r)}},Rm=Im(bm.required,km),Pm=Im(bm.external,Tm),Lm=Im(bm.optional,Nm),jm=Im(bm.group,Om),Bm=ie("entirety"),zm=Object.freeze({__proto__:null,required:Rm,external:Pm,optional:Lm,group:jm,asNamedPart:Am,name:Dm,asCommon:Mm,original:Bm}),Fm=function(e,t,n,r){return Vt(t.defaults(e,n,r),n,{uid:e.partUids[t.name]},t.overrides(e,n,r))},Hm=function(e,t,n){var r={},o={};return He(n,function(e){e.fold(function(e){r[e.pname]=mm(!0,function(t,n,r){return e.factory.sketch(Fm(t,e,n,r))})},function(e){var n=t.parts[e.name];o[e.name]=ie(e.factory.sketch(Fm(t,e,n[Bm()]),n))},function(e){r[e.pname]=mm(!1,function(t,n,r){return e.factory.sketch(Fm(t,e,n,r))})},function(e){r[e.pname]=gm(!0,function(t,n,r){var o=t[e.name];return Fe(o,function(n){return e.factory.sketch(Vt(e.defaults(t,n,r),n,e.overrides(t,n)))})})})}),{internals:ie(r),externals:ie(o)}},Um=function(e,t){var n={};return He(t,function(t){Am(t).each(function(t){var r=Vm(e,t.pname);n[t.name]=function(n){var o=Jn("Part: "+t.name+" in "+e,Rn(t.schema),n);return de(de({},r),{config:n,validated:o})}})}),n},Vm=function(e,t){return{uiType:vm(),owner:e,name:t}},qm=function(e,t,n){return{uiType:vm(),owner:e,name:t,config:n,validated:{}}},Wm=function(e){return Je(e,function(e){return e.fold(ve.none,ve.some,ve.none,ve.none).map(function(e){return vr(e.name,e.schema.concat([Zc(Bm())]))}).toArray()})},Gm=function(e){return Fe(e,Dm)},$m=function(e,t,n){return Hm(0,t,n)},Xm=function(e,t,n){return hm(ve.some(e),t,t.components,n)},Ym=function(e,t,n){var r=t.partUids[n];return e.getSystem().getByUid(r).toOption()},Km=function(e,t,n){return Ym(e,t,n).getOrDie("Could not find part: "+n)},Jm=function(e,t,n){var r={},o=t.partUids,i=e.getSystem();return He(n,function(e){r[e]=ie(i.getByUid(o[e]))}),r},Qm=function(e,t){var n=e.getSystem();return kt(t.partUids,function(e,t){return ie(n.getByUid(e))})},Zm=function(e){return Ct(e.partUids)},eg=function(e,t,n){var r={},o=t.partUids,i=e.getSystem();return He(n,function(e){r[e]=ie(i.getByUid(o[e]).getOrDie())}),r},tg=function(e,t){var n=Gm(t);return an(Fe(n,function(t){return{key:t,value:e+"-"+t}}))},ng=function(e){return Fn("partUids","partUids",Qt(function(t){return tg(t.uid,e)}),tr())},rg=Object.freeze({__proto__:null,generate:Um,generateOne:qm,schemas:Wm,names:Gm,substitutes:$m,components:Xm,defaultUids:tg,defaultUidsSchema:ng,getAllParts:Qm,getAllPartNames:Zm,getPart:Ym,getPartOrDie:Km,getParts:Jm,getPartsOrDie:eg}),og=function(e,t){return(e.length>0?[vr("parts",e)]:[]).concat([lr("uid"),Tr("dom",{}),Tr("components",[]),Zc("originalSpec"),Tr("debug.sketcher",{})]).concat(t)},ig=function(e,t,n,r,o){var i=og(r,o);return Jn(e+" [SpecSchema]",In(i.concat(t)),n)},ag=function(e,t,n,r){var o=cg(r);return n(ig(e,t,o,[],[]),o)},ug=function(e,t,n,r,o){var i=cg(o),a=Wm(n),u=ng(n),s=ig(e,t,i,a,[u]),c=$m(0,s,n);return r(s,Xm(e,s,c.internals()),i,c.externals())},sg=function(e){return Pt(e,"uid")},cg=function(e){return sg(e)?e:de(de({},e),{uid:Qa("uid")})},lg=In([lr("name"),lr("factory"),lr("configFields"),Tr("apis",{}),Tr("extraApis",{})]),fg=In([lr("name"),lr("factory"),lr("configFields"),lr("partFields"),Tr("apis",{}),Tr("extraApis",{})]),dg=function(e){var t=Jn("Sketcher for "+e.name,lg,e),n=function(e){return ag(t.name,t.configFields,t.factory,e)},r=kt(t.apis,cu),o=kt(t.extraApis,function(e,t){return ou(e,t)});return de(de({name:ie(t.name),configFields:ie(t.configFields),sketch:n},r),o)},pg=function(e){var t=Jn("Sketcher for "+e.name,fg,e),n=function(e){return ug(t.name,t.configFields,t.partFields,t.factory,e)},r=Um(t.name,t.partFields),o=kt(t.apis,cu),i=kt(t.extraApis,function(e,t){return ou(e,t)});return de(de({name:ie(t.name),partFields:ie(t.partFields),configFields:ie(t.configFields),sketch:n,parts:ie(r)},o),i)},hg=function(e){for(var t=[],n=function(e){t.push(e)},r=0;r<e.length;r++)e[r].each(n);return t},mg=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];if(!r.isSome())return ve.none();t.push(r.getOrDie())}return ve.some(t)},gg=function(e,t,n){return e.isSome()&&t.isSome()?ve.some(n(e.getOrDie(),t.getOrDie())):ve.none()},vg=function(e,t,n,r){return e.isSome()&&t.isSome()&&n.isSome()?ve.some(r(e.getOrDie(),t.getOrDie(),n.getOrDie())):ve.none()},bg=function(e){return"input"===Qi(e)&&"radio"!==Ma(e,"type")||"textarea"===Qi(e)},yg=function(e,t,n){return t.find(e)},wg=Object.freeze({__proto__:null,getCurrent:yg}),xg=[lr("find")],_g=Xl({fields:xg,name:"composing",apis:wg}),Cg=function(e,t,n,r){var o=qd(e.element(),"."+t.highlightClass);He(o,function(n){je(r,function(e){return e.element()===n})||(Wu(n,t.highlightClass),e.getSystem().getByDom(n).each(function(n){t.onDehighlight(e,n),Ai(n,Oi())}))})},Sg=function(e,t,n){return Cg(e,t,0,[])},Eg=function(e,t,n,r){Dg(e,t,n,r)&&(Wu(r.element(),t.highlightClass),t.onDehighlight(e,r),Ai(r,Oi()))},kg=function(e,t,n,r){Cg(e,t,0,[r]),Dg(e,t,n,r)||(Vu(r.element(),t.highlightClass),t.onHighlight(e,r),Ai(r,Ni()))},Tg=function(e,t,n){Rg(e,t).each(function(r){kg(e,t,n,r)})},Ng=function(e,t,n){Pg(e,t).each(function(r){kg(e,t,n,r)})},Og=function(e,t,n,r){Ig(e,t,n,r).fold(function(e){throw new Error(e)},function(r){kg(e,t,n,r)})},Ag=function(e,t,n,r){var o=zg(e,t);Xe(o,r).each(function(r){kg(e,t,n,r)})},Dg=function(e,t,n,r){return Gu(r.element(),t.highlightClass)},Mg=function(e,t,n){return kc(e.element(),"."+t.highlightClass).bind(function(t){return e.getSystem().getByDom(t).toOption()})},Ig=function(e,t,n,r){var o=qd(e.element(),"."+t.itemClass);return ve.from(o[r]).fold(function(){return lt.error("No element found with index "+r)},e.getSystem().getByDom)},Rg=function(e,t,n){return kc(e.element(),"."+t.itemClass).bind(function(t){return e.getSystem().getByDom(t).toOption()})},Pg=function(e,t,n){var r=qd(e.element(),"."+t.itemClass);return(r.length>0?ve.some(r[r.length-1]):ve.none()).bind(function(t){return e.getSystem().getByDom(t).toOption()})},Lg=function(e,t,n,r){var o=qd(e.element(),"."+t.itemClass);return Ye(o,function(e){return Gu(e,t.highlightClass)}).bind(function(t){var n=kf(t,r,0,o.length-1);return e.getSystem().getByDom(o[n]).toOption()})},jg=function(e,t,n){return Lg(e,t,0,-1)},Bg=function(e,t,n){return Lg(e,t,0,1)},zg=function(e,t,n){var r=qd(e.element(),"."+t.itemClass);return hg(Fe(r,function(t){return e.getSystem().getByDom(t).toOption()}))},Fg=Object.freeze({__proto__:null,dehighlightAll:Sg,dehighlight:Eg,highlight:kg,highlightFirst:Tg,highlightLast:Ng,highlightAt:Og,highlightBy:Ag,isHighlighted:Dg,getHighlighted:Mg,getFirst:Rg,getLast:Pg,getPrevious:jg,getNext:Bg,getCandidates:zg}),Hg=[lr("highlightClass"),lr("itemClass"),Xc("onHighlight"),Xc("onDehighlight")],Ug=Xl({fields:Hg,name:"highlighting",apis:Fg}),Vg=function(){return[8]},qg=function(){return[9]},Wg=function(){return[13]},Gg=function(){return[27]},$g=function(){return[32]},Xg=function(){return[37]},Yg=function(){return[38]},Kg=function(){return[39]},Jg=function(){return[40]},Qg=function(e,t,n){var r=Ze(e.slice(0,t)),o=Ze(e.slice(t+1));return Xe(r.concat(o),n)},Zg=function(e,t,n){var r=Ze(e.slice(0,t));return Xe(r,n)},ev=function(e,t,n){var r=e.slice(0,t),o=e.slice(t+1);return Xe(o.concat(r),n)},tv=function(e,t,n){var r=e.slice(t+1);return Xe(r,n)},nv=function(e){return function(t){var n=t.raw();return Le(e,n.which)}},rv=function(e){return function(t){return Qe(e,function(e){return e(t)})}},ov=function(e){return!0===e.raw().shiftKey},iv=function(e){return!0===e.raw().ctrlKey},av=ue(ov),uv=function(e,t){return{matches:e,classification:t}},sv=function(e,t){return Xe(e,function(e){return e.matches(t)}).map(function(e){return e.classification})},cv=function(e,t,n){t.exists(function(e){return n.exists(function(t){return To(t,e)})})||Di(e,Si(),{prevFocus:t,newFocus:n})},lv=function(){var e=function(e){return ff(e.element())};return{get:e,set:function(t,n){var r=e(t);t.getSystem().triggerFocus(n,t.element());var o=e(t);cv(t,r,o)}}},fv=function(){var e=function(e){return Ug.getHighlighted(e).map(function(e){return e.element()})};return{get:e,set:function(t,n){var r=e(t);t.getSystem().getByDom(n).fold(te,function(e){Ug.highlight(t,e)});var o=e(t);cv(t,r,o)}}};!function(e){e.OnFocusMode="onFocus",e.OnEnterOrSpaceMode="onEnterOrSpace",e.OnApiMode="onApi"}(Kf||(Kf={}));var dv,pv=function(e,t,n,r,o){var i=function(){return e.concat([Tr("focusManager",lv()),Nr("focusInside","onFocus",Gn(function(e){return Le(["onFocus","onEnterOrSpace","onApi"],e)?lt.value(e):lt.error("Invalid value for focusInside")})),Qc("handler",s),Qc("state",t),Qc("sendFocusIn",o)])},a=function(e,t,n,r,o){var i=n(e,t,r,o);return sv(i,t.event()).bind(function(n){return n(e,t,r,o)})},u=function(e,t){var i=e.focusInside!==Kf.OnFocusMode?ve.none():o(e).map(function(n){return zi(ii(),function(r,o){n(r,e,t),o.stop()})}),u=function(n,r){var i=nv($g().concat(Wg()))(r.event());e.focusInside===Kf.OnEnterOrSpaceMode&&i&&Ro(n,r)&&o(e).each(function(o){o(n,e,t),r.stop()})},s=[zi(Jo(),function(r,o){a(r,o,n,e,t).fold(function(){u(r,o)},function(e){o.stop()})}),zi(Qo(),function(n,o){a(n,o,r,e,t).each(function(e){o.stop()})})];return Li(i.toArray().concat(s))},s={schema:i,processKey:a,toEvents:u};return s},hv=function(e){var t=[wr("onEscape"),wr("onEnter"),Tr("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),Tr("firstTabstop",0),Tr("useTabstopAt",ie(!0)),wr("visibilitySelector")].concat([e]),r=function(e,t){var n=e.visibilitySelector.bind(function(e){return Tc(t,e)}).getOr(t);return js(n)>0},o=function(e,t){var n=qd(e.element(),t.selector),o=qe(n,function(e){return r(t,e)});return ve.from(o[t.firstTabstop])},i=function(e,t){return t.focusManager.get(e).bind(function(e){return Tc(e,t.selector)})},a=function(e,t){return r(e,t)&&e.useTabstopAt(t)},u=function(e,t,n){o(e,t).each(function(n){t.focusManager.set(e,n)})},s=function(e,t,n,r,o){return o(t,n,function(e){return a(r,e)}).fold(function(){return r.cyclic?ve.some(!0):ve.none()},function(t){return r.focusManager.set(e,t),ve.some(!0)})},c=function(e,t,r,o){var a=qd(e.element(),r.selector);return i(e,r).bind(function(t){return Ye(a,n(To,t)).bind(function(t){return s(e,a,t,r,o)})})},l=function(e,t,n){var r=n.cyclic?Qg:Zg;return c(e,0,n,r)},f=function(e,t,n){var r=n.cyclic?ev:tv;return c(e,0,n,r)},d=function(e,t,n){return n.onEnter.bind(function(n){return n(e,t)})},p=function(e,t,n){return n.onEscape.bind(function(n){return n(e,t)})},h=ie([uv(rv([ov,nv(qg())]),l),uv(nv(qg()),f),uv(nv(Gg()),p),uv(rv([av,nv(Wg())]),d)]),m=ie([]);return pv(t,lu.init,h,m,function(){return ve.some(u)})},mv=hv(Pr("cyclic",ie(!1))),gv=hv(Pr("cyclic",ie(!0))),vv=function(e,t,n){return Ii(e,n,ci()),ve.some(!0)},bv=function(e,t,n){return bg(n)&&nv($g())(t.event())?ve.none():vv(e,0,n)},yv=function(e,t){return ve.some(!0)},wv=[Tr("execute",bv),Tr("useSpace",!1),Tr("useEnter",!0),Tr("useControlEnter",!1),Tr("useDown",!1)],xv=function(e,t,n){return n.execute(e,t,e.element())},_v=function(e,t,n,r){var o=n.useSpace&&!bg(e.element())?$g():[],i=n.useEnter?Wg():[],a=n.useDown?Jg():[],u=o.concat(i).concat(a);return[uv(nv(u),xv)].concat(n.useControlEnter?[uv(rv([iv,nv(Wg())]),xv)]:[])},Cv=function(e,t,n,r){return n.useSpace&&!bg(e.element())?[uv(nv($g()),yv)]:[]},Sv=pv(wv,lu.init,_v,Cv,function(){return ve.none()}),Ev=function(){var e=Lr(ve.none()),t=function(t,n){e.set(ve.some({numRows:t,numColumns:n}))},n=function(){return e.get().map(function(e){return e.numRows})},r=function(){return e.get().map(function(e){return e.numColumns})};return fu({readState:function(){return e.get().map(function(e){return{numRows:String(e.numRows),numColumns:String(e.numColumns)}}).getOr({numRows:"?",numColumns:"?"})},setGridSize:t,getNumRows:n,getNumColumns:r})},kv=function(e){return e.state(e)},Tv=Object.freeze({__proto__:null,flatgrid:Ev,init:kv}),Nv=function(e){return function(t,n,r,o){var i=e(t.element());return Mv(i,t,n,r,o)}},Ov=function(e,t){var n=Xf(e,t);return Nv(n)},Av=function(e,t){var n=Xf(t,e);return Nv(n)},Dv=function(e){return function(t,n,r,o){return Mv(e,t,n,r,o)}},Mv=function(e,t,n,r,o){return r.focusManager.get(t).bind(function(n){return e(t.element(),n,r,o)}).map(function(e){return r.focusManager.set(t,e),!0})},Iv=Dv,Rv=Dv,Pv=Dv,Lv=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},jv=function(e){return!Lv(e.dom())},Bv=function(e,t){return Ye(e,t).map(function(t){return{index:ie(t),candidates:ie(e)}})},zv=function(e,t,n){var r=function(e){return To(e,t)},o=qd(e,n),i=qe(o,jv);return Bv(i,r)},Fv=function(e,t){return Ye(e,function(e){return To(t,e)})},Hv=function(e,t,n,r){return r(Math.floor(t/n),t%n).bind(function(t){var r=t.row()*n+t.column();return r>=0&&r<e.length?ve.some(e[r]):ve.none()})},Uv=function(e,t,n,r,o){return Hv(e,t,r,function(t,i){var a=t===n-1,u=a?e.length-t*r:r,s=kf(i,o,0,u-1);return ve.some({row:ie(t),column:ie(s)})})},Vv=function(e,t,n,r,o){return Hv(e,t,r,function(t,i){var a=kf(t,o,0,n-1),u=a===n-1,s=u?e.length-a*r:r,c=Tf(i,0,s-1);return ve.some({row:ie(a),column:ie(c)})})},qv=function(e,t,n,r){return Uv(e,t,n,r,1)},Wv=function(e,t,n,r){return Uv(e,t,n,r,-1)},Gv=function(e,t,n,r){return Vv(e,t,n,r,-1)},$v=function(e,t,n,r){return Vv(e,t,n,r,1)},Xv=[lr("selector"),Tr("execute",bv),Yc("onEscape"),Tr("captureTab",!1),el()],Yv=function(e,t,n){kc(e.element(),t.selector).each(function(n){t.focusManager.set(e,n)})},Kv=function(e,t){return t.focusManager.get(e).bind(function(e){return Tc(e,t.selector)})},Jv=function(e,t,n,r){return Kv(e,n).bind(function(r){return n.execute(e,t,r)})},Qv=function(e){return function(t,n,r,o){return zv(t,n,r.selector).bind(function(t){return e(t.candidates(),t.index(),o.getNumRows().getOr(r.initSize.numRows),o.getNumColumns().getOr(r.initSize.numColumns))})}},Zv=function(e,t,n){return n.captureTab?ve.some(!0):ve.none()},eb=function(e,t,n){return n.onEscape(e,t)},tb=Qv(Wv),nb=Qv(qv),rb=Qv(Gv),ob=Qv($v),ib=ie([uv(nv(Xg()),Ov(tb,nb)),uv(nv(Kg()),Av(tb,nb)),uv(nv(Yg()),Iv(rb)),uv(nv(Jg()),Rv(ob)),uv(rv([ov,nv(qg())]),Zv),uv(rv([av,nv(qg())]),Zv),uv(nv(Gg()),eb),uv(nv($g().concat(Wg())),Jv)]),ab=ie([uv(nv($g()),yv)]),ub=pv(Xv,Ev,ib,ab,function(){return ve.some(Yv)}),sb=function(e,t,n,r){var o=function(e){return"button"===Qi(e)&&"disabled"===Ma(e,"disabled")},i=function(e,t,n){var a=kf(t,r,0,n.length-1);return a===e?ve.none():o(n[a])?i(e,a,n):ve.from(n[a])};return zv(e,n,t).bind(function(e){var t=e.index(),n=e.candidates();return i(t,t,n)})},cb=[lr("selector"),Tr("getInitial",ve.none),Tr("execute",bv),Yc("onEscape"),Tr("executeOnMove",!1),Tr("allowVertical",!0)],lb=function(e,t){return t.focusManager.get(e).bind(function(e){return Tc(e,t.selector)})},fb=function(e,t,n){return lb(e,n).bind(function(r){return n.execute(e,t,r)})},db=function(e,t,n){t.getInitial(e).orThunk(function(){return kc(e.element(),t.selector)}).each(function(n){t.focusManager.set(e,n)})},pb=function(e,t,n){return sb(e,n.selector,t,-1)},hb=function(e,t,n){return sb(e,n.selector,t,1)},mb=function(e){return function(t,n,r,o){return e(t,n,r,o).bind(function(){return r.executeOnMove?fb(t,n,r):ve.some(!0)})}},gb=function(e,t,n){return n.onEscape(e,t)},vb=function(e,t,n,r){var o=Xg().concat(n.allowVertical?Yg():[]),i=Kg().concat(n.allowVertical?Jg():[]);return[uv(nv(o),mb(Ov(pb,hb))),uv(nv(i),mb(Av(pb,hb))),uv(nv(Wg()),fb),uv(nv($g()),fb),uv(nv(Gg()),gb)]},bb=ie([uv(nv($g()),yv)]),yb=pv(cb,lu.init,vb,bb,function(){return ve.some(db)}),wb=function(e,t,n){return ve.from(e[t]).bind(function(e){return ve.from(e[n]).map(function(e){return{rowIndex:t,columnIndex:n,cell:e}})})},xb=function(e,t,n,r){var o=e[t],i=o.length,a=kf(n,r,0,i-1);return wb(e,t,a)},_b=function(e,t,n,r){var o=kf(n,r,0,e.length-1),i=e[o].length,a=Tf(t,0,i-1);return wb(e,o,a)},Cb=function(e,t,n,r){var o=e[t],i=o.length,a=Tf(n+r,0,i-1);return wb(e,t,a)},Sb=function(e,t,n,r){var o=Tf(n+r,0,e.length-1),i=e[o].length,a=Tf(t,0,i-1);return wb(e,o,a)},Eb=function(e,t,n){return xb(e,t,n,1)},kb=function(e,t,n){return xb(e,t,n,-1)},Tb=function(e,t,n){return _b(e,n,t,-1)},Nb=function(e,t,n){return _b(e,n,t,1)},Ob=function(e,t,n){return Cb(e,t,n,-1)},Ab=function(e,t,n){return Cb(e,t,n,1)},Db=function(e,t,n){return Sb(e,n,t,-1)},Mb=function(e,t,n){return Sb(e,n,t,1)},Ib=[vr("selectors",[lr("row"),lr("cell")]),Tr("cycles",!0),Tr("previousSelector",ve.none),Tr("execute",bv)],Rb=function(e,t,n){t.previousSelector(e).orThunk(function(){var n=t.selectors;return kc(e.element(),n.cell)}).each(function(n){t.focusManager.set(e,n)})},Pb=function(e,t,n){return ff(e.element()).bind(function(r){return n.execute(e,t,r)})},Lb=function(e,t){return Fe(e,function(e){return qd(e,t.selectors.cell)})},jb=function(e,t){return function(n,r,o){var i=o.cycles?e:t;return Tc(r,o.selectors.row).bind(function(e){var t=qd(e,o.selectors.cell);return Fv(t,r).bind(function(t){var r=qd(n,o.selectors.row);return Fv(r,e).bind(function(e){var n=Lb(r,o);return i(n,e,t).map(function(e){return e.cell})})})})}},Bb=jb(kb,Ob),zb=jb(Eb,Ab),Fb=jb(Tb,Db),Hb=jb(Nb,Mb),Ub=ie([uv(nv(Xg()),Ov(Bb,zb)),uv(nv(Kg()),Av(Bb,zb)),uv(nv(Yg()),Iv(Fb)),uv(nv(Jg()),Rv(Hb)),uv(nv($g().concat(Wg())),Pb)]),Vb=ie([uv(nv($g()),yv)]),qb=pv(Ib,lu.init,Ub,Vb,function(){return ve.some(Rb)}),Wb=[lr("selector"),Tr("execute",bv),Tr("moveOnTab",!1)],Gb=function(e,t,n){return n.focusManager.get(e).bind(function(r){return n.execute(e,t,r)})},$b=function(e,t,n){kc(e.element(),t.selector).each(function(n){t.focusManager.set(e,n)})},Xb=function(e,t,n){return sb(e,n.selector,t,-1)},Yb=function(e,t,n){return sb(e,n.selector,t,1)},Kb=function(e,t,n,r){return n.moveOnTab?Pv(Xb)(e,t,n,r):ve.none()},Jb=function(e,t,n,r){return n.moveOnTab?Pv(Yb)(e,t,n,r):ve.none()},Qb=ie([uv(nv(Yg()),Pv(Xb)),uv(nv(Jg()),Pv(Yb)),uv(rv([ov,nv(qg())]),Kb),uv(rv([av,nv(qg())]),Jb),uv(nv(Wg()),Gb),uv(nv($g()),Gb)]),Zb=ie([uv(nv($g()),yv)]),ey=pv(Wb,lu.init,Qb,Zb,function(){return ve.some($b)}),ty=[Yc("onSpace"),Yc("onEnter"),Yc("onShiftEnter"),Yc("onLeft"),Yc("onRight"),Yc("onTab"),Yc("onShiftTab"),Yc("onUp"),Yc("onDown"),Yc("onEscape"),Tr("stopSpaceKeyup",!1),wr("focusIn")],ny=function(e,t,n){return[uv(nv($g()),n.onSpace),uv(rv([av,nv(Wg())]),n.onEnter),uv(rv([ov,nv(Wg())]),n.onShiftEnter),uv(rv([ov,nv(qg())]),n.onShiftTab),uv(rv([av,nv(qg())]),n.onTab),uv(nv(Yg()),n.onUp),uv(nv(Jg()),n.onDown),uv(nv(Xg()),n.onLeft),uv(nv(Kg()),n.onRight),uv(nv($g()),n.onSpace),uv(nv(Gg()),n.onEscape)]},ry=function(e,t,n){return n.stopSpaceKeyup?[uv(nv($g()),yv)]:[]},oy=pv(ty,lu.init,ny,ry,function(e){return e.focusIn}),iy=mv.schema(),ay=gv.schema(),uy=yb.schema(),sy=ub.schema(),cy=qb.schema(),ly=Sv.schema(),fy=ey.schema(),dy=oy.schema(),py=Object.freeze({__proto__:null,acyclic:iy,cyclic:ay,flow:uy,flatgrid:sy,matrix:cy,execution:ly,menu:fy,special:dy}),hy=function(e){return Lt(e,"setGridSize")},my=Kl({branchKey:"mode",branches:py,name:"keying",active:{events:function(e,t){return e.handler.toEvents(e,t)}},apis:{focusIn:function(e,t,n){t.sendFocusIn(t).fold(function(){e.getSystem().triggerFocus(e.element(),e.element())},function(r){r(e,t,n)})},setGridSize:function(e,n,r,o,i){hy(r)?r.setGridSize(o,i):t.console.error("Layout does not support setGridSize")}},state:Tv}),gy=function(e,t,n,r){df(function(){var t=Fe(r,e.getSystem().build);Wp(e,t)},e.element())},vy=function(e,t,n,r){var o=e.getSystem().build(r);$p(e,o,n)},by=function(e,t,n,r){vy(e,0,ba,r)},yy=function(e,t,n,r){vy(e,0,va,r)},wy=function(e,t,n,r){var o=xy(e);Xe(o,function(e){return To(r.element(),e.element())}).each(Yp)},xy=function(e,t){return e.components()},_y=function(e,t,n,r,o){var i=xy(e);return ve.from(i[r]).map(function(t){return wy(e,0,0,t),o.each(function(t){vy(e,0,function(e,t){ya(e,t,r)},t)}),t})},Cy=function(e,t,n,r,o){var i=xy(e);return Ye(i,r).bind(function(t){return _y(e,0,0,t,o)})},Sy=Object.freeze({__proto__:null,append:by,prepend:yy,remove:wy,replaceAt:_y,replaceBy:Cy,set:gy,contents:xy}),Ey=Xl({fields:[],name:"replacing",apis:Sy}),ky=function(e,t){var n=Li(t);return Xl({fields:[lr("enabled")],name:e,active:{events:ie(n)}})},Ty=function(e,t){return{key:e,value:{config:{},me:ky(e,t),configAsRaw:ie({}),initialConfig:{},state:lu}}},Ny=function(e,t){t.ignore||(uf(e.element()),t.onFocus(e))},Oy=function(e,t){t.ignore||sf(e.element())},Ay=function(e){return cf(e.element())},Dy=Object.freeze({__proto__:null,focus:Ny,blur:Oy,isFocused:Ay}),My=function(e,t){var n=t.ignore?{}:{attributes:{tabindex:"-1"}};return gu(n)},Iy=function(e){return Li([zi(ii(),function(t,n){Ny(t,e),n.stop()})].concat(e.stopMousedown?[zi(qo(),function(e,t){t.event().prevent()})]:[]))},Ry=Object.freeze({__proto__:null,exhibit:My,events:Iy}),Py=[Xc("onFocus"),Tr("stopMousedown",!1),Tr("ignore",!1)],Ly=Xl({fields:Py,name:"focusing",active:Ry,apis:Dy}),jy=function(e,t,n){var r=t.aria;r.update(e,r,n.get())},By=function(e,t,n){t.toggleClass.each(function(t){n.get()?Vu(e.element(),t):Wu(e.element(),t)})},zy=function(e,t,n){Uy(e,t,n,!n.get())},Fy=function(e,t,n){n.set(!0),By(e,t,n),jy(e,t,n)},Hy=function(e,t,n){n.set(!1),By(e,t,n),jy(e,t,n)},Uy=function(e,t,n,r){(r?Fy:Hy)(e,t,n)},Vy=function(e,t,n){return n.get()},qy=function(e,t,n){Uy(e,t,n,t.selected)},Wy=Object.freeze({__proto__:null,onLoad:qy,toggle:zy,isOn:Vy,on:Fy,off:Hy,set:Uy}),Gy=function(){return gu({})},$y=function(e,t){var n=zl(e,t,zy),r=Fl(e,t,qy);return Li(Ke([e.toggleOnExecute?[n]:[],[r]]))},Xy=Object.freeze({__proto__:null,exhibit:Gy,events:$y}),Yy=function(e,t,n){Aa(e.element(),"aria-pressed",n),t.syncWithExpanded&&Qy(e,t,n)},Ky=function(e,t,n){Aa(e.element(),"aria-selected",n)},Jy=function(e,t,n){Aa(e.element(),"aria-checked",n)},Qy=function(e,t,n){Aa(e.element(),"aria-expanded",n)},Zy=[Tr("selected",!1),wr("toggleClass"),Tr("toggleOnExecute",!0),Nr("aria",{mode:"none"},er("mode",{pressed:[Tr("syncWithExpanded",!1),Qc("update",Yy)],checked:[Qc("update",Jy)],expanded:[Qc("update",Qy)],selected:[Qc("update",Ky)],none:[Qc("update",te)]}))],ew=Xl({fields:Zy,name:"toggling",active:Xy,apis:Wy,state:function(e){return{init:function(){var t=Lr(e);return{get:function(){return t.get()},set:function(e){return t.set(e)},clear:function(){return t.set(e)},readState:function(){return t.get()}}}}}(!1)}),tw=function(){var e=function(e,t){t.stop(),Mi(e)};return[zi(ti(),e),zi(fi(),e),Wi(Fo()),Wi(qo())]},nw=function(e){var t=function(e){return Ji(function(t,n){e(t),n.stop()})};return Li(Ke([e.map(t).toArray(),tw()]))},rw=function(e){(ff(e.element()).isNone()||Ly.isFocused(e))&&(Ly.isFocused(e)||Ly.focus(e),Di(e,"alloy.item-hover",{item:e}))},ow=function(e){Di(e,"alloy.item-focus",{item:e})},iw=ie("alloy.item-hover"),aw=ie("alloy.item-focus"),uw=function(e){return{dom:e.dom,domModification:de(de({},e.domModification),{attributes:de(de(de({role:e.toggling.isSome()?"menuitemcheckbox":"menuitem"},e.domModification.attributes),{"aria-haspopup":e.hasSubmenu}),e.hasSubmenu?{"aria-expanded":!1}:{})}),behaviours:am.augment(e.itemBehaviours,[e.toggling.fold(ew.revoke,function(e){return ew.config(de({aria:{mode:"checked"}},e))}),Ly.config({ignore:e.ignoreFocus,stopMousedown:e.ignoreFocus,onFocus:function(e){ow(e)}}),my.config({mode:"execution"}),nm.config({store:{mode:"memory",initialValue:e.data}}),Ty("item-type-events",o(tw(),[zi(Xo(),rw),zi(li(),Ly.focus)]))]),components:e.components,eventOrder:e.eventOrder}},sw=[lr("data"),lr("components"),lr("dom"),Tr("hasSubmenu",!1),wr("toggling"),am.field("itemBehaviours",[ew,Ly,my,nm]),Tr("ignoreFocus",!1),Tr("domModification",{}),Qc("builder",uw),Tr("eventOrder",{})],cw=function(e){return{dom:e.dom,components:e.components,events:Li([Gi(li())])}},lw=[lr("dom"),lr("components"),Qc("builder",cw)],fw=ie([Rm({name:"widget",overrides:function(e){return{behaviours:Gl([nm.config({store:{mode:"manual",getValue:function(t){return e.data},setValue:function(){}}})])}}})]),dw=function(e){var t=$m(0,e,fw()),n=Xm("item-widget",e,t.internals()),r=function(t){return Ym(t,e,"widget").map(function(e){return my.focusIn(e),e})},o=function(t,n){return bg(n.event().target())?ve.none():function(){return e.autofocus?(n.setSource(t.element()),ve.none()):ve.none()}()};return{dom:e.dom,components:n,domModification:e.domModification,events:Li([Ji(function(e,t){r(e).each(function(e){t.stop()})}),zi(Xo(),rw),zi(li(),function(t,n){e.autofocus?r(t):Ly.focus(t)})]),behaviours:am.augment(e.widgetBehaviours,[nm.config({store:{mode:"memory",initialValue:e.data}}),Ly.config({ignore:e.ignoreFocus,onFocus:function(e){ow(e)}}),my.config({mode:"special",focusIn:e.autofocus?function(e){r(e)}:Jl(),onLeft:o,onRight:o,onEscape:function(t,n){return Ly.isFocused(t)||e.autofocus?e.autofocus?(n.setSource(t.element()),ve.none()):ve.none():(Ly.focus(t),ve.some(!0))}})])}},pw=[lr("uid"),lr("data"),lr("components"),lr("dom"),Tr("autofocus",!1),Tr("ignoreFocus",!1),am.field("widgetBehaviours",[nm,Ly,my]),Tr("domModification",{}),ng(fw()),Qc("builder",dw)],hw=er("type",{widget:pw,item:sw,separator:lw}),mw=function(e,t){return{mode:"flatgrid",selector:"."+e.markers.item,initSize:{numColumns:t.initSize.numColumns,numRows:t.initSize.numRows},focusManager:e.focusManager}},gw=function(e,t){return{mode:"matrix",selectors:{row:t.rowSelector,cell:"."+e.markers.item},focusManager:e.focusManager}},vw=function(e,t){return{mode:"menu",selector:"."+e.markers.item,moveOnTab:t.moveOnTab,focusManager:e.focusManager}},bw=ie([jm({factory:{sketch:function(e){var t=Jn("menu.spec item",hw,e);return t.builder(t)}},name:"items",unit:"item",defaults:function(e,t){return t.hasOwnProperty("uid")?t:de(de({},t),{uid:Qa("item")})},overrides:function(e,t){return{type:t.type,ignoreFocus:e.fakeFocus,domModification:{classes:[e.markers.item]}}}})]),yw=ie([lr("value"),lr("items"),lr("dom"),lr("components"),Tr("eventOrder",{}),rm("menuBehaviours",[Ug,nm,_g,my]),Nr("movement",{mode:"menu",moveOnTab:!0},er("mode",{grid:[el(),Qc("config",mw)],matrix:[Qc("config",gw),lr("rowSelector")],menu:[Tr("moveOnTab",!0),Qc("config",vw)]})),function(){return fr("markers",Vc())}(),Tr("fakeFocus",!1),Tr("focusManager",lv()),Xc("onHighlight")]),ww=ie("alloy.menu-focus"),xw=function(e,t,n,r){return{uid:e.uid,dom:e.dom,markers:e.markers,behaviours:im(e.menuBehaviours,[Ug.config({highlightClass:e.markers.selectedItem,itemClass:e.markers.item,onHighlight:e.onHighlight}),nm.config({store:{mode:"memory",initialValue:e.value}}),_g.config({find:ve.some}),my.config(e.movement.config(e,e.movement))]),events:Li([zi(aw(),function(e,t){var n=t.event();e.getSystem().getByDom(n.target()).each(function(n){Ug.highlight(e,n),t.stop(),Di(e,ww(),{menu:e,item:n})})}),zi(iw(),function(e,t){var n=t.event().item();Ug.highlight(e,n)})]),components:t,eventOrder:e.eventOrder,domModification:{attributes:{role:"menu"}}}},_w=pg({name:"Menu",configFields:yw(),partFields:bw(),factory:xw}),Cw=function(e){return Tt(e,function(e,t){return{k:e,v:t}})},Sw=function(e,t,n,r){return Rt(n,r).bind(function(r){return Rt(e,r).bind(function(r){var o=Sw(e,t,n,r);return ve.some([r].concat(o))})}).getOr([])},Ew=function(e,t){var n={};Et(e,function(e,t){He(e,function(e){n[e]=t})});var r=t,o=Cw(t),i=kt(o,function(e,t){return[t].concat(Sw(n,r,o,t))});return kt(n,function(e){return Rt(i,e).getOr([e])})},kw=function(){var e=Lr({}),t=Lr({}),n=Lr({}),r=Lr(ve.none()),o=Lr({}),i=function(){e.set({}),t.set({}),n.set({}),r.set(ve.none())},a=function(){return r.get().isNone()},u=function(e,n){var r;t.set(de(de({},t.get()),(r={},r[e]={type:"prepared",menu:n},r)))},s=function(i,a,u,s){r.set(ve.some(i)),e.set(u),t.set(a),o.set(s);var c=Ew(s,u);n.set(c)},c=function(t){return Mt(e.get(),function(e,n){return e===t})},l=function(e,t,n){return m(e).bind(function(r){return c(e).bind(function(e){return t(e).map(function(e){return{triggeredMenu:r,triggeringItem:e,triggeringPath:n}})})})},f=function(e,t){var o=qe(v(e).toArray(),function(e){return m(e).isSome()});return Rt(n.get(),e).bind(function(e){var n=Ze(o.concat(e)),i=Je(n,function(e,o){return l(e,t,n.slice(0,o+1)).fold(function(){return r.get().is(e)?[]:[ve.none()]},function(e){return[ve.some(e)]})});return mg(i)})},d=function(t){return Rt(e.get(),t).map(function(e){return[e].concat(Rt(n.get(),t).getOr([]))})},p=function(e){return Rt(n.get(),e).bind(function(e){return e.length>1?ve.some(e.slice(1)):ve.none()})},h=function(e){return Rt(n.get(),e)},m=function(e){return g(e).bind(Tw)},g=function(e){return Rt(t.get(),e)},v=function(t){return Rt(e.get(),t)};return{setMenuBuilt:u,setContents:s,expand:d,refresh:h,collapse:p,lookupMenu:g,lookupItem:v,otherMenus:function(e){var t=o.get();return et(Ct(t),e)},getPrimary:function(){return r.get().bind(m)},getMenus:function(){return t.get()},clear:i,isClear:a,getTriggeringPath:f}},Tw=function(e){return"prepared"===e.type?ve.some(e.menu):ve.none()},Nw={init:kw,extractPreparedMenu:Tw},Ow=function(e,t){var n,r=Lr(ve.none()),o=function(t,n,r){return kt(r,function(r,o){var i=function(){return _w.sketch(de(de({},r),{value:o,markers:e.markers,fakeFocus:e.fakeFocus,onHighlight:e.onHighlight,focusManager:e.fakeFocus?fv():lv()}))};return o===n?{type:"prepared",menu:t.getSystem().build(i())}:{type:"notbuilt",nbMenu:i}})},i=Nw.init(),a=function(t){var n=o(t,e.data.primary,e.data.menus),r=c();return i.setContents(e.data.primary,n,e.data.expansions,r),i.getPrimary()},u=function(e){return nm.getValue(e).value},s=function(e,t,n){return at(t,function(e){if(!e.getSystem().isConnected())return ve.none();var t=Ug.getCandidates(e);return Xe(t,function(e){return u(e)===n})})},c=function(t){return kt(e.data.menus,function(e,t){return Je(e.items,function(e){return"separator"===e.type?[]:[e.data.value]})})},l=function(e,t){Ug.highlight(e,t),Ug.getHighlighted(t).orThunk(function(){return Ug.getFirst(t)}).each(function(t){Ii(e,t.element(),li())})},f=function(e,t){return hg(Fe(t,function(t){return e.lookupMenu(t).bind(function(e){return"prepared"===e.type?ve.some(e.menu):ve.none()})}))},d=function(t,n,r){var o=f(n,n.otherMenus(r));He(o,function(n){Xu(n.element(),[e.markers.backgroundMenu]),e.stayInDom||Ey.remove(t,n)})},p=function(t){return r.get().getOrThunk(function(){var n={},o=qd(t.element(),"."+e.markers.item),i=qe(o,function(e){return"true"===Ma(e,"aria-haspopup")});return He(i,function(e){t.getSystem().getByDom(e).each(function(e){var t=u(e);n[t]=e})}),r.set(ve.some(n)),n})},h=function(e,t){var n=p(e);Et(n,function(e,n){var r=Le(t,n);Aa(e.element(),"aria-expanded",r)})},m=function(t,n,r){return ve.from(r[0]).bind(function(o){return n.lookupMenu(o).bind(function(o){if("notbuilt"===o.type)return ve.none();var i=o.menu,a=f(n,r.slice(1));return He(a,function(t){Vu(t.element(),e.markers.backgroundMenu)}),is(i.element())||Ey.append(t,Ps(i)),Xu(i.element(),[e.markers.backgroundMenu]),l(t,i),d(t,n,r),ve.some(i)})})};!function(e){e[e.HighlightSubmenu=0]="HighlightSubmenu",e[e.HighlightParent=1]="HighlightParent"}(n||(n={}));var g=function(e,t,n){if("notbuilt"===n.type){var r=e.getSystem().build(n.nbMenu());return i.setMenuBuilt(t,r),r}return n.menu},v=function(t,r,o){void 0===o&&(o=n.HighlightSubmenu);var a=u(r);return i.expand(a).bind(function(a){return h(t,a),ve.from(a[0]).bind(function(u){return i.lookupMenu(u).bind(function(s){var c=g(t,u,s);return is(c.element())||Ey.append(t,Ps(c)),e.onOpenSubmenu(t,r,c,Ze(a)),o===n.HighlightSubmenu?(Ug.highlightFirst(c),m(t,i,a)):(Ug.dehighlightAll(c),ve.some(r))})})})},b=function(t,n){var r=u(n);return i.collapse(r).bind(function(r){return h(t,r),m(t,i,r).map(function(r){return e.onCollapseMenu(t,n,r),r})})},y=function(e,t){var n=u(t);return i.refresh(n).bind(function(t){return h(e,t),m(e,i,t)})},w=function(e,t){return bg(t.element())?ve.none():v(e,t,n.HighlightSubmenu)},x=function(e,t){return bg(t.element())?ve.none():b(e,t)},_=function(t,n){return b(t,n).orThunk(function(){return e.onEscape(t,n).map(function(){return t})})},C=function(t){return function(n,r){return Tc(r.getSource(),"."+e.markers.item).bind(function(e){return n.getSystem().getByDom(e).toOption().bind(function(e){return t(n,e).map(function(){return!0})})})}},S=Li([zi(ww(),function(e,t){var n=t.event().item();i.lookupItem(u(n)).each(function(){var n=t.event().menu();Ug.highlight(e,n);var r=u(t.event().item());i.refresh(r).each(function(t){return d(e,i,t)})})}),Ji(function(t,r){var o=r.event().target();t.getSystem().getByDom(o).each(function(r){0===u(r).indexOf("collapse-item")&&b(t,r),v(t,r,n.HighlightSubmenu).fold(function(){e.onExecute(t,r)},function(){})})}),Xi(function(t,n){a(t).each(function(n){Ey.append(t,Ps(n)),e.onOpenMenu(t,n),e.highlightImmediately&&l(t,n)})})].concat(e.navigateOnHover?[zi(iw(),function(t,r){var o=r.event().item();y(t,o),v(t,o,n.HighlightParent),e.onHover(t,o)})]:[])),E=function(e){return Ug.getHighlighted(e).bind(Ug.getHighlighted)},k=function(e){E(e).each(function(t){b(e,t)})},T=function(e){i.getPrimary().each(function(t){l(e,t)})},N=function(e){return ve.from(e.components()[0]).filter(function(e){return"menu"===Ma(e.element(),"role")})},O=function(t){i.getPrimary().bind(function(e){return E(t).bind(function(e){var t=u(e),n=It(i.getMenus()),r=hg(Fe(n,Nw.extractPreparedMenu));return i.getTriggeringPath(t,function(e){return s(0,r,e)})}).map(function(t){return{primary:e,triggeringPath:t}})}).fold(function(){N(t).each(function(n){e.onRepositionMenu(t,n,[])})},function(n){var r=n.primary,o=n.triggeringPath;e.onRepositionMenu(t,r,o)})},A={collapseMenu:k,highlightPrimary:T,repositionMenus:O};return{uid:e.uid,dom:e.dom,markers:e.markers,behaviours:im(e.tmenuBehaviours,[my.config({mode:"special",onRight:C(w),onLeft:C(x),onEscape:C(_),focusIn:function(e,t){i.getPrimary().each(function(t){Ii(e,t.element(),li())})}}),Ug.config({highlightClass:e.markers.selectedMenu,itemClass:e.markers.menu}),_g.config({find:function(e){return Ug.getHighlighted(e)}}),Ey.config({})]),eventOrder:e.eventOrder,apis:A,events:S}},Aw=ie("collapse-item"),Dw=function(e,t,n){return{primary:e,menus:t,expansions:n}},Mw=function(e,t){return{primary:e,menus:on(e,t),expansions:{}}},Iw=function(e){return{value:qa(Aw()),meta:{text:e}}},Rw=dg({name:"TieredMenu",configFields:[Jc("onExecute"),Jc("onEscape"),Kc("onOpenMenu"),Kc("onOpenSubmenu"),Xc("onRepositionMenu"),Xc("onCollapseMenu"),Tr("highlightImmediately",!0),vr("data",[lr("primary"),lr("menus"),lr("expansions")]),Tr("fakeFocus",!1),Xc("onHighlight"),Xc("onHover"),Wc(),lr("dom"),Tr("navigateOnHover",!0),Tr("stayInDom",!1),rm("tmenuBehaviours",[my,Ug,_g,Ey]),Tr("eventOrder",{})],apis:{collapseMenu:function(e,t){e.collapseMenu(t)},highlightPrimary:function(e,t){e.highlightPrimary(t)},repositionMenus:function(e,t){e.repositionMenus(t)}},factory:Ow,extraApis:{tieredData:Dw,singleData:Mw,collapseItem:Iw}}),Pw=function(e,t,n,r,o){var i=function(){return e.lazySink(t)},a="horizontal"===r.type?{layouts:{onLtr:function(){return jl()},onRtl:function(){return Bl()}}}:{},u=function(e){return 2===e.length},s=function(e){return u(e)?a:{}};return Rw.sketch({dom:{tag:"div"},data:r.data,markers:r.menu.markers,highlightImmediately:r.menu.highlightImmediately,onEscape:function(){return wh.close(t),e.onEscape.map(function(e){return e(t)}),ve.some(!0)},onExecute:function(){return ve.some(!0)},onOpenMenu:function(e,t){Fp.positionWithinBounds(i().getOrDie(),n,t,o())},onOpenSubmenu:function(e,t,n,r){var o=i().getOrDie();Fp.position(o,de({anchor:"submenu",item:t},s(r)),n)},onRepositionMenu:function(e,t,r){var a=i().getOrDie();Fp.positionWithinBounds(a,n,t,o()),He(r,function(e){var t=s(e.triggeringPath);Fp.position(a,de({anchor:"submenu",item:e.triggeringItem},t),e.triggeredMenu)})}})},Lw=function(e,t){var n=function(t,n){return e.getRelated(t).exists(function(e){return Dc(e,n)})},r=function(e,t){wh.setContent(e,t)},o=function(e,t,n){i(e,t,n,ve.none())},i=function(e,t,n,r){a(e,t,n,function(){return r.map(function(e){return bc(e)})})},a=function(t,n,r,o){var i=e.lazySink(t).getOrDie();wh.openWhileCloaked(t,r,function(){return Fp.positionWithinBounds(i,n,t,o())}),nm.setValue(t,ve.some({mode:"position",anchor:n,getBounds:o}))},u=function(e,t,n){s(e,t,n,function(){return ve.none()})},s=function(t,n,r,o){var i=Pw(e,t,n,r,o);wh.open(t,i),nm.setValue(t,ve.some({mode:"menu",menu:i}))},c=function(e){wh.isOpen(e)&&(nm.setValue(e,ve.none()),wh.close(e))},l=function(e){return wh.getState(e)},f=function(t){wh.isOpen(t)&&nm.getValue(t).each(function(n){switch(n.mode){case"menu":wh.getState(t).each(function(e){Rw.repositionMenus(e)});break;case"position":var r=e.lazySink(t).getOrDie();Fp.positionWithinBounds(r,n.anchor,t,n.getBounds())}})},d={setContent:r,showAt:o,showWithin:i,showWithinBounds:a,showMenuAt:u,showMenuWithinBounds:s,hide:c,getContent:l,reposition:f,isOpen:wh.isOpen};return{uid:e.uid,dom:e.dom,behaviours:im(e.inlineBehaviours,[wh.config({isPartOf:function(e,t,r){return Dc(t,r)||n(e,r)},getAttachPoint:function(t){return e.lazySink(t).getOrDie()},onOpen:function(t){e.onShow(t)},onClose:function(t){e.onHide(t)}}),nm.config({store:{mode:"memory",initialValue:ve.none()}}),nf.config({channels:de(de({},Eh(de({isExtraPart:t.isExtraPart},e.fireDismissalEventInstead.map(function(e){return{fireEventInstead:{event:e.event}}}).getOr({})))),Th(de(de({},e.fireRepositionEventInstead.map(function(e){return{fireEventInstead:{event:e.event}}}).getOr({})),{doReposition:f})))})]),eventOrder:e.eventOrder,apis:d}},jw=dg({name:"InlineView",configFields:[lr("lazySink"),Xc("onShow"),Xc("onHide"),Sr("onEscape"),rm("inlineBehaviours",[wh,nm,nf]),Er("fireDismissalEventInstead",[Tr("event",_i())]),Er("fireRepositionEventInstead",[Tr("event",Ci())]),Tr("getRelated",ve.none),Tr("isExtraPart",ce),Tr("eventOrder",ve.none)],factory:Lw,apis:{showAt:function(e,t,n,r){e.showAt(t,n,r)},showWithin:function(e,t,n,r,o){e.showWithin(t,n,r,o)},showWithinBounds:function(e,t,n,r,o){e.showWithinBounds(t,n,r,o)},showMenuAt:function(e,t,n,r){e.showMenuAt(t,n,r)},showMenuWithinBounds:function(e,t,n,r,o){e.showMenuWithinBounds(t,n,r,o)},hide:function(e,t){e.hide(t)},isOpen:function(e,t){return e.isOpen(t)},getContent:function(e,t){return e.getContent(t)},setContent:function(e,t,n){e.setContent(t,n)},reposition:function(e,t){e.reposition(t)}}}),Bw=function(e){return e.x},zw=function(e,t){return e.x+e.width/2-t.width/2},Fw=function(e,t){return e.x+e.width-t.width},Hw=function(e){return e.y},Uw=function(e,t){return e.y+e.height-t.height},Vw=function(e,t,n){return tl(Fw(e,t),Uw(e,t),n.innerSoutheast(),cl(),ml(e,{right:0,bottom:3}),"layout-inner-se")},qw=function(e,t,n){return tl(Bw(e),Uw(e,t),n.innerSouthwest(),sl(),ml(e,{left:1,bottom:3}),"layout-inner-sw")},Ww=function(e,t,n){return tl(Fw(e,t),Hw(e),n.innerNortheast(),ul(),ml(e,{right:0,top:2}),"layout-inner-ne")},Gw=function(e,t,n){return tl(Bw(e),Hw(e),n.innerNorthwest(),al(),ml(e,{left:1,top:2}),"layout-inner-nw")},$w=function(e,t,n){return tl(zw(e,t),Hw(e),n.innerNorth(),ll(),ml(e,{top:2}),"layout-inner-n")},Xw=function(e,t,n){return tl(zw(e,t),Uw(e,t),n.innerSouth(),fl(),ml(e,{bottom:3}),"layout-inner-s")},Yw=tinymce.util.Tools.resolve("tinymce.util.Delay"),Kw=function(e){var t=nw(e.action),n=e.dom.tag,r=function(t){return Rt(e.dom,"attributes").bind(function(e){return Rt(e,t)})};return{uid:e.uid,dom:e.dom,components:e.components,events:t,behaviours:am.augment(e.buttonBehaviours,[Ly.config({}),my.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:function(){if("button"===n){var e=r("type").getOr("button"),t=r("role").map(function(e){return{role:e}}).getOr({});return de({type:e},t)}return{role:r("role").getOr("button")}}()},eventOrder:e.eventOrder}},Jw=dg({name:"Button",factory:Kw,configFields:[Tr("uid",void 0),lr("dom"),Tr("components",[]),am.field("buttonBehaviours",[Ly,my]),wr("action"),wr("role"),Tr("eventOrder",{})]}),Qw=function(e){var t=u(e)&&Lt(e,"uid")?e.uid:Qa("memento");return{get:function(e){return e.getSystem().getByUid(t).getOrDie()},getOpt:function(e){return e.getSystem().getByUid(t).toOption()},asSpec:function(){return de(de({},e),{uid:t})}}},Zw=function(e){return ve.from(e()["temporary-placeholder"]).getOr("!not found!")},ex=function(e,t){return ve.from(t()[e.toLowerCase()]).getOrThunk(function(){return Zw(t)})},tx=function(e,t,n){return ve.from(t()[e.toLowerCase()]).or(n).getOrThunk(function(){return Zw(t)})},nx=function(e,t){return at(e,function(e){return ve.from(t()[e.toLowerCase()])}).getOrThunk(function(){return Zw(t)})},rx={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},ox=function(e){var t=Qw({dom:{tag:"p",innerHtml:e.translationProvider(e.text)},behaviours:Gl([Ey.config({})])}),n=function(e){return{dom:{tag:"div",classes:["tox-bar"],attributes:{style:"width: "+e+"%"}}}},r=function(e){return{dom:{tag:"div",classes:["tox-text"],innerHtml:e+"%"}}},o=Qw({dom:{tag:"div",classes:e.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(0)]},r(0)],behaviours:Gl([Ey.config({})])}),i=function(e,t){e.getSystem().isConnected()&&o.getOpt(e).each(function(e){Ey.set(e,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(t)]},r(t)])})},a=function(e,n){if(e.getSystem().isConnected()){var r=t.get(e);Ey.set(r,[Ds(n)])}},u={updateProgress:i,updateText:a},s=Ke([e.icon.toArray(),e.level.toArray(),e.level.bind(function(e){return ve.from(rx[e])}).toArray()]);return{uid:e.uid,dom:{tag:"div",attributes:{role:"alert"},classes:e.level.map(function(e){return["tox-notification","tox-notification--in","tox-notification--"+e]}).getOr(["tox-notification","tox-notification--in"])},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:nx(s,e.iconProvider)}},{dom:{tag:"div",classes:["tox-notification__body"]},components:[t.asSpec()],behaviours:Gl([Ey.config({})])}].concat(e.progress?[o.asSpec()]:[]).concat(e.closeButton?[Jw.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[{dom:{tag:"div",classes:["tox-icon"],innerHtml:ex("close",e.iconProvider),attributes:{"aria-label":e.translationProvider("Close")}}}],action:function(t){e.onAction(t)}})]:[]),apis:u}},ix=dg({name:"Notification",factory:ox,configFields:[wr("level"),lr("progress"),lr("icon"),lr("onAction"),lr("text"),lr("iconProvider"),lr("translationProvider"),Mr("closeButton",!0)],apis:{updateProgress:function(e,t,n){e.updateProgress(t,n)},updateText:function(e,t,n){e.updateText(t,n)}}}),ax=function(e,n){var r=null;return{cancel:function(){null!==r&&(t.clearTimeout(r),r=null)},throttle:function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];null===r&&(r=t.setTimeout(function(){e.apply(null,o),r=null},n))}}},ux=function(e,n){var r=null;return{cancel:function(){null!==r&&(t.clearTimeout(r),r=null)},throttle:function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];null!==r&&t.clearTimeout(r),r=t.setTimeout(function(){e.apply(null,o),r=null},n)}}},sx=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker"),cx=function(e,t){return e.isBlock(t)||Le(["BR","IMG","HR","INPUT"],t.nodeName)||"false"===e.getContentEditable(t)},lx=function(e,t,n,r,o){var i=sx(e,function(t){return cx(e,t)});return ve.from(i.backwards(t,n,r,o))},fx=function(e,t){return dx(Ur.fromDom(e.selection.getNode())).getOrThunk(function(){var n=Ur.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',e.getDoc());return ba(n,Ur.fromDom(t.extractContents())),t.insertNode(n.dom()),ca(n).each(function(e){return e.dom().normalize()}),Ud(n).map(function(t){e.selection.setCursorLocation(t.dom(),Bd(t))}),n})},dx=function(e){return Tc(e,"[data-mce-autocompleter]")},px=function(e){return e.collapsed&&3===e.startContainer.nodeType},hx=function(e){return e.toString().replace(/\u00A0/g," ").replace(/\uFEFF/g,"")},mx=function(e){return""!==e&&-1!=="  \f\n\r\t\v".indexOf(e)},gx=function(e,t){return e.substring(t.length)},vx=function(e,t,n){var r;for(r=t-1;r>=0;r--){var o=e.charAt(r);if(mx(o))return ve.none();if(o===n)break}return ve.some(r)},bx=function(e,t,n,r){if(void 0===r&&(r=0),!px(t))return ve.none();var o=function(e,t,r){return vx(r,t,n).getOr(t)},i=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return lx(e,t.startContainer,t.startOffset,o,i).bind(function(e){var o=t.cloneRange();if(o.setStart(e.container,e.offset),o.setEnd(t.endContainer,t.endOffset),o.collapsed)return ve.none();var i=hx(o);return 0!==i.lastIndexOf(n)||gx(i,n).length<r?ve.none():ve.some({text:gx(i,n),range:o,triggerChar:n})})},yx=function(e,t,n,r){return void 0===r&&(r=0),dx(Ur.fromDom(t.startContainer)).fold(function(){return bx(e,t,n,r)},function(t){var r=e.createRng();r.selectNode(t.dom());var o=hx(r);return ve.some({range:r,text:gx(o,n),triggerChar:n})})},wx=function(e,t){t.on("keypress compositionend",e.onKeypress.throttle),t.on("remove",e.onKeypress.cancel);var n=function(e,t){Di(e,Jo(),{raw:t})};t.on("keydown",function(t){var r=function(){return e.getView().bind(Ug.getHighlighted)};8===t.which&&e.onKeypress.throttle(t),e.isActive()&&(27===t.which&&e.cancelIfNecessary(),e.isMenuOpen()?13===t.which?(r().each(Mi),t.preventDefault()):40===t.which?(r().fold(function(){e.getView().each(Ug.highlightFirst)},function(e){n(e,t)}),t.preventDefault(),t.stopImmediatePropagation()):37!==t.which&&38!==t.which&&39!==t.which||r().each(function(e){n(e,t),t.preventDefault(),t.stopImmediatePropagation()}):13!==t.which&&38!==t.which&&40!==t.which||e.cancelIfNecessary())}),t.on("NodeChange",function(t){e.isActive()&&!e.isProcessingAction()&&dx(Ur.fromDom(t.element)).isNone()&&e.cancelIfNecessary()})},xx={setup:wx},_x=tinymce.util.Tools.resolve("tinymce.util.Promise"),Cx=function(e,t){return{container:e,offset:t}},Sx=function(e){return e.nodeType===t.Node.TEXT_NODE},Ex=function(e){return e.nodeType===t.Node.ELEMENT_NODE},kx=function(e){if(Sx(e))return Cx(e,e.data.length);var t=e.childNodes;return t.length>0?kx(t[t.length-1]):Cx(e,t.length)},Tx=function(e,t){var n=e.childNodes;return n.length>0&&t<n.length?Tx(n[t],0):n.length>0&&Ex(e)&&n.length===t?kx(n[n.length-1]):Cx(e,t)},Nx=function(e,t){return lx(e,t.container,t.offset,function(e,t){return 0===t?-1:t},e.getRoot()).filter(function(e){var t=e.container.data.charAt(e.offset-1);return!mx(t)}).isSome()},Ox=function(e){return function(t){var n=Tx(t.startContainer,t.startOffset);return!Nx(e,n)}},Ax=function(e,t,n){return at(n.triggerChars,function(n){return yx(e,t,n)})},Dx=function(e,t){var n=t(),r=e.selection.getRng();return Ax(e.dom,r,n).bind(function(n){return Mx(e,t,n)})},Mx=function(e,t,n,r){void 0===r&&(r={});var o=t(),i=e.selection.getRng(),a=i.startContainer.nodeValue,u=qe(o.lookupByChar(n.triggerChar),function(t){return n.text.length>=t.minChars&&t.matches.getOrThunk(function(){return Ox(e.dom)})(n.range,a,n.text)});if(0===u.length)return ve.none();var s=_x.all(Fe(u,function(e){return e.fetch(n.text,e.maxResults,r).then(function(t){return{matchText:n.text,items:t,columns:e.columns,onAction:e.onAction}})}));return ve.some({lookupData:s,context:n})},Ix=Rn([pr("type"),Cr("text")]),Rx=function(e){return Yn("separatormenuitem",Ix,e)},Px=Rn([Pr("type",function(){return"autocompleteitem"}),Pr("active",function(){return!1}),Pr("disabled",function(){return!1}),Tr("meta",{}),pr("value"),Cr("text"),Cr("icon")]),Lx=Rn([pr("type"),pr("ch"),Or("minChars",1),Tr("columns",1),Or("maxResults",10),Sr("matches"),mr("fetch"),mr("onAction")]),jx=function(e){return Yn("Autocompleter.Separator",Ix,e)},Bx=function(e){return Yn("Autocompleter.Item",Px,e)},zx=function(e){return Yn("Autocompleter",Lx,e)},Fx=function(e){var t={};return He(e,function(e){t[e]={}}),Ct(t)},Hx=function(e){var t=e.ui.registry.getAll().popups,n=kt(t,function(e){return zx(e).fold(function(e){throw new Error(Qn(e))},function(e){return e})}),r=Fx(Dt(n,function(e){return e.ch})),o=It(n);return{dataset:n,triggerChars:r,lookupByChar:function(e){return qe(o,function(t){return t.ch===e})}}};!function(e){e[e.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",e[e.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"}(dv||(dv={}));var Ux,Vx=dv,qx="tox-menu-nav__js",Wx={normal:qx,color:"tox-swatch"},Gx="tox-collection__item-label",$x="tox-collection__item--active",Xx=function(e){return Rt(Wx,e).getOr(qx)},Yx=function(e){return"color"===e?"tox-swatches":"tox-menu"},Kx=function(e){return{backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:Yx(e),tieredMenu:"tox-tiered-menu"}},Jx=function(e){var t=Kx(e);return{backgroundMenu:t.backgroundMenu,selectedMenu:t.selectedMenu,menu:t.menu,selectedItem:t.selectedItem,item:Xx(e)}},Qx=function(e,t,n){var r=Kx(n);return{tag:"div",classes:Ke([[r.menu,"tox-menu-"+t+"-column"],e?[r.hasIcons]:[]])}},Zx=[_w.parts().items({})],e_=function(e,t,n){var r=Kx(n);return{dom:{tag:"div",classes:Ke([[r.tieredMenu]])},markers:Jx(n)}},t_=function(e,t){return function(n){var r=ze(n,t);return Fe(r,function(t){return{dom:e,components:t}})}},n_=function(e){return{dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[_w.parts().items({preprocess:"auto"!==e?t_({tag:"div",classes:["tox-swatches__row"]},e):ae})]}]}},r_=function(e){return{dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[_w.parts().items({preprocess:t_({tag:"div",classes:["tox-collection__group"]},e)})]}},o_=function(e,t){var n=[],r=[];return He(e,function(e,o){t(e,o)?(r.length>0&&n.push(r),r=[],Pt(e.dom,"innerHtml")&&r.push(e)):r.push(e)}),r.length>0&&n.push(r),Fe(n,function(e){return{dom:{tag:"div",classes:["tox-collection__group"]},components:e}})},i_=function(e,t,n){return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(1===e?["tox-collection--list"]:["tox-collection--grid"])},components:[_w.parts().items({preprocess:function(n){return"auto"!==e&&e>1?t_({tag:"div",classes:["tox-collection__group"]},e)(n):o_(n,function(e,n){return"separator"===t[n].type})}})]}},a_=function(e,t){return{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[_w.parts().items({preprocess:function(t){return o_(t,function(t,n){return"separator"===e[n].type})}})]}},u_=function(e){return je(e,function(e){return"icon"in e&&void 0!==e.icon})},s_=function(e){return t.console.error(Qn(e)),t.console.log(e),ve.none()},c_=function(e,t,n,r,o){var i=a_(n);return{value:e,dom:i.dom,components:i.components,items:n}},l_=function(e,t,n,r,o){if("color"===o){var i=n_(r);return{value:e,dom:i.dom,components:i.components,items:n}}if("normal"===o&&"auto"===r){var i=i_(r,n);return{value:e,dom:i.dom,components:i.components,items:n}}if("normal"===o&&1===r){var i=i_(1,n);return{value:e,dom:i.dom,components:i.components,items:n}}if("normal"===o){var i=i_(r,n);return{value:e,dom:i.dom,components:i.components,items:n}}if("listpreview"===o&&"auto"!==r){var i=r_(r);return{value:e,dom:i.dom,components:i.components,items:n}}return{value:e,dom:Qx(t,r,o),components:Zx,items:n}},f_=[Mr("disabled",!1),Cr("text"),Cr("shortcut"),Fn("value","value",Jt(function(){return qa("menuitem-value")}),tr()),Tr("meta",{})],d_=Rn([pr("type"),Mr("active",!1),Cr("icon")].concat(f_)),p_=function(e){return Yn("choicemenuitem",d_,e)},h_=["inserttable","colorswatch"],m_=Rn([pr("type"),hr("fancytype",h_),Ir("onAction",te)]),g_=function(e){return Yn("fancymenuitem",m_,e)},v_=Rn([pr("type"),Ir("onSetup",function(){return te}),Ir("onAction",te),Cr("icon")].concat(f_)),b_=function(e){return Yn("menuitem",v_,e)},y_=Rn([pr("type"),mr("getSubmenuItems"),Ir("onSetup",function(){return te}),Cr("icon")].concat(f_)),w_=function(e){return Yn("nestedmenuitem",y_,e)},x_=Rn([pr("type"),Cr("icon"),Mr("active",!1),Ir("onSetup",function(){return te}),mr("onAction")].concat(f_)),__=function(e){return Yn("togglemenuitem",x_,e)},C_=function(e,t,n){var r=qd(e.element(),"."+n);if(r.length>0){var o=Ye(r,function(e){var n=e.dom().getBoundingClientRect().top,o=r[0].dom().getBoundingClientRect().top;return Math.abs(n-o)>t}).getOr(r.length);return ve.some({numColumns:o,numRows:Math.ceil(r.length/o)})}return ve.none()},S_=function(e,t){return Gl([Ty(e,t)])},E_=function(e){return S_(qa("unnamed-events"),e)},k_={namedEvents:S_,unnamedEvents:E_},T_=[lr("lazySink"),lr("tooltipDom"),Tr("exclusive",!0),Tr("tooltipComponents",[]),Tr("delay",300),Dr("mode","normal",["normal","follow-highlight"]),Tr("anchor",function(e){return{anchor:"hotspot",hotspot:e,layouts:{onLtr:ie([Al,Ol,El,Tl,kl,Nl]),onRtl:ie([Al,Ol,El,Tl,kl,Nl])}}}),Xc("onHide"),Xc("onShow")],N_=function(){var e=Lr(ve.none()),n=Lr(ve.none()),r=function(){return n.get()},o=function(e){n.set(ve.some(e))},i=function(){n.set(ve.none())},a=function(){e.get().each(function(e){t.clearTimeout(e)})},u=function(n,r){a(),e.set(ve.some(t.setTimeout(function(){n()},r)))},s=function(){return n.get().isSome()},c=ie("not-implemented");return fu({getTooltip:r,isShowing:s,setTooltip:o,clearTooltip:i,clearTimer:a,resetTimer:u,readState:c})},O_=Object.freeze({__proto__:null,init:N_}),A_=qa("tooltip.exclusive"),D_=qa("tooltip.show"),M_=qa("tooltip.hide"),I_=function(e,t,n){e.getSystem().broadcastOn([A_],{})},R_=function(e,t,n,r){n.getTooltip().each(function(e){e.getSystem().isConnected()&&Ey.set(e,r)})},P_=Object.freeze({__proto__:null,hideAllExclusive:I_,setComponents:R_}),L_=function(e,t){var n=function(n){t.getTooltip().each(function(r){Yp(r),e.onHide(n,r),t.clearTooltip()}),t.clearTimer()},r=function(n){if(!t.isShowing()){I_(n);var r=e.lazySink(n).getOrDie(),o=n.getSystem().build({dom:e.tooltipDom,components:e.tooltipComponents,events:Li("normal"===e.mode?[zi(Xo(),function(e){Ai(n,D_)}),zi(Go(),function(e){Ai(n,M_)})]:[]),behaviours:Gl([Ey.config({})])});t.setTooltip(o),Gp(r,o),e.onShow(n,o),Fp.position(r,e.anchor(n),o)}};return Li(Ke([[zi(D_,function(n){t.resetTimer(function(){r(n)},e.delay)}),zi(M_,function(r){t.resetTimer(function(){n(r)},e.delay)}),zi(si(),function(e,t){Le(t.channels(),A_)&&n(e)}),Yi(function(e){n(e)})],"normal"===e.mode?[zi(Yo(),function(e){Ai(e,D_)}),zi(ai(),function(e){Ai(e,M_)}),zi(Xo(),function(e){Ai(e,D_)}),zi(Go(),function(e){Ai(e,M_)})]:[zi(Ni(),function(e,t){Ai(e,D_)}),zi(Oi(),function(e){Ai(e,M_)})]]))},j_=Object.freeze({__proto__:null,events:L_}),B_=Xl({fields:T_,name:"tooltipping",active:j_,state:O_,apis:P_}),z_=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),F_=tinymce.util.Tools.resolve("tinymce.util.I18n"),H_=["input","button","textarea","select"],U_=function(e,t,n){(t.disabled()?K_:J_)(e,t,n)},V_=function(e,t){return!0===t.useNative&&Le(H_,Qi(e.element()))},q_=function(e){return Ra(e.element(),"disabled")},W_=function(e){Aa(e.element(),"disabled","disabled")},G_=function(e){Pa(e.element(),"disabled")},$_=function(e){return"true"===Ma(e.element(),"aria-disabled")},X_=function(e){Aa(e.element(),"aria-disabled","true")},Y_=function(e){Aa(e.element(),"aria-disabled","false")},K_=function(e,t,n){t.disableClass.each(function(t){Vu(e.element(),t)}),(V_(e,t)?W_:X_)(e),t.onDisabled(e)},J_=function(e,t,n){t.disableClass.each(function(t){Wu(e.element(),t)}),(V_(e,t)?G_:Y_)(e),t.onEnabled(e)},Q_=function(e,t){return V_(e,t)?q_(e):$_(e)},Z_=function(e,t,n,r){(r?K_:J_)(e,t,n)},eC=Object.freeze({__proto__:null,enable:J_,disable:K_,isDisabled:Q_,onLoad:U_,set:Z_}),tC=function(e,t){return gu({classes:t.disabled()?t.disableClass.toArray():[]})},nC=function(e,t){return Li([ji(ci(),function(t,n){return Q_(t,e)}),Fl(e,t,U_)])},rC=Object.freeze({__proto__:null,exhibit:tC,events:nC}),oC=[Ir("disabled",ce),Tr("useNative",!0),wr("disableClass"),Xc("onDisabled"),Xc("onEnabled")],iC=Xl({fields:oC,name:"disabling",active:rC,apis:eC}),aC=tinymce.util.Tools.resolve("tinymce.EditorManager"),uC=function(e){var t=e.getParam("skin"),n=e.getParam("skin_url");if(!1!==t){var r=t||"oxide";n=n?e.documentBaseURI.toAbsolute(n):aC.baseURL+"/skins/ui/"+r}return n},sC=function(e){return e.getParam("readonly",!1,"boolean")},cC=function(e){return!1===e.getParam("skin")},lC=function(e){return e.getParam("height",Math.max(e.getElement().offsetHeight,200))},fC=function(e){return e.getParam("width",z_.DOM.getStyle(e.getElement(),"width"))},dC=function(e){return ve.from(e.getParam("min_width")).filter(Oe)},pC=function(e){return ve.from(e.getParam("min_height")).filter(Oe)},hC=function(e){return ve.from(e.getParam("max_width")).filter(Oe)},mC=function(e){return ve.from(e.getParam("max_height")).filter(Oe)},gC=function(e){return ve.from(e.getParam("style_formats")).filter(Ce)},vC=function(e){return e.getParam("style_formats_merge",!1,"boolean")},bC=function(e){return e.getParam("removed_menuitems","")},yC=function(e){return!1!==e.getParam("menubar",!0,"boolean")},wC=function(e){var t=e.getParam("toolbar",!0),n=!0===t,r=xe(t),o=Ce(t)&&t.length>0;return!_C(e)&&(o||r||n)},xC=function(e){var t=Be(9,function(t){return e.getParam("toolbar"+(t+1),!1,"string")}),n=qe(t,function(e){return"string"==typeof e});return n.length>0?ve.some(n):ve.none()},_C=function(e){return xC(e).fold(function(){return e.getParam("toolbar",[],"string[]").length>0},function(){return!0})};!function(e){e.default="wrap",e.floating="floating",e.sliding="sliding",e.scrolling="scrolling"}(Ux||(Ux={}));var CC,SC=function(e){return e.getParam("toolbar_mode","","string")};!function(e){e.auto="auto",e.top="top",e.bottom="bottom"}(CC||(CC={}));var EC,kC=function(e){return e.getParam("toolbar_groups",{},"object")},TC=function(e){return e.getParam("toolbar_location",CC.auto,"string")},NC=function(e){return TC(e)===CC.bottom},OC=function(e){return e.getParam("fixed_toolbar_container","","string")},AC=function(e){var t=OC(e);return t.length>0&&e.inline?kc(as(),t):ve.none()},DC=function(e){return e.inline&&AC(e).isSome()},MC=function(e){return AC(e).getOr(as())},IC=function(e){return e.inline&&!yC(e)&&!wC(e)&&!_C(e)},RC=function(e){return(e.getParam("toolbar_sticky",!1,"boolean")||e.inline)&&!DC(e)&&!IC(e)},PC=function(e){return e.getParam("draggable_modal",!1,"boolean")},LC=function(e){var t=e.getParam("menu");return t?kt(t,function(e){return de(de({},e),{items:e.items})}):{}},jC=function(e){return e.getParam("menubar")},BC=function(e){return e.getParam("toolbar",!0)},zC=function(e){return e.getParam("file_picker_callback")},FC=function(e){return e.getParam("file_picker_types")},HC=function(e){return e.getParam("file_browser_callback_types")},UC=function(e){return!1===e.getParam("typeahead_urls")},VC=function(e){return e.getParam("anchor_top","#top","string")},qC=function(e){return e.getParam("anchor_bottom","#bottom","string")},WC=function(e){var t=e.getParam("file_picker_validator_handler",void 0,"function");return void 0===t?e.getParam("filepicker_validator_handler",void 0,"function"):t},GC=Rn([function(e){return fr(e,ir)}("readonly")]),$C=function(e,t){var n=e.outerContainer,r=n.element();t&&(e.mothership.broadcastOn([xh()],{target:r}),e.uiMothership.broadcastOn([xh()],{target:r})),e.mothership.broadcastOn(["silver.readonly"],{readonly:t}),e.uiMothership.broadcastOn(["silver.readonly"],{readonly:t})},XC=function(e,t){e.on("init",function(){e.mode.isReadOnly()&&$C(t,!0)}),e.on("SwitchMode",function(){return $C(t,e.mode.isReadOnly())}),sC(e)&&e.setMode("readonly")},YC=function(){var e;return nf.config({channels:(e={},e["silver.readonly"]={schema:GC,onReceive:function(e,t){iC.set(e,t.readonly)}},e)})},KC=function(e){return iC.config({disabled:e,disableClass:"tox-collection__item--state-disabled"})},JC=function(e){return iC.config({disabled:e})},QC=function(e){return iC.config({disabled:e,disableClass:"tox-tbtn--disabled"})},ZC=function(e){return iC.config({disabled:e,disableClass:"tox-tbtn--disabled",useNative:!1})},eS={item:KC,button:JC,splitButton:QC,toolbarButton:ZC},tS=function(e,t){var n=e.getApi(t);return function(e){e(n)}},nS=function(e,t){return Xi(function(n){tS(e,n)(function(n){var r=e.onSetup(n);null!==r&&void 0!==r&&t.set(r)})})},rS=function(e,t){return Yi(function(n){return tS(e,n)(t.get())})},oS=function(e,t){return Ji(function(n,r){tS(e,n)(e.onAction),e.triggersSubmenu||t!==Vx.CLOSE_ON_EXECUTE||(Ai(n,pi()),r.stop())})},iS={"alloy.execute":["disabling","alloy.base.behaviour","toggling","item-events"]},aS=function(e){return Je(e,function(e){return e.toArray()})},uS=function(e,t,n,r){var o=Lr(te);return{type:"item",dom:t.dom,components:aS(t.optComponents),data:e.data,eventOrder:iS,hasSubmenu:e.triggersSubmenu,itemBehaviours:Gl([Ty("item-events",[oS(e,n),nS(e,o),rS(e,o)]),eS.item(function(){return e.disabled||r.isReadOnly()}),YC(),Ey.config({})].concat(e.itemBehaviours))}},sS=function(e){return{value:e.value,meta:de({text:e.text.getOr("")},e.meta)}},cS=tinymce.util.Tools.resolve("tinymce.Env"),lS=function(e){var t={alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"},n={meta:"Ctrl",access:"Shift+Alt"},r=cS.mac?t:n,o=e.split("+"),i=Fe(o,function(e){var t=e.toLowerCase().trim();return Pt(r,t)?r[t]:e});return cS.mac?i.join(""):i.join("+")},fS=function(e){return{dom:{tag:"div",classes:["tox-collection__item-icon"],innerHtml:e}}},dS=function(e){return{dom:{tag:"div",classes:[Gx]},components:[Ds(F_.translate(e))]}},pS=function(e){return{dom:{tag:"div",classes:[Gx],innerHtml:e}}},hS=function(e,t){return{dom:{tag:"div",classes:[Gx]},components:[{dom:{tag:e.tag,styles:e.styles},components:[Ds(F_.translate(t))]}]}},mS=function(e){return{dom:{tag:"div",classes:["tox-collection__item-accessory"],innerHtml:lS(e)}}},gS=function(e){return{dom:{tag:"div",classes:["tox-collection__item-checkmark"],innerHtml:ex("checkmark",e)}}},vS=function(e){return{dom:{tag:"div",classes:["tox-collection__item-caret"],innerHtml:ex("chevron-right",e)}}},bS=function(e){return{dom:{tag:"div",classes:["tox-collection__item-caret"],innerHtml:ex("chevron-down",e)}}},yS=function(e,t,n,r){return{dom:function(){var i=n.getOr(""),a=e.map(function(e){return{title:r.translate(e)}}).getOr({}),u={tag:"div",attributes:a,classes:["tox-swatch"]};return"custom"===t?de(de({},u),{tag:"button",classes:o(u.classes,["tox-swatches__picker-btn"]),innerHtml:i}):"remove"===t?de(de({},u),{classes:o(u.classes,["tox-swatch--remove"]),innerHtml:i}):de(de({},u),{attributes:de(de({},u.attributes),{"data-mce-color":t}),styles:{"background-color":t}})}(),optComponents:[]}},wS=function(e,t,n,r,o){var i=n?t.or(ve.some("")).map(fS):ve.none(),a=e.checkMark,u=e.ariaLabel.map(function(e){return{attributes:{title:F_.translate(e)}}}).getOr({});return{dom:de({tag:"div",classes:[qx,"tox-collection__item"].concat(o?["tox-collection__item-icon-rtl"]:[])},u),optComponents:[i,e.htmlContent.fold(function(){return e.textContent.map(r)},function(e){return ve.some(pS(e))}),e.shortcutContent.map(mS),a,e.caret]}},xS=["list-num-default","list-num-lower-alpha","list-num-lower-greek","list-num-lower-roman","list-num-upper-alpha","list-num-upper-roman"],_S=["list-bull-circle","list-bull-default","list-bull-square"],CS=function(e,t,r,o){void 0===o&&(o=ve.none());var i=F_.isRtl()&&e.iconContent.exists(function(e){return Le(_S,e)}),a=function(e){return e.map(function(e){return F_.isRtl()&&Le(xS,e)?e+"-rtl":e})}(e.iconContent).map(function(e){return tx(e,t.icons,o)}),u=ve.from(e.meta).fold(function(){return dS},function(e){return Pt(e,"style")?n(hS,e.style):dS});return"color"===e.presets?yS(e.ariaLabel,e.value,a,t):wS(e,a,r,u,i)},SS=function(e,t){return Rt(e,"tooltipWorker").map(function(e){return[B_.config({lazySink:t.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:function(e){return{anchor:"submenu",item:e,overrides:{maxHeightFunction:Ff}}},mode:"follow-highlight",onShow:function(t,n){e(function(e){B_.setComponents(t,[Ms({element:Ur.fromDom(e)})])})}})]}).getOr([])},ES=function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},kS=function(e){return z_.DOM.encode(e)},TS=function(e,t){var n=F_.translate(e),r=kS(n);if(t.length>0){var o=new RegExp(ES(t),"gi");return r.replace(o,function(e){return'<span class="tox-autocompleter-highlight">'+e+"</span>"})}return r},NS=function(e,t,n,r,o,i,a,u){void 0===u&&(u=!0);var s=CS({presets:r,textContent:ve.none(),htmlContent:n?e.text.map(function(e){return TS(e,t)}):ve.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:ve.none(),checkMark:ve.none(),caret:ve.none(),value:e.value},a.providers,u,e.icon);return uS({data:sS(e),disabled:e.disabled,getApi:function(){return{}},onAction:function(t){return o(e.value,e.meta)},onSetup:function(){return function(){}},triggersSubmenu:!1,itemBehaviours:SS(e.meta,a)},s,i,a.providers)},OS=function(e,t,n,r,o,i,a,u){void 0===u&&(u=!0);var s=function(e){return{setActive:function(t){ew.set(e,t)},isActive:function(){return ew.isOn(e)},isDisabled:function(){return iC.isDisabled(e)},setDisabled:function(t){return iC.set(e,t)}}},c=CS({presets:n,textContent:t?e.text:ve.none(),htmlContent:ve.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:t?e.shortcut:ve.none(),checkMark:t?ve.some(gS(a.icons)):ve.none(),caret:ve.none(),value:e.value},a,u);return Vt(uS({data:sS(e),disabled:e.disabled,getApi:s,onAction:function(t){return r(e.value)},onSetup:function(e){return e.setActive(o),function(){}},triggersSubmenu:!1,itemBehaviours:[]},c,i,a),{toggling:{toggleClass:"tox-collection__item--enabled",toggleOnExecute:!1,selected:e.active}})},AS=ie(Um("item-widget",fw())),DS=qa("cell-over"),MS=qa("cell-execute"),IS=function(e,t,n){var r,o=function(n){return Di(n,DS,{row:e,col:t})},i=function(n){return Di(n,MS,{row:e,col:t})},a=function(e,t){t.stop(),i(e)};return Rs({dom:{tag:"div",attributes:(r={role:"button"},r["aria-labelledby"]=n,r)},behaviours:Gl([Ty("insert-table-picker-cell",[zi(Xo(),Ly.focus),zi(ci(),i),zi(ti(),a),zi(fi(),a)]),ew.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Ly.config({onFocus:o})])})},RS=function(e,t,n){for(var r=[],o=0;o<t;o++){for(var i=[],a=0;a<n;a++)i.push(IS(o,a,e));r.push(i)}return r},PS=function(e,t,n,r,o){for(var i=0;i<r;i++)for(var a=0;a<o;a++)ew.set(e[i][a],i<=t&&a<=n)},LS=function(e){return Je(e,function(e){return Fe(e,Ps)})},jS=function(e,t){return Ds(t+1+"x"+(e+1))},BS=function(e){var t=qa("size-label"),n=RS(t,10,10),r=Qw({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:t}},components:[Ds("0x0")],behaviours:Gl([Ey.config({})])});return{type:"widget",data:{value:qa("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[AS().widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:LS(n).concat(r.asSpec()),behaviours:Gl([Ty("insert-table-picker",[qi(DS,function(e,t,o){var i=o.event().row(),a=o.event().col();PS(n,i,a,10,10),Ey.set(r.get(e),[jS(i,a)])}),qi(MS,function(t,n,r){e.onAction({numRows:r.event().row()+1,numColumns:r.event().col()+1}),Ai(t,pi())})]),my.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},zS=function(e){return{value:e}},FS=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,HS=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,US=function(e){return FS.test(e)||HS.test(e)},VS=function(e){return{value:e.value.replace(FS,function(e,t,n,r){return t+t+n+n+r+r})}},qS=function(e){var t=VS(e),n=HS.exec(t.value);return null===n?["FFFFFF","FF","FF","FF"]:n},WS=function(e){var t=e.toString(16);return 1===t.length?"0"+t:t},GS=function(e){var t=WS(e.red)+WS(e.green)+WS(e.blue);return zS(t)},$S=Math.min,XS=Math.max,YS=Math.round,KS=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,JS=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,QS=function(e,t,n,r){return{red:e,green:t,blue:n,alpha:r}},ZS=function(e){var t=parseInt(e,10);return t.toString()===e&&t>=0&&t<=255},eE=function(e){var t,n,r,o=(e.hue||0)%360,i=e.saturation/100,a=e.value/100;if(i=XS(0,$S(i,1)),a=XS(0,$S(a,1)),0===i)return t=n=r=YS(255*a),QS(t,n,r,1);var u=o/60,s=a*i,c=s*(1-Math.abs(u%2-1)),l=a-s;switch(Math.floor(u)){case 0:t=s,n=c,r=0;break;case 1:t=c,n=s,r=0;break;case 2:t=0,n=s,r=c;break;case 3:t=0,n=c,r=s;break;case 4:t=c,n=0,r=s;break;case 5:t=s,n=0,r=c;break;default:t=n=r=0}return t=YS(255*(t+l)),n=YS(255*(n+l)),r=YS(255*(r+l)),QS(t,n,r,1)},tE=function(e){var t=qS(e),n=parseInt(t[1],16),r=parseInt(t[2],16),o=parseInt(t[3],16);return QS(n,r,o,1)},nE=function(e,t,n,r){var o=parseInt(e,10),i=parseInt(t,10),a=parseInt(n,10),u=parseFloat(r);return QS(o,i,a,u)},rE=function(e){if("transparent"===e)return ve.some(QS(0,0,0,0));var t=KS.exec(e);if(null!==t)return ve.some(nE(t[1],t[2],t[3],"1"));var n=JS.exec(e);return null!==n?ve.some(nE(n[1],n[2],n[3],n[4])):ve.none()},oE=function(e){return"rgba("+e.red+","+e.green+","+e.blue+","+e.alpha+")"},iE=QS(255,0,0,1),aE=function(e){return e.fire("SkinLoaded")},uE=function(e,t){return e.fire("SkinLoadError",t)},sE=function(e){return e.fire("ResizeEditor")},cE=function(e,t){return e.fire("ResizeContent",t)},lE=function(e,t){return e.fire("ScrollContent",t)},fE=function(e,t){return e.fire("TextColorChange",t)},dE=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),pE="tinymce-custom-colors",hE="choiceitem",mE=[{type:hE,text:"Light Green",value:"#BFEDD2"},{type:hE,text:"Light Yellow",value:"#FBEEB8"},{type:hE,text:"Light Red",value:"#F8CAC6"},{type:hE,text:"Light Purple",value:"#ECCAFA"},{type:hE,text:"Light Blue",value:"#C2E0F4"},{type:hE,text:"Green",value:"#2DC26B"},{type:hE,text:"Yellow",value:"#F1C40F"},{type:hE,text:"Red",value:"#E03E2D"},{type:hE,text:"Purple",value:"#B96AD9"},{type:hE,text:"Blue",value:"#3598DB"},{type:hE,text:"Dark Turquoise",value:"#169179"},{type:hE,text:"Orange",value:"#E67E23"},{type:hE,text:"Dark Red",value:"#BA372A"},{type:hE,text:"Dark Purple",value:"#843FA1"},{type:hE,text:"Dark Blue",value:"#236FA1"},{type:hE,text:"Light Gray",value:"#ECF0F1"},{type:hE,text:"Medium Gray",value:"#CED4D9"},{type:hE,text:"Gray",value:"#95A5A6"},{type:hE,text:"Dark Gray",value:"#7E8C8D"},{type:hE,text:"Navy Blue",value:"#34495E"},{type:hE,text:"Black",value:"#000000"},{type:hE,text:"White",value:"#ffffff"}],gE=function(e){void 0===e&&(e=10);var t=dE.getItem(pE),n=xe(t)?JSON.parse(t):[],r=function(t){return e-t.length<0?t.slice(0,e):t}(n),o=function(e){r.splice(e,1)};return{add:function(t){Pe(r,t).each(o),r.unshift(t),r.length>e&&r.pop(),dE.setItem(pE,JSON.stringify(r))},state:function(){return r.slice(0)}}}(10),vE=function(e){var n=[],r=t.document.createElement("canvas");r.height=1,r.width=1;for(var o=r.getContext("2d"),i=function(e,t){var n=t/255;return("0"+Math.round(e*n+255*(1-n)).toString(16)).slice(-2).toUpperCase()},a=0;a<e.length;a+=2)n.push({text:e[a+1],value:function(e){if(/^[0-9A-Fa-f]{6}$/.test(e))return"#"+e.toUpperCase();o.clearRect(0,0,r.width,r.height),o.fillStyle="#FFFFFF",o.fillStyle=e,o.fillRect(0,0,1,1);var t=o.getImageData(0,0,1,1).data,n=t[0],a=t[1],u=t[2],s=t[3];return"#"+i(n,s)+i(a,s)+i(u,s)}(e[a]),type:"choiceitem"});return n},bE=function(e,t){return e.getParam("color_cols",t,"number")},yE=function(e){return!1!==e.getParam("custom_colors")},wE=function(e){return e.getParam("color_map")},xE=function(e){var t=wE(e);return void 0!==t?vE(t):mE},_E=function(){return Fe(gE.state(),function(e){return{type:hE,text:e,value:e}})},CE=function(e){gE.add(e)},SE=function(e,t){var n;return e.dom.getParents(e.selection.getStart(),function(e){var r;(r=e.style["forecolor"===t?"color":"background-color"])&&(n=n||r)}),n},EE=function(e,t,n){e.undoManager.transact(function(){e.focus(),e.formatter.apply(t,{value:n}),e.nodeChanged()})},kE=function(e,t){e.undoManager.transact(function(){e.focus(),e.formatter.remove(t,{value:null},null,!0),e.nodeChanged()})},TE=function(e){e.addCommand("mceApplyTextcolor",function(t,n){EE(e,t,n)}),e.addCommand("mceRemoveTextcolor",function(t){kE(e,t)})},NE=function(e){return Math.max(5,Math.ceil(Math.sqrt(e)))},OE=function(e){var t=xE(e),n=NE(t.length);return bE(e,n)},AE=function(e){var t={type:"choiceitem",text:"Remove color",icon:"color-swatch-remove-color",value:"remove"},n={type:"choiceitem",text:"Custom color",icon:"color-picker",value:"custom"};return e?[t,n]:[t]},DE=function(e,t,n,r){if("custom"===n){jE(e)(function(n){n.each(function(n){CE(n),e.execCommand("mceApplyTextcolor",t,n),r(n)})},"#000000")}else"remove"===n?(r(""),e.execCommand("mceRemoveTextcolor",t)):(r(n),e.execCommand("mceApplyTextcolor",t,n))},ME=function(e,t){return e.concat(_E().concat(AE(t)))},IE=function(e,t){return function(n){n(ME(e,t))}},RE=function(e,t,n){var r="forecolor"===t?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";!function(t,n){e.setIconFill(t,n),e.setIconStroke(t,n)}(r,n)},PE=function(e,t,n,r,o){e.ui.registry.addSplitButton(t,{tooltip:r,presets:"color",icon:"forecolor"===t?"text-color":"highlight-bg-color",select:function(t){return ve.from(SE(e,n)).bind(function(e){return rE(e).map(function(e){var n=GS(e).value;return co(t.toLowerCase(),n)})}).getOr(!1)},columns:OE(e),fetch:IE(xE(e),yE(e)),onAction:function(t){null!==o.get()&&DE(e,n,o.get(),function(){})},onItemAction:function(r,i){DE(e,n,i,function(n){o.set(n),fE(e,{name:t,color:n})})},onSetup:function(n){null!==o.get()&&RE(n,t,o.get());var r=function(e){e.name===t&&RE(n,e.name,e.color)};return e.on("TextColorChange",r),function(){e.off("TextColorChange",r)}}})},LE=function(e,t,n,r){e.ui.registry.addNestedMenuItem(t,{text:r,icon:"forecolor"===t?"text-color":"highlight-bg-color",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"colorswatch",onAction:function(t){DE(e,n,t.value,te)}}]}})},jE=function(e){return function(t,n){var r=function(e,t){"hex-valid"===t.name&&(t.value?e.enable("ok"):e.disable("ok"))},o={colorpicker:n},i=function(e){return function(t){var n=t.getData();e(ve.from(n.colorpicker)),t.close()}}(t);e.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:o,onAction:r,onSubmit:i,onClose:function(){},onCancel:function(){t(ve.none())}})}},BE=function(e){TE(e);var t=Lr(null),n=Lr(null);PE(e,"forecolor","forecolor","Text color",t),PE(e,"backcolor","hilitecolor","Background color",n),LE(e,"forecolor","forecolor","Text color"),LE(e,"backcolor","hilitecolor","Background color")},zE=function(e,t,n,r,o,i,a,u){var s=u_(t),c="color"!==o?"normal":"color",l=FE(t,n,r,c,i,a,u);return l_(e,s,l,r,o)},FE=function(e,t,n,r,o,i,a){return hg(Fe(e,function(u){return"choiceitem"===u.type?p_(u).fold(s_,function(s){return ve.some(OS(s,1===n,r,t,i(u.value),o,a,u_(e)))}):ve.none()}))},HE=function(e,t){var n=Jx(t);return 1===e?{mode:"menu",moveOnTab:!0}:"auto"===e?{mode:"grid",selector:"."+n.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+("color"===t?"tox-swatches__row":"tox-collection__group")}},UE=function(e,t){return 1===e?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:"auto"===e?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:"color"===t?".tox-swatches__row":".tox-collection__group",cell:"color"===t?".tox-swatch":".tox-collection__item"}}},VE={inserttable:BS,colorswatch:c},qE=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)?ve.some(e[t]):ve.none()},WE=function(e,t){return qE(VE,e.fancytype).map(function(n){return n(e,t)})},GE=function(e,t,n,r){void 0===r&&(r=!0);var o=function(e){return{isDisabled:function(){return iC.isDisabled(e)},setDisabled:function(t){return iC.set(e,t)}}},i=CS({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:ve.none(),ariaLabel:e.text,caret:ve.none(),checkMark:ve.none(),shortcutContent:e.shortcut},n,r);return uS({data:sS(e),getApi:o,disabled:e.disabled,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},i,t,n)},$E=function(e,t,n,r,o){void 0===r&&(r=!0),void 0===o&&(o=!1);var i=o?bS(n.icons):vS(n.icons),a=function(e){return{isDisabled:function(){return iC.isDisabled(e)},setDisabled:function(t){return iC.set(e,t)}}},u=CS({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:ve.none(),ariaLabel:e.text,caret:ve.some(i),checkMark:ve.none(),shortcutContent:e.shortcut},n,r);return uS({data:sS(e),getApi:a,disabled:e.disabled,onAction:te,onSetup:e.onSetup,triggersSubmenu:!0,itemBehaviours:[]},u,t,n)},XE=function(e){var t=e.text.fold(function(){return{}},function(e){return{innerHtml:e}});return{type:"separator",dom:de({tag:"div",classes:["tox-collection__item","tox-collection__group-heading"]},t),components:[]}},YE=function(e,t,n,r){void 0===r&&(r=!0);var o=function(e){return{setActive:function(t){ew.set(e,t)},isActive:function(){return ew.isOn(e)},isDisabled:function(){return iC.isDisabled(e)},setDisabled:function(t){return iC.set(e,t)}}},i=CS({iconContent:e.icon,textContent:e.text,htmlContent:ve.none(),ariaLabel:e.text,checkMark:ve.some(gS(n.icons)),caret:ve.none(),shortcutContent:e.shortcut,presets:"normal",meta:e.meta},n,r);return Vt(uS({data:sS(e),disabled:e.disabled,getApi:o,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},i,t,n),{toggling:{toggleClass:"tox-collection__item--enabled",toggleOnExecute:!1,selected:e.active}})},KE=NS,JE=XE,QE=GE,ZE=$E,ek=YE,tk=WE;!function(e){e[e.ContentFocus=0]="ContentFocus",e[e.UiFocus=1]="UiFocus"}(EC||(EC={}));var nk=function(e,n,r,o,i){var a=r.shared.providers,u=function(e){return i?de(de({},e),{shortcut:ve.none(),icon:e.text.isSome()?ve.none():e.icon}):e};switch(e.type){case"menuitem":return b_(e).fold(s_,function(e){return ve.some(QE(u(e),n,a,o))});case"nestedmenuitem":return w_(e).fold(s_,function(e){return ve.some(ZE(u(e),n,a,o,i))});case"togglemenuitem":return __(e).fold(s_,function(e){return ve.some(ek(u(e),n,a,o))});case"separator":return Rx(e).fold(s_,function(e){return ve.some(JE(e))});case"fancymenuitem":return g_(e).fold(s_,function(e){return tk(u(e),r)});default:return t.console.error("Unknown item in general menu",e),ve.none()}},rk=function(e,t,n,r,o,i){var a=1===r,u=!a||u_(e);return hg(Fe(e,function(e){return"separator"===e.type?jx(e).fold(s_,function(e){return ve.some(JE(e))}):Bx(e).fold(s_,function(e){return ve.some(KE(e,t,a,"normal",n,o,i,u))})}))},ok=function(e,t,n,r,o){var i=u_(t),a=hg(Fe(t,function(e){var t=function(e){return o?!e.hasOwnProperty("text"):i},a=function(e){return nk(e,n,r,t(e),o)};return a("nestedmenuitem"===e.type&&e.getSubmenuItems().length<=0?de(de({},e),{disabled:!0}):e)}));return(o?c_:l_)(e,i,a,1,"normal")},ik=function(e){return Rw.singleData(e.value,e)},ak=function(e,t,n,r){var o=n===EC.ContentFocus?fv():lv(),i=HE(t,r),a=Jx(r);return{dom:e.dom,components:e.components,items:e.items,value:e.value,markers:{selectedItem:a.selectedItem,item:a.item},movement:i,fakeFocus:n===EC.ContentFocus,focusManager:o,menuBehaviours:k_.unnamedEvents("auto"!==t?[]:[Xi(function(e,t){C_(e,4,a.item).each(function(t){var n=t.numColumns,r=t.numRows;my.setGridSize(e,r,n)})})])}},uk=function(e,n){var r=Lr(ve.none()),o=Lr(!1),i=Rs(jw.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:Gl([Ty("dismissAutocompleter",[zi(_i(),function(){return c()})])]),lazySink:n.getSink})),a=function(){return jw.isOpen(i)},u=function(){return r.get().isSome()},s=function(){u()&&jw.hide(i)},c=function(){if(u()){var t=r.get().map(function(e){return e.element});dx(t.getOr(Ur.fromDom(e.selection.getNode()))).each(Sa),s(),r.set(ve.none()),o.set(!1)}},l=Wt(function(){return Hx(e)}),f=function(r,i){var a=at(i,function(e){return ve.from(e.columns)}).getOr(1);return Je(i,function(i){var u=i.items;return rk(u,i.matchText,function(n,a){var u=e.selection.getRng();yx(e.dom,u,r).fold(function(){return t.console.error("Lost context. Cursor probably moved")},function(e){var t=e.range,r={hide:function(){c()},reload:function(e){s(),m(e)}};o.set(!0),i.onAction(r,t,n,a),o.set(!1)})},a,Vx.BUBBLE_TO_SANDBOX,n)})},d=function(t){if(!u()){var n=fx(e,t.range);r.set(ve.some({triggerChar:t.triggerChar,element:n,matchLength:t.text.length})),o.set(!1)}},p=function(t,n,r,o){t.matchLength=n.text.length;var a=at(r,function(e){return ve.from(e.columns)}).getOr(1);jw.showAt(i,{anchor:"node",root:Ur.fromDom(e.getBody()),node:ve.from(t.element)},_w.sketch(ak(l_("autocompleter-value",!0,o,a,"normal"),a,EC.ContentFocus,"normal"))),jw.getContent(i).each(Ug.highlightFirst)},h=function(t){return r.get().map(function(n){return yx(e.dom,e.selection.getRng(),n.triggerChar).bind(function(n){return Mx(e,l,n,t)})}).getOrThunk(function(){return Dx(e,l)})},m=function(e){h(e).fold(c,function(e){d(e.context),e.lookupData.then(function(t){r.get().map(function(n){var r=e.context;if(n.triggerChar===r.triggerChar){var o=f(r.triggerChar,t);o.length>0?p(n,r,t,o):r.text.length-n.matchLength>=10?c():s()}})})})},g=ux(function(e){27!==e.which&&m()},50),v={onKeypress:g,cancelIfNecessary:c,isMenuOpen:a,isActive:u,isProcessingAction:o.get,getView:function(){return jw.getContent(i)}};xx.setup(v,e)},sk={register:uk},ck=ie(!0),lk=function(e,t,n){return tc(e,t,ck,n)},fk=function(e,t,n){return nc(e,t,ck,n)},dk=Qs,pk=function(e,t,n){return Tc(e,t,n).isSome()},hk=function(e){var t=e.raw();return void 0===t.touches||1!==t.touches.length?ve.none():ve.some(t.touches[0])},mk=function(e,t){var n=Math.abs(e.clientX-t.x),r=Math.abs(e.clientY-t.y);return n>5||r>5},gk=function(e){var t=Lr(ve.none()),n=Lr(!1),r=l(function(t){e.triggerEvent(di(),t),n.set(!0)},400),o=function(e){return hk(e).each(function(o){r.cancel();var i={x:o.clientX,y:o.clientY,target:e.target()};r.schedule(e),n.set(!1),t.set(ve.some(i))}),ve.none()},i=function(e){return r.cancel(),hk(e).each(function(e){t.get().each(function(n){mk(e,n)&&t.set(ve.none())})}),ve.none()},a=function(o){r.cancel();var i=function(e){return To(e.target,o.target())};return t.get().filter(i).map(function(t){return n.get()?(o.prevent(),!1):e.triggerEvent(fi(),o)})},u=an([{key:Fo(),value:o},{key:Ho(),value:i},{key:Uo(),value:a}]);return{fireIfReady:function(e,t){return Rt(u,t).bind(function(t){return t(e)})}}},vk=function(e){return e.raw().which===Vg()[0]&&!Le(["input","textarea"],Qi(e.target()))&&!pk(e.target(),'[contenteditable="true"]')},bk=function(){return _o().browser.isFirefox()},yk=In([mr("triggerEvent"),Tr("stopBackspace",!0)]),wk=function(e,t){return bk()?fk(e,"focus",t):lk(e,"focusin",t)},xk=function(e,t){return bk()?fk(e,"blur",t):lk(e,"focusout",t)},_k=function(e,n){var r=Jn("Getting GUI events settings",yk,n),o=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],i=gk(r),a=Fe(o.concat(["selectstart","input","contextmenu","change","transitionend","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),function(t){return lk(e,t,function(e){i.fireIfReady(e,t).each(function(t){t&&e.kill()}),r.triggerEvent(t,e)&&e.kill()})}),u=Lr(ve.none()),s=lk(e,"paste",function(e){i.fireIfReady(e,"paste").each(function(t){t&&e.kill()}),r.triggerEvent("paste",e)&&e.kill(),u.set(ve.some(t.setTimeout(function(){r.triggerEvent(ui(),e)},0)))}),c=lk(e,"keydown",function(e){r.triggerEvent("keydown",e)?e.kill():!0===r.stopBackspace&&vk(e)&&e.prevent()}),l=wk(e,function(e){r.triggerEvent("focusin",e)&&e.kill()}),f=Lr(ve.none()),d=xk(e,function(e){r.triggerEvent("focusout",e)&&e.kill(),f.set(ve.some(t.setTimeout(function(){r.triggerEvent(ai(),e)},0)))});return{unbind:function(){He(a,function(e){e.unbind()}),c.unbind(),l.unbind(),d.unbind(),s.unbind(),u.get().each(t.clearTimeout),f.get().each(t.clearTimeout)}}},Ck=function(e,t){var n=Rt(e,"target").map(function(e){return e()}).getOr(t);return Lr(n)},Sk=function(e,t){var n=Lr(!1),r=Lr(!1);return{stop:function(){n.set(!0)},cut:function(){r.set(!0)},isStopped:n.get,isCut:r.get,event:ie(e),setSource:t.set,getSource:t.get}},Ek=function(e){var t=Lr(!1);return{stop:function(){t.set(!0)},cut:te,isStopped:t.get,isCut:ie(!1),event:ie(e),setSource:se("Cannot set source of a broadcasted event"),getSource:se("Cannot get source of a broadcasted event")}},kk=Bt.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),Tk=function(e,t,n,r,o,i){var a=e(t,r),u=Sk(n,o);return a.fold(function(){return i.logEventNoHandlers(t,r),kk.complete()},function(e){var n=e.descHandler;return Cu(n)(u),u.isStopped()?(i.logEventStopped(t,e.element,n.purpose()),kk.stopped()):u.isCut()?(i.logEventCut(t,e.element,n.purpose()),kk.complete()):ca(e.element).fold(function(){return i.logNoParent(t,e.element,n.purpose()),kk.complete()},function(r){return i.logEventResponse(t,e.element,n.purpose()),kk.resume(r)})})},Nk=function(e,t,n,r,o,i){return Tk(e,t,n,r,o,i).fold(function(){return!0},function(r){return Nk(e,t,n,r,o,i)},function(){return!1})},Ok=function(e,t,n,r,o){var i=Ck(n,r);return Tk(e,t,n,r,i,o)},Ak=function(e,t,n){var r=Ek(t);return He(e,function(e){var t=e.descHandler();Cu(t)(r)}),r.isStopped()},Dk=function(e,t,n,r){var o=n.target();return Mk(e,t,n,o,r)},Mk=function(e,t,n,r,o){var i=Ck(n,r);return Nk(e,t,n,r,i,o)},Ik=function(e,t){return{element:e,descHandler:t}},Rk=function(e,t){return{id:ie(e),descHandler:ie(t)}},Pk=function(e){var t=e.dom,n=t.attributes,o=r(t,["attributes"]);return{uid:e.uid,dom:de({tag:"div",attributes:de({role:"presentation"},n)},o),components:e.components,behaviours:om(e.containerBehaviours),events:e.events,domModification:e.domModification,eventOrder:e.eventOrder}},Lk=dg({name:"Container",factory:Pk,configFields:[Tr("components",[]),rm("containerBehaviours",[]),Tr("events",{}),Tr("domModification",{}),Tr("eventOrder",{})]}),jk=function(e){var t=function(t){return ca(e.element()).fold(function(){return!0},function(e){return To(t,e)})},n=d(),r=function(e,r){return n.find(t,e,r)},o=_k(e.element(),{triggerEvent:function(e,t){return zc(e,t.target(),function(n){return Dk(r,e,t,n)})}}),i={debugInfo:ie("real"),triggerEvent:function(e,t,n){zc(e,t,function(o){return Mk(r,e,n,t,o)})},triggerFocus:function(e,t){Ja(e).fold(function(){uf(e)},function(n){zc(ii(),e,function(n){return Ok(r,ii(),{originator:ie(t),kill:te,prevent:te,target:ie(e)},e,n),!1})})},triggerEscape:function(e,t){i.triggerEvent("keydown",e.element(),t.event())},getByUid:function(e){return g(e)},getByDom:function(e){return v(e)},build:Rs,addToGui:function(e){s(e)},removeFromGui:function(e){c(e)},addToWorld:function(e){a(e)},removeFromWorld:function(e){u(e)},broadcast:function(e){p(e)},broadcastOn:function(e,t){h(e,t)},broadcastEvent:function(e,t){m(e,t)},isConnected:ie(!0)},a=function(e){e.connect(i),na(e.element())||(n.register(e),He(e.components(),a),i.triggerEvent(mi(),e.element(),{target:ie(e.element())}))},u=function(e){na(e.element())||(He(e.components(),u),n.unregister(e)),e.disconnect()},s=function(t){Gp(e,t)},c=function(e){Yp(e)},l=function(){o.unbind(),Ca(e.element())},f=function(e){var t=n.filter(si());He(t,function(t){var n=t.descHandler();Cu(n)(e)})},p=function(e){f({universal:ie(!0),data:ie(e)})},h=function(e,t){f({universal:ie(!1),channels:ie(e),data:ie(t)})},m=function(e,t){var r=n.filter(e);return Ak(r,t)},g=function(e){return n.getById(e).fold(function(){return lt.error(new Error('Could not find component with uid: "'+e+'" in system.'))},lt.value)},v=function(e){var t=Ja(e).getOr("not found");return g(t)};return a(e),{root:ie(e),element:e.element,destroy:l,add:s,remove:c,getByUid:g,getByDom:v,addToWorld:a,removeFromWorld:u,broadcast:p,broadcastOn:h,broadcastEvent:m}},Bk=function(e,t){return{dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:Fe(e.items,t.interpreter)}},zk=ie([Tr("prefix","form-field"),rm("fieldBehaviours",[_g,nm])]),Fk=ie([Lm({schema:[lr("dom")],name:"label"}),Lm({factory:{sketch:function(e){return{uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}}}},schema:[lr("text")],name:"aria-descriptor"}),Rm({factory:{sketch:function(e){var t=rn(e,["factory"]);return e.factory.sketch(t)}},schema:[lr("factory")],name:"field"})]),Hk=function(e,t,n,r){var o=im(e.fieldBehaviours,[_g.config({find:function(t){return Ym(t,e,"field")}}),nm.config({store:{mode:"manual",getValue:function(e){return _g.getCurrent(e).bind(nm.getValue)},setValue:function(e,t){_g.getCurrent(e).each(function(e){nm.setValue(e,t)})}}})]),i=Li([Xi(function(t,n){var r=Jm(t,e,["label","field","aria-descriptor"]);r.field().each(function(t){var n=qa(e.prefix);r.label().each(function(e){Aa(e.element(),"for",n),Aa(t.element(),"id",n)}),r["aria-descriptor"]().each(function(n){var r=qa(e.prefix);Aa(n.element(),"id",r),Aa(t.element(),"aria-describedby",r)})})})]),a={getField:function(t){return Ym(t,e,"field")},getLabel:function(t){return Ym(t,e,"label")}};return{uid:e.uid,dom:e.dom,components:t,behaviours:o,events:i,apis:a}},Uk=pg({name:"FormField",configFields:zk(),partFields:Fk(),factory:Hk,apis:{getField:function(e,t){return e.getField(t)},getLabel:function(e,t){return e.getLabel(t)}}}),Vk=function(e,t){return gu({attributes:an([{key:t.tabAttr,value:"true"}])})},qk=Object.freeze({__proto__:null,exhibit:Vk}),Wk=[Tr("tabAttr","data-alloy-tabstop")],Gk=Xl({fields:Wk,name:"tabstopping",active:qk}),$k=function(e,t,n,r){var o=Yk(e,t,n,r);return Uk.sketch(o)},Xk=function(e,t){return $k(e,t,[],[])},Yk=function(e,t,n,r){return{dom:Jk(n),components:e.toArray().concat([t]),fieldBehaviours:Gl(r)}},Kk=function(){return Jk([])},Jk=function(e){return{tag:"div",classes:["tox-form__group"].concat(e)}},Qk=function(e,t){return Uk.parts().label({dom:{tag:"label",classes:["tox-label"],innerHtml:t.translate(e)}})},Zk=qa("form-component-change"),eT=qa("form-close"),tT=qa("form-cancel"),nT=qa("form-action"),rT=qa("form-submit"),oT=qa("form-block"),iT=qa("form-unblock"),aT=qa("form-tabchange"),uT=qa("form-resize"),sT=function(e,t){var n=e.label.map(function(e){return Qk(e,t)}),r=function(e){return function(t,n){Tc(n.event().target(),"[data-collection-item-value]").each(function(r){e(t,n,r,Ma(r,"data-collection-item-value"))})}},o=function(e){return'"'===e?"&quot;":e},i=function(n,r){var i=Fe(r,function(n){var r=F_.translate(n.text),i=1===e.columns?'<div class="tox-collection__item-label">'+r+"</div>":"",a='<div class="tox-collection__item-icon">'+n.icon+"</div>",u={_:" "," - ":" ","-":" "},s=r.replace(/\_| \- |\-/g,function(e){return u[e]});return'<div class="tox-collection__item'+(t.isReadOnly()?" tox-collection__item--state-disabled":"")+'" tabindex="-1" data-collection-item-value="'+o(n.value)+'" title="'+s+'" aria-label="'+s+'">'+a+i+"</div>"}),a=e.columns>1&&"auto"!==e.columns?ze(i,e.columns):[i],u=Fe(a,function(e){return'<div class="tox-collection__group">'+e.join("")+"</div>"});Ta(n.element(),u.join(""))},a=r(function(n,r,o,i){r.stop(),t.isReadOnly()||Di(n,nT,{name:e.name,value:i})}),u=[zi(Xo(),r(function(e,t,n){uf(n)})),zi(ti(),a),zi(fi(),a),zi(Yo(),r(function(e,t,n){kc(e.element(),"."+$x).each(function(e){Wu(e,$x)}),Vu(n,$x)})),zi(Ko(),r(function(e){kc(e.element(),"."+$x).each(function(e){Wu(e,$x)})})),Ji(r(function(t,n,r,o){Di(t,nT,{name:e.name,value:o})}))],s=function(e,t){return Fe(qd(e.element(),".tox-collection__item"),t)},c=Uk.parts().field({dom:{tag:"div",classes:["tox-collection"].concat(1!==e.columns?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:ae},behaviours:Gl([iC.config({disabled:t.isReadOnly,onDisabled:function(e){s(e,function(e){Vu(e,"tox-collection__item--state-disabled"),Aa(e,"aria-disabled",!0)})},onEnabled:function(e){s(e,function(e){Wu(e,"tox-collection__item--state-disabled"),Pa(e,"aria-disabled")})}}),YC(),Ey.config({}),nm.config({store:{mode:"memory",initialValue:[]},onSetValue:function(t,n){i(t,n),"auto"===e.columns&&C_(t,5,"tox-collection__item").each(function(e){var n=e.numRows,r=e.numColumns;my.setGridSize(t,n,r)}),Ai(t,uT)}}),Gk.config({}),my.config(UE(e.columns,"normal")),Ty("collection-events",u)]),eventOrder:{"alloy.execute":["disabling","alloy.base.behaviour","collection-events"]}});return $k(n,c,["tox-form__group--collection"],[])},cT=ie([wr("data"),Tr("inputAttributes",{}),Tr("inputStyles",{}),Tr("tag","input"),Tr("inputClasses",[]),Xc("onSetValue"),Tr("styles",{}),Tr("eventOrder",{}),rm("inputBehaviours",[nm,Ly]),Tr("selectOnFocus",!0)]),lT=function(e){return Gl([Ly.config({onFocus:e.selectOnFocus?function(e){var t=e.element(),n=ws(t);t.dom().setSelectionRange(0,n.length)}:te})])},fT=function(e){return de(de({},lT(e)),im(e.inputBehaviours,[nm.config({store:de(de({mode:"manual"},e.data.map(function(e){return{initialValue:e}}).getOr({})),{getValue:function(e){return ws(e.element())},setValue:function(e,t){ws(e.element())!==t&&xs(e.element(),t)}}),onSetValue:e.onSetValue})]))},dT=function(e){return{tag:e.tag,attributes:de({type:"text"},e.inputAttributes),styles:e.inputStyles,classes:e.inputClasses}},pT=function(e,t){return{uid:e.uid,dom:dT(e),components:[],behaviours:fT(e),eventOrder:e.eventOrder}},hT=dg({name:"Input",configFields:cT(),factory:pT}),mT={},gT={exports:mT};!function(t,n,r,o){!function(o){if("object"==typeof n&&void 0!==r)r.exports=o();else if("function"==typeof t&&t.amd)t([],o);else{var i;i="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:this,i.EphoxContactWrapper=o()}}(function(){return function(){function e(t,n,r){function i(u,s){if(!n[u]){if(!t[u]){var c="function"==typeof o&&o;if(!s&&c)return c(u,!0);if(a)return a(u,!0);var l=new Error("Cannot find module '"+u+"'");throw l.code="MODULE_NOT_FOUND",l}var f=n[u]={exports:{}};t[u][0].call(f.exports,function(e){return i(t[u][1][e]||e)},f,f.exports,e,t,n,r)}return n[u].exports}for(var a="function"==typeof o&&o,u=0;u<r.length;u++)i(r[u]);return i}return e}()({1:[function(e,t,n){function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(f===setTimeout)return setTimeout(e,0);if((f===r||!f)&&setTimeout)return f=setTimeout,setTimeout(e,0);try{return f(e,0)}catch(t){try{return f.call(null,e,0)}catch(t){return f.call(this,e,0)}}}function a(e){if(d===clearTimeout)return clearTimeout(e);if((d===o||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function u(){g&&h&&(g=!1,h.length?m=h.concat(m):v=-1,m.length&&s())}function s(){if(!g){var e=i(u);g=!0;for(var t=m.length;t;){for(h=m,m=[];++v<t;)h&&h[v].run();v=-1,t=m.length}h=null,g=!1,a(e)}}function c(e,t){this.fun=e,this.array=t}function l(){}var f,d,p=t.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:r}catch(e){f=r}try{d="function"==typeof clearTimeout?clearTimeout:o}catch(e){d=o}}();var h,m=[],g=!1,v=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];m.push(new c(e,t)),1!==m.length||g||i(s)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=l,p.addListener=l,p.once=l,p.off=l,p.removeListener=l,p.removeAllListeners=l,p.emit=l,p.prependListener=l,p.prependOnceListener=l,p.listeners=function(e){return[]},p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}],2:[function(e,t,n){(function(e){!function(n){function r(){}function o(e,t){return function(){e.apply(t,arguments)}}function i(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(e,this)}function a(e,t){for(;3===e._state;)e=e._value;if(0===e._state)return void e._deferreds.push(t);e._handled=!0,i._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._state?u:s)(t.promise,e._value);var r;try{r=n(e._value)}catch(e){return void s(t.promise,e)}u(t.promise,r)})}function u(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof i)return e._state=3,e._value=t,void c(e);if("function"==typeof n)return void f(o(n,t),e)}e._state=1,e._value=t,c(e)}catch(t){s(e,t)}}function s(e,t){e._state=2,e._value=t,c(e)}function c(e){2===e._state&&0===e._deferreds.length&&i._immediateFn(function(){e._handled||i._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)a(e,e._deferreds[t]);e._deferreds=null}function l(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function f(e,t){var n=!1;try{e(function(e){n||(n=!0,u(t,e))},function(e){n||(n=!0,s(t,e))})}catch(e){if(n)return;n=!0,s(t,e)}}var d=setTimeout;i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var n=new this.constructor(r);return a(this,new l(e,t,n)),n},i.all=function(e){var t=Array.prototype.slice.call(e);return new i(function(e,n){function r(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var u=a.then;if("function"==typeof u)return void u.call(a,function(e){r(i,e)},n)}t[i]=a,0==--o&&e(t)}catch(e){n(e)}}if(0===t.length)return e([]);for(var o=t.length,i=0;i<t.length;i++)r(i,t[i])})},i.resolve=function(e){return e&&"object"==typeof e&&e.constructor===i?e:new i(function(t){t(e)})},i.reject=function(e){return new i(function(t,n){n(e)})},i.race=function(e){return new i(function(t,n){for(var r=0,o=e.length;r<o;r++)e[r].then(t,n)})},i._immediateFn="function"==typeof e?function(t){e(t)}:function(e){d(e,0)},i._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},i._setImmediateFn=function(e){i._immediateFn=e},i._setUnhandledRejectionFn=function(e){i._unhandledRejectionFn=e},void 0!==t&&t.exports?t.exports=i:n.Promise||(n.Promise=i)}(this)}).call(this,e("timers").setImmediate)},{timers:3}],3:[function(e,t,n){(function(t,r){function o(e,t){this._id=e,this._clearFn=t}var i=e("process/browser.js").nextTick,a=Function.prototype.apply,u=Array.prototype.slice,s={},c=0;n.setTimeout=function(){return new o(a.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new o(a.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n.setImmediate="function"==typeof t?t:function(e){var t=c++,r=!(arguments.length<2)&&u.call(arguments,1);return s[t]=!0,i(function(){s[t]&&(r?e.apply(null,r):e.call(null),n.clearImmediate(t))}),t},n.clearImmediate="function"==typeof r?r:function(e){delete s[e]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(e,t,n){var r=e("promise-polyfill"),o=function(){return"undefined"!=typeof window?window:Function("return this;")()}();t.exports={boltExport:o.Promise||r}},{"promise-polyfill":2}]},{},[4])(4)})}(void 0,mT,gT,void 0);var vT,bT=gT.exports.boltExport,yT=function(e){var n=ve.none(),r=[],o=function(e){return yT(function(t){i(function(n){t(e(n))})})},i=function(e){u()?c(e):r.push(e)},a=function(e){u()||(n=ve.some(e),s(r),r=[])},u=function(){return n.isSome()},s=function(e){He(e,c)},c=function(e){n.each(function(n){t.setTimeout(function(){e(n)},0)})};return e(a),{get:i,map:o,isReady:u}},wT=function(e){return yT(function(t){t(e)})},xT={nu:yT,pure:wT},_T=function(e){t.setTimeout(function(){throw e},0)},CT=function(e){var t=function(t){e().then(t,_T)};return{map:function(t){return CT(function(){return e().then(t)})},bind:function(t){return CT(function(){return e().then(function(e){return t(e).toPromise()})})},anonBind:function(t){return CT(function(){return e().then(function(){return t.toPromise()})})},toLazy:function(){return xT.nu(t)},toCached:function(){var t=null;return CT(function(){return null===t&&(t=e()),t})},toPromise:e,get:t}},ST=function(e){return CT(function(){return new bT(e)})},ET=function(e){return CT(function(){return bT.resolve(e)})},kT={nu:ST,pure:ET},TT=["input","textarea"],NT=function(e){var t=Qi(e);return Le(TT,t)},OT=function(e,t){var n=t.getRoot(e).getOr(e.element());Wu(n,t.invalidClass),t.notify.each(function(t){NT(e.element())&&Aa(e.element(),"aria-invalid",!1),t.getContainer(e).each(function(e){Ta(e,t.validHtml)}),t.onValid(e)})},AT=function(e,t,n,r){var o=t.getRoot(e).getOr(e.element());Vu(o,t.invalidClass),t.notify.each(function(t){NT(e.element())&&Aa(e.element(),"aria-invalid",!0),t.getContainer(e).each(function(e){Ta(e,r)}),t.onInvalid(e,r)})},DT=function(e,t,n){return t.validator.fold(function(){return kT.pure(lt.value(!0))},function(t){return t.validate(e)})},MT=function(e,t,n){return t.notify.each(function(t){t.onValidate(e)}),DT(e,t).map(function(n){return e.getSystem().isConnected()?n.fold(function(n){return AT(e,t,0,n),lt.error(n)},function(n){return OT(e,t),lt.value(n)}):lt.error("No longer in system")})},IT=function(e,t){var n=t.getRoot(e).getOr(e.element());return Gu(n,t.invalidClass)},RT=Object.freeze({__proto__:null,markValid:OT,markInvalid:AT,query:DT,run:MT,isInvalid:IT}),PT=function(e,t){return e.validator.map(function(t){return Li([zi(t.onEvent,function(t){MT(t,e).get(ae)})].concat(t.validateOnLoad?[Xi(function(t){MT(t,e).get(te)})]:[]))}).getOr({})},LT=Object.freeze({__proto__:null,events:PT}),jT=[lr("invalidClass"),Tr("getRoot",ve.none),Er("notify",[Tr("aria","alert"),Tr("getContainer",ve.none),Tr("validHtml",""),Xc("onValid"),Xc("onInvalid"),Xc("onValidate")]),Er("validator",[lr("validate"),Tr("onEvent","input"),Tr("validateOnLoad",!0)])],BT=Xl({fields:jT,name:"invalidating",active:LT,apis:RT,extra:{validation:function(e){return function(t){var n=nm.getValue(t);return kT.pure(e(n))}}}}),zT=function(e,t,n,r){return n.getOrCreate(e,t,r)},FT=Object.freeze({__proto__:null,getCoupled:zT}),HT=[fr("others",$n(lt.value,tr()))],UT=function(){var e={},t=function(t,n,r){var o=Ct(n.others);if(o)return Rt(e,r).getOrThunk(function(){var o=Rt(n.others,r).getOrDie("No information found for coupled component: "+r),i=o(t),a=t.getSystem().build(i);return e[r]=a,a});throw new Error("Cannot find coupled component: "+r+". Known coupled components: "+JSON.stringify(o,null,2))},n=ie({});return fu({readState:n,getOrCreate:t})},VT=Object.freeze({__proto__:null,init:UT}),qT=Xl({fields:HT,name:"coupling",apis:FT,state:VT}),WT=ie("sink"),GT=ie(Lm({name:WT(),overrides:ie({dom:{tag:"div"},behaviours:Gl([Fp.config({useFixed:le})]),events:Li([Wi(Jo()),Wi(qo()),Wi(ti())])})}));!function(e){e[e.HighlightFirst=0]="HighlightFirst",e[e.HighlightNone=1]="HighlightNone"}(vT||(vT={}));var $T,XT=function(e,t){var n=e.getHotspot(t).getOr(t),r=e.getAnchorOverrides();return e.layouts.fold(function(){return{anchor:"hotspot",hotspot:n,overrides:r}},function(e){return{anchor:"hotspot",hotspot:n,overrides:r,layouts:e}})},YT=function(e,t,n){return(0,e.fetch)(n).map(t)},KT=function(e,t,n,r,o,i,a){var u=YT(e,t,r),s=tN(r,e);return u.map(function(e){return e.bind(function(e){return ve.from(Rw.sketch(de(de({},i.menu()),{uid:Qa(""),data:e,highlightImmediately:a===vT.HighlightFirst,onOpenMenu:function(e,t){var r=s().getOrDie();Fp.position(r,n,t),wh.decloak(o)},onOpenSubmenu:function(e,t,n){var r=s().getOrDie();Fp.position(r,{anchor:"submenu",item:t},n),wh.decloak(o)},onRepositionMenu:function(e,t,r){var o=s().getOrDie();Fp.position(o,n,t),He(r,function(e){Fp.position(o,{anchor:"submenu",item:e.triggeringItem},e.triggeredMenu)})},onEscape:function(){return Ly.focus(r),wh.close(o),ve.some(!0)}})))})})},JT=function(e,t,n,r,o,i,a){var u=XT(e,n);return KT(e,t,u,n,r,o,a).map(function(e){return e.fold(function(){wh.isOpen(r)&&wh.close(r)},function(e){wh.cloak(r),wh.open(r,e),i(r)}),r})},QT=function(e,t,n,r,o,i,a){return wh.close(r),kT.pure(r)},ZT=function(e,t,n,r,o,i){var a=qT.getCoupled(n,"sandbox");return(wh.isOpen(a)?QT:JT)(e,t,n,a,r,o,i)},eN=function(e,t,n){var r=_g.getCurrent(t).getOr(t),o=Xs(e.element());n?ls(r.element(),"min-width",o+"px"):$s(r.element(),o)},tN=function(e,t){return e.getSystem().getByUid(t.uid+"-"+WT()).map(function(e){return function(){return lt.value(e)}}).getOrThunk(function(){return t.lazySink.fold(function(){return function(){return lt.error(new Error("No internal sink is specified, nor could an external sink be found"))}},function(t){return function(){return t(e)}})})},nN=function(e){wh.getState(e).each(function(e){Rw.repositionMenus(e)})},rN=function(e,t,n){var r=Oc(),o=function(o,i){var a=XT(e,t);r.link(t.element()),e.matchWidth&&eN(a.hotspot,i,e.useMinWidth),e.onOpen(a,o,i),void 0!==n&&void 0!==n.onOpen&&n.onOpen(o,i)},i=function(e,o){r.unlink(t.element()),void 0!==n&&void 0!==n.onClose&&n.onClose(e,o)},a=tN(t,e);return{dom:{tag:"div",classes:e.sandboxClasses,attributes:{id:r.id,role:"listbox"}},behaviours:am.augment(e.sandboxBehaviours,[nm.config({store:{mode:"memory",initialValue:t}}),wh.config({onOpen:o,onClose:i,isPartOf:function(e,n,r){return Dc(n,r)||Dc(t,r)},getAttachPoint:function(){return a().getOrDie()}}),_g.config({find:function(e){return wh.getState(e).bind(function(e){return _g.getCurrent(e)})}}),nf.config({channels:de(de({},Eh({isExtraPart:ce})),Th({doReposition:nN}))})])}},oN=function(e){var t=qT.getCoupled(e,"sandbox");nN(t)},iN=function(){return[Tr("sandboxClasses",[]),am.field("sandboxBehaviours",[_g,nf,wh,nm])]},aN=ie([lr("dom"),lr("fetch"),Xc("onOpen"),Yc("onExecute"),Tr("getHotspot",ve.some),Tr("getAnchorOverrides",ie({})),Zf(),rm("dropdownBehaviours",[ew,qT,my,Ly]),lr("toggleClass"),Tr("eventOrder",{}),wr("lazySink"),Tr("matchWidth",!1),Tr("useMinWidth",!1),wr("role")].concat(iN())),uN=ie([Pm({schema:[Wc()],name:"menu",defaults:function(e){return{onExecute:e.onExecute}}}),GT()]),sN=function(e,t,n,r){var o,i=function(e){wh.getState(e).each(function(e){Rw.highlightPrimary(e)})},a=function(t){var n=i;ZT(e,function(e){return e},t,r,n,vT.HighlightFirst).get(te)},u={expand:function(t){ew.isOn(t)||ZT(e,function(e){return e},t,r,te,vT.HighlightNone).get(te)},open:function(t){ew.isOn(t)||ZT(e,function(e){return e},t,r,te,vT.HighlightFirst).get(te)},isOpen:ew.isOn,close:function(t){ew.isOn(t)&&ZT(e,function(e){return e},t,r,te,vT.HighlightFirst).get(te)},repositionMenus:function(e){ew.isOn(e)&&oN(e)}},s=function(e,t){return Mi(e),ve.some(!0)};return{uid:e.uid,dom:e.dom,components:t,behaviours:im(e.dropdownBehaviours,[ew.config({toggleClass:e.toggleClass,aria:{mode:"expanded"}}),qT.config({others:{sandbox:function(t){return rN(e,t,{onOpen:function(){ew.on(t)},onClose:function(){ew.off(t)}})}}}),my.config({mode:"special",onSpace:s,onEnter:s,onDown:function(e,t){if(cN.isOpen(e)){var n=qT.getCoupled(e,"sandbox");i(n)}else cN.open(e);return ve.some(!0)},onEscape:function(e,t){return cN.isOpen(e)?(cN.close(e),ve.some(!0)):ve.none()}}),Ly.config({})]),events:nw(ve.some(a)),eventOrder:de(de({},e.eventOrder),(o={},o[ci()]=["disabling","toggling","alloy.base.behaviour"],o)),apis:u,domModification:{attributes:de(de({"aria-haspopup":"true"},e.role.fold(function(){return{}},function(e){return{role:e}})),"button"===e.dom.tag?{type:function(t){return Rt(e.dom,"attributes").bind(function(e){return Rt(e,t)})}("type").getOr("button")}:{})}}},cN=pg({name:"Dropdown",configFields:aN(),partFields:uN(),factory:sN,apis:{open:function(e,t){return e.open(t)},expand:function(e,t){return e.expand(t)},close:function(e,t){return e.close(t)},isOpen:function(e,t){return e.isOpen(t)},repositionMenus:function(e,t){return e.repositionMenus(t)}}}),lN=function(){return gu({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})},fN=function(){return Li([ji(ri(),ie(!0))])},dN=Object.freeze({__proto__:null,events:fN,exhibit:lN}),pN=Xl({fields:[],name:"unselecting",active:dN}),hN=function(e,t){return cN.sketch({dom:e.dom,components:e.components,toggleClass:"mce-active",dropdownBehaviours:Gl([eS.button(t.providers.isReadOnly),YC(),pN.config({}),Gk.config({})]),layouts:e.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:t.getSink,fetch:function(n){return kT.nu(function(t){return e.fetch(t)}).map(function(r){return ve.from(ik(Vt(zE(qa("menu-value"),r,function(t){e.onItemAction(n,t)},e.columns,e.presets,Vx.CLOSE_ON_EXECUTE,function(){return!1},t.providers),{movement:HE(e.columns,e.presets)})))})},parts:{menu:e_(0,0,e.presets)}})},mN=qa("color-input-change"),gN=qa("color-swatch-change"),vN=qa("color-picker-cancel"),bN=function(e,t,n){var r=Uk.parts().field({factory:hT,inputClasses:["tox-textfield"],onSetValue:function(e){return BT.run(e).get(function(){})},inputBehaviours:Gl([iC.config({disabled:t.providers.isReadOnly}),YC(),Gk.config({}),BT.config({invalidClass:"tox-textbox-field-invalid",getRoot:function(e){return ca(e.element())},notify:{onValid:function(e){var t=nm.getValue(e);Di(e,mN,{color:t})}},validator:{validateOnLoad:!1,validate:function(e){var t=nm.getValue(e);if(0===t.length)return kT.pure(lt.value(!0));var n=Ur.fromTag("span");ls(n,"background-color",t);var r=ms(n,"background-color").fold(function(){return lt.error("blah")},function(e){return lt.value(t)});return kT.pure(r)}}})]),selectOnFocus:!1}),o=e.label.map(function(e){return Qk(e,t.providers)}),i=function(e,t){Di(e,gN,{value:t})},a=function(e,t){u.getOpt(e).each(function(e){"custom"===t?n.colorPicker(function(t){t.fold(function(){return Ai(e,vN)},function(t){i(e,t),CE(t)})},"#ffffff"):"remove"===t?i(e,""):i(e,t)})},u=Qw(hN({dom:{tag:"span",attributes:{"aria-label":t.providers.translate("Color swatch")}},layouts:{onRtl:function(){return[kl,El,Al]},onLtr:function(){return[El,kl,Al]}},components:[],fetch:IE(n.getColors(),n.hasCustomColors()),columns:n.getColorCols(),presets:"color",onItemAction:a},t));return Uk.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:o.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[r,u.asSpec()]}]),fieldBehaviours:Gl([Ty("form-field-events",[zi(mN,function(t,n){u.getOpt(t).each(function(e){ls(e.element(),"background-color",n.event().color())}),Di(t,Zk,{name:e.name})}),zi(gN,function(e,t){Uk.getField(e).each(function(n){nm.setValue(n,t.event().value()),_g.getCurrent(e).each(Ly.focus)})}),zi(vN,function(e,t){Uk.getField(e).each(function(t){_g.getCurrent(e).each(Ly.focus)})})])])})},yN=function(e,t,n){return{hue:e,saturation:t,value:n}},wN=function(e){var t=0,n=0,r=0,o=e.red/255,i=e.green/255,a=e.blue/255,u=Math.min(o,Math.min(i,a)),s=Math.max(o,Math.max(i,a));if(u===s)return r=u,yN(0,0,100*r);var c=o===u?i-a:a===u?o-i:a-o;return t=o===u?3:a===u?1:5,t=60*(t-c/(s-u)),n=(s-u)/s,r=s,yN(Math.round(t),Math.round(100*n),Math.round(100*r))},xN=function(e){var t=(100-e)/100*360,n=yN(t,100,100),r=eE(n);return GS(r)},_N=qa("rgb-hex-update"),CN=qa("slider-update"),SN=qa("palette-update"),EN=Lm({schema:[lr("dom")],name:"label"}),kN=function(e){return Lm({name:e+"-edge",overrides:function(t){return t.model.manager.edgeActions[e].fold(function(){return{}},function(e){return{events:Li([Fi(Fo(),function(t,n,r){return e(t,r)},[t]),Fi(qo(),function(t,n,r){return e(t,r)},[t]),Fi(Wo(),function(t,n,r){r.mouseIsDown.get()&&e(t,r)},[t])])}})}})},TN=kN("top-left"),NN=kN("top"),ON=kN("top-right"),AN=kN("right"),DN=kN("bottom-right"),MN=kN("bottom"),IN=kN("bottom-left"),RN=kN("left"),PN=Rm({name:"thumb",defaults:ie({dom:{styles:{position:"absolute"}}}),overrides:function(e){return{events:Li([Vi(Fo(),e,"spectrum"),Vi(Ho(),e,"spectrum"),Vi(Uo(),e,"spectrum"),Vi(qo(),e,"spectrum"),Vi(Wo(),e,"spectrum"),Vi($o(),e,"spectrum")])}}}),LN=Rm({schema:[Pr("mouseIsDown",function(){return Lr(!1)})],name:"spectrum",overrides:function(e){var t=e.model,n=t.manager,r=function(t,r){return n.getValueFromEvent(r).map(function(r){return n.setValueFrom(t,e,r)})};return{behaviours:Gl([my.config({mode:"special",onLeft:function(t){return n.onLeft(t,e)},onRight:function(t){return n.onRight(t,e)},onUp:function(t){return n.onUp(t,e)},onDown:function(t){return n.onDown(t,e)}}),Ly.config({})]),events:Li([zi(Fo(),r),zi(Ho(),r),zi(qo(),r),zi(Wo(),function(t,n){e.mouseIsDown.get()&&r(t,n)})])}}}),jN=[EN,RN,AN,NN,MN,TN,ON,IN,DN,PN,LN],BN=ie("slider.change.value"),zN=function(e){return-1!==e.type.indexOf("touch")},FN=function(e){var t=e.event().raw();if(zN(t)){var n=t;return void 0!==n.touches&&1===n.touches.length?ve.some(n.touches[0]).map(function(e){return Hs(e.clientX,e.clientY)}):ve.none()}var r=t;return void 0!==r.clientX?ve.some(r).map(function(e){return Hs(e.clientX,e.clientY)}):ve.none()},HN=function(e){return e.model.minX},UN=function(e){return e.model.minY},VN=function(e){return e.model.minX-1},qN=function(e){return e.model.minY-1},WN=function(e){return e.model.maxX},GN=function(e){return e.model.maxY},$N=function(e){return e.model.maxX+1},XN=function(e){return e.model.maxY+1},YN=function(e,t,n){return t(e)-n(e)},KN=function(e){return YN(e,WN,HN)},JN=function(e){return YN(e,GN,UN)},QN=function(e){return KN(e)/2},ZN=function(e){return JN(e)/2},eO=function(e){return e.stepSize},tO=function(e){return e.snapToGrid},nO=function(e){return e.snapStart},rO=function(e){return e.rounded},oO=function(e,t){return void 0!==e[t+"-edge"]},iO=function(e){return oO(e,"left")},aO=function(e){return oO(e,"right")},uO=function(e){return oO(e,"top")},sO=function(e){return oO(e,"bottom")},cO=function(e){return e.model.value.get()},lO=function(e){return{x:ie(e)}},fO=function(e){return{y:ie(e)}},dO=function(e,t){return{x:ie(e),y:ie(t)}},pO=function(e,t){Di(e,BN(),{value:t})},hO=function(e,t){pO(e,dO(VN(t),qN(t)))},mO=function(e,t){pO(e,fO(qN(t)))},gO=function(e,t){pO(e,dO(QN(t),qN(t)))},vO=function(e,t){pO(e,dO($N(t),qN(t)))},bO=function(e,t){pO(e,lO($N(t)))},yO=function(e,t){pO(e,dO($N(t),ZN(t)))},wO=function(e,t){pO(e,dO($N(t),XN(t)))},xO=function(e,t){pO(e,fO(XN(t)))},_O=function(e,t){pO(e,dO(QN(t),XN(t)))},CO=function(e,t){pO(e,dO(VN(t),XN(t)))},SO=function(e,t){pO(e,lO(VN(t)))},EO=function(e,t){pO(e,dO(VN(t),ZN(t)))},kO=function(e,t,n,r){return e<t?e:e>n?n:e===t?t-1:Math.max(t,e-r)},TO=function(e,t,n,r){return e>n?e:e<t?t:e===n?n+1:Math.min(n,e+r)},NO=function(e,t,n){return Math.max(t,Math.min(n,e))},OO=function(e,t,n,r,o){return o.fold(function(){var o=e-t,i=Math.round(o/r)*r;return NO(t+i,t-1,n+1)},function(t){var o=(e-t)%r,i=Math.round(o/r),a=Math.floor((e-t)/r),u=Math.floor((n-t)/r),s=Math.min(u,a+i),c=t+s*r;return Math.max(t,c)})},AO=function(e,t,n){return Math.min(n,Math.max(e,t))-t},DO=function(e){var t=e.min,n=e.max,r=e.range,o=e.value,i=e.step,a=e.snap,u=e.snapStart,s=e.rounded,c=e.hasMinEdge,l=e.hasMaxEdge,f=e.minBound,d=e.maxBound,p=e.screenRange,h=c?t-1:t,m=l?n+1:n;if(o<f)return h;if(o>d)return m;var g=AO(o,f,d),v=NO(g/p*r+t,h,m);return a&&v>=t&&v<=n?OO(v,t,n,i,u):s?Math.round(v):v},MO=function(e){var t=e.min,n=e.max,r=e.range,o=e.value,i=e.hasMinEdge,a=e.hasMaxEdge,u=e.maxBound,s=e.maxOffset,c=e.centerMinEdge,l=e.centerMaxEdge;return o<t?i?0:c:o>n?a?u:l:(o-t)/r*s},IO=function(e){return e.element().dom().getBoundingClientRect()},RO=function(e,t){return e[t]},PO=function(e){var t=IO(e);return RO(t,"left")},LO=function(e){var t=IO(e);return RO(t,"right")},jO=function(e){var t=IO(e);return RO(t,"top")},BO=function(e){var t=IO(e);return RO(t,"bottom")},zO=function(e){var t=IO(e);return RO(t,"width")},FO=function(e){var t=IO(e);return RO(t,"height")},HO=function(e,t,n){return(e+t)/2-n},UO=function(e,t){var n=IO(e),r=IO(t),o=RO(n,"left"),i=RO(n,"right"),a=RO(r,"left");return HO(o,i,a)},VO=function(e,t){var n=IO(e),r=IO(t),o=RO(n,"top"),i=RO(n,"bottom"),a=RO(r,"top");return HO(o,i,a)},qO=function(e,t){Di(e,BN(),{value:t})},WO=function(e){return{x:ie(e)}},GO=function(e,t,n){var r={min:HN(t),max:WN(t),range:KN(t),value:n,step:eO(t),snap:tO(t),snapStart:nO(t),rounded:rO(t),hasMinEdge:iO(t),hasMaxEdge:aO(t),minBound:PO(e),maxBound:LO(e),screenRange:zO(e)};return DO(r)},$O=function(e,t,n){var r=GO(e,t,n),o=WO(r);return qO(e,o),r},XO=function(e,t){var n=HN(t);qO(e,WO(n))},YO=function(e,t){var n=WN(t);qO(e,WO(n))},KO=function(e,t,n){var r=e>0?TO:kO,o=r(cO(n).x(),HN(n),WN(n),eO(n));return qO(t,WO(o)),ve.some(o)},JO=function(e){return function(t,n){return KO(e,t,n).map(function(){return!0})}},QO=function(e){return FN(e).map(function(e){return e.left()})},ZO=function(e,t,n,r,o){var i=zO(e),a=r.bind(function(t){return ve.some(UO(t,e))}).getOr(0),u=o.bind(function(t){return ve.some(UO(t,e))}).getOr(i),s={min:HN(t),max:WN(t),range:KN(t),value:n,hasMinEdge:iO(t),hasMaxEdge:aO(t),minBound:PO(e),minOffset:0,maxBound:LO(e),maxOffset:i,centerMinEdge:a,centerMaxEdge:u};return MO(s)},eA=function(e,t,n,r,o,i){var a=ZO(t,i,n,r,o);return PO(t)-PO(e)+a},tA=function(e,t,n,r){var o=cO(n),i=eA(e,r.getSpectrum(e),o.x(),r.getLeftEdge(e),r.getRightEdge(e),n),a=Xs(t.element())/2;ls(t.element(),"left",i-a+"px")},nA=JO(-1),rA=JO(1),oA=ve.none,iA=ve.none,aA={"top-left":ve.none(),top:ve.none(),"top-right":ve.none(),right:ve.some(bO),"bottom-right":ve.none(),bottom:ve.none(),"bottom-left":ve.none(),left:ve.some(SO)},uA=Object.freeze({__proto__:null,setValueFrom:$O,setToMin:XO,setToMax:YO,findValueOfOffset:GO,getValueFromEvent:QO,findPositionOfValue:eA,setPositionFromValue:tA,onLeft:nA,onRight:rA,onUp:oA,onDown:iA,edgeActions:aA}),sA=function(e,t){Di(e,BN(),{value:t})},cA=function(e){return{y:ie(e)}},lA=function(e,t,n){var r={min:UN(t),max:GN(t),range:JN(t),value:n,step:eO(t),snap:tO(t),snapStart:nO(t),rounded:rO(t),hasMinEdge:uO(t),hasMaxEdge:sO(t),minBound:jO(e),maxBound:BO(e),screenRange:FO(e)};return DO(r)},fA=function(e,t,n){var r=lA(e,t,n),o=cA(r);return sA(e,o),r},dA=function(e,t){var n=UN(t);sA(e,cA(n))},pA=function(e,t){var n=GN(t);sA(e,cA(n))},hA=function(e,t,n){var r=e>0?TO:kO,o=r(cO(n).y(),UN(n),GN(n),eO(n));return sA(t,cA(o)),ve.some(o)},mA=function(e){return function(t,n){return hA(e,t,n).map(function(){return!0})}},gA=function(e){return FN(e).map(function(e){return e.top()})},vA=function(e,t,n,r,o){var i=FO(e),a=r.bind(function(t){return ve.some(VO(t,e))}).getOr(0),u=o.bind(function(t){return ve.some(VO(t,e))}).getOr(i),s={min:UN(t),max:GN(t),range:JN(t),value:n,hasMinEdge:uO(t),hasMaxEdge:sO(t),minBound:jO(e),minOffset:0,maxBound:BO(e),maxOffset:i,centerMinEdge:a,centerMaxEdge:u};return MO(s)},bA=function(e,t,n,r,o,i){var a=vA(t,i,n,r,o);return jO(t)-jO(e)+a},yA=function(e,t,n,r){var o=cO(n),i=bA(e,r.getSpectrum(e),o.y(),r.getTopEdge(e),r.getBottomEdge(e),n),a=js(t.element())/2;ls(t.element(),"top",i-a+"px")},wA=ve.none,xA=ve.none,_A=mA(-1),CA=mA(1),SA={"top-left":ve.none(),top:ve.some(mO),"top-right":ve.none(),right:ve.none(),"bottom-right":ve.none(),bottom:ve.some(xO),"bottom-left":ve.none(),left:ve.none()},EA=Object.freeze({__proto__:null,setValueFrom:fA,setToMin:dA,setToMax:pA,findValueOfOffset:lA,getValueFromEvent:gA,findPositionOfValue:bA,setPositionFromValue:yA,onLeft:wA,onRight:xA,onUp:_A,onDown:CA,edgeActions:SA}),kA=function(e,t){Di(e,BN(),{value:t})},TA=function(e,t){return{x:ie(e),y:ie(t)}},NA=function(e,t,n){var r=GO(e,t,n.left()),o=lA(e,t,n.top()),i=TA(r,o);return kA(e,i),i},OA=function(e,t,n,r){var o=e>0?TO:kO,i=t?cO(r).x():o(cO(r).x(),HN(r),WN(r),eO(r)),a=t?o(cO(r).y(),UN(r),GN(r),eO(r)):cO(r).y();return kA(n,TA(i,a)),ve.some(i)},AA=function(e,t){return function(n,r){return OA(e,t,n,r).map(function(){return!0})}},DA=function(e,t){var n=HN(t),r=UN(t);kA(e,TA(n,r))},MA=function(e,t){var n=WN(t),r=GN(t);kA(e,TA(n,r))},IA=function(e){return FN(e)},RA=function(e,t,n,r){var o=cO(n),i=eA(e,r.getSpectrum(e),o.x(),r.getLeftEdge(e),r.getRightEdge(e),n),a=bA(e,r.getSpectrum(e),o.y(),r.getTopEdge(e),r.getBottomEdge(e),n),u=Xs(t.element())/2,s=js(t.element())/2;ls(t.element(),"left",i-u+"px"),ls(t.element(),"top",a-s+"px")},PA=AA(-1,!1),LA=AA(1,!1),jA=AA(-1,!0),BA=AA(1,!0),zA={"top-left":ve.some(hO),top:ve.some(gO),"top-right":ve.some(vO),right:ve.some(yO),"bottom-right":ve.some(wO),bottom:ve.some(_O),"bottom-left":ve.some(CO),left:ve.some(EO)},FA=Object.freeze({__proto__:null,setValueFrom:NA,setToMin:DA,setToMax:MA,getValueFromEvent:IA,setPositionFromValue:RA,onLeft:PA,onRight:LA,onUp:jA,onDown:BA,edgeActions:zA}),HA=[Tr("stepSize",1),Tr("onChange",te),Tr("onChoose",te),Tr("onInit",te),Tr("onDragStart",te),Tr("onDragEnd",te),Tr("snapToGrid",!1),Tr("rounded",!0),wr("snapStart"),fr("model",er("mode",{x:[Tr("minX",0),Tr("maxX",100),Pr("value",function(e){return Lr(e.mode.minX)}),lr("getInitialValue"),Qc("manager",uA)],y:[Tr("minY",0),Tr("maxY",100),Pr("value",function(e){return Lr(e.mode.minY)}),lr("getInitialValue"),Qc("manager",EA)],xy:[Tr("minX",0),Tr("maxX",100),Tr("minY",0),Tr("maxY",100),Pr("value",function(e){return Lr({x:ie(e.mode.minX),y:ie(e.mode.minY)})}),lr("getInitialValue"),Qc("manager",FA)]})),rm("sliderBehaviours",[my,nm]),Pr("mouseIsDown",function(){return Lr(!1)})],UA=function(e,t,n,r){var o,i=function(t){return Km(t,e,"thumb")},a=function(t){return Km(t,e,"spectrum")},u=function(t){return Ym(t,e,"left-edge")},s=function(t){return Ym(t,e,"right-edge")},c=function(t){return Ym(t,e,"top-edge")},l=function(t){return Ym(t,e,"bottom-edge")},f=e.model,d=f.manager,p=function(t,n){d.setPositionFromValue(t,n,e,{getLeftEdge:u,getRightEdge:s,getTopEdge:c,getBottomEdge:l,getSpectrum:a})},h=function(t,n){f.value.set(n);var r=i(t);return p(t,r),e.onChange(t,r,n),ve.some(!0)},m=function(t){d.setToMin(t,e)},g=function(t){d.setToMax(t,e)},v=function(t){var n=e.mouseIsDown.get();e.mouseIsDown.set(!1),n&&function(){Ym(t,e,"thumb").each(function(n){var r=f.value.get();e.onChoose(t,n,r)})}()},b=function(t,n){n.stop(),e.mouseIsDown.set(!0),e.onDragStart(t,i(t))},y=function(t,n){n.stop(),e.onDragEnd(t,i(t)),v(t)};return{uid:e.uid,dom:e.dom,components:t,behaviours:im(e.sliderBehaviours,[my.config({mode:"special",focusIn:function(t){return Ym(t,e,"spectrum").map(my.focusIn).map(ie(!0))}}),nm.config({store:{mode:"manual",getValue:function(e){return f.value.get()}}}),nf.config({channels:(o={},o[Ch()]={onReceive:v},o)})]),events:Li([zi(BN(),function(e,t){h(e,t.event().value())}),Xi(function(t,n){var r=f.getInitialValue();f.value.set(r);var o=i(t);p(t,o);var u=a(t);e.onInit(t,o,u,f.value.get())}),zi(Fo(),b),zi(Uo(),y),zi(qo(),b),zi($o(),y)]),apis:{resetToMin:m,resetToMax:g,changeValue:h,refresh:p},domModification:{styles:{position:"relative"}}}},VA=pg({name:"Slider",configFields:HA,partFields:jN,factory:UA,apis:{resetToMin:function(e,t){e.resetToMin(t)},resetToMax:function(e,t){e.resetToMax(t)},refresh:function(e,t){e.refresh(t)}}}),qA=function(e,t){var n=VA.parts().spectrum({dom:{tag:"div",classes:[t("hue-slider-spectrum")],attributes:{role:"presentation"}}}),r=VA.parts().thumb({dom:{tag:"div",classes:[t("hue-slider-thumb")],attributes:{role:"presentation"}}});return VA.sketch({dom:{tag:"div",classes:[t("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:ie({y:ie(0)})},components:[n,r],sliderBehaviours:Gl([Ly.config({})]),onChange:function(e,t,n){Di(e,CN,{value:n})}})},WA=[rm("formBehaviours",[nm])],GA=function(e){return"<alloy.field."+e+">"},$A=function(e){var t=function(){var e=[];return{field:function(t,n){return e.push(t),qm("form",GA(t),n)},record:function(){return e}}}(),n=e(t),r=t.record(),o=Fe(r,function(e){return Rm({name:e,pname:GA(e)})});return ug("form",WA,o,YA,n)},XA=function(e,t){return e.fold(function(){return lt.error(t)},lt.value)},YA=function(e,t){return{uid:e.uid,dom:e.dom,components:t,behaviours:im(e.formBehaviours,[nm.config({store:{mode:"manual",getValue:function(t){var n=Qm(t,e);return kt(n,function(e,t){return e().bind(function(e){var n=_g.getCurrent(e);return XA(n,new Error("Cannot find a current component to extract the value from for form part '"+t+"': "+za(e.element())))}).map(nm.getValue)})},setValue:function(t,n){Et(n,function(n,r){Ym(t,e,r).each(function(e){_g.getCurrent(e).each(function(e){nm.setValue(e,n)})})})}}})]),apis:{getField:function(t,n){return Ym(t,e,n).bind(_g.getCurrent)}}}},KA={getField:cu(function(e,t,n){return e.getField(t,n)}),sketch:$A},JA=qa("valid-input"),QA=qa("invalid-input"),ZA=qa("validating-input"),eD=function(e,t,n,r){var o=function(n,r){return BT.config({invalidClass:t("invalid"),notify:{onValidate:function(e){Di(e,ZA,{type:n})},onValid:function(e){Di(e,JA,{type:n,value:nm.getValue(e)})},onInvalid:function(e){Di(e,QA,{type:n,value:nm.getValue(e)})}},validator:{validate:function(t){var n=nm.getValue(t),o=r(n)?lt.value(!0):lt.error(e("aria.input.invalid"));return kT.pure(o)},validateOnLoad:!1}})},i=function(n,r,i,a,u){var s=e("colorcustom.rgb.range"),c=Uk.parts().label({dom:{tag:"label",innerHtml:i,attributes:{"aria-label":a}}}),l=Uk.parts().field({data:u,factory:hT,inputAttributes:de({type:"text"},"hex"===r?{"aria-live":"polite"}:{}),inputClasses:[t("textfield")],inputBehaviours:Gl([o(r,n),Gk.config({})]),onSetValue:function(e){if(BT.isInvalid(e)){BT.run(e).get(te)}}}),f=[c,l],d="hex"!==r?[Uk.parts()["aria-descriptor"]({text:s})]:[];return{dom:{tag:"div",attributes:{role:"presentation"}},components:f.concat(d)}},a=function(e,t){var n=GS(t);return KA.getField(e,"hex").each(function(t){Ly.isFocused(t)||nm.setValue(e,{hex:n.value})}),n},u=function(e,t){var n=t.red,r=t.green,o=t.blue;nm.setValue(e,{red:n,green:r,blue:o})},s=Qw({dom:{tag:"div",classes:[t("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),c=function(e,t){s.getOpt(e).each(function(e){ls(e.element(),"background-color","#"+t.value)})};return dg({factory:function(){var o={red:Lr(ve.some(255)),green:Lr(ve.some(255)),blue:Lr(ve.some(255)),hex:Lr(ve.some("ffffff"))},l=function(e,t){var n=tE(t);u(e,n),h(n)},f=function(e){return o[e].get()},d=function(e,t){o[e].set(t)},p=function(){return f("red").bind(function(e){return f("green").bind(function(t){return f("blue").map(function(n){return QS(e,t,n,1)})})})},h=function(e){var t=e.red,n=e.green,r=e.blue;d("red",ve.some(t)),d("green",ve.some(n)),d("blue",ve.some(r))},m=function(e,t){var n=t.event();"hex"!==n.type()?d(n.type(),ve.none()):r(e)},g=function(e,t){n(e);var r=zS(t);d("hex",ve.some(t));var o=tE(r);u(e,o),h(o),Di(e,_N,{hex:r}),c(e,r)},v=function(e,t,n){var r=parseInt(n,10);d(t,ve.some(r)),p().each(function(t){var n=a(e,t);c(e,n)})},b=function(e){return"hex"===e.type()},y=function(e,t){var n=t.event();b(n)?g(e,n.value()):v(e,n.type(),n.value())},w=function(t){return{label:e("colorcustom.rgb."+t+".label"),description:e("colorcustom.rgb."+t+".description")}},x=w("red"),_=w("green"),C=w("blue"),S=w("hex");return Vt(KA.sketch(function(n){return{dom:{tag:"form",classes:[t("rgb-form")],attributes:{"aria-label":e("aria.color.picker")}},components:[n.field("red",Uk.sketch(i(ZS,"red",x.label,x.description,255))),n.field("green",Uk.sketch(i(ZS,"green",_.label,_.description,255))),n.field("blue",Uk.sketch(i(ZS,"blue",C.label,C.description,255))),n.field("hex",Uk.sketch(i(US,"hex",S.label,S.description,"ffffff"))),s.asSpec()],formBehaviours:Gl([BT.config({invalidClass:t("form-invalid")}),Ty("rgb-form-events",[zi(JA,y),zi(QA,m),zi(ZA,m)])])}}),{apis:{updateHex:function(e,t){nm.setValue(e,{hex:t.value}),l(e,t),c(e,t)}}})},name:"RgbForm",configFields:[],apis:{updateHex:function(e,t,n){e.updateHex(t,n)}},extraApis:{}})},tD=function(e,t){var n=VA.parts().spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[t("sv-palette-spectrum")]}}),r=VA.parts().thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[t("sv-palette-thumb")],innerHtml:"<div class="+t("sv-palette-inner-thumb")+' role="presentation"></div>'}}),o=function(e,t){var n=e.width,r=e.height,o=e.getContext("2d");if(null!==o){o.fillStyle=t,o.fillRect(0,0,n,r);var i=o.createLinearGradient(0,0,n,0);i.addColorStop(0,"rgba(255,255,255,1)"),i.addColorStop(1,"rgba(255,255,255,0)"),o.fillStyle=i,o.fillRect(0,0,n,r);var a=o.createLinearGradient(0,0,0,r);a.addColorStop(0,"rgba(0,0,0,0)"),a.addColorStop(1,"rgba(0,0,0,1)"),o.fillStyle=a,o.fillRect(0,0,n,r)}},i=function(e,t){var n=e.components()[0].element().dom();o(n,oE(t))};return dg({factory:function(e){var i=ie({x:ie(0),y:ie(0)}),a=function(e,t,n){Di(e,SN,{value:n})},u=function(e,t,n,r){o(n.element().dom(),oE(iE))},s=Gl([_g.config({find:ve.some}),Ly.config({})]);return VA.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[t("sv-palette")]},model:{mode:"xy",getInitialValue:i},rounded:!1,components:[n,r],onChange:a,onInit:u,sliderBehaviours:s})},name:"SaturationBrightnessPalette",configFields:[],apis:{setRgba:function(e,t,n){i(t,n)}},extraApis:{}})},nD=function(e,t){var n=function(n){var r=eD(e,t,n.onValidHex,n.onInvalidHex),o=tD(0,t),i={paletteRgba:Lr(iE)},a=Qw(o.sketch({})),u=Qw(r.sketch({})),s=function(e,t){a.getOpt(e).each(function(e){var n=tE(t);i.paletteRgba.set(n),o.setRgba(e,n)})},c=function(e,t){u.getOpt(e).each(function(e){r.updateHex(e,t)})},l=function(e,t,n){He(n,function(n){n(e,t)})};return{uid:n.uid,dom:n.dom,components:[a.asSpec(),qA(0,t),u.asSpec()],behaviours:Gl([Ty("colour-picker-events",[zi(SN,function(){var e=[c];return function(t,n){var r=n.event().value(),o=i.paletteRgba.get(),a=wN(o),u=yN(a.hue,r.x(),100-r.y()),s=eE(u),c=GS(s);l(t,c,e)}}()),zi(CN,function(){var e=[s,c];return function(t,n){var r=n.event().value(),o=xN(r.y());l(t,o,e)}}())]),_g.config({find:function(e){return u.getOpt(e)}}),my.config({mode:"acyclic"})])}};return dg({name:"ColourPicker",configFields:[lr("dom"),Tr("onValidHex",te),Tr("onInvalidHex",te)],factory:n})},rD=function(){return _g.config({find:ve.some})},oD=function(e){return _g.config({find:e.getOpt})},iD=function(e){return _g.config({find:function(t){return pa(t.element(),e).bind(function(e){return t.getSystem().getByDom(e).toOption()})}})},aD={self:rD,memento:oD,childAt:iD},uD={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.sb.saturation":"Saturation","colorcustom.sb.brightness":"Brightness","colorcustom.sb.picker":"Saturation and Brightness Picker","colorcustom.sb.palette":"Saturation and Brightness Palette","colorcustom.sb.instructions":"Use arrow keys to select saturation and brightness, on x and y axes","colorcustom.hue.hue":"Hue","colorcustom.hue.slider":"Hue Slider","colorcustom.hue.palette":"Hue Palette","colorcustom.hue.instructions":"Use arrow keys to select a hue","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},sD=function(e){return uD[e]},cD=function(e){return sD(e)},lD=function(e){var n=function(e){return"tox-"+e},r=nD(cD,n),o=function(e){Di(e,nT,{name:"hex-valid",value:!0})},i=function(e){Di(e,nT,{name:"hex-valid",value:!1})},a=Qw(r.sketch({dom:{tag:"div",classes:[n("color-picker-container")],attributes:{role:"presentation"}},onValidHex:o,onInvalidHex:i}));return{dom:{tag:"div"},components:[a.asSpec()],behaviours:Gl([nm.config({store:{mode:"manual",getValue:function(e){var t=a.get(e);return _g.getCurrent(t).bind(function(e){return nm.getValue(e).hex}).map(function(e){return"#"+e}).getOr("")},setValue:function(e,n){var r=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,o=r.exec(n),i=a.get(e);_g.getCurrent(i).fold(function(){t.console.log("Can not find form")},function(e){nm.setValue(e,{hex:ve.from(o[1]).getOr("")}),KA.getField(e,"hex").each(function(e){Ai(e,Zo())})})}}}),aD.self()])}},fD=tinymce.util.Tools.resolve("tinymce.Resource"),dD=function(e){return Object.prototype.hasOwnProperty.call(e,"init")},pD=function(e){var t=Lr(ve.none()),n=Qw({dom:{tag:e.tag}}),r=Lr(ve.none());return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:Gl([Ty("editor-foo-events",[Xi(function(o){n.getOpt(o).each(function(n){(dD(e)?e.init(n.element().dom()):fD.load(e.scriptId,e.scriptUrl).then(function(t){return t(n.element().dom(),e.settings)})).then(function(e){r.get().each(function(t){e.setValue(t)}),r.set(ve.none()),t.set(ve.some(e))})})})]),nm.config({store:{mode:"manual",getValue:function(){return t.get().fold(function(){return r.get().getOr("")},function(e){return e.getValue()})},setValue:function(e,n){t.get().fold(function(){r.set(ve.some(n))},function(e){return e.setValue(n)})}}}),aD.self()]),components:[n.asSpec()]}},hD=Rn([Tr("preprocess",ae),Tr("postprocess",ae)]),mD=function(e,t){var n=Jn("RepresentingConfigs.memento processors",hD,t);return nm.config({store:{mode:"manual",getValue:function(t){var r=e.get(t),o=nm.getValue(r);return n.postprocess(o)},setValue:function(t,r){var o=n.preprocess(r),i=e.get(t);nm.setValue(i,o)}}})},gD=function(e,t,n){return nm.config(Vt({store:{mode:"manual",getValue:t,setValue:n}},e.map(function(e){return{store:{initialValue:e}}}).getOr({})))},vD=function(e,t,n){return gD(e,function(e){return t(e.element())},function(e,t){return n(e.element(),t)})},bD=function(e){return vD(e,ws,xs)},yD=function(e){return vD(e,ka,Ta)},wD=function(e){return nm.config({store:{mode:"memory",initialValue:e}})},xD={memento:mD,withElement:vD,withComp:gD,domValue:bD,domHtml:yD,memory:wD},_D=".jpg,.jpeg,.png,.gif",CD=function(e){var t=new RegExp("("+_D.split(/\s*,\s*/).join("|")+")$","i");return qe(it(e),function(e){return t.test(e.name)})},SD=function(e,t){var n=function(e,t){t.stop()},r=function(e){return function(t,n){He(e,function(e){e(t,n)})}},o=function(e,t){if(!iC.isDisabled(e)){var n=t.event().raw();a(e,n.dataTransfer.files)}},i=function(e,t){var n=t.event().raw().target.files;a(e,n)},a=function(t,n){nm.setValue(t,CD(n)),Di(t,Zk,{name:e.name})},u=Qw({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:Gl([Ty("input-file-events",[Wi(ti()),Wi(fi())])])}),s=function(e){return{uid:e.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:Gl([xD.memory([]),aD.self(),iC.config({}),ew.config({toggleClass:"dragenter",toggleOnExecute:!1}),Ty("dropzone-events",[zi("dragenter",r([n,ew.toggle])),zi("dragleave",r([n,ew.toggle])),zi("dragover",n),zi("drop",r([n,o])),zi(ei(),i)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p",innerHtml:t.translate("Drop an image here")}},Jw.sketch({dom:{tag:"button",innerHtml:t.translate("Browse for an image"),styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[u.asSpec()],action:function(e){u.get(e).element().dom().click()},buttonBehaviours:Gl([Gk.config({}),eS.button(t.isReadOnly),YC()])})]}]}},c=e.label.map(function(e){return Qk(e,t)}),l=Uk.parts().field({factory:{sketch:s}});return $k(c,l,["tox-form__group--stretched"],[])},ED=function(e,t){return{dom:{tag:"div",classes:["tox-form__grid","tox-form__grid--"+e.columns+"col"]},components:Fe(e.items,t.interpreter)}},kD=qa("alloy-fake-before-tabstop"),TD=qa("alloy-fake-after-tabstop"),ND=function(e){return{dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:e},behaviours:Gl([Ly.config({ignore:!0}),Gk.config({})])}},OD=function(e){return{dom:{tag:"div",classes:["tox-navobj"]},components:[ND([kD]),e,ND([TD])],behaviours:Gl([aD.childAt(1)])}},AD=function(e,t){Di(e,Jo(),{raw:{which:9,shiftKey:t}})},DD=function(e,t){var n=t.element();Gu(n,kD)?AD(e,!0):Gu(n,TD)&&AD(e,!1)},MD=function(e){return pk(e,["."+kD,"."+TD].join(","),ie(!1))},ID=!(_o().browser.isIE()||_o().browser.isEdge()),RD=function(e){var t=Lr("");return{getValue:function(e){return t.get()},setValue:function(n,r){if(e)Aa(n.element(),"srcdoc",r);else{Aa(n.element(),"src","javascript:''");var o=n.element().dom().contentWindow.document;o.open(),o.write(r),o.close()}t.set(r)}}},PD=function(e,t){var n=ID&&e.sandboxed,r=de(de({},e.label.map(function(e){return{title:e}}).getOr({})),n?{sandbox:"allow-scripts allow-same-origin"}:{}),o=RD(n),i=e.label.map(function(e){return Qk(e,t)}),a=function(e){return OD({uid:e.uid,dom:{tag:"iframe",attributes:r},behaviours:Gl([Gk.config({}),Ly.config({}),xD.withComp(ve.none(),o.getValue,o.setValue)])})},u=Uk.parts().field({factory:{sketch:a}});return $k(i,u,["tox-form__group--stretched"],[])},LD=window.Promise?window.Promise:function(){function e(e,t){return function(){return e.apply(t,arguments)}}function n(e){var t=this;if(null===this._state)return void this._deferreds.push(e);c(function(){var n=t._state?e.onFulfilled:e.onRejected;if(null===n)return void(t._state?e.resolve:e.reject)(t._value);var r;try{r=n(t._value)}catch(t){return void e.reject(t)}e.resolve(r)})}function r(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if("function"==typeof n)return void u(e(n,t),e(r,this),e(o,this))}this._state=!0,this._value=t,i.call(this)}catch(e){o.call(this,e)}}function o(e){this._state=!1,this._value=e,i.call(this)}function i(){for(var e=0,t=this._deferreds;e<t.length;e++){var r=t[e];n.call(this,r)}this._deferreds=[]}function a(e,t,n,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r}function u(e,t,n){var r=!1;try{e(function(e){r||(r=!0,t(e))},function(e){r||(r=!0,n(e))})}catch(e){if(r)return;r=!0,n(e)}}var s=function(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],u(t,e(r,this),e(o,this))},c=s.immediateFn||"function"==typeof window.setImmediate&&window.setImmediate||function(e){t.setTimeout(e,1)},l=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};return s.prototype.catch=function(e){return this.then(null,e)},s.prototype.then=function(e,t){var r=this;return new s(function(o,i){n.call(r,new a(e,t,o,i))})},s.all=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Array.prototype.slice.call(1===e.length&&l(e[0])?e[0]:e);return new s(function(e,t){function r(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var u=a.then;if("function"==typeof u)return void u.call(a,function(e){r(i,e)},t)}n[i]=a,0==--o&&e(n)}catch(e){t(e)}}if(0===n.length)return e([]);for(var o=n.length,i=0;i<n.length;i++)r(i,n[i])})},s.resolve=function(e){return e&&"object"==typeof e&&e.constructor===s?e:new s(function(t){t(e)})},s.reject=function(e){return new s(function(t,n){n(e)})},s.race=function(e){return new s(function(t,n){for(var r=0,o=e;r<o.length;r++){o[r].then(t,n)}})},s}(),jD=function(e){return N(e)},BD=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],zD=function(e){return function(t){return L(t,e)}}([-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0,0,0,0,0,1]),FD=F(R),HD=F(I),UD=function(e,t,n,r){return L(e,P(D(),t,n,r))},VD=function(e){return function(t){return B(t,e)}}([0,-1,0,-1,5,-1,0,-1,0]),qD=function(e){var t=function(t,n,r){for(var o=m(t),i=new Array(256),a=0;a<i.length;a++)i[a]=e(a,r);var u=function(e,t){for(var n=e.data,r=0;r<n.length;r+=4)n[r]=t[n[r]],n[r+1]=t[n[r+1]],n[r+2]=t[n[r+2]];return e}(o.getImageData(0,0,t.width,t.height),i);return o.putImageData(u,0,0),O(t,n)};return function(e,n){return e.toCanvas().then(function(r){return t(r,e.getType(),n)})}}(function(e,t){return 255*Math.pow(e/255,1-t)}),WD=function(e){return zD(e)},GD=function(e){return VD(e)},$D=function(e,t){return qD(e,t)},XD=function(e,t,n,r){return UD(e,t,n,r)},YD=function(e,t){return FD(e,t)},KD=function(e,t){return HD(e,t)},JD=function(e,t){return W(e,t)},QD=function(e,t,n,r,o){return $(e,t,n,r,o)},ZD=function(e,t,n){return Y(e,t,n)},eM=function(e,t){return V(e,t)},tM=function(e,t){return de({dom:{tag:"span",innerHtml:e,classes:["tox-icon","tox-tbtn__icon-wrap"]}},t)},nM=function(e,t){return tM(ex(e,t),{})},rM=function(e,t){return tM(ex(e,t),{behaviours:Gl([Ey.config({})])})},oM=function(e,t,n){return{dom:{tag:"span",innerHtml:n.translate(e),classes:[t+"__select-label"]},behaviours:Gl([Ey.config({})])}},iM=qa("toolbar.button.execute"),aM=function(e){return Ji(function(t,n){tS(e,t)(function(n){Di(t,iM,{buttonApi:n}),e.onAction(n)})})},uM={"alloy.execute":["disabling","alloy.base.behaviour","toggling","toolbar-button-events"]},sM=qa("update-menu-text"),cM=qa("update-menu-icon"),lM=function(e,t,n){var r=Lr(te),i=e.text.map(function(e){return Qw(oM(e,t,n.providers))}),a=e.icon.map(function(e){return Qw(rM(e,n.providers.icons))}),u=function(e,t){var n=nm.getValue(e);return Ly.focus(n),Di(n,"keydown",{raw:t.event().raw()}),cN.close(n),ve.some(!0)},s=e.role.fold(function(){return{}},function(e){return{role:e}}),c=e.tooltip.fold(function(){return{}},function(e){var t=n.providers.translate(e);return{title:t,"aria-label":t}});return Qw(cN.sketch(de(de({},s),{dom:{tag:"button",classes:[t,t+"--select"].concat(Fe(e.classes,function(e){return t+"--"+e})),attributes:de({},c)},components:aS([a.map(function(e){return e.asSpec()}),i.map(function(e){return e.asSpec()}),ve.some({dom:{tag:"div",classes:[t+"__select-chevron"],innerHtml:ex("chevron-down",n.providers.icons)}})]),matchWidth:!0,useMinWidth:!0,dropdownBehaviours:Gl(o(e.dropdownBehaviours,[eS.button(function(){return e.disabled||n.providers.isReadOnly()}),YC(),pN.config({}),Ey.config({}),Ty("dropdown-events",[nS(e,r),rS(e,r)]),Ty("menubutton-update-display-text",[zi(sM,function(e,t){i.bind(function(t){return t.getOpt(e)}).each(function(e){Ey.set(e,[Ds(n.providers.translate(t.event().text()))])})}),zi(cM,function(e,t){a.bind(function(t){return t.getOpt(e)}).each(function(e){Ey.set(e,[rM(t.event().icon(),n.providers.icons)])})})])])),eventOrder:Vt(uM,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"]}),sandboxBehaviours:Gl([my.config({mode:"special",onLeft:u,onRight:u})]),lazySink:n.getSink,toggleClass:t+"--active",parts:{menu:e_(0,e.columns,e.presets)},fetch:function(){return kT.nu(e.fetch)}}))).asSpec()},fM=function(e){return xe(e)},dM=function(e){return"separator"===e.type},pM=function(e){return Pt(e,"getSubmenuItems")},hM={type:"separator"},mM=function(e,t){var n=Ge(e,function(e,n){return fM(n)?""===n?e:"|"===n?e.length>0&&!dM(e[e.length-1])?e.concat([hM]):e:Pt(t,n.toLowerCase())?e.concat([t[n.toLowerCase()]]):e:e.concat([n])},[]);return n.length>0&&dM(n[n.length-1])&&n.pop(),n},gM=function(e,t){var n=e.getSubmenuItems(),r=yM(n,t);return{item:e,menus:Vt(r.menus,on(e.value,r.items)),expansions:Vt(r.expansions,on(e.value,e.value))}},vM=function(e,t){return pM(e)?gM(e,t):{item:e,menus:{},expansions:{}}},bM=function(e){if(dM(e))return e;var t=Rt(e,"value").getOrThunk(function(){return qa("generated-menu-item")});return Vt({value:t},e)},yM=function(e,t){var n=mM(xe(e)?e.split(" "):e,t);return We(n,function(e,n){var r=bM(n),o=vM(r,t);return{menus:Vt(e.menus,o.menus),items:[o.item].concat(e.items),expansions:Vt(e.expansions,o.expansions)}},{menus:{},expansions:{},items:[]})},wM=function(e,t,n,r){var o=qa("primary-menu"),i=yM(e,n.shared.providers.menuItems());if(0===i.items.length)return ve.none();var a=ok(o,i.items,t,n,r),u=kt(i.menus,function(e,r){return ok(r,e,t,n,!1)}),s=Vt(u,on(o,a));return ve.from(Rw.tieredData(o,s,i.expansions))},xM=function(e){return{isDisabled:function(){return iC.isDisabled(e)},setDisabled:function(t){return iC.set(e,t)},setActive:function(t){var n=e.element();t?(Vu(n,"tox-tbtn--enabled"),Aa(n,"aria-pressed",!0)):(Wu(n,"tox-tbtn--enabled"),Pa(n,"aria-pressed"))},isActive:function(){return Gu(e.element(),"tox-tbtn--enabled")}}},_M=function(e,t,n,r){return lM({text:e.text,icon:e.icon,tooltip:e.tooltip,role:r,fetch:function(t){e.fetch(function(e){t(wM(e,Vx.CLOSE_ON_EXECUTE,n,!1))})},onSetup:e.onSetup,getApi:xM,columns:1,presets:"normal",classes:[],dropdownBehaviours:[Gk.config({})]},t,n.shared)},CM=function(e,t,n){var r=function(e){return function(r){var o=!r.isActive();r.setActive(o),e.storage.set(o),n.shared.getSink().each(function(n){t().getOpt(n).each(function(t){uf(t.element()),Di(t,nT,{name:e.name,value:e.storage.get()})})})}},o=function(e){return function(t){t.setActive(e.storage.get())}};return function(t){t(Fe(e,function(e){var t=e.text.fold(function(){return{}},function(e){return{text:e}});return de(de({type:e.type,active:!1},t),{onAction:r(e),onSetup:o(e)})}))}},SM=function(e,t,n,r,o,i){void 0===n&&(n=[]);var a=t.fold(function(){return{}},function(e){return{action:e}}),u=de({buttonBehaviours:Gl([eS.button(function(){return e.disabled||i.isReadOnly()}),YC(),Gk.config({}),Ty("button press",[Bi("click"),Bi("mousedown")])].concat(n)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]}},a),s=Vt(u,{dom:r});return Vt(s,{components:o})},EM=function(e,t,n,r){void 0===r&&(r=[]);var o=e.tooltip.map(function(e){return{"aria-label":n.translate(e),title:n.translate(e)}}).getOr({}),i={tag:"button",classes:["tox-tbtn"],attributes:o},a=e.icon.map(function(e){return nM(e,n.icons)}),u=aS([a]);return SM(e,t,r,i,u,n)},kM=function(e,t,n,r){void 0===r&&(r=[]);var o=EM(e,ve.some(t),n,r);return Jw.sketch(o)},TM=function(e,t,n,r,i){void 0===r&&(r=[]),void 0===i&&(i=[]);var a=n.translate(e.text),u=e.icon?e.icon.map(function(e){return nM(e,n.icons)}):ve.none(),s=u.isSome()?aS([u]):[],c=u.isSome()?{}:{innerHtml:a},l=o(e.primary||e.borderless?["tox-button"]:["tox-button","tox-button--secondary"],u.isSome()?["tox-button--icon"]:[],e.borderless?["tox-button--naked"]:[],i),f=de(de({tag:"button",classes:l},c),{attributes:{title:a}});return SM(e,t,r,f,s,n)},NM=function(e,t,n,r,o){void 0===r&&(r=[]),void 0===o&&(o=[]);var i=TM(e,ve.some(t),n,r,o);return Jw.sketch(i)},OM=function(e,n){return function(r){"custom"===n?Di(r,nT,{name:e,value:{}}):"submit"===n?Ai(r,rT):"cancel"===n?Ai(r,tT):t.console.error("Unknown button type: ",n)}},AM=function(e,t){return"menu"===t},DM=function(e,t){return"custom"===t||"cancel"===t||"submit"===t},MM=function(e,n,r){if(AM(0,n)){var o=function(){return u},i=e,a=de(de({},e),{onSetup:function(t){return t.setDisabled(e.disabled),te},fetch:CM(i.items,o,r)}),u=Qw(_M(a,"tox-tbtn",r,ve.none()));return u.asSpec()}if(DM(0,n)){var s=OM(e.name,n),c=de(de({},e),{borderless:!1});return NM(c,s,r.shared.providers,[])}t.console.error("Unknown footer button type: ",n)},IM=function(e,t){var n=OM(e.name,"custom");return Xk(ve.none(),Uk.parts().field(de({factory:Jw},TM(e,ve.some(n),t,[xD.memory(""),aD.self()]))))},RM=ie([Tr("field1Name","field1"),Tr("field2Name","field2"),Kc("onLockedChange"),Gc(["lockClass"]),Tr("locked",!1),am.field("coupledFieldBehaviours",[_g,nm])]),PM=function(e,t,n){return Ym(e,t,n).bind(_g.getCurrent)},LM=function(e,t){return Rm({factory:Uk,name:e,overrides:function(e){return{fieldBehaviours:Gl([Ty("coupled-input-behaviour",[zi(Zo(),function(n){PM(n,e,t).each(function(t){Ym(n,e,"lock").each(function(r){ew.isOn(r)&&e.onLockedChange(n,t,r)})})})])])}}})},jM=ie([LM("field1","field2"),LM("field2","field1"),Rm({factory:Jw,schema:[lr("dom")],name:"lock",overrides:function(e){return{buttonBehaviours:Gl([ew.config({selected:e.locked,toggleClass:e.markers.lockClass,aria:{mode:"pressed"}})])}}})]),BM=function(e,t,n,r){return{uid:e.uid,dom:e.dom,components:t,behaviours:am.augment(e.coupledFieldBehaviours,[_g.config({find:ve.some}),nm.config({store:{mode:"manual",getValue:function(t){var n,r=eg(t,e,["field1","field2"]);return n={},n[e.field1Name]=nm.getValue(r.field1()),n[e.field2Name]=nm.getValue(r.field2()),n},setValue:function(t,n){var r=eg(t,e,["field1","field2"]);Lt(n,e.field1Name)&&nm.setValue(r.field1(),n[e.field1Name]),Lt(n,e.field2Name)&&nm.setValue(r.field2(),n[e.field2Name])}}})]),apis:{getField1:function(t){return Ym(t,e,"field1")},getField2:function(t){return Ym(t,e,"field2")},getLock:function(t){return Ym(t,e,"lock")}}}},zM=pg({name:"FormCoupledInputs",configFields:RM(),partFields:jM(),factory:BM,apis:{getField1:function(e,t){return e.getField1(t)},getField2:function(e,t){return e.getField2(t)},getLock:function(e,t){return e.getLock(t)}}}),FM=function(e){var t={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},n=e.value.toFixed(function(e){return e in t?t[e]:1}(e.unit));return-1!==n.indexOf(".")&&(n=n.replace(/\.?0*$/,"")),n+e.unit},HM=function(e){var t=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/,n=t.exec(e);if(null!==n){var r=parseFloat(n[1]),o=n[2];return lt.value({value:r,unit:o})}return lt.error(e)},UM=function(e,t){var n={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},r=function(e){return Object.prototype.hasOwnProperty.call(n,e)};return e.unit===t?ve.some(e.value):r(e.unit)&&r(t)?n[e.unit]===n[t]?ve.some(e.value):ve.some(e.value/n[e.unit]*n[t]):ve.none()},VM=function(e){return ve.none()},qM=function(e,t){return function(n){return UM(n,t).map(function(n){return{value:n*e,unit:t}})}},WM=function(e,t){var n=HM(e).toOption(),r=HM(t).toOption();return gg(n,r,function(e,t){return UM(e,t.unit).map(function(e){return t.value/e}).map(function(e){return qM(e,t.unit)}).getOr(VM)}).getOr(VM)},GM=function(e,t){var n=VM,r=qa("ratio-event"),o=zM.parts().lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:t.translate(e.label.getOr("Constrain proportions"))}},components:[{dom:{tag:"span",classes:["tox-icon","tox-lock-icon__lock"],innerHtml:ex("lock",t.icons)}},{dom:{tag:"span",classes:["tox-icon","tox-lock-icon__unlock"],innerHtml:ex("unlock",t.icons)}}],buttonBehaviours:Gl([iC.config({disabled:function(){return e.disabled||t.isReadOnly()}}),YC(),Gk.config({})])}),i=function(e){return{dom:{tag:"div",classes:["tox-form__group"]},components:e}},a=function(n){return Uk.parts().field({factory:hT,inputClasses:["tox-textfield"],inputBehaviours:Gl([iC.config({disabled:function(){return e.disabled||t.isReadOnly()}}),YC(),Gk.config({}),Ty("size-input-events",[zi(Yo(),function(e,t){Di(e,r,{isField1:n})}),zi(ei(),function(t,n){Di(t,Zk,{name:e.name})})])]),selectOnFocus:!1})},u=function(e){return{dom:{tag:"label",classes:["tox-label"],innerHtml:t.translate(e)}}},s=zM.parts().field1(i([Uk.parts().label(u("Width")),a(!0)])),c=zM.parts().field2(i([Uk.parts().label(u("Height")),a(!1)]));return zM.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[s,c,i([u("&nbsp;"),o])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:function(e,t,r){HM(nm.getValue(e)).each(function(e){n(e).each(function(e){nm.setValue(t,FM(e))})})},coupledFieldBehaviours:Gl([iC.config({disabled:function(){return e.disabled||t.isReadOnly()},onDisabled:function(e){zM.getField1(e).bind(Uk.getField).each(iC.disable),zM.getField2(e).bind(Uk.getField).each(iC.disable),zM.getLock(e).each(iC.disable)},onEnabled:function(e){zM.getField1(e).bind(Uk.getField).each(iC.enable),zM.getField2(e).bind(Uk.getField).each(iC.enable),zM.getLock(e).each(iC.enable)}}),YC(),Ty("size-input-events2",[zi(r,function(e,t){var r=t.event().isField1(),o=r?zM.getField1(e):zM.getField2(e),i=r?zM.getField2(e):zM.getField1(e),a=o.map(nm.getValue).getOr(""),u=i.map(nm.getValue).getOr("");n=WM(a,u)})])])})},$M=ie(qa("undo")),XM=ie(qa("redo")),YM=ie(qa("zoom")),KM=ie(qa("back")),JM=ie(qa("apply")),QM=ie(qa("swap")),ZM=ie(qa("transform")),eI=ie(qa("temp-transform")),tI=ie(qa("transform-apply")),nI={undo:$M,redo:XM,zoom:YM,back:KM,apply:JM,swap:QM,transform:ZM,tempTransform:eI,transformApply:tI},rI=ie("save-state"),oI=ie("disable"),iI=ie("enable"),aI={formActionEvent:nT,saveState:rI,disable:oI,enable:iI},uI=function(e,t){var n=function(e,n,r,o){return Qw(NM({name:e,text:e,disabled:r,primary:o,icon:ve.none(),borderless:!1},n,t))},r=function(e,n,r,o){return Qw(kM({name:e,icon:ve.some(e),tooltip:ve.some(n),disabled:o,primary:!1,borderless:!1},r,t))},o=function(e,t){e.map(function(e){var n=e.get(t);n.hasConfigured(iC)&&iC.disable(n)})},i=function(e,t){e.map(function(e){var n=e.get(t);n.hasConfigured(iC)&&iC.enable(n)})},a={tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools-edit-panel"]},u=te,s=function(e,t,n){Di(e,t,n)},c=function(e){return Ai(e,aI.disable())},l=function(e){return Ai(e,aI.enable())},f=function(e,t){c(e),s(e,nI.transform(),{transform:t}),l(e)},d=function(e,t){c(e),s(e,nI.tempTransform(),{transform:t}),l(e)},p=function(e){return function(){oe.getOpt(e).each(function(e){Ey.set(e,[ne])})}},h=function(e,t){c(e),s(e,nI.transformApply(),{transform:t,swap:p(e)}),l(e)},m=function(){return n("Back",function(e){return s(e,nI.back(),{swap:p(e)})},!1,!1)},g=function(){return Qw({dom:{tag:"div",classes:["tox-spacer"]},behaviours:Gl([iC.config({})])})},v=function(){return n("Apply",function(e){return s(e,nI.apply(),{swap:p(e)})},!0,!0)},b=function(){return function(t){var n=e.getRect();return QD(t,n.x,n.y,n.w,n.h)}},y=[m(),g(),n("Apply",function(t){var n=b();h(t,n),e.hideCrop()},!1,!0)],w=Lk.sketch({dom:a,components:y.map(function(e){return e.asSpec()}),containerBehaviours:Gl([Ty("image-tools-crop-buttons-events",[zi(aI.disable(),function(e,t){o(y,e)}),zi(aI.enable(),function(e,t){i(y,e)})])])}),x=Qw(GM({name:"size",label:ve.none(),constrain:!0,disabled:!1},t)),_=function(e,t){return function(n){return ZD(n,e,t)}},C=[m(),g(),x,g(),n("Apply",function(e){x.getOpt(e).each(function(t){var n=nm.getValue(t),r=parseInt(n.width,10),o=parseInt(n.height,10),i=_(r,o);h(e,i)})},!1,!0)],S=Lk.sketch({dom:a,components:C.map(function(e){return e.asSpec()}),containerBehaviours:Gl([Ty("image-tools-resize-buttons-events",[zi(aI.disable(),function(e,t){o(C,e)}),zi(aI.enable(),function(e,t){i(C,e)})])])}),E=function(e,t){return function(n){return e(n,t)}},k=E(JD,"h"),T=E(JD,"v"),N=E(eM,-90),O=E(eM,90),A=function(e,t){d(e,t)},D=[m(),g(),r("flip-horizontally","Flip horizontally",function(e){A(e,k)},!1),r("flip-vertically","Flip vertically",function(e){A(e,T)},!1),r("rotate-left","Rotate counterclockwise",function(e){A(e,N)},!1),r("rotate-right","Rotate clockwise",function(e){A(e,O)},!1),g(),v()],M=Lk.sketch({dom:a,components:D.map(function(e){return e.asSpec()}),containerBehaviours:Gl([Ty("image-tools-fliprotate-buttons-events",[zi(aI.disable(),function(e,t){o(D,e)}),zi(aI.enable(),function(e,t){i(D,e)})])])}),I=function(e,n,r,o,i){var a=VA.parts().label({dom:{tag:"label",classes:["tox-label"],innerHtml:t.translate(e)}}),u=VA.parts().spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),s=VA.parts().thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return Qw(VA.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:r,maxX:i,getInitialValue:ie({x:ie(o)})},components:[a,u,s],sliderBehaviours:Gl([Ly.config({})]),onChoose:n}))},R=function(e,t,n,r,o){return I(e,function(e,n,r){var o=E(t,r.x()/100);f(e,o)},n,r,o)},P=function(e,t,n,r,o){return[m(),R(e,t,n,r,o),v()]},L=function(e,t,n,r,u){var s=P(e,t,n,r,u);return Lk.sketch({dom:a,components:s.map(function(e){return e.asSpec()}),containerBehaviours:Gl([Ty("image-tools-filter-panel-buttons-events",[zi(aI.disable(),function(e,t){o(s,e)}),zi(aI.enable(),function(e,t){i(s,e)})])])})},j=[m(),g(),v()],B=Lk.sketch({dom:a,components:j.map(function(e){return e.asSpec()})}),z=L("Brightness",YD,-100,0,100),F=L("Contrast",KD,-100,0,100),H=L("Gamma",$D,-100,0,100),U=function(e,t,n){return function(r){return XD(r,e,t,n)}},V=function(e){return I(e,function(e,t,n){var r=q.getOpt(e),o=G.getOpt(e),i=W.getOpt(e);r.each(function(t){o.each(function(n){i.each(function(r){var o=nm.getValue(t).x()/100,i=nm.getValue(r).x()/100,a=nm.getValue(n).x()/100,u=U(o,i,a);f(e,u)})})})},0,100,200)},q=V("R"),W=V("G"),G=V("B"),$=[m(),q,W,G,v()],X=Lk.sketch({dom:a,components:$.map(function(e){return e.asSpec()})}),Y=function(e,t,n){return function(r){var o=function(){oe.getOpt(r).each(function(t){Ey.set(t,[e]),n(t)})};s(r,nI.swap(),{transform:t,swap:o})}},K=function(t){e.showCrop()},J=function(t){x.getOpt(t).each(function(t){var n=e.getMeasurements(),r=n.width,o=n.height;nm.setValue(t,{width:r,height:o})})},Q=ve.some(GD),Z=ve.some(WD),ee=[r("crop","Crop",Y(w,ve.none(),K),!1),r("resize","Resize",Y(S,ve.none(),J),!1),r("orientation","Orientation",Y(M,ve.none(),u),!1),r("brightness","Brightness",Y(z,ve.none(),u),!1),r("sharpen","Sharpen",Y(B,Q,u),!1),r("contrast","Contrast",Y(F,ve.none(),u),!1),r("color-levels","Color levels",Y(X,ve.none(),u),!1),r("gamma","Gamma",Y(H,ve.none(),u),!1),r("invert","Invert",Y(B,Z,u),!1)],ne=Lk.sketch({dom:a,components:ee.map(function(e){return e.asSpec()})}),re=Lk.sketch({dom:{tag:"div"},components:[ne],containerBehaviours:Gl([Ey.config({})])}),oe=Qw(re);return{memContainer:oe,getApplyButton:function(e){return oe.getOpt(e).map(function(e){var t=e.components()[0];return t.components()[t.components().length-1]})}}},sI=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),cI=tinymce.util.Tools.resolve("tinymce.geom.Rect"),lI=tinymce.util.Tools.resolve("tinymce.util.Observable"),fI=tinymce.util.Tools.resolve("tinymce.util.Tools"),dI=tinymce.util.Tools.resolve("tinymce.util.VK"),pI=0,hI=function(e,t,n,r,o){function i(t,r,o,i){var a,u,s,c,f;a=r.x,u=r.y,s=r.w,c=r.h,a+=o*t.deltaX,u+=i*t.deltaY,s+=o*t.deltaW,c+=i*t.deltaH,s<20&&(s=20),c<20&&(c=20),f=e=cI.clamp({x:a,y:u,w:s,h:c},n,"move"===t.name),f=y(n,f),x.fire("updateRect",{rect:f}),l(f)}function a(e){var t=fI.map(g,function(e){return"#"+m+"-"+e.name}).concat(fI.map(v,function(e){return"#"+m+"-"+e})).join(",");e?sI(t,r).show():sI(t,r).hide()}function u(e){function n(e,t){t.h<0&&(t.h=0),t.w<0&&(t.w=0),sI("#"+m+"-"+e,r).css({left:t.x,top:t.y,width:t.w,height:t.h})}fI.each(g,function(t){sI("#"+m+"-"+t.name,r).css({left:e.w*t.xMul+e.x,top:e.h*t.yMul+e.y})}),n("top",{x:t.x,y:t.y,w:t.w,h:e.y-t.y}),n("right",{x:e.x+e.w,y:e.y,w:t.w-e.x-e.w+t.x,h:e.h}),n("bottom",{x:t.x,y:e.y+e.h,w:t.w,h:t.h-e.y-e.h+t.y}),n("left",{x:t.x,y:e.y,w:e.x-t.x,h:e.h}),n("move",e)}function s(t){e=t,u(e)}function c(n){t=n,u(e)}function l(e){s(b(n,e))}function f(t){n=t,u(e)}function d(){fI.each(p,function(e){e.destroy()}),p=[]}var p,h="tox-",m=h+"crid-"+pI++,g=[{name:"move",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:0,deltaH:0,label:"Crop Mask"},{name:"nw",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:-1,deltaH:-1,label:"Top Left Crop Handle"},{name:"ne",xMul:1,yMul:0,deltaX:0,deltaY:1,deltaW:1,deltaH:-1,label:"Top Right Crop Handle"},{name:"sw",xMul:0,yMul:1,deltaX:1,deltaY:0,deltaW:-1,deltaH:1,label:"Bottom Left Crop Handle"},{name:"se",xMul:1,yMul:1,deltaX:0,deltaY:0,deltaW:1,deltaH:1,label:"Bottom Right Crop Handle"}],v=["top","right","bottom","left"],b=function(e,t){return{x:t.x+e.x,y:t.y+e.y,w:t.w,h:t.h}},y=function(e,t){return{x:t.x-e.x,y:t.y-e.y,w:t.w,h:t.h}},w=function(){return y(n,e)};!function(){function t(t){var n;return new Q(m,{document:r.ownerDocument,handle:m+"-"+t.name,start:function(){n=e},drag:function(e){i(t,n,e.deltaX,e.deltaY)}})}sI('<div id="'+m+'" class="'+h+'croprect-container" role="grid" aria-dropeffect="execute">').appendTo(r),fI.each(v,function(e){sI("#"+m,r).append('<div id="'+m+"-"+e+'"class="'+h+'croprect-block" style="display: none" data-mce-bogus="all">')}),fI.each(g,function(e){sI("#"+m,r).append('<div id="'+m+"-"+e.name+'" class="'+h+"croprect-handle "+h+"croprect-handle-"+e.name+'"style="display: none" data-mce-bogus="all" role="gridcell" tabindex="-1" aria-label="'+e.label+'" aria-grabbed="false" title="'+e.label+'">')}),p=fI.map(g,t),u(e),sI(r).on("focusin focusout",function(e){sI(e.target).attr("aria-grabbed","focus"===e.type?"true":"false")}),sI(r).on("keydown",function(t){function n(e,t,n,o,a){e.stopPropagation(),e.preventDefault(),i(r,n,o,a)}var r;switch(fI.each(g,function(e){if(t.target.id===m+"-"+e.name)return r=e,!1}),t.keyCode){case dI.LEFT:n(t,r,e,-10,0);break;case dI.RIGHT:n(t,r,e,10,0);break;case dI.UP:n(t,r,e,0,-10);break;case dI.DOWN:n(t,r,e,0,10);break;case dI.ENTER:case dI.SPACEBAR:t.preventDefault(),o()}})}();var x=fI.extend({toggleVisibility:a,setClampRect:f,setRect:s,getInnerRect:w,setInnerRect:l,setViewPortRect:c,destroy:d},lI);return x},mI={create:hI},gI=function(e){return new _x(function(t){var n=function(){e.removeEventListener("load",n),t(e)};e.complete?t(e):e.addEventListener("load",n)})},vI=function(e){var t=Qw({dom:{tag:"div",classes:["tox-image-tools__image-bg"],attributes:{role:"presentation"}}}),n=Lr(1),r=Lr(ve.none()),o=Lr({x:0,y:0,w:1,h:1}),i=Lr({x:0,y:0,w:1,h:1}),a=function(e,i){h.getOpt(e).each(function(e){var a=n.get(),u=Xs(e.element()),s=js(e.element()),c=i.dom().naturalWidth*a,l=i.dom().naturalHeight*a,f=Math.max(0,u/2-c/2),d=Math.max(0,s/2-l/2),p={left:f.toString()+"px",top:d.toString()+"px",width:c.toString()+"px",height:l.toString()+"px",position:"absolute"};fs(i,p),t.getOpt(e).each(function(e){fs(e.element(),p)}),r.get().each(function(e){var t=o.get();e.setRect({x:t.x*a+f,y:t.y*a+d,w:t.w*a,h:t.h*a}),e.setClampRect({x:f,y:d,w:c,h:l}),e.setViewPortRect({x:0,y:0,w:u,h:s})})})},u=function(e,t){h.getOpt(e).each(function(e){var r=Xs(e.element()),o=js(e.element()),i=t.dom().naturalWidth,a=t.dom().naturalHeight,u=Math.min(r/i,o/a);u>=1?n.set(1):n.set(u)})},s=function(e,t){var n=Ur.fromTag("img");return Aa(n,"src",t),gI(n.dom()).then(function(){return h.getOpt(e).map(function(e){var t=Ms({element:n});Ey.replaceAt(e,1,ve.some(t));var r=i.get(),s={x:0,y:0,w:n.dom().naturalWidth,h:n.dom().naturalHeight};i.set(s);var c=cI.inflate(s,-20,-20);return o.set(c),r.w===s.w&&r.h===s.h||u(e,n),a(e,n),n})})},c=function(e,t){var r=n.get(),o=t>0?Math.min(2,r+.1):Math.max(.1,r-.1);n.set(o),h.getOpt(e).each(function(e){var t=e.components()[1].element();a(e,t)})},l=function(){r.get().each(function(e){e.toggleVisibility(!0)})},f=function(){r.get().each(function(e){e.toggleVisibility(!1)})},d=function(){return o.get()},p=Lk.sketch({dom:{tag:"div",classes:["tox-image-tools__image"]},components:[t.asSpec(),{dom:{tag:"img",attributes:{src:e}}},{dom:{tag:"div"},behaviours:Gl([Ty("image-panel-crop-events",[Xi(function(e){h.getOpt(e).each(function(e){var t=e.element().dom(),i=mI.create({x:10,y:10,w:100,h:100},{x:0,y:0,w:200,h:200},{x:0,y:0,w:200,h:200},t,function(){});i.toggleVisibility(!1),i.on("updateRect",function(e){var t=e.rect,r=n.get(),i={x:Math.round(t.x/r),y:Math.round(t.y/r),w:Math.round(t.w/r),h:Math.round(t.h/r)};o.set(i)}),r.set(ve.some(i))})})])])}],containerBehaviours:Gl([Ey.config({}),Ty("image-panel-events",[Xi(function(t){s(t,e)})])])}),h=Qw(p);return{memContainer:h,updateSrc:s,zoom:c,showCrop:l,hideCrop:f,getRect:d,getMeasurements:function(){var e=i.get();return{width:e.w,height:e.h}}}},bI=function(e,t,n,r,o){return kM({name:e,icon:ve.some(t),disabled:n,tooltip:ve.some(e),primary:!1,borderless:!1},r,o)},yI=function(e,t){t?iC.enable(e):iC.disable(e)},wI=function(e){var t=function(e,t,o){n.getOpt(e).each(function(e){yI(e,t)}),r.getOpt(e).each(function(e){yI(e,o)})},n=Qw(bI("Undo","undo",!0,function(e){Di(e,nI.undo(),{direction:1})},e)),r=Qw(bI("Redo","redo",!0,function(e){Di(e,nI.redo(),{direction:1})},e));return{container:Lk.sketch({dom:{tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools__sidebar"]},components:[n.asSpec(),r.asSpec(),bI("Zoom in","zoom-in",!1,function(e){Di(e,nI.zoom(),{direction:1})},e),bI("Zoom out","zoom-out",!1,function(e){Di(e,nI.zoom(),{direction:-1})},e)]}),updateButtonUndoStates:t}},xI=function(e){var n=Lr(e),r=Lr(ve.none()),o=Z();o.add(e);var i=function(){return n.get()},a=function(e){n.set(e)},u=function(){return r.get().fold(function(){return n.get()},function(e){return e})},s=function(e){var t=c(e);return d(),r.set(ve.some(t)),t.url},c=function(e){return{blob:e,url:t.URL.createObjectURL(e)}},l=function(e){t.URL.revokeObjectURL(e.url)},f=function(e){fI.each(e,l)},d=function(){r.get().each(l),r.set(ve.none())},p=function(e){var t=c(e);a(t);var n=o.add(t).removed;return f(n),t.url};return{getBlobState:i,setBlobState:a,addBlobState:p,getTempState:u,updateTempState:s,addTempState:function(e){var t=c(e);return r.set(ve.some(t)),t.url},applyTempState:function(e){return r.get().fold(function(){},function(t){p(t.blob),e()})},destroyTempState:d,undo:function(){var e=o.undo();return a(e),e.url},redo:function(){var e=o.redo();return a(e),e.url},getHistoryStates:function(){return{undoEnabled:o.canUndo(),redoEnabled:o.canRedo()}}}},_I=function(e,n){var r=xI(e.currentState),o=function(e,t){var n=t.event().direction();S.zoom(e,n)},i=function(e){var t=r.getHistoryStates();E.updateButtonUndoStates(e,t.undoEnabled,t.redoEnabled),Di(e,aI.formActionEvent,{name:aI.saveState(),value:t.undoEnabled})},a=function(e){E.updateButtonUndoStates(e,!1,!1)},u=function(e,t){var n=r.undo();d(e,n).then(function(t){f(e),i(e)})},s=function(e,t){var n=r.redo();d(e,n).then(function(t){f(e),i(e)})},c=function(e){return e.toBlob()},l=function(e){Di(e,aI.formActionEvent,{name:aI.disable(),value:{}})},f=function(e){k.getApplyButton(e).each(function(e){iC.enable(e)}),Di(e,aI.formActionEvent,{name:aI.enable(),value:{}})},d=function(e,t){return l(e),S.updateSrc(e,t)},p=function(e,n,r,o,a){return l(e),jD(n).then(r).then(c).then(o).then(function(t){return d(e,t).then(function(t){return i(e),a(),f(e),t})}).catch(function(n){return t.console.log(n),f(e),n})},h=function(e,t,n){var o=r.getBlobState().blob;p(e,o,t,function(e){return r.updateTempState(e)},n)},m=function(e,t){var n=r.getTempState().blob;p(e,n,t,function(e){return r.addTempState(e)},te)},g=function(e,t,n){var o=r.getBlobState().blob;p(e,o,t,function(t){var n=r.addBlobState(t);return b(e),n},n)},v=function(e,t){var n=function(){b(e),t.event().swap()()};r.applyTempState(n)},b=function(e){var t=r.getBlobState().url;return r.destroyTempState(),i(e),t},y=function(e){var t=b(e);d(e,t).then(function(t){f(e)})},w=function(e,t){y(e),t.event().swap()(),S.hideCrop()},x=function(e,t){return h(e,t.event().transform(),te)},_=function(e,t){return m(e,t.event().transform())},C=function(e,t){return g(e,t.event().transform(),t.event().swap())},S=vI(e.currentState.url),E=wI(n),k=uI(S,n),T=function(e,t){a(e);var n=t.event().transform(),r=t.event().swap();n.fold(function(){r()},function(t){h(e,t,r)})};return{dom:{tag:"div",attributes:{role:"presentation"}},components:[k.memContainer.asSpec(),S.memContainer.asSpec(),E.container],behaviours:Gl([nm.config({store:{mode:"manual",getValue:function(){return r.getBlobState()}}}),Ty("image-tools-events",[zi(nI.undo(),u),zi(nI.redo(),s),zi(nI.zoom(),o),zi(nI.back(),w),zi(nI.apply(),v),zi(nI.transform(),x),zi(nI.tempTransform(),_),zi(nI.transformApply(),C),zi(nI.swap(),T)]),aD.self()])}},CI=function(e,t){return{dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"label",innerHtml:t.providers.translate(e.label),classes:["tox-label"]}}].concat(Fe(e.items,t.interpreter)),behaviours:Gl([aD.self(),Ey.config({}),xD.domHtml(ve.none()),my.config({mode:"acyclic"})])}},SI=function(e,t){return{dom:{tag:"div",classes:e.classes},components:Fe(e.items,t.shared.interpreter)}},EI=function(e,t){var n=Fe(e.options,function(e){return{dom:{tag:"option",value:e.value,innerHtml:e.text}}}),r=e.data.map(function(e){return on("initialValue",e)}).getOr({});return{uid:e.uid,dom:{tag:"select",classes:e.selectClasses,attributes:e.selectAttributes},components:n,behaviours:im(e.selectBehaviours,[Ly.config({}),nm.config({store:de({mode:"manual",getValue:function(e){return ws(e.element())},setValue:function(t,n){Xe(e.options,function(e){return e.value===n}).isSome()&&xs(t.element(),n)}},r)})])}},kI=dg({name:"HtmlSelect",configFields:[lr("options"),rm("selectBehaviours",[Ly,nm]),Tr("selectClasses",[]),Tr("selectAttributes",{}),wr("data")],factory:EI}),TI=function(e,t){var n=Fe(e.items,function(e){return{text:t.translate(e.text),value:e.value}}),r=e.label.map(function(e){return Qk(e,t)}),o=Uk.parts().field({dom:{},selectAttributes:{size:e.size},options:n,factory:kI,selectBehaviours:Gl([iC.config({disabled:function(){return e.disabled||t.isReadOnly()}}),Gk.config({}),Ty("selectbox-change",[zi(ei(),function(t,n){Di(t,Zk,{name:e.name})})])])}),i=e.size>1?ve.none():ve.some({dom:{tag:"div",classes:["tox-selectfield__icon-js"],innerHtml:ex("chevron-down",t.icons)}}),a={dom:{tag:"div",classes:["tox-selectfield"]},components:Ke([[o],i.toArray()])};return Uk.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Ke([r.toArray(),[a]]),fieldBehaviours:Gl([iC.config({disabled:function(){return e.disabled||t.isReadOnly()},onDisabled:function(e){Uk.getField(e).each(iC.disable)},onEnabled:function(e){Uk.getField(e).each(iC.enable)}}),YC()])})},NI=function(e,t){var n=function(e){return{dom:{tag:"th",innerHtml:t.translate(e)}}},r=function(e){return{dom:{tag:"td",innerHtml:t.translate(e)}}},o=function(e){return{dom:{tag:"tr"},components:Fe(e,r)}};return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[function(e){return{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:Fe(e,n)}]}}(e.header),function(e){return{dom:{tag:"tbody"},components:Fe(e,o)}}(e.cells)],behaviours:Gl([Gk.config({}),Ly.config({})])}},OI=function(e,t){var n=e.label.map(function(e){return Qk(e,t)}),r=[iC.config({disabled:function(){return e.disabled||t.isReadOnly()}}),YC(),my.config({mode:"execution",useEnter:!0!==e.multiline,useControlEnter:!0===e.multiline,execute:function(e){return Ai(e,rT),ve.some(!0)}}),Ty("textfield-change",[zi(Zo(),function(t,n){Di(t,Zk,{name:e.name})}),zi(ui(),function(t,n){Di(t,Zk,{name:e.name})})]),Gk.config({})],o=e.validation.map(function(e){return BT.config({getRoot:function(e){return ca(e.element())},invalidClass:"tox-invalid",validator:{validate:function(t){var n=nm.getValue(t),r=e.validator(n);return kT.pure(!0===r?lt.value(n):lt.error(r))},validateOnLoad:e.validateOnLoad}})}).toArray(),i=e.placeholder.fold(ie({}),function(e){return{placeholder:t.translate(e)}}),a=e.inputMode.fold(ie({}),function(e){return{inputmode:e}}),u=de(de({},i),a),s=Uk.parts().field({tag:!0===e.multiline?"textarea":"input",inputAttributes:u,inputClasses:[e.classname],inputBehaviours:Gl(Ke([r,o])),selectOnFocus:!1,factory:hT}),c=e.flex?["tox-form__group--stretched"]:[],l=c.concat(e.maximized?["tox-form-group--maximize"]:[]),f=[iC.config({disabled:function(){return e.disabled||t.isReadOnly()},onDisabled:function(e){Uk.getField(e).each(iC.disable)},onEnabled:function(e){Uk.getField(e).each(iC.enable)}}),YC()];return $k(n,s,l,f)},AI=function(e,t){return OI({name:e.name,multiline:!1,label:e.label,inputMode:e.inputMode,placeholder:e.placeholder,flex:!1,disabled:e.disabled,classname:"tox-textfield",validation:ve.none(),maximized:e.maximized},t)},DI=function(e,t){return OI({name:e.name,multiline:!0,label:e.label,inputMode:ve.none(),placeholder:e.placeholder,flex:!0,disabled:e.disabled,classname:"tox-textarea",validation:ve.none(),maximized:e.maximized},t)},MI=function(e,t){var n=e.stream.streams,r=n.setup(e,t);return Li([zi(e.event,r),Yi(function(){return t.cancel()})].concat(e.cancelEvent.map(function(e){return[zi(e,function(){return t.cancel()})]}).getOr([])))},II=Object.freeze({__proto__:null,events:MI}),RI=function(e){var t=Lr(null);return fu({readState:function(){return{timer:null!==t.get()?"set":"unset"}},setTimer:function(e){t.set(e)},cancel:function(){var e=t.get();null!==e&&e.cancel()}})},PI=function(e){return e.stream.streams.state(e)},LI=Object.freeze({__proto__:null,throttle:RI,init:PI}),jI=function(e,t){var n=e.stream,r=ux(e.onStream,n.delay);return t.setTimer(r),function(e,t){r.throttle(e,t),n.stopEvent&&t.stop()}},BI=[fr("stream",er("mode",{throttle:[lr("delay"),Tr("stopEvent",!0),Qc("streams",{setup:jI,state:RI})]})),Tr("event","input"),wr("cancelEvent"),Kc("onStream")],zI=Xl({fields:BI,name:"streaming",active:II,state:LI}),FI=function(e,t,n){var r=nm.getValue(n);nm.setValue(t,r),UI(t)},HI=function(e,t){var n=e.element(),r=ws(n),o=n.dom();"number"!==Ma(n,"type")&&t(o,r)},UI=function(e){HI(e,function(e,t){return e.setSelectionRange(t.length,t.length)})},VI=function(e,t){HI(e,function(e,n){return e.setSelectionRange(t,n.length)})},qI=function(e,t,n){if(e.selectsOver){var r=nm.getValue(t),o=e.getDisplayText(r),i=nm.getValue(n);return 0===e.getDisplayText(i).indexOf(o)?ve.some(function(){FI(0,t,n),VI(t,o.length)}):ve.none()}return ve.none()},WI=ie("alloy.typeahead.itemexecute"),GI=function(e,t,n,r){var o=function(t,n,o){e.previewing.set(!1);var i=qT.getCoupled(t,"sandbox");if(wh.isOpen(i))_g.getCurrent(i).each(function(e){Ug.getHighlighted(e).fold(function(){o(e)},function(){Pi(i,e.element(),"keydown",n)})});else{var u=function(e){_g.getCurrent(e).each(o)};JT(e,a(t),t,i,r,u,vT.HighlightFirst).get(te)}},i=lT(e),a=function(e){return function(t){return t.map(function(t){var n=It(t.menus),r=Je(n,function(e){return qe(e.items,function(e){return"item"===e.type})});return nm.getState(e).update(Fe(r,function(e){return e.data})),t})}},u=[Ly.config({}),nm.config({onSetValue:e.onSetValue,store:de({mode:"dataset",getDataKey:function(e){return ws(e.element())},getFallbackEntry:function(e){return{value:e,meta:{}}},setValue:function(t,n){xs(t.element(),e.model.getDisplayText(n))}},e.initialData.map(function(e){return on("initialValue",e)}).getOr({}))}),zI.config({stream:{mode:"throttle",delay:e.responseTime,stopEvent:!1},onStream:function(t,n){var o=qT.getCoupled(t,"sandbox");if(Ly.isFocused(t)&&ws(t.element()).length>=e.minChars){var i=_g.getCurrent(o).bind(function(e){return Ug.getHighlighted(e).map(nm.getValue)});e.previewing.set(!0);var u=function(t){_g.getCurrent(o).each(function(t){i.fold(function(){e.model.selectsOver&&Ug.highlightFirst(t)},function(e){Ug.highlightBy(t,function(t){return nm.getValue(t).value===e.value}),Ug.getHighlighted(t).orThunk(function(){return Ug.highlightFirst(t),ve.none()})})})};JT(e,a(t),t,o,r,u,vT.HighlightFirst).get(te)}},cancelEvent:hi()}),my.config({mode:"special",onDown:function(e,t){return o(e,t,Ug.highlightFirst),ve.some(!0)},onEscape:function(e){var t=qT.getCoupled(e,"sandbox");return wh.isOpen(t)?(wh.close(t),ve.some(!0)):ve.none()},onUp:function(e,t){return o(e,t,Ug.highlightLast),ve.some(!0)},onEnter:function(t){var n=qT.getCoupled(t,"sandbox"),r=wh.isOpen(n);if(r&&!e.previewing.get())return _g.getCurrent(n).bind(function(e){return Ug.getHighlighted(e)}).map(function(e){return Di(t,WI(),{item:e}),!0});var o=nm.getValue(t);return Ai(t,hi()),e.onExecute(n,t,o),r&&wh.close(n),ve.some(!0)}}),ew.config({toggleClass:e.markers.openClass,aria:{mode:"expanded"}}),qT.config({others:{sandbox:function(t){return rN(e,t,{onOpen:function(){return ew.on(t)},onClose:function(){return ew.off(t)}})}}}),Ty("typeaheadevents",[Ji(function(t){var n=te;ZT(e,a(t),t,r,n,vT.HighlightFirst).get(te)}),zi(WI(),function(t,n){var r=qT.getCoupled(t,"sandbox");FI(e.model,t,n.event().item()),Ai(t,hi()),e.onItemExecute(t,r,n.event().item(),nm.getValue(t)),wh.close(r),UI(t)})].concat(e.dismissOnBlur?[zi(ai(),function(e){var t=qT.getCoupled(e,"sandbox");ff(t.element()).isNone()&&wh.close(t)})]:[]))];return{uid:e.uid,dom:dT(Vt(e,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:de(de({},i),im(e.typeaheadBehaviours,u)),eventOrder:e.eventOrder}},$I=ie([wr("lazySink"),lr("fetch"),Tr("minChars",5),Tr("responseTime",1e3),Xc("onOpen"),Tr("getHotspot",ve.some),Tr("getAnchorOverrides",ie({})),Tr("layouts",ve.none()),Tr("eventOrder",{}),Rr("model",{},[Tr("getDisplayText",function(e){return void 0!==e.meta&&void 0!==e.meta.text?e.meta.text:e.value}),Tr("selectsOver",!0),Tr("populateFromBrowse",!0)]),Xc("onSetValue"),Yc("onExecute"),Xc("onItemExecute"),Tr("inputClasses",[]),Tr("inputAttributes",{}),Tr("inputStyles",{}),Tr("matchWidth",!0),Tr("useMinWidth",!1),Tr("dismissOnBlur",!0),Gc(["openClass"]),wr("initialData"),rm("typeaheadBehaviours",[Ly,nm,zI,my,ew,qT]),Pr("previewing",function(){return Lr(!0)})].concat(cT()).concat(iN())),XI=ie([Pm({schema:[Wc()],name:"menu",overrides:function(e){return{fakeFocus:!0,onHighlight:function(t,n){e.previewing.get()?t.getSystem().getByUid(e.uid).each(function(r){qI(e.model,r,n).fold(function(){return Ug.dehighlight(t,n)},function(e){return e()})}):t.getSystem().getByUid(e.uid).each(function(t){e.model.populateFromBrowse&&FI(e.model,t,n)}),e.previewing.set(!1)},onExecute:function(t,n){return t.getSystem().getByUid(e.uid).toOption().map(function(e){return Di(e,WI(),{item:n}),!0})},onHover:function(t,n){e.previewing.set(!1),t.getSystem().getByUid(e.uid).each(function(t){e.model.populateFromBrowse&&FI(e.model,t,n)})}}}})]),YI=pg({name:"Typeahead",configFields:$I(),partFields:XI(),factory:GI}),KI=function(e){var n=function(){return KI(e.toCached())},r=function(t){return KI(e.bind(function(e){return e.fold(function(e){return kT.pure(lt.error(e))},function(e){return t(e)})}))},o=function(t){return KI(e.map(function(e){return e.bind(t)}))},i=function(t){return KI(e.map(function(e){return e.map(t)}))},a=function(t){return KI(e.map(function(e){return e.mapError(t)}))},u=function(t,n){return e.map(function(e){return e.fold(t,n)})},s=function(n,r){return KI(kT.nu(function(o){var i=!1,a=t.setTimeout(function(){i=!0,o(lt.error(r()))},n);e.get(function(e){i||(t.clearTimeout(a),o(e))})}))};return de(de({},e),{toCached:n,bindFuture:r,bindResult:o,mapResult:i,mapError:a,foldResult:u,withTimeout:s})},JI=function(e){return KI(kT.nu(e))},QI=function(e){return KI(kT.pure(lt.value(e)))},ZI=function(e){return KI(kT.pure(lt.error(e)))},eR=function(e){return KI(kT.pure(e))},tR=function(e){return KI(e.map(lt.value))},nR=function(e){return JI(function(t){e.then(function(e){t(lt.value(e))},function(e){t(lt.error(e))})})},rR={nu:JI,wrap:KI,pure:QI,value:QI,error:ZI,fromResult:eR,fromFuture:tR,fromPromise:nR},oR={type:"separator"},iR=function(e){return{type:"menuitem",value:e.url,text:e.title,meta:{attach:e.attach},onAction:function(){}}},aR=function(e,t){return{type:"menuitem",value:t,text:e,meta:{attach:void 0},onAction:function(){}}},uR=function(e){return Fe(e,iR)},sR=function(e,t){return qe(t,function(t){return t.type===e})},cR=function(e,t){return uR(sR(e,t))},lR=function(e){return cR("header",e.targets)},fR=function(e){return cR("anchor",e.targets)},dR=function(e){return ve.from(e.anchorTop).map(function(e){return aR("<top>",e)}).toArray()},pR=function(e){return ve.from(e.anchorBottom).map(function(e){return aR("<bottom>",e)}).toArray()},hR=function(e){return Fe(e,function(e){return aR(e,e)})},mR=function(e){return Ge(e,function(e,t){return 0===e.length||0===t.length?e.concat(t):e.concat(oR,t)},[])},gR=function(e,t){var n=e.toLowerCase();return qe(t,function(e){var t=void 0!==e.meta&&void 0!==e.meta.text?e.meta.text:e.text;return co(t.toLowerCase(),n)||co(e.value.toLowerCase(),n)})},vR=function(e,t,n){var r=nm.getValue(t),o=void 0!==r.meta.text?r.meta.text:r.value;return n.getLinkInformation().fold(function(){return[]},function(t){var r=gR(o,hR(n.getHistory(e)));return"file"===e?mR([r,gR(o,lR(t)),gR(o,Ke([dR(t),fR(t),pR(t)]))]):r})},bR=qa("aria-invalid"),yR=function(e,t,n){var r,o=t.shared.providers,i=function(t){var r=nm.getValue(t);n.addToHistory(r.value,e.filetype)},a=Uk.parts().field({factory:YI,dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":bR,type:"url"},minChars:0,responseTime:0,fetch:function(r){var o=vR(e.filetype,r,n),i=wM(o,Vx.BUBBLE_TO_SANDBOX,t,!1);return kT.pure(i)},getHotspot:function(e){return d.getOpt(e)},onSetValue:function(e,t){e.hasConfigured(BT)&&BT.run(e).get(te)},typeaheadBehaviours:Gl(Ke([n.getValidationHandler().map(function(t){return BT.config({getRoot:function(e){return ca(e.element())},invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:function(e,t){s.getOpt(e).each(function(e){Aa(e.element(),"title",o.translate(t))})}},validator:{validate:function(n){var r=nm.getValue(n);return rR.nu(function(n){t({type:e.filetype,url:r.value},function(e){if("invalid"===e.status){var t=lt.error(e.message);n(t)}else{var r=lt.value(e.message);n(r)}})})},validateOnLoad:!1}})}).toArray(),[iC.config({disabled:function(){return e.disabled||o.isReadOnly()}}),Gk.config({}),Ty("urlinput-events",Ke(["file"===e.filetype?[zi(Zo(),function(t){Di(t,Zk,{name:e.name})})]:[],[zi(ei(),function(t){Di(t,Zk,{name:e.name}),i(t)}),zi(ui(),function(t){Di(t,Zk,{name:e.name}),i(t)})]]))]])),eventOrder:(r={},r[Zo()]=["streaming","urlinput-events","invalidating"],r),model:{getDisplayText:function(e){return e.value},selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:t.shared.getSink,parts:{menu:e_(0,0,"normal")},onExecute:function(e,t,n){Di(t,rT,{})},onItemExecute:function(t,n,r,o){i(t),Di(t,Zk,{name:e.name})}}),u=e.label.map(function(e){return Qk(e,o)}),s=Qw(function(e,t,n,r){return void 0===n&&(n=e),void 0===r&&(r=e),{dom:{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+e],innerHtml:ex(n,o.icons),attributes:de({title:o.translate(r),"aria-live":"polite"},t.fold(function(){return{}},function(e){return{id:e}}))}}}("invalid",ve.some(bR),"warning")),c=Qw({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[s.asSpec()]}),l=n.getUrlPicker(e.filetype),f=qa("browser.url.event"),d=Qw({dom:{tag:"div",classes:["tox-control-wrap"]},components:[a,c.asSpec()],behaviours:Gl([iC.config({disabled:function(){return e.disabled||o.isReadOnly()}})])}),p=Qw(NM({name:e.name,icon:ve.some("browse"),text:e.label.getOr(""),disabled:e.disabled,primary:!1,borderless:!0},function(e){return Ai(e,f)},o,[],["tox-browse-url"])),h=function(t){_g.getCurrent(t).each(function(n){var r=nm.getValue(n),o=de({fieldname:e.name},r);l.each(function(r){r(o).get(function(r){nm.setValue(n,r),Di(t,Zk,{name:e.name})})})})};return Uk.sketch({dom:Kk(),components:u.toArray().concat([function(){return{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:Ke([[d.asSpec()],l.map(function(){return p.asSpec()}).toArray()])}}()]),fieldBehaviours:Gl([iC.config({disabled:function(){return e.disabled||o.isReadOnly()},onDisabled:function(e){Uk.getField(e).each(iC.disable),p.getOpt(e).each(iC.disable)},onEnabled:function(e){Uk.getField(e).each(iC.enable),p.getOpt(e).each(iC.enable)}}),YC(),Ty("url-input-events",[zi(f,h)])])})},wR=function(e,t){return Lk.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in","tox-notification--"+e.level]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[Jw.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:ex(e.icon,t.icons),attributes:{title:t.translate(e.iconTooltip)}},action:function(t){Di(t,nT,{name:"alert-banner",value:e.url})}})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:t.translate(e.text)}}]})},xR=function(e,t){var n=nm.config({store:{mode:"manual",getValue:function(e){return e.element().dom().checked},setValue:function(e,t){e.element().dom().checked=t}}}),r=function(e){return e.element().dom().click(),ve.some(!0)},o=Uk.parts().field({factory:{sketch:ae},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:Gl([aD.self(),iC.config({disabled:function(){return e.disabled||t.isReadOnly()}}),Gk.config({}),Ly.config({}),n,my.config({mode:"special",onEnter:r,onSpace:r,stopSpaceKeyup:!0}),Ty("checkbox-events",[zi(ei(),function(t,n){Di(t,Zk,{name:e.name})})])])}),i=Uk.parts().label({dom:{tag:"span",classes:["tox-checkbox__label"],innerHtml:t.translate(e.label)},behaviours:Gl([pN.config({})])}),a=function(e){return{dom:{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+e],innerHtml:ex("checked"===e?"selected":"unselected",t.icons)}}},u=Qw({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[a("checked"),a("unchecked")]});return Uk.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[o,u.asSpec(),i],fieldBehaviours:Gl([iC.config({disabled:function(){return e.disabled||t.isReadOnly()},disableClass:"tox-checkbox--disabled",onDisabled:function(e){Uk.getField(e).each(iC.disable)},onEnabled:function(e){Uk.getField(e).each(iC.enable)}}),YC()])})},_R=function(e){return"presentation"===e.presets?Lk.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html}}):Lk.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html,attributes:{role:"document"}},containerBehaviours:Gl([Gk.config({}),Ly.config({})])})},CR=function(e){return function(t,n,r){return Rt(n,"name").fold(function(){return e(n,r)},function(o){return t.field(o,e(n,r))})}},SR={bar:CR(function(e,t){return Bk(e,t.shared)}),collection:CR(function(e,t){return sT(e,t.shared.providers)}),alertbanner:CR(function(e,t){return wR(e,t.shared.providers)}),input:CR(function(e,t){return AI(e,t.shared.providers)}),textarea:CR(function(e,t){return DI(e,t.shared.providers)}),label:CR(function(e,t){return CI(e,t.shared)}),iframe:function(e){return function(t,n,r){var o=Vt(n,{source:"dynamic"});return CR(e)(t,o,r)}}(function(e,t){return PD(e,t.shared.providers)}),button:CR(function(e,t){return IM(e,t.shared.providers)}),checkbox:CR(function(e,t){return xR(e,t.shared.providers)}),colorinput:CR(function(e,t){return bN(e,t.shared,t.colorinput)}),colorpicker:CR(lD),dropzone:CR(function(e,t){return SD(e,t.shared.providers)}),grid:CR(function(e,t){return ED(e,t.shared)}),selectbox:CR(function(e,t){return TI(e,t.shared.providers)}),sizeinput:CR(function(e,t){return GM(e,t.shared.providers)}),urlinput:CR(function(e,t){return yR(e,t,t.urlinput)}),customeditor:CR(pD),htmlpanel:CR(_R),imagetools:CR(function(e,t){return _I(e,t.shared.providers)}),table:CR(function(e,t){return NI(e,t.shared.providers)}),panel:CR(function(e,t){return SI(e,t)})},ER={field:function(e,t){return t}},kR=function(e,t,n){var r=Vt(n,{shared:{interpreter:function(t){return TR(e,t,r)}}});return TR(e,t,r)},TR=function(e,n,r){return Rt(SR,n.type).fold(function(){return t.console.error('Unknown factory type "'+n.type+'", defaulting to container: ',n),n},function(t){return t(e,n,r)})},NR=function(e,t){return TR(ER,e,t)},OR={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},AR=function(e,t,n){var r=Wf(-12,12,OR),o={maxHeightFunction:Ff()},i=function(){return{anchor:"node",root:us(ia(e())),node:ve.from(e()),bubble:r,layouts:{onRtl:function(){return[Gw]},onLtr:function(){return[Ww]}},overrides:o}},a=function(){return{anchor:"hotspot",hotspot:t(),bubble:r,layouts:{onRtl:function(){return[El]},onLtr:function(){return[kl]}},overrides:o}};return function(){return n()?i():a()}},DR=function(e,t,n){var r=function(){return{anchor:"node",root:us(ia(e())),node:ve.from(e()),layouts:{onRtl:function(){return[$w]},onLtr:function(){return[$w]}}}},o=function(){return{anchor:"hotspot",hotspot:t(),layouts:{onRtl:function(){return[Al]},onLtr:function(){return[Al]}}}};return function(){return n()?r():o()}},MR=function(e,t){return function(){return{anchor:"selection",root:t(),getSelection:function(){var t=e.selection.getRng();return ve.some(_d.range(Ur.fromDom(t.startContainer),t.startOffset,Ur.fromDom(t.endContainer),t.endOffset))}}}},IR=function(e){return function(t){return{anchor:"node",root:e(),node:t}}},RR=function(e,t,n){var r=DC(e),o=function(){return Ur.fromDom(e.getBody())},i=function(){return Ur.fromDom(e.getContentAreaContainer())},a=function(){return r||!n()};return{inlineDialog:AR(i,t,a),banner:DR(i,t,a),cursor:MR(e,o),node:IR(o)}},PR=function(e){return function(t,n){jE(e)(t,n)}},LR=function(e){return function(){return yE(e)}},jR=function(e){return function(){return xE(e)}},BR=function(e){return function(){return OE(e)}},zR=function(e){return{colorPicker:PR(e),hasCustomColors:LR(e),getColors:jR(e),getColorCols:BR(e)}},FR=function(e){return function(){return PC(e)}},HR=function(e){return{isDraggableModal:FR(e)}},UR=function(e){var t=Lr(NC(e)?"bottom":"top");return{isPositionedAtTop:function(){return"top"===t.get()},getDockingMode:t.get,setDockingMode:t.set}},VR=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],qR=function(e){return Pt(e,"items")},WR=function(e){return Pt(e,"block")},GR=function(e){return Pt(e,"inline")},$R=function(e){return Pt(e,"selector")},XR=function(e){return Ge(e,function(e,t){if(qR(t)){var n=XR(t.items);return{customFormats:e.customFormats.concat(n.customFormats),formats:e.formats.concat([{title:t.title,items:n.formats}])}}if(GR(t)||WR(t)||$R(t)){var r="custom-"+t.title.toLowerCase();return{customFormats:e.customFormats.concat([{name:r,format:t}]),formats:e.formats.concat([{title:t.title,format:r,icon:t.icon}])}}return de(de({},e),{formats:e.formats.concat(t)})},{customFormats:[],formats:[]})},YR=function(e,t){var n=XR(t),r=function(t){He(t,function(t){e.formatter.has(t.name)||e.formatter.register(t.name,t.format)})};return e.formatter?r(n.customFormats):e.on("init",function(){r(n.customFormats)}),n.formats},KR=function(e){return gC(e).map(function(t){var n=YR(e,t);return vC(e)?VR.concat(n):n}).getOr(VR)},JR=function(e,t,n){var r={type:"formatter",isSelected:t(e.format),getStylePreview:n(e.format)};return Vt(e,r)},QR=function(e,t,n,r){var o=function(e){return JR(e,n,r)},i=function(e){return Vt(e,{type:"submenu"})},a=function(t){var o=qa(t.title),i={type:"formatter",format:o,isSelected:n(o),getStylePreview:r(o)},a=Vt(t,i);return e.formatter.register(o,a),a},u=function(e){return Fe(e,function(e){var t=Ct(e);if(Lt(e,"items")){var n=u(e.items);return Vt(i(e),{getStyleItems:function(){return n}})}return Lt(e,"format")?o(e):1===t.length&&Le(t,"title")?Vt(e,{type:"separator"}):a(e)})};return u(t)},ZR=function(e){var t=function(t){return function(){return e.formatter.match(t)}},n=function(t){return function(){var n=e.formatter.get(t);return void 0!==n?ve.some({tag:n.length>0?n[0].inline||n[0].block||"div":"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):ve.none()}},r=function(e){var t=e.items;return void 0!==t&&t.length>0?Je(t,r):[e.format]},o=Lr([]),i=Lr([]),a=Lr([]),u=Lr([]),s=Lr(!1);return e.on("PreInit",function(a){var u=KR(e),s=QR(e,u,t,n);o.set(s),i.set(Je(s,r))}),e.on("addStyleModifications",function(o){var i=QR(e,o.items,t,n);a.set(i),s.set(o.replace),u.set(Je(i,r))}),{getData:function(){var e=s.get()?[]:o.get(),t=a.get();return e.concat(t)},getFlattenedKeys:function(){var e=s.get()?[]:i.get(),t=u.get();return e.concat(t)}}},eP=fI.trim,tP=function(e){return function(t){if(t&&1===t.nodeType){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1}},nP=tP("true"),rP=tP("false"),oP=function(e,t,n,r,o){return{type:e,title:t,url:n,level:r,attach:o}},iP=function(e){for(;e=e.parentNode;){var t=e.contentEditable;if(t&&"inherit"!==t)return nP(e)}return!1},aP=function(e,t){return Fe(qd(Ur.fromDom(t),e),function(e){return e.dom()})},uP=function(e){return e.innerText||e.textContent},sP=function(e){return e.id?e.id:qa("h")},cP=function(e){return e&&"A"===e.nodeName&&void 0!==(e.id||e.name)},lP=function(e){return cP(e)&&dP(e)},fP=function(e){return e&&/^(H[1-6])$/.test(e.nodeName)},dP=function(e){return iP(e)&&!rP(e)},pP=function(e){return fP(e)&&dP(e)},hP=function(e){return fP(e)?parseInt(e.nodeName.substr(1),10):0},mP=function(e){var t=sP(e),n=function(){e.id=t};return oP("header",uP(e),"#"+t,hP(e),n)},gP=function(e){var t=e.id||e.name,n=uP(e);return oP("anchor",n||"#"+t,"#"+t,0,te)},vP=function(e){return Fe(qe(e,pP),mP)},bP=function(e){return Fe(qe(e,lP),gP)},yP=function(e){return aP("h1,h2,h3,h4,h5,h6,a:not([href])",e)},wP=function(e){return eP(e.title).length>0},xP=function(e){var t=yP(e);return qe(vP(t).concat(bP(t)),wP)},_P={find:xP},CP="tinymce-url-history",SP=function(e){return xe(e)&&/^https?/.test(e)},EP=function(e){return Ce(e)&&e.length<=5&&Qe(e,SP)},kP=function(e){return _e(e)&&Mt(e,function(e){return!EP(e)}).isNone()},TP=function(){var e=dE.getItem(CP);if(null===e)return{};var n;try{n=JSON.parse(e)}catch(e){if(e instanceof SyntaxError)return t.console.log("Local storage "+CP+" was not valid JSON",e),{};throw e}return kP(n)?n:(t.console.log("Local storage "+CP+" was not valid format",n),{})},NP=function(e){if(!kP(e))throw new Error("Bad format for history:\n"+JSON.stringify(e));dE.setItem(CP,JSON.stringify(e))},OP=function(e){var t=TP();return Object.prototype.hasOwnProperty.call(t,e)?t[e]:[]},AP=function(e,t){if(SP(e)){var n=TP(),r=Object.prototype.hasOwnProperty.call(n,t)?n[t]:[],o=qe(r,function(t){return t!==e});n[t]=[e].concat(o).slice(0,5),NP(n)}},DP=function(e){return!!e},MP=function(e){return kt(fI.makeMap(e,/[, ]/),DP)},IP=function(e){return ve.from(zC(e)).filter(Ne)},RP=function(e){var t=ve.some(FC(e)).filter(DP),n=ve.some(HC(e)).filter(DP),r=t.or(n).map(MP);return IP(e).fold(function(){return!1},function(e){return r.fold(function(){return!0},function(e){return Ct(e).length>0&&e})})},PP=function(e,t){var n=RP(e);return Se(n)?n?IP(e):ve.none():n[t]?IP(e):ve.none()},LP=function(e,t){return PP(e,t).map(function(n){return function(r){return kT.nu(function(o){var i=function(e,t){if(!xe(e))throw new Error("Expected value to be string");if(void 0!==t&&!_e(t))throw new Error("Expected meta to be a object");o({value:e,meta:t})},a=de({filetype:t,fieldname:r.fieldname},ve.from(r.meta).getOr({}));n.call(e,i,r.value,a)})}})},jP=function(e){return UC(e)?ve.none():ve.some({targets:_P.find(e.getBody()),anchorTop:VC(e),anchorBottom:qC(e)})},BP=function(e){return ve.from(WC(e))},zP=function(e){return{getHistory:OP,addToHistory:AP,getLinkInformation:function(){return jP(e)},getValidationHandler:function(){return BP(e)},getUrlPicker:function(t){return LP(e,t)}}},FP=function(e,t,n){var r=Lr(!1),o=UR(t),i={shared:{providers:{icons:function(){return t.ui.registry.getAll().icons},menuItems:function(){return t.ui.registry.getAll().menuItems},translate:F_.translate,isReadOnly:function(){return t.mode.isReadOnly()}},interpreter:function(e){return NR(e,i)},anchors:RR(t,n,o.isPositionedAtTop),header:o,getSink:function(){return lt.value(e)}},urlinput:zP(t),styleselect:ZR(t),colorinput:zR(t),dialog:HR(t),isContextMenuOpen:function(){return r.get()},setContextMenuState:function(e){return r.set(e)}};return i},HP=ie(function(e,t){Ks(e,Math.floor(t))}),UP=ie([lr("items"),Gc(["itemSelector"]),rm("tgroupBehaviours",[my])]),VP=ie([jm({name:"items",unit:"item"})]),qP=function(e,t,n,r){return{uid:e.uid,dom:e.dom,components:t,behaviours:im(e.tgroupBehaviours,[my.config({mode:"flow",selector:e.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}},WP=pg({name:"ToolbarGroup",configFields:UP(),partFields:VP(),factory:qP}),GP=ie([lr("dom"),Tr("shell",!0),rm("toolbarBehaviours",[Ey])]),$P=function(){return{behaviours:Gl([Ey.config({})])}},XP=ie([Lm({name:"groups",overrides:$P})]),YP=function(e,n,r,o){var i=function(e,n){a(e).fold(function(){throw t.console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},function(e){Ey.set(e,n)})},a=function(t){return e.shell?ve.some(t):Ym(t,e,"groups")},u=e.shell?{behaviours:[Ey.config({})],components:[]}:{behaviours:[],components:n};return{uid:e.uid,dom:e.dom,components:u.components,behaviours:im(e.toolbarBehaviours,u.behaviours),apis:{setGroups:i},domModification:{attributes:{role:"group"}}}},KP=pg({name:"Toolbar",configFields:GP(),partFields:XP(),factory:YP,apis:{setGroups:function(e,t,n){e.setGroups(t,n)}}}),JP=function(e,t){var n={len:0,list:[]};return Ge(e,function(e,n){return t(n,e.len).fold(ie(e),function(t){return{len:t.finish(),list:e.list.concat([t])}})},n).list},QP=function(e,t,n){return{within:ie(e),extra:ie(t),withinWidth:ie(n)}},ZP=function(e,t,n){var r=JP(e,function(e,t){var r=n(e);return ve.some({element:ie(e),start:ie(t),finish:ie(t+r),width:ie(r)})}),o=qe(r,function(e){return e.finish()<=t}),i=We(o,function(e,t){return e+t.width()},0),a=r.slice(o.length);return{within:ie(o),extra:ie(a),withinWidth:ie(i)}},eL=function(e){return Fe(e,function(e){return e.element()})},tL=function(e,t,n){var r=eL(e.concat(t));return QP(r,[],n)},nL=function(e,t,n,r){var o=eL(e).concat([n]);return QP(o,eL(t),r)},rL=function(e,t,n){return QP(eL(e),[],n)},oL=function(e,t,n){var r=ZP(t,e,n);return 0===r.extra().length?ve.some(r):ve.none()},iL=function(e,t,n,r){var o=oL(e,t,n).getOrThunk(function(){return ZP(t,e-n(r),n)}),i=o.within(),a=o.extra(),u=o.withinWidth();return 1===a.length&&a[0].width()<=n(r)?tL(i,a,u):a.length>=1?nL(i,a,r,u):rL(i,0,u)},aL=function(e,t){var n=Fe(t,function(e){return Ps(e)});KP.setGroups(e,n)},uL=function(e){return at(e,function(e){return ff(e.element()).bind(function(t){return e.getSystem().getByDom(t).toOption()})})},sL=function(e,t,n){var r=Km(e,t,"primary"),o=qT.getCoupled(e,"overflowGroup");ls(r.element(),"visibility","hidden");var i=t.builtGroups.get().concat([o]),a=uL(i);n([]),aL(r,i);var u=Xs(r.element()),s=iL(u,t.builtGroups.get(),function(e){return Xs(e.element())},o);0===s.extra().length?(Ey.remove(r,o),n([])):(aL(r,s.within()),n(s.extra())),bs(r.element(),"visibility"),ys(r.element()),a.each(Ly.focus)},cL=ie([rm("splitToolbarBehaviours",[qT]),Pr("builtGroups",function(){return Lr([])})]),lL=ie([Gc(["overflowToggledClass"]),Sr("getOverflowBounds"),lr("lazySink"),Pr("overflowGroups",function(){return Lr([])})].concat(cL())),fL=ie([Rm({factory:KP,schema:GP(),name:"primary"}),Pm({schema:GP(),name:"overflow"}),Pm({name:"overflow-button"}),Pm({name:"overflow-group"})]),dL=ie([Gc(["toggledClass"]),lr("lazySink"),mr("fetch"),Sr("getBounds"),Er("fireDismissalEventInstead",[Tr("event",_i())]),Zf()]),pL=ie([Pm({name:"button",overrides:function(e){return{dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:Gl([ew.config({toggleClass:e.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])}}}),Pm({factory:KP,schema:GP(),name:"toolbar",overrides:function(e){return{toolbarBehaviours:Gl([my.config({mode:"cyclic",onEscape:function(t){return Ym(t,e,"button").each(Ly.focus),ve.none()}})])}}})]),hL=function(e,t){var n=qT.getCoupled(e,"toolbarSandbox");wh.isOpen(n)?wh.close(n):wh.open(n,t.toolbar())},mL=function(e,t,n,r){var o=n.getBounds.map(function(e){return e()}),i=n.lazySink(e).getOrDie();Fp.positionWithinBounds(i,{anchor:"hotspot",hotspot:e,layouts:r,overrides:{maxWidthFunction:HP()}},t,o)},gL=function(e,t,n,r,o){KP.setGroups(t,o),mL(e,t,n,r),ew.on(e)},vL=function(e,t,n){var r=Oc(),o=function(o,i){n.fetch().get(function(o){gL(e,i,n,t.layouts,o),r.link(e.element()),my.focusIn(i)})},i=function(){ew.off(e),Ly.focus(e),r.unlink(e.element())};return{dom:{tag:"div",attributes:{id:r.id}},behaviours:Gl([my.config({mode:"special",onEscape:function(e){return wh.close(e),ve.some(!0)}}),wh.config({onOpen:o,onClose:i,isPartOf:function(t,n,r){return Dc(n,r)||Dc(e,r)},getAttachPoint:function(){return n.lazySink(e).getOrDie()}}),nf.config({channels:de(de({},Eh(de({isExtraPart:ce},n.fireDismissalEventInstead.map(function(e){return{fireEventInstead:{event:e.event}}}).getOr({})))),Th({doReposition:function(){wh.getState(qT.getCoupled(e,"toolbarSandbox")).each(function(r){mL(e,r,n,t.layouts)})}}))})])}},bL=function(e,t,n,r){return de(de({},Jw.sketch(de(de({},r.button()),{action:function(e){hL(e,r)},buttonBehaviours:am.augment({dump:r.button().buttonBehaviours},[qT.config({others:{toolbarSandbox:function(t){return vL(t,n,e)}}})])}))),{apis:{setGroups:function(t,r){wh.getState(qT.getCoupled(t,"toolbarSandbox")).each(function(o){gL(t,o,e,n.layouts,r)})},reposition:function(t){wh.getState(qT.getCoupled(t,"toolbarSandbox")).each(function(r){mL(t,r,e,n.layouts)})},toggle:function(e){hL(e,r)},getToolbar:function(e){return wh.getState(qT.getCoupled(e,"toolbarSandbox"))}}})},yL=pg({name:"FloatingToolbarButton",factory:bL,configFields:dL(),partFields:pL(),apis:{setGroups:function(e,t,n){e.setGroups(t,n)},reposition:function(e,t){e.reposition(t)},toggle:function(e,t){e.toggle(t)},getToolbar:function(e,t){return e.getToolbar(t)}}}),wL=function(e){return Fe(e,function(e){return Ps(e)})},xL=function(e,t,n){sL(e,n,function(r){n.overflowGroups.set(r),t.getOpt(e).each(function(e){yL.setGroups(e,wL(r))})})},_L=function(e,t,n,r){var o=Qw(yL.sketch({fetch:function(){return kT.nu(function(t){t(wL(e.overflowGroups.get()))})},layouts:{onLtr:function(){return[kl,El]},onRtl:function(){return[El,kl]},onBottomLtr:function(){return[Nl,Tl]},onBottomRtl:function(){return[Tl,Nl]}},getBounds:n.getOverflowBounds,lazySink:e.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:e.markers.overflowToggledClass},parts:{button:r["overflow-button"](),toolbar:r.overflow()}}));return{uid:e.uid,dom:e.dom,components:t,behaviours:im(e.splitToolbarBehaviours,[qT.config({others:{overflowGroup:function(){return WP.sketch(de(de({},r["overflow-group"]()),{items:[o.asSpec()]}))}}})]),apis:{setGroups:function(t,n){e.builtGroups.set(Fe(n,t.getSystem().build)),xL(t,o,e)},refresh:function(t){return xL(t,o,e)},toggle:function(e){o.getOpt(e).each(function(e){yL.toggle(e)})},reposition:function(e){o.getOpt(e).each(function(e){yL.reposition(e)})},getOverflow:function(e){return o.getOpt(e).bind(function(e){return yL.getToolbar(e)})}},domModification:{attributes:{role:"group"}}}},CL=pg({name:"SplitFloatingToolbar",configFields:lL(),partFields:fL(),factory:_L,apis:{setGroups:function(e,t,n){e.setGroups(t,n)},refresh:function(e,t){e.refresh(t)},reposition:function(e,t){e.reposition(t)},toggle:function(e,t){e.toggle(t)},getOverflow:function(e,t){return e.getOverflow(t)}}}),SL=function(e,t){return t.getAnimationRoot.fold(function(){return e.element()},function(t){return t(e)})},EL=function(e){return e.dimension.property},kL=function(e,t){return e.dimension.getDimension(t)},TL=function(e,t){var n=SL(e,t);Xu(n,[t.shrinkingClass,t.growingClass])},NL=function(e,t){Wu(e.element(),t.openClass),Vu(e.element(),t.closedClass),ls(e.element(),EL(t),"0px"),ys(e.element())},OL=function(e,t){Wu(e.element(),t.closedClass),Vu(e.element(),t.openClass),bs(e.element(),EL(t))},AL=function(e,t,n,r){n.setCollapsed(),ls(e.element(),EL(t),kL(t,e.element())),ys(e.element()),TL(e,t),NL(e,t),t.onStartShrink(e),t.onShrunk(e)},DL=function(e,t,n,r){var o=r.getOrThunk(function(){return kL(t,e.element())});n.setCollapsed(),ls(e.element(),EL(t),o),ys(e.element());var i=SL(e,t);Wu(i,t.growingClass),Vu(i,t.shrinkingClass),NL(e,t),t.onStartShrink(e)},ML=function(e,t,n){var r=kL(t,e.element());("0px"===r?AL:DL)(e,t,n,ve.some(r))},IL=function(e,t,n){var r=SL(e,t),o=Gu(r,t.shrinkingClass),i=kL(t,e.element());OL(e,t);var a=kL(t,e.element()),u=function(){ls(e.element(),EL(t),i),ys(e.element())},s=function(){NL(e,t)};(o?u:s)(),Wu(r,t.shrinkingClass),Vu(r,t.growingClass),OL(e,t),ls(e.element(),EL(t),a),n.setExpanded(),t.onStartGrow(e)},RL=function(e,t,n){if(n.isExpanded()){bs(e.element(),EL(t));var r=kL(t,e.element());ls(e.element(),EL(t),r)}},PL=function(e,t,n){n.isExpanded()||IL(e,t,n)},LL=function(e,t,n){n.isExpanded()&&ML(e,t,n)},jL=function(e,t,n){n.isExpanded()&&AL(e,t,n,ve.none())},BL=function(e,t,n){return n.isExpanded()},zL=function(e,t,n){return n.isCollapsed()},FL=function(e,t,n){var r=SL(e,t);return!0===Gu(r,t.growingClass)},HL=function(e,t,n){var r=SL(e,t);return!0===Gu(r,t.shrinkingClass)},UL=function(e,t,n){return!0===FL(e,t)||!0===HL(e,t)},VL=function(e,t,n){(n.isExpanded()?ML:IL)(e,t,n)},qL=Object.freeze({__proto__:null,refresh:RL,grow:PL,shrink:LL,immediateShrink:jL,hasGrown:BL,hasShrunk:zL,isGrowing:FL,isShrinking:HL,isTransitioning:UL,toggleGrow:VL,disableTransitions:TL}),WL=function(e,t,n){var r=t.expanded;return gu(r?{classes:[t.openClass],styles:{}}:{classes:[t.closedClass],styles:on(t.dimension.property,"0px")})},GL=function(e,t){return Li([$i(ni(),function(n,r){r.event().raw().propertyName===e.dimension.property&&(TL(n,e),t.isExpanded()&&bs(n.element(),e.dimension.property),(t.isExpanded()?e.onGrown:e.onShrunk)(n))})])},$L=Object.freeze({__proto__:null,exhibit:WL,events:GL}),XL=[lr("closedClass"),lr("openClass"),lr("shrinkingClass"),lr("growingClass"),wr("getAnimationRoot"),Xc("onShrunk"),Xc("onStartShrink"),Xc("onGrown"),Xc("onStartGrow"),Tr("expanded",!1),fr("dimension",er("property",{width:[Qc("property","width"),Qc("getDimension",function(e){return Xs(e)+"px"})],height:[Qc("property","height"),Qc("getDimension",function(e){return js(e)+"px"})]}))],YL=function(e){var t=Lr(e.expanded),r=function(){return"expanded: "+t.get()};return fu({isExpanded:function(){return!0===t.get()},isCollapsed:function(){return!1===t.get()},setCollapsed:n(t.set,!1),setExpanded:n(t.set,!0),readState:r})},KL=Object.freeze({__proto__:null,init:YL}),JL=Xl({fields:XL,name:"sliding",active:$L,apis:qL,state:KL}),QL=ie([Gc(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Xc("onOpened"),Xc("onClosed")].concat(cL())),ZL=ie([Rm({factory:KP,schema:GP(),name:"primary"}),Rm({factory:KP,schema:GP(),name:"overflow",overrides:function(e){return{toolbarBehaviours:Gl([JL.config({dimension:{property:"height"},closedClass:e.markers.closedClass,openClass:e.markers.openClass,shrinkingClass:e.markers.shrinkingClass,growingClass:e.markers.growingClass,onShrunk:function(t){Ym(t,e,"overflow-button").each(function(e){ew.off(e),Ly.focus(e)}),e.onClosed(t)},onGrown:function(t){my.focusIn(t),e.onOpened(t)},onStartGrow:function(t){Ym(t,e,"overflow-button").each(ew.on)}}),my.config({mode:"acyclic",onEscape:function(t){return Ym(t,e,"overflow-button").each(Ly.focus),ve.some(!0)}})])}}}),Pm({name:"overflow-button",overrides:function(e){return{buttonBehaviours:Gl([ew.config({toggleClass:e.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])}}}),Pm({name:"overflow-group"})]),ej=function(e,t){Ym(e,t,"overflow").each(function(n){tj(e,t),JL.toggleGrow(n)})},tj=function(e,t){Ym(e,t,"overflow").each(function(n){sL(e,t,function(e){var t=Fe(e,function(e){return Ps(e)});KP.setGroups(n,t)}),Ym(e,t,"overflow-button").each(function(e){JL.hasGrown(n)&&ew.on(e)}),JL.refresh(n)})},nj=function(e,t,n,r){var o=function(t,n){var r=Fe(n,t.getSystem().build);e.builtGroups.set(r)};return{uid:e.uid,dom:e.dom,components:t,behaviours:im(e.splitToolbarBehaviours,[qT.config({others:{overflowGroup:function(e){return WP.sketch(de(de({},r["overflow-group"]()),{items:[Jw.sketch(de(de({},r["overflow-button"]()),{action:function(t){Ai(e,"alloy.toolbar.toggle")}}))]}))}}}),Ty("toolbar-toggle-events",[zi("alloy.toolbar.toggle",function(t){Ym(t,e,"overflow").each(function(n){tj(t,e),JL.toggleGrow(n)})})])]),apis:{setGroups:function(t,n){o(t,n),tj(t,e)},refresh:function(t){return tj(t,e)},toggle:function(t){return ej(t,e)}},domModification:{attributes:{role:"group"}}}},rj=pg({name:"SplitSlidingToolbar",configFields:QL(),partFields:ZL(),factory:nj,apis:{setGroups:function(e,t,n){e.setGroups(t,n)},refresh:function(e,t){e.refresh(t)},toggle:function(e,t){e.toggle(t)}}}),oj=ie(qa("toolbar-height-change")),ij=function(e){var t=e.title.fold(function(){return{}},function(e){return{attributes:{title:e}}});return{dom:de({tag:"div",classes:["tox-toolbar__group"]},t),components:[WP.parts().items({})],items:e.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled])"},tgroupBehaviours:Gl([Gk.config({}),Ly.config({})])}},aj=function(e){return WP.sketch(ij(e))},uj=function(e,t){var n=Xi(function(t){var n=Fe(e.initGroups,aj);KP.setGroups(t,n)});return Gl([eS.toolbarButton(e.providers.isReadOnly),YC(),my.config({mode:t,onEscape:e.onEscape,selector:".tox-toolbar__group"}),Ty("toolbar-events",[n])])},sj=function(e){var t=e.cyclicKeying?"cyclic":"acyclic";return{uid:e.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":ij({title:ve.none(),items:[]}),"overflow-button":EM({name:"more",icon:ve.some("more-drawer"),disabled:!1,tooltip:ve.some("More..."),primary:!1,borderless:!1},ve.none(),e.providers)},splitToolbarBehaviours:uj(e,t)}},cj=function(e){var t=sj(e),n=CL.parts().primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return CL.sketch(de(de({},t),{lazySink:e.getSink,getOverflowBounds:function(){var t=e.moreDrawerData.lazyHeader().element(),n=yc(t),r=ua(t),o=yc(r),i=Math.max(r.dom().scrollHeight,o.height);return vc(n.x+4,o.y,n.width-8,i)},parts:de(de({},t.parts),{overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:e.attributes}}}),components:[n],markers:{overflowToggledClass:"tox-tbtn--enabled"}}))},lj=function(e){var t=rj.parts().primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),n=rj.parts().overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),r=sj(e);return rj.sketch(de(de({},r),{components:[t,n],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:function(e){e.getSystem().broadcastOn([oj()],{type:"opened"})},onClosed:function(e){e.getSystem().broadcastOn([oj()],{type:"closed"})}}))},fj=function(e){var t=e.cyclicKeying?"cyclic":"acyclic";return KP.sketch({uid:e.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(e.type===Ux.scrolling?["tox-toolbar--scrolling"]:[])},components:[KP.parts().groups({})],toolbarBehaviours:uj(e,t)})},dj=[Mr("disabled",!1),Cr("tooltip"),Cr("icon"),Cr("text"),Ir("onSetup",function(){return te})],pj=Rn([pr("type"),mr("onAction")].concat(dj)),hj=function(e){return Yn("toolbarbutton",pj,e)},mj=[Cr("text"),Cr("tooltip"),Cr("icon"),mr("fetch"),Ir("onSetup",function(){return te})],gj=Rn(o([pr("type")],mj)),vj=function(e){return Yn("menubutton",gj,e)},bj=Rn([pr("type"),Cr("tooltip"),Cr("icon"),Cr("text"),Sr("select"),mr("fetch"),Ir("onSetup",function(){return te}),Dr("presets","normal",["normal","color","listpreview"]),Tr("columns",1),mr("onAction"),mr("onItemAction")]),yj=function(e){return Yn("SplitButton",bj,e)},wj=[Mr("active",!1)].concat(dj),xj=Rn(wj.concat([pr("type"),mr("onAction")])),_j=function(e){return Yn("ToggleButton",xj,e)},Cj=Rn([pr("type"),fr("items",function(e){var t=function(t,n,r){for(var o=[],i=0,a=e;i<a.length;i++){var u=a[i],s=u.extract(t,n,r);if(s.stype===ee.Value)return s;o.push(s)}return hn.consolidateArr(o)},n=function(){return"oneOf("+Fe(e,function(e){return e.toString()}).join(", ")+")"};return{extract:t,toString:n}}([qn([pr("name"),yr("items",or)]),or]))].concat(dj)),Sj=function(e){return Yn("GroupToolbarButton",Cj,e)},Ej=[Ir("predicate",function(){return!1}),Dr("scope","node",["node","editor"]),Dr("position","selection",["node","selection","line"])],kj=dj.concat([Tr("type","contextformbutton"),Tr("primary",!1),mr("onAction"),Pr("original",ae)]),Tj=wj.concat([Tr("type","contextformbutton"),Tr("primary",!1),mr("onAction"),Pr("original",ae)]),Nj=dj.concat([Tr("type","contextformbutton")]),Oj=wj.concat([Tr("type","contextformtogglebutton")]),Aj=er("type",{contextformbutton:kj,contextformtogglebutton:Tj}),Dj=Rn([Tr("type","contextform"),Ir("initValue",function(){return""}),Cr("label"),yr("commands",Aj),xr("launch",er("type",{contextformbutton:Nj,contextformtogglebutton:Oj}))].concat(Ej)),Mj=Rn([Tr("type","contexttoolbar"),pr("items")].concat(Ej)),Ij=function(e){return Yn("ContextToolbar",Mj,e)},Rj=function(e){return Yn("ContextForm",Dj,e)},Pj=function(e,t,n){return n},Lj=Object.freeze({__proto__:null,getState:Pj}),jj=function(e,t){var n=function(n,r){e.updateState.each(function(e){var o=e(n,r);t.set(o)}),e.renderComponents.each(function(e){var o=e(r,t.get()),i=Fe(o,n.getSystem().build);Wp(n,i)})};return Li([zi(si(),function(t,r){var o=r,i=e.channel;Le(o.channels(),i)&&n(t,o.data())}),Xi(function(t,r){e.initialData.each(function(e){n(t,e)})})])},Bj=Object.freeze({__proto__:null,events:jj}),zj=function(){var e=Lr(ve.none()),t=function(t){return e.set(t)},n=function(){return e.set(ve.none())},r=function(){return e.get()};return{readState:function(){return e.get().fold(function(){return"none"},function(e){return e})},get:r,set:t,clear:n}},Fj=Object.freeze({__proto__:null,init:zj}),Hj=[lr("channel"),wr("renderComponents"),wr("updateState"),wr("initialData")],Uj=Xl({fields:Hj,name:"reflecting",active:Bj,apis:Lj,state:Fj}),Vj=ie([lr("toggleClass"),lr("fetch"),Kc("onExecute"),Tr("getHotspot",ve.some),Tr("getAnchorOverrides",ie({})),Zf(),Kc("onItemExecute"),wr("lazySink"),lr("dom"),Xc("onOpen"),rm("splitDropdownBehaviours",[qT,my,Ly]),Tr("matchWidth",!1),Tr("useMinWidth",!1),Tr("eventOrder",{}),wr("role")].concat(iN())),qj=Rm({factory:Jw,schema:[lr("dom")],name:"arrow",defaults:function(){return{buttonBehaviours:Gl([Ly.revoke()])}},overrides:function(e){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(t){t.getSystem().getByUid(e.uid).each(Mi)},buttonBehaviours:Gl([ew.config({toggleOnExecute:!1,toggleClass:e.toggleClass})])}}}),Wj=Rm({factory:Jw,schema:[lr("dom")],name:"button",defaults:function(){return{buttonBehaviours:Gl([Ly.revoke()])}},overrides:function(e){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(t){t.getSystem().getByUid(e.uid).each(function(n){e.onExecute(n,t)})}}}}),Gj=ie([qj,Wj,Lm({factory:{sketch:function(e){return{uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}}}},schema:[lr("text")],name:"aria-descriptor"}),Pm({schema:[Wc()],name:"menu",defaults:function(e){return{onExecute:function(t,n){t.getSystem().getByUid(e.uid).each(function(r){e.onItemExecute(r,t,n)})}}}}),GT()]),$j=function(e,t,n,r){var o=function(e){_g.getCurrent(e).each(function(e){Ug.highlightFirst(e),my.focusIn(e)})},i=function(t){var n=o;ZT(e,function(e){return e},t,r,n,vT.HighlightFirst).get(te)},a=function(e){return i(e),ve.some(!0)},u=function(t){var n=Km(t,e,"button");return Mi(n),ve.some(!0)},s=de(de({},Li([Xi(function(t,n){Ym(t,e,"aria-descriptor").each(function(e){var n=qa("aria");Aa(e.element(),"id",n),Aa(t.element(),"aria-describedby",n)})})])),nw(ve.some(i))),c={repositionMenus:function(e){ew.isOn(e)&&oN(e)}};return{uid:e.uid,dom:e.dom,components:t,apis:c,eventOrder:de(de({},e.eventOrder),{"alloy.execute":["disabling","toggling","alloy.base.behaviour"]}),events:s,behaviours:im(e.splitDropdownBehaviours,[qT.config({others:{sandbox:function(t){var n=Km(t,e,"arrow");return rN(e,t,{onOpen:function(){ew.on(n),ew.on(t)},onClose:function(){ew.off(n),ew.off(t)}})}}}),my.config({mode:"special",onSpace:u,onEnter:u,onDown:a}),Ly.config({}),ew.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:e.role.getOr("button"),"aria-haspopup":!0}}}},Xj=pg({name:"SplitDropdown",configFields:Vj(),partFields:Gj(),factory:$j,apis:{repositionMenus:function(e,t){return e.repositionMenus(t)}}}),Yj=function(e){return{isDisabled:function(){return iC.isDisabled(e)},setDisabled:function(t){return iC.set(e,t)}}},Kj=function(e){return{setActive:function(t){ew.set(e,t)},isActive:function(){return ew.isOn(e)},isDisabled:function(){return iC.isDisabled(e)},setDisabled:function(t){return iC.set(e,t)}}},Jj=function(e,t){return e.map(function(e){return{"aria-label":t.translate(e),title:t.translate(e)}}).getOr({})},Qj=qa("focus-button"),Zj=["checklist","ordered-list"],eB=["indent","outdent","table-insert-column-after","table-insert-column-before","unordered-list"],tB=function(e,t,n,r,o,i){var a,u=function(e){return F_.isRtl()&&Le(Zj,e)?e+"-rtl":e},s=F_.isRtl()&&e.exists(function(e){return Le(eB,e)});return{dom:{tag:"button",classes:["tox-tbtn"].concat(t.isSome()?["tox-tbtn--select"]:[]).concat(s?["tox-tbtn__icon-rtl"]:[]),attributes:Jj(n,i)},components:aS([e.map(function(e){return nM(u(e),i.icons)}),t.map(function(e){return oM(e,"tox-tbtn",i)})]),eventOrder:(a={},a[qo()]=["focusing","alloy.base.behaviour","common-button-display-events"],a),buttonBehaviours:Gl([eS.toolbarButton(i.isReadOnly),YC(),Ty("common-button-display-events",[zi(qo(),function(e,t){t.event().prevent(),Ai(e,Qj)})])].concat(r.map(function(n){return Uj.config({channel:n,initialData:{icon:e,text:t},renderComponents:function(e,t){return aS([e.icon.map(function(e){return nM(u(e),i.icons)}),e.text.map(function(e){return oM(e,"tox-tbtn",i)})])}})}).toArray()).concat(o.getOr([])))}},nB=function(e,t,n,r){var o=t.shared;return yL.sketch({lazySink:o.getSink,fetch:function(){return kT.nu(function(t){t(Fe(n(e.items),aj))})},markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:tB(e.icon,e.text,e.tooltip,ve.none(),ve.none(),o.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:r}}}})},rB=function(e,t,n){var r=Lr(te),o=tB(e.icon,e.text,e.tooltip,ve.none(),ve.none(),n);return Jw.sketch({dom:o.dom,components:o.components,eventOrder:uM,buttonBehaviours:Gl([Ty("toolbar-button-events",[aM({onAction:e.onAction,getApi:t.getApi}),nS(t,r),rS(t,r)]),eS.toolbarButton(function(){return e.disabled||n.isReadOnly()}),YC()].concat(t.toolbarButtonBehaviours))})},oB=function(e,t){return iB(e,t,[])},iB=function(e,t,n){return rB(e,{toolbarButtonBehaviours:[].concat(n.length>0?[Ty("toolbarButtonWith",n)]:[]),getApi:Yj,onSetup:e.onSetup},t)},aB=function(e,t){return uB(e,t,[])},uB=function(e,t,n){return Vt(rB(e,{toolbarButtonBehaviours:[Ey.config({}),ew.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(n.length>0?[Ty("toolbarToggleButtonWith",n)]:[]),getApi:Kj,onSetup:e.onSetup},t))},sB=function(e,t,n){return function(r){return kT.nu(function(e){return t.fetch(e)}).map(function(o){return ve.from(ik(Vt(zE(qa("menu-value"),o,function(n){t.onItemAction(e(r),n)},t.columns,t.presets,Vx.CLOSE_ON_EXECUTE,t.select.getOr(function(){return!1}),n),{movement:HE(t.columns,t.presets),menuBehaviours:k_.unnamedEvents("auto"!==t.columns?[]:[Xi(function(e,n){C_(e,4,Xx(t.presets)).each(function(t){var n=t.numRows,r=t.numColumns;my.setGridSize(e,n,r)})})])})))})}},cB=function(e,t){var n,r=qa("channel-update-split-dropdown-display"),o=function(e){return{isDisabled:function(){return iC.isDisabled(e)},setDisabled:function(t){return iC.set(e,t)},setIconFill:function(t,n){kc(e.element(),'svg path[id="'+t+'"], rect[id="'+t+'"]').each(function(e){Aa(e,"fill",n)})},setIconStroke:function(t,n){kc(e.element(),'svg path[id="'+t+'"], rect[id="'+t+'"]').each(function(e){Aa(e,"stroke",n)})},setActive:function(t){Aa(e.element(),"aria-pressed",t),kc(e.element(),"span").each(function(n){e.getSystem().getByDom(n).each(function(e){return ew.set(e,t)})})},isActive:function(){return kc(e.element(),"span").exists(function(t){return e.getSystem().getByDom(t).exists(ew.isOn)})}}},i=Lr(te),a={getApi:o,onSetup:e.onSetup};return Xj.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:de({"aria-pressed":!1},Jj(e.tooltip,t.providers))},onExecute:function(t){e.onAction(o(t))},onItemExecute:function(e,t,n){},splitDropdownBehaviours:Gl([eS.splitButton(t.providers.isReadOnly),YC(),Ty("split-dropdown-events",[zi(Qj,Ly.focus),nS(a,i),rS(a,i)]),pN.config({})]),eventOrder:(n={},n[wi()]=["alloy.base.behaviour","split-dropdown-events"],n),toggleClass:"tox-tbtn--enabled",lazySink:t.getSink,fetch:sB(o,e,t.providers),parts:{menu:e_(0,e.columns,e.presets)},components:[Xj.parts().button(tB(e.icon,e.text,ve.none(),ve.some(r),ve.some([ew.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),t.providers)),Xj.parts().arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:ex("chevron-down",t.providers.icons)},buttonBehaviours:Gl([eS.splitButton(t.providers.isReadOnly),YC()])}),Xj.parts()["aria-descriptor"]({text:t.providers.translate("To open the popup, press Shift+Enter")})]})},lB=function(e){return{hide:function(){return Ai(e,pi())},getValue:function(){return nm.getValue(e)}}},fB=function(e,t){return zi(iM,function(n,r){var o=e.get(n),i=lB(o);t.onAction(i,r.event().buttonApi())})},dB=function(e,t,n){var o=t.original,i=(o.primary,r(o,["primary"])),a=Kn(hj(de(de({},i),{type:"button",onAction:function(){}})));return iB(a,n.backstage.shared.providers,[fB(e,t)])},pB=function(e,t,n){var o=t.original,i=(o.primary,r(o,["primary"])),a=Kn(_j(de(de({},i),{type:"togglebutton",onAction:function(){}})));return uB(a,n.backstage.shared.providers,[fB(e,t)])},hB=function(e,t,n){var r={backstage:{shared:{providers:n}}};return"contextformtogglebutton"===t.type?pB(e,t,r):dB(e,t,r)},mB=function(e,t,n){var r=Fe(t,function(t){return Qw(hB(e,t,n))});return{asSpecs:function(){return Fe(r,function(e){return e.asSpec()})},findPrimary:function(e){return at(t,function(t,n){return t.primary?ve.from(r[n]).bind(function(t){return t.getOpt(e)}).filter(ue(iC.isDisabled)):ve.none()})}}},gB=function(e,t){var n=e.label.fold(function(){return{}},function(e){return{"aria-label":e}}),r=Qw(hT.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:e.initValue(),inputAttributes:n,selectOnFocus:!0,inputBehaviours:Gl([my.config({mode:"special",onEnter:function(e){return o.findPrimary(e).map(function(e){return Mi(e),!0})},onLeft:function(e,t){return t.cut(),ve.none()},onRight:function(e,t){return t.cut(),ve.none()}})])})),o=mB(r,e.commands,t);return[{title:ve.none(),items:[r.asSpec()]},{title:ve.none(),items:o.asSpecs()}]},vB=function(e,t,n){return fj({type:e,uid:qa("context-toolbar"),initGroups:gB(t,n),onEscape:ve.none,cyclicKeying:!0,providers:n})},bB={renderContextForm:vB,buildInitGroups:gB},yB=function(e,t){var n=Math.max(t.x,e.x),r=e.right-n,o=t.width-(n-t.x);return{x:n,width:Math.min(r,o)}},wB=function(e,t,n,r){var o=Ur.fromDom(e.getContainer()),i=kc(o,".tox-editor-header").getOr(o),a=bc(i),u=a.y>=t.bottom,s=r&&!u;if(e.inline&&s)return{y:Math.max(a.bottom,n.y),bottom:n.bottom};if(e.inline&&!s)return{y:n.y,bottom:Math.min(a.y,n.bottom)};var c=bc(o);return s?{y:Math.max(a.bottom,n.y),bottom:Math.min(c.bottom,n.bottom)}:{y:Math.max(c.y,n.y),bottom:Math.min(a.y,n.bottom)}},xB=function(e,n){var r=sc(t.window),o=bc(Ur.fromDom(e.getContentAreaContainer())),i=yC(e)||wC(e)||_C(e),a=yB(o,r),u=a.x,s=a.width;if(e.inline&&!i)return vc(u,r.y,s,r.height);var c=n.header.isPositionedAtTop(),l=wB(e,o,r,c),f=l.y,d=l.bottom;return vc(u,f,s,d-f)},_B=function(e,t){var n=qe(t,function(t){return t.predicate(e.dom())}),r=Ve(n,function(e){return"contexttoolbar"===e.type});return{contextToolbars:r.pass,contextForms:r.fail}},CB=function(e){if(e.length<=1)return e;var t=function(t){return je(e,function(e){return e.position===t})},n=function(t){return qe(e,function(e){return e.position===t})},r=t("selection"),o=t("node");if(r||o){if(o&&r){var i=n("node"),a=Fe(n("selection"),function(e){return de(de({},e),{position:"node"})});return i.concat(a)}return n(r?"selection":"node")}return n("line")},SB=function(e){if(e.length<=1)return e;var t=function(t){return Xe(e,function(e){return e.position===t})};return t("selection").orThunk(function(){return t("node")}).orThunk(function(){return t("line")}).map(function(e){return e.position}).fold(function(){return[]},function(t){return qe(e,function(e){return e.position===t})})},EB=function(e,t,n){var r=_B(e,t);if(r.contextForms.length>0)return ve.some({elem:e,toolbars:[r.contextForms[0]]});var o=_B(e,n);if(o.contextForms.length>0)return ve.some({elem:e,toolbars:[o.contextForms[0]]});if(r.contextToolbars.length>0||o.contextToolbars.length>0){var i=CB(r.contextToolbars.concat(o.contextToolbars));return ve.some({elem:e,toolbars:i})}return ve.none()},kB=function(e,t,n){return e(t)?ve.none():Mo(t,function(e){var t=_B(e,n.inNodeScope),r=t.contextToolbars,o=t.contextForms,i=o.length>0?o:SB(r);return i.length>0?ve.some({elem:e,toolbars:i}):ve.none()},e)},TB=function(e,t){var n=Ur.fromDom(t.getBody()),r=function(e){return To(e,n)},o=Ur.fromDom(t.selection.getNode());return function(e){return!r(e)&&!Ao(n,e)}(o)?ve.none():EB(o,e.inNodeScope,e.inEditorScope).orThunk(function(){return kB(r,o,e)})},NB=function(e,t){var n={},r=[],o=[],i={},a={},u=function(e,u){var s=Kn(Rj(u));n[e]=s,s.launch.map(function(n){i["form:"+e]=de(de({},u.launch),{type:"contextformtogglebutton"===n.type?"togglebutton":"button",onAction:function(){t(s)}})}),"editor"===s.scope?o.push(s):r.push(s),a[e]=s},s=function(e,t){Ij(t).each(function(n){"editor"===t.scope?o.push(n):r.push(n),a[e]=n})},c=Ct(e);return He(c,function(t){var n=e[t];"contextform"===n.type?u(t,n):"contexttoolbar"===n.type&&s(t,n)}),{forms:n,inNodeScope:r,inEditorScope:o,lookupTable:a,formNavigators:i}},OB=qa("forward-slide"),AB=qa("backward-slide"),DB=qa("change-slide-event"),MB=function(e){var t=Lr([]);return jw.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:function(e){t.set([]),jw.getContent(e).each(function(e){bs(e.element(),"visibility")}),Wu(e.element(),"tox-pop--resizing"),bs(e.element(),"width")},inlineBehaviours:Gl([Ty("context-toolbar-events",[$i(ni(),function(e,t){Wu(e.element(),"tox-pop--resizing"),bs(e.element(),"width")}),zi(DB,function(e,t){bs(e.element(),"width");var n=Xs(e.element());jw.setContent(e,t.event().contents()),Vu(e.element(),"tox-pop--resizing");var r=Xs(e.element());ls(e.element(),"width",n+"px"),jw.getContent(e).each(function(n){t.event().focus().bind(function(t){return uf(t),ff(e.element())}).orThunk(function(){return my.focusIn(n),lf()})}),Yw.setTimeout(function(){ls(e.element(),"width",r+"px")},0)}),zi(OB,function(e,n){jw.getContent(e).each(function(e){t.set(t.get().concat([{bar:e,focus:lf()}]))}),Di(e,DB,{contents:n.event().forwardContents(),focus:ve.none()})}),zi(AB,function(e,n){ot(t.get()).each(function(n){t.set(t.get().slice(0,t.get().length-1)),Di(e,DB,{contents:Ps(n.bar),focus:n.focus})})})]),my.config({mode:"special",onEscape:function(n){return ot(t.get()).fold(function(){return e.onEscape()},function(e){return Ai(n,AB),ve.some(!0)})}})]),lazySink:function(){return lt.value(e.sink)}})},IB=function(e,t,n){var r=function(e,r,i,a){var u=t.shared.providers.translate(e.title);if("separator"===e.type)return ve.some({type:"separator",text:u});if("submenu"===e.type){var s=Je(e.getStyleItems(),function(e){return o(e,r,a)});return 0===r&&s.length<=0?ve.none():ve.some({type:"nestedmenuitem",text:u,disabled:s.length<=0,getSubmenuItems:function(){return Je(e.getStyleItems(),function(e){return o(e,r,a)})}})}return ve.some(de({type:"togglemenuitem",text:u,icon:e.icon,active:e.isSelected(a),disabled:i,onAction:n.onAction(e)},e.getStylePreview().fold(function(){return{}},function(e){return{meta:{style:e}}})))},o=function(e,t,o){var i="formatter"===e.type&&n.isInvalid(e);return 0===t?i?[]:r(e,t,!1,o).toArray():r(e,t,i,o).toArray()},i=function(e){var t=n.getCurrentValue(),r=n.shouldHide?0:1;return Je(e,function(e){return o(e,r,t)})};return{validateItems:i,getFetch:function(e,t){return function(n){var r=t(),o=i(r);n(wM(o,Vx.CLOSE_ON_EXECUTE,e,!1))}}}},RB=function(e,t,n){var r=n.dataset,o="basic"===r.type?function(){return Fe(r.data,function(e){return JR(e,n.isSelectedFor,n.getPreviewFor)})}:r.getData;return{items:IB(0,t,n),getStyleItems:o}},PB=function(e,t,n){var r=RB(0,t,n),o=r.items,i=r.getStyleItems,a=function(e){return{getComponent:function(){return e}}},u=function(t){return n.setInitialValue.each(function(e){return e(t.getComponent())}),n.nodeChangeHandler.map(function(n){var r=n(t.getComponent());return e.on("NodeChange",r),function(){e.off("NodeChange",r)}}).getOr(te)};return lM({text:n.icon.isSome()?ve.none():ve.some(""),icon:n.icon,tooltip:ve.from(n.tooltip),role:ve.none(),fetch:o.getFetch(t,i),onSetup:u,getApi:a,columns:1,presets:"normal",classes:n.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",t.shared)},LB=function(e){return Fe(e,function(e){var t=e,n=e,r=e.split("=");return r.length>1&&(t=r[0],n=r[1]),{title:t,format:n}})},jB=function(e){return{type:"basic",data:e}};!function(e){e[e.SemiColon=0]="SemiColon",e[e.Space=1]="Space"}($T||($T={}));var BB,zB=function(e,t){return t===$T.SemiColon?e.replace(/;$/,"").split(";"):e.split(" ")},FB=function(e,t,n,r){var o=e.getParam(t,n,"string");return{type:"basic",data:LB(zB(o,r))}},HB=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],UB=function(e){var t=function(){return Xe(HB,function(t){return e.formatter.match(t.format)})},n=function(t){return function(){return e.formatter.match(t)}},r=function(e){return function(){return ve.none()}},o=function(e){var n=t(),r=n.fold(function(){return"left"},function(e){return e.title.toLowerCase()});Di(e,cM,{icon:"align-"+r})},i=ve.some(function(e){return function(){return o(e)}}),a=ve.some(function(e){return o(e)}),u=jB(HB),s=function(t){return function(){return Xe(HB,function(e){return e.format===t.format}).each(function(t){return e.execCommand(t.command)})}};return{tooltip:"Align",icon:ve.some("align-left"),isSelectedFor:n,getCurrentValue:ie(ve.none()),getPreviewFor:r,onAction:s,setInitialValue:a,nodeChangeHandler:i,dataset:u,shouldHide:!1,isInvalid:function(t){return!e.formatter.canApply(t.format)}}},VB=function(e,t){return PB(e,t,UB(e))},qB=function(e,t){var n=RB(0,t,UB(e));e.ui.registry.addNestedMenuItem("align",{text:t.shared.providers.translate("Align"),getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})},WB=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],GB=function(e){var t=e.split(/\s*,\s*/);return Fe(t,function(e){return e.replace(/^['"]+|['"]+$/g,"")})},$B=function(e){return 0===e.indexOf("-apple-system")&&function(){var t=GB(e.toLowerCase());return Qe(WB,function(e){return t.indexOf(e.toLowerCase())>-1})}()},XB=function(e){var t=function(){var t=function(e){return e?GB(e)[0]:""},n=e.queryCommandValue("FontName"),r=c.data,o=n?n.toLowerCase():"";return{matchOpt:Xe(r,function(e){var n=e.format;return n.toLowerCase()===o||t(n).toLowerCase()===t(o).toLowerCase()}).orThunk(function(){return $B(o)?ve.from({title:"System Font",format:o}):ve.none()}),font:n}},n=function(e){return function(t){return t.exists(function(t){return t.format===e})}},r=function(){return t().matchOpt},o=function(e){return function(){return ve.some({tag:"div",styles:-1===e.indexOf("dings")?{"font-family":e}:{}})}},i=function(t){return function(){e.undoManager.transact(function(){e.focus(),e.execCommand("FontName",!1,t.format)})}},a=function(e){var n=t(),r=n.matchOpt,o=n.font,i=r.fold(function(){return o},function(e){return e.title});Di(e,sM,{text:i})},u=ve.some(function(e){return function(){return a(e)}}),s=ve.some(function(e){return a(e)}),c=FB(e,"font_formats","Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",$T.SemiColon);return{tooltip:"Fonts",icon:ve.none(),isSelectedFor:n,getCurrentValue:r,getPreviewFor:o,onAction:i,setInitialValue:s,nodeChangeHandler:u,dataset:c,shouldHide:!1,isInvalid:function(){return!1}}},YB=function(e,t){return PB(e,t,XB(e))},KB=function(e,t){var n=RB(0,t,XB(e));e.ui.registry.addNestedMenuItem("fontformats",{text:t.shared.providers.translate("Fonts"),getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})},JB={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},QB=function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n},ZB=function(e,t){return/[0-9.]+px$/.test(e)?QB(72*parseInt(e,10)/96,t||0)+"pt":e},ez=function(e){return Rt(JB,e).getOr("")},tz=function(e){var t=function(){var t=ve.none(),n=c.data,r=e.queryCommandValue("FontSize");if(r)for(var o=3;t.isNone()&&o>=0;o--)!function(e){var o=ZB(r,e),i=ez(o);t=Xe(n,function(e){return e.format===r||e.format===o||e.format===i})}(o);return{matchOpt:t,size:r}},n=function(e){return function(t){return t.exists(function(t){return t.format===e})}},r=function(){return t().matchOpt},o=ie(ie(ve.none())),i=function(t){return function(){e.undoManager.transact(function(){e.focus(),e.execCommand("FontSize",!1,t.format)})}},a=function(e){var n=t(),r=n.matchOpt,o=n.size,i=r.fold(function(){return o},function(e){return e.title});Di(e,sM,{text:i})},u=ve.some(function(e){return function(){return a(e)}}),s=ve.some(function(e){return a(e)}),c=FB(e,"fontsize_formats","8pt 10pt 12pt 14pt 18pt 24pt 36pt",$T.Space);return{tooltip:"Font sizes",icon:ve.none(),isSelectedFor:n,getPreviewFor:o,getCurrentValue:r,onAction:i,setInitialValue:s,nodeChangeHandler:u,dataset:c,shouldHide:!1,isInvalid:function(){return!1}}},nz=function(e,t){return PB(e,t,tz(e))},rz=function(e,t){var n=RB(0,t,tz(e));e.ui.registry.addNestedMenuItem("fontsizes",{text:"Font sizes",getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})},oz=function(e,t,n){var r=t();return at(n,function(t){return Xe(r,function(n){return e.formatter.matchNode(t,n.format)})}).orThunk(function(){return e.formatter.match("p")?ve.some({title:"Paragraph",format:"p"}):ve.none()})},iz=function(e){var t=e.selection.getStart(!0)||e.getBody();return e.dom.getParents(t,function(){return!0},e.getBody())},az=function(e,t){return function(n){var r=Lr(ve.none()),o=function(){n.setActive(e.formatter.match(t));var o=e.formatter.formatChanged(t,n.setActive).unbind;r.set(ve.some(o))};return e.initialized?o():e.on("init",o),function(){return r.get().each(function(e){return e()})}}},uz=function(e){return function(t){return function(){e.undoManager.transact(function(){e.focus(),e.execCommand("mceToggleFormat",!1,t.format)})}}},sz=function(e){var t=function(t){return oz(e,function(){return u.data},t)},n=function(t){return function(){return e.formatter.match(t)}},r=function(t){return function(){var n=e.formatter.get(t);return ve.some({tag:n.length>0?n[0].inline||n[0].block||"div":"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))})}},o=function(e,n){var r=t(e),o=r.fold(function(){return"Paragraph"},function(e){return e.title});Di(n,sM,{text:o})},i=ve.some(function(e){return function(t){return o(t.parents,e)}}),a=ve.some(function(t){var n=iz(e);o(n,t)}),u=FB(e,"block_formats","Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre",$T.SemiColon);return{tooltip:"Blocks",icon:ve.none(),isSelectedFor:n,getCurrentValue:ie(ve.none()),getPreviewFor:r,onAction:uz(e),setInitialValue:a,nodeChangeHandler:i,dataset:u,shouldHide:!1,isInvalid:function(t){return!e.formatter.canApply(t.format)}}},cz=function(e,t){return PB(e,t,sz(e))},lz=function(e,t){var n=RB(0,t,sz(e));e.ui.registry.addNestedMenuItem("blockformats",{text:"Blocks",getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})},fz=function(e,t){var n=function(t){return function(){return e.formatter.match(t)}},r=function(t){return function(){var n=e.formatter.get(t);return void 0!==n?ve.some({tag:n.length>0?n[0].inline||n[0].block||"div":"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):ve.none()}},o=function(t,n){var r=function(e){var t=e.items;return void 0!==t&&t.length>0?Je(t,r):[{title:e.title,format:e.format}]},o=Je(KR(e),r),i=oz(e,function(){return o},t),a=i.fold(function(){return"Paragraph"},function(e){return e.title});Di(n,sM,{text:a})},i=ve.some(function(e){return function(t){return o(t.parents,e)}}),a=ve.some(function(t){var n=iz(e);o(n,t)});return{tooltip:"Formats",icon:ve.none(),isSelectedFor:n,getCurrentValue:ie(ve.none()),getPreviewFor:r,onAction:uz(e),setInitialValue:a,nodeChangeHandler:i,shouldHide:e.getParam("style_formats_autohide",!1,"boolean"),isInvalid:function(t){return!e.formatter.canApply(t.format)},dataset:t}},dz=function(e,t){var n=de({type:"advanced"},t.styleselect);return PB(e,t,fz(e,n))},pz=function(e,t){var n=de({type:"advanced"},t.styleselect),r=RB(0,t,fz(e,n));e.ui.registry.addNestedMenuItem("formats",{text:"Formats",getSubmenuItems:function(){return r.items.validateItems(r.getStyleItems())}})},hz=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styleselect"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],mz=function(e,t){return function(n,r,o){var i=e(n).mapError(function(e){return Qn(e)}).getOrDie();return t(i,r,o)}},gz={button:mz(hj,function(e,t){return oB(e,t.backstage.shared.providers)}),togglebutton:mz(_j,function(e,t){return aB(e,t.backstage.shared.providers)}),menubutton:mz(vj,function(e,t){return _M(e,"tox-tbtn",t.backstage,ve.none())}),splitbutton:mz(yj,function(e,t){return cB(e,t.backstage.shared)}),grouptoolbarbutton:mz(Sj,function(e,t,n){var r,o=n.ui.registry.getAll().buttons,i=function(e){return Sz(n,{buttons:o,toolbar:e,allowToolbarGroups:!1},t,ve.none())},a=(r={},r[Jf]=t.backstage.shared.header.isPositionedAtTop()?Mc.TopToBottom:Mc.BottomToTop,r);switch(SC(n)){case Ux.floating:return nB(e,t.backstage,i,a);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}}),styleSelectButton:function(e,t){return dz(e,t.backstage)},fontsizeSelectButton:function(e,t){return nz(e,t.backstage)},fontSelectButton:function(e,t){return YB(e,t.backstage)},formatButton:function(e,t){return cz(e,t.backstage)},alignMenuButton:function(e,t){return VB(e,t.backstage)}},vz=function(e,n,r){return Rt(gz,e.type).fold(function(){return t.console.error("skipping button defined by",e),ve.none()},function(t){return ve.some(t(e,n,r))})},bz={styleselect:gz.styleSelectButton,fontsizeselect:gz.fontsizeSelectButton,fontselect:gz.fontSelectButton,formatselect:gz.formatButton,align:gz.alignMenuButton},yz=function(e){var t=Fe(hz,function(t){var n=qe(t.items,function(t){return Pt(e,t)||Pt(bz,t)});return{name:t.name,items:n}});return qe(t,function(e){return e.items.length>0})},wz=function(e){var t=e.split("|");return Fe(t,function(e){return{items:e.trim().split(" ")}})},xz=function(e){return Ae(e,function(e){return Pt(e,"name")&&Pt(e,"items")})},_z=function(e){var n=e.toolbar,r=e.buttons;return!1===n?[]:void 0===n||!0===n?yz(r):xe(n)?wz(n):xz(n)?n:(t.console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},Cz=function(e,n,r,o,i,a){return Rt(n,r.toLowerCase()).orThunk(function(){return a.bind(function(e){return at(e,function(e){return Rt(n,e+r.toLowerCase())})})}).fold(function(){return Rt(bz,r.toLowerCase()).map(function(t){return t(e,i)}).orThunk(function(){return ve.none()})},function(n){return"grouptoolbarbutton"!==n.type||o?vz(n,i,e):(t.console.warn("Ignoring the '"+r+"' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested."),ve.none())})},Sz=function(e,t,n,r){var o=_z(t),i=Fe(o,function(o){var i=Je(o.items,function(o){return 0===o.trim().length?[]:Cz(e,t.buttons,o,t.allowToolbarGroups,n,r).toArray()});return{title:ve.from(e.translate(o.name)),items:i}});return qe(i,function(e){return e.items.length>0})},Ez={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},kz={maxHeightFunction:Ff(),maxWidthFunction:HP()},Tz={onLtr:function(){return[Ol,Al,Tl,El,Nl,kl,$w,Xw,Ww,Vw,Gw,qw]},onRtl:function(){return[Ol,Al,Nl,kl,Tl,El,$w,Xw,Gw,qw,Ww,Vw]}},Nz={onLtr:function(){return[Al,El,kl,Tl,Nl,Ol,$w,Xw,Ww,Vw,Gw,qw]},onRtl:function(){return[Al,kl,El,Nl,Tl,Ol,$w,Xw,Gw,qw,Ww,Vw]}},Oz=function(e,t){return"line"===e?{bubble:Wf(12,0,Ez),layouts:{onLtr:function(){return[Dl]},onRtl:function(){return[Ml]}},overrides:kz}:{bubble:Wf(0,12,Ez),layouts:t?Nz:Tz,overrides:kz}},Az=function(e,t,n,r){var o=_o().deviceType.isTouch,i=Rs(MB({sink:n,onEscape:function(){return e.focus(),ve.some(!0)}})),a=function(){return xB(e,r.backstage.shared)},u=function(e,t,n,r){return Math.max(e,n)<=Math.min(t,r)},s=function(){var t=p.get().map(function(e){return e.getBoundingClientRect()}).getOrThunk(function(){return e.selection.getRng().getBoundingClientRect()}),n=e.inline?oc().top():yc(Ur.fromDom(e.getBody())).y;return{y:t.top+n,bottom:t.bottom+n}},c=function(){if(o()&&r.backstage.isContextMenuOpen())return!0;var e=s(),t=a();return!u(e.y,e.bottom,t.y,t.bottom)},l=function(){jw.hide(i)},f=function(){d.get().each(function(e){var t=i.element();bs(t,"display"),c()?ls(t,"display","none"):Fp.positionWithinBounds(n,e,i,ve.some(a()))})},d=Lr(ve.none()),p=Lr(ve.none()),h=Lr(null),m=function(t){return{dom:{tag:"div",classes:["tox-pop__dialog"]},components:[t],behaviours:Gl([my.config({mode:"acyclic"}),Ty("pop-dialog-wrap-events",[Xi(function(t){e.shortcuts.add("ctrl+F9","focus statusbar",function(){return my.focusIn(t)})}),Yi(function(t){e.shortcuts.remove("ctrl+F9")})])])}},g=Wt(function(){return NB(t,function(e){var t=y([e]);Di(i,OB,{forwardContents:m(t)})})}),v=function(t,n){return Sz(e,{buttons:t,toolbar:n.items,allowToolbarGroups:!1},r,ve.some(["form:"]))},b=function(e,t){return bB.buildInitGroups(e,t)},y=function(t){var n=e.ui.registry.getAll().buttons,o=g(),i=de(de({},n),o.formNavigators),a=SC(e)===Ux.scrolling?Ux.scrolling:Ux.default,u=Ke(Fe(t,function(e){return"contexttoolbar"===e.type?v(i,e):b(e,r.backstage.shared.providers)}));return fj({type:a,uid:qa("context-toolbar"),initGroups:u,onEscape:ve.none,cyclicKeying:!0,providers:r.backstage.shared.providers})};e.on("contexttoolbar-show",function(t){var n=g();Rt(n.lookupTable,t.toolbarKey).each(function(n){x([n],t.target===e?ve.none():ve.some(t)),jw.getContent(i).each(my.focusIn)})});var w=function(e,t){var n="node"===e?r.backstage.shared.anchors.node(t):r.backstage.shared.anchors.cursor();return Vt(n,Oz(e,o()))},x=function(e,t){if(C(),!o()||!r.backstage.isContextMenuOpen()){var n=y(e),u=t.map(Ur.fromDom),s=w(e[0].position,u);d.set(ve.some(s)),p.set(t);var l=i.element();bs(l,"display"),jw.showWithinBounds(i,s,m(n),function(){return ve.some(a())}),c()&&ls(l,"display","none")}},_=function(){if(e.hasFocus()){var t=g();TB(t,e).fold(function(){d.set(ve.none()),jw.hide(i)},function(e){x(e.toolbars,ve.some(e.elem.dom()))})}},C=function(){var e=h.get();null!==e&&(Yw.clearTimeout(e),h.set(null))},S=function(e){C(),h.set(e)};e.on("init",function(){e.on("contexttoolbar-hide",l),e.on("ScrollContent ScrollWindow longpress",f),e.on("click keyup focus SetContent ObjectResized ResizeEditor",function(){S(Yw.setEditorTimeout(e,_,0))}),e.on("focusout",function(t){Yw.setEditorTimeout(e,function(){ff(n.element()).isNone()&&ff(i.element()).isNone()&&(d.set(ve.none()),jw.hide(i))},0)}),e.on("SwitchMode",function(){e.mode.isReadOnly()&&(d.set(ve.none()),jw.hide(i))}),e.on("NodeChange",function(t){ff(i.element()).fold(function(){S(Yw.setEditorTimeout(e,_,0))},function(e){})})})},Dz=function(e,n,r){var o=function(e,t){He([n,r],function(n){n.broadcastEvent(e,t)})},i=function(e,t){He([n,r],function(n){n.broadcastOn([e],t)})},a=function(e){return i(xh(),{target:e.target()})},u=lk(Ur.fromDom(t.document),"touchstart",a),s=lk(Ur.fromDom(t.document),"touchmove",function(e){return o(gi(),e)}),c=lk(Ur.fromDom(t.document),"touchend",function(e){return o(vi(),e)}),l=lk(Ur.fromDom(t.document),"mousedown",a),f=lk(Ur.fromDom(t.document),"mouseup",function(e){0===e.raw().button&&i(Ch(),{target:e.target()})}),d=function(e){return i(xh(),{target:Ur.fromDom(e.target)})},p=function(e){0===e.button&&i(Ch(),{target:Ur.fromDom(e.target)})},h=function(e){return o(bi(),dk(e))},m=function(e){i(_h(),{}),o(yi(),dk(e))},g=function(){return i(_h(),{})};e.on("PostRender",function(){e.on("click",d),e.on("tap",d),e.on("mouseup",p),e.on("ScrollWindow",h),e.on("ResizeWindow",m),e.on("ResizeEditor",g)}),e.on("remove",function(){e.off("click",d),e.off("tap",d),e.off("mouseup",p),e.off("ScrollWindow",h),e.off("ResizeWindow",m),e.off("ResizeEditor",g),l.unbind(),u.unbind(),s.unbind(),c.unbind(),f.unbind()}),e.on("detach",function(){eh(n),eh(r),n.destroy(),r.destroy()})},Mz=rg,Iz=zm,Rz=ie([Tr("shell",!1),lr("makeItem"),Tr("setupItem",te),am.field("listBehaviours",[Ey])]),Pz=function(){return{behaviours:Gl([Ey.config({})])}},Lz=Lm({name:"items",overrides:Pz}),jz=ie([Lz]),Bz=ie("CustomList"),zz=function(e,n,r,o){var i=function(n,r){u(n).fold(function(){throw t.console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},function(t){var o=Ey.contents(t),i=r.length,a=i-o.length,u=a>0?Be(a,function(){return e.makeItem()}):[],s=o.slice(i);He(s,function(e){return Ey.remove(t,e)}),He(u,function(e){return Ey.append(t,e)});var c=Ey.contents(t);He(c,function(t,o){e.setupItem(n,t,r[o],o)})})},a=e.shell?{behaviours:[Ey.config({})],components:[]}:{behaviours:[],components:n},u=function(t){return e.shell?ve.some(t):Ym(t,e,"items")};return{uid:e.uid,dom:e.dom,components:a.components,behaviours:im(e.listBehaviours,a.behaviours),apis:{setItems:i}}},Fz=pg({name:Bz(),configFields:Rz(),partFields:jz(),factory:zz,apis:{setItems:function(e,t,n){e.setItems(t,n)}}}),Hz=function(e){return(ms(e,"position").is("fixed")?ve.none():la(e)).orThunk(function(){var t=Ur.fromTag("span");return ca(e).bind(function(e){ba(e,t);var n=la(t);return Ca(t),n})})},Uz=function(e){return Hz(e).map(qs).getOrThunk(function(){return Hs(0,0)})},Vz=Bt.generate([{static:[]},{absolute:["positionCss"]},{fixed:["positionCss"]}]),qz=function(e,t){var n=e.element();Vu(n,t.transitionClass),Wu(n,t.fadeOutClass),Vu(n,t.fadeInClass),t.onShow(e)},Wz=function(e,t){var n=e.element();Vu(n,t.transitionClass),Wu(n,t.fadeInClass),Vu(n,t.fadeOutClass),t.onHide(e)},Gz=function(e,t){return e.y<t.bottom&&e.bottom>t.y},$z=function(e,t){return e.y>=t.y},Xz=function(e,t){return e.bottom<=t.bottom},Yz=function(e,t,n){return Qe(e,function(e){switch(e){case"bottom":return Xz(t,n);case"top":return $z(t,n)}})},Kz=function(e,t){return t.getInitialPosition().map(function(t){return vc(t.bounds.x,t.bounds.y,Xs(e),js(e))})},Jz=function(e,t,n){n.setInitialPosition(ve.some({style:gs(e),position:ps(e,"position")||"static",bounds:t}))},Qz=function(e,t,n){return n.getInitialPosition().bind(function(r){switch(n.setInitialPosition(ve.none()),r.position){case"static":return ve.some(Vz.static());case"absolute":var o=Hz(e).map(bc).getOrThunk(function(){return bc(as())});return ve.some(Vz.absolute(pf("absolute",Rt(r.style,"left").map(function(e){return t.x-o.x}),Rt(r.style,"top").map(function(e){return t.y-o.y}),Rt(r.style,"right").map(function(e){return o.right-t.right}),Rt(r.style,"bottom").map(function(e){return o.bottom-t.bottom}))));default:return ve.none()}})},Zz=function(e,t,n){return Kz(e,n).filter(function(e){return Yz(n.getModes(),e,t)}).bind(function(t){return Qz(e,t,n)})},eF=function(e,t,n){var r=bc(e);if(Yz(n.getModes(),r,t))return ve.none();Jz(e,r,n);var o=wc(),i=r.x-o.x,a=t.y-o.y,u=o.bottom-t.bottom,s=r.y<=t.y;return ve.some(Vz.fixed(pf("fixed",ve.some(i),s?ve.some(a):ve.none(),ve.none(),s?ve.none():ve.some(u))))},tF=function(e,t,n){var r=e.element();return ms(r,"position").is("fixed")?Zz(r,t,n):eF(r,t,n)},nF=function(e,t){var n=e.element();return Kz(n,t).bind(function(e){return Qz(n,e,t)})},rF=function(e,t){He(["left","right","top","bottom","position"],function(t){return bs(e.element(),t)}),t.onUndocked(e)},oF=function(e,t,n){hf(e.element(),n),("fixed"===n.position()?t.onDocked:t.onUndocked)(e)},iF=function(e,t,n,r,o){void 0===o&&(o=!1),t.contextual.each(function(t){t.lazyContext(e).each(function(i){var a=Gz(i,r);if(a!==n.isVisible())if(n.setVisible(a),o&&!a)$u(e.element(),[t.fadeOutClass]),t.onHide(e);else{var u=a?qz:Wz;u(e,t)}})})},aF=function(e,t,n){var r=t.lazyViewport(e),o=n.isDocked();o&&iF(e,t,n,r),tF(e,r,n).each(function(i){n.setDocked(!o),i.fold(function(){return rF(e,t)},function(n){return oF(e,t,n)},function(o){iF(e,t,n,r,!0),oF(e,t,o)})})},uF=function(e,t,n){var r=e.element();n.setDocked(!1),nF(e,n).each(function(n){n.fold(function(){return rF(e,t)},function(n){return oF(e,t,n)},te)}),n.setVisible(!0),t.contextual.each(function(t){Xu(r,[t.fadeInClass,t.fadeOutClass,t.transitionClass]),t.onShow(e)}),sF(e,t,n)},sF=function(e,t,n){e.getSystem().isConnected()&&aF(e,t,n)},cF=function(e,t,n){n.isDocked()&&uF(e,t,n)},lF=function(e,t,n){return n.isDocked()},fF=function(e,t,n,r){return n.setModes(r)},dF=function(e,t,n){return n.getModes()},pF=Object.freeze({__proto__:null,refresh:sF,reset:cF,isDocked:lF,getModes:dF,setModes:fF}),hF=function(e,t){return Li([$i(ni(),function(n,r){e.contextual.each(function(e){if(Gu(n.element(),e.transitionClass)){Xu(n.element(),[e.transitionClass,e.fadeInClass]);(t.isVisible()?e.onShown:e.onHidden)(n)}r.stop()})}),zi(bi(),function(n,r){sF(n,e,t)}),zi(yi(),function(n,r){cF(n,e,t)})])},mF=Object.freeze({__proto__:null,events:hF}),gF=[Er("contextual",[pr("fadeInClass"),pr("fadeOutClass"),pr("transitionClass"),mr("lazyContext"),Xc("onShow"),Xc("onShown"),Xc("onHide"),Xc("onHidden")]),Ir("lazyViewport",wc),function(e,t,n){return Nr(e,t,Pn(n))}("modes",["top","bottom"],or),Xc("onDocked"),Xc("onUndocked")],vF=function(e){var t=Lr(!1),n=Lr(!0),r=Lr(ve.none()),o=Lr(e.modes),i=function(){return"docked:  "+t.get()+", visible: "+n.get()+", modes: "+o.get().join(",")};return fu({isDocked:t.get,setDocked:t.set,getInitialPosition:r.get,setInitialPosition:r.set,isVisible:n.get,setVisible:n.set,getModes:o.get,setModes:o.set,readState:i})},bF=Object.freeze({__proto__:null,init:vF}),yF=Xl({fields:gF,name:"docking",active:mF,apis:pF,state:bF}),wF={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},xF=function(e,t){var n=ia(t),r=n.dom().defaultView.innerHeight,o=oc(n),i=Ur.fromDom(e.elm),a=yc(i),u=js(i),s=a.y,c=s+u,l=qs(t),f=js(t),d=l.top(),p=d+f,h=Math.abs(d-o.top())<2,m=Math.abs(p-(o.top()+r))<2;if(h&&s<p)ic(o.left(),s-f,n);else if(m&&c>d){var g=s-r+u+f;ic(o.left(),g,n)}},_F=function(e,t){return Le(yF.getModes(e),t)},CF=function(e){var t=function(e){return Bs(e)+(parseInt(ps(e,"margin-top"),10)||0)+(parseInt(ps(e,"margin-bottom"),10)||0)},n=e.element();ca(n).each(function(r){var o="padding-"+yF.getModes(e)[0];if(yF.isDocked(e)){var i=Xs(r);ls(n,"width",i+"px"),ls(r,o,t(n)+"px")}else bs(n,"width"),bs(r,o)})},SF=function(e,t){t?(Wu(e,wF.fadeOutClass),$u(e,[wF.transitionClass,wF.fadeInClass])):(Wu(e,wF.fadeInClass),$u(e,[wF.fadeOutClass,wF.transitionClass]))},EF=function(e,t){var n=Ur.fromDom(e.getContainer());t?(Vu(n,"tox-tinymce--toolbar-sticky-on"),Wu(n,"tox-tinymce--toolbar-sticky-off")):(Vu(n,"tox-tinymce--toolbar-sticky-off"),Wu(n,"tox-tinymce--toolbar-sticky-on"))},kF=function(e,t){var n=ia(t);lf(n).filter(function(e){return!To(t,e)}).filter(function(t){return To(t,Ur.fromDom(n.dom().body))||Ao(e,t)}).each(function(){return uf(t)})},TF=function(e,t){return ff(e).orThunk(function(){return t().toOption().bind(function(e){return ff(e.element())})})},NF=function(e,t,n){e.inline||(t.header.isPositionedAtTop()||e.on("ResizeEditor",function(){n().each(yF.reset)}),e.on("ResizeWindow ResizeEditor",function(){n().each(CF)}),e.on("SkinLoaded",function(){n().each(function(e){yF.isDocked(e)?yF.reset(e):yF.refresh(e)})}),e.on("FullscreenStateChanged",function(){n().each(yF.reset)})),e.on("AfterScrollIntoView",function(e){n().each(function(t){yF.refresh(t);var n=t.element();jv(n)&&xF(e,n)})}),e.on("PostRender",function(){EF(e,!1)})},OF=function(e){return e().map(yF.isDocked).getOr(!1)},AF=function(){var e;return[nf.config({channels:(e={},e[oj()]={onReceive:CF},e)})]},DF=function(e,t){var n=Lr(ve.none()),r=t.getSink,i=function(e){r().each(function(t){return e(t.element())})},a=function(t){e.inline||CF(t),EF(e,yF.isDocked(t)),t.getSystem().broadcastOn([_h()],{}),r().each(function(e){return e.getSystem().broadcastOn([_h()],{})})},u=e.inline?[]:AF();return o([Ly.config({}),yF.config({contextual:de({lazyContext:function(t){var n=Bs(t.element()),r=e.inline?e.getContentAreaContainer():e.getContainer(),o=bc(Ur.fromDom(r)),i=o.height-n,a=o.y+(_F(t,"top")?0:n);return ve.some(vc(o.x,a,o.width,i))},onShow:function(){i(function(e){return SF(e,!0)})},onShown:function(e){i(function(e){return Xu(e,[wF.transitionClass,wF.fadeInClass])}),n.get().each(function(t){kF(e.element(),t),n.set(ve.none())})},onHide:function(e){n.set(TF(e.element(),r)),i(function(e){return SF(e,!1)})},onHidden:function(){i(function(e){return Xu(e,[wF.transitionClass])})}},wF),modes:[t.header.getDockingMode()],onDocked:a,onUndocked:a})],u)},MF=Object.freeze({__proto__:null,setup:NF,isDocked:OF,getBehaviours:DF}),IF=te,RF=ce,PF=ie([]),LF=Object.freeze({__proto__:null,setup:IF,isDocked:RF,getBehaviours:PF}),jF=function(e){var t=e.editor,n=e.sticky?DF:PF;return{uid:e.uid,dom:e.dom,components:e.components,behaviours:Gl(n(t,e.sharedBackstage))}},BF=function(e,t){var n=function(e,n){var r=Fe(n,function(e){var n={type:"menubutton",text:e.text,fetch:function(t){t(e.getItems())}},r=vj(n).mapError(function(e){return Qn(e)}).getOrDie();return _M(r,"tox-mbtn",t.backstage,ve.some("menuitem"))});Ey.set(e,r)},r={focus:my.focusIn,setMenus:n};return{uid:e.uid,dom:e.dom,components:[],behaviours:Gl([Ey.config({}),Ty("menubar-events",[Xi(function(t){e.onSetup(t)}),zi(Xo(),function(e,t){kc(e.element(),".tox-mbtn--active").each(function(n){Tc(t.event().target(),".tox-mbtn").each(function(t){To(n,t)||e.getSystem().getByDom(n).each(function(n){e.getSystem().getByDom(t).each(function(e){cN.expand(e),cN.close(n),Ly.focus(e)})})})})}),zi(Si(),function(e,t){t.event().prevFocus().bind(function(t){return e.getSystem().getByDom(t).toOption()}).each(function(n){t.event().newFocus().bind(function(t){return e.getSystem().getByDom(t).toOption()}).each(function(e){cN.isOpen(n)&&(cN.expand(e),cN.close(n))})})})]),my.config({mode:"flow",selector:".tox-mbtn",onEscape:function(t){return e.onEscape(t),ve.some(!0)}}),Gk.config({})]),apis:r,domModification:{attributes:{role:"menubar"}}}},zF=dg({factory:BF,name:"silver.Menubar",configFields:[lr("dom"),lr("uid"),lr("onEscape"),lr("backstage"),Tr("onSetup",te)],apis:{focus:function(e,t){e.focus(t)},setMenus:function(e,t,n){e.setMenus(t,n)}}}),FF=[rm("slotBehaviours",[])],HF=function(e){return"<alloy.field."+e+">"},UF=function(e){var t=function(){var e=[];return{slot:function(t,n){return e.push(t),qm("container",HF(t),n)},record:function(){return e}}}(),n=e(t),r=t.record(),o=Fe(r,function(e){return Rm({name:e,pname:HF(e)})});return ug("container",FF,o,VF,n)},VF=function(e,t){var n=function(t){return Zm(e)},r=function(t,n){return Ym(t,e,n)},o=function(t,n){return function(r,o){return Ym(r,e,o).map(function(e){return t(e,o)}).getOr(n)}},i=function(e,t){return"true"!==Ma(e.element(),"aria-hidden")},a=function(e,t){if(!i(e)){var n=e.element();bs(n,"display"),Pa(n,"aria-hidden"),Di(e,Ei(),{name:t,visible:!0})}},u=function(e,t){if(i(e)){var n=e.element();ls(n,"display","none"),Aa(n,"aria-hidden","true"),Di(e,Ei(),{name:t,visible:!1})}},s=o(i,!1),c=o(u),l=function(e){return function(t,n){He(n,function(n){return e(t,n)})}}(c),f=function(e){return l(e,n())},d=o(a),p={getSlotNames:n,getSlot:r,isShowing:s,hideSlot:c,hideAllSlots:f,showSlot:d};return{uid:e.uid,dom:e.dom,components:t,behaviours:om(e.slotBehaviours),apis:p}},qF=kt({getSlotNames:function(e,t){return e.getSlotNames(t)},getSlot:function(e,t,n){return e.getSlot(t,n)},isShowing:function(e,t,n){return e.isShowing(t,n)},hideSlot:function(e,t,n){return e.hideSlot(t,n)},hideAllSlots:function(e,t){return e.hideAllSlots(t)},showSlot:function(e,t,n){return e.showSlot(t,n)}},function(e){return cu(e)}),WF=de(de({},qF),{sketch:UF}),GF=Rn([Cr("icon"),Cr("tooltip"),Ir("onShow",te),Ir("onHide",te),Ir("onSetup",function(){return te})]),$F=function(e){return Yn("sidebar",GF,e)},XF=function(e){var t=e.ui.registry.getAll().sidebars;He(Ct(t),function(n){var r=t[n],o=function(){return ve.from(e.queryCommandValue("ToggleSidebar")).is(n)};e.ui.registry.addToggleButton(n,{icon:r.icon,tooltip:r.tooltip,onAction:function(t){e.execCommand("ToggleSidebar",!1,n),t.setActive(o())},onSetup:function(t){var n=function(){return t.setActive(o())};return e.on("ToggleSidebar",n),function(){e.off("ToggleSidebar",n)}}})})},YF=function(e){return{element:function(){return e.element().dom()}}},KF=function(e,t){var n=Fe(Ct(t),function(e){var n=t[e],r=Kn($F(n));return{name:e,getApi:YF,onSetup:r.onSetup,onShow:r.onShow,onHide:r.onHide}});return Fe(n,function(t){var r=Lr(te);return e.slot(t.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:k_.unnamedEvents([nS(t,r),rS(t,r),zi(Ei(),function(e,t){var r=t.event();Xe(n,function(e){return e.name===r.name()}).each(function(t){(r.visible()?t.onShow:t.onHide)(t.getApi(e))})})])})})},JF=function(e){return WF.sketch(function(t){return{dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:KF(t,e),slotBehaviours:k_.unnamedEvents([Xi(function(e){return WF.hideAllSlots(e)})])}})},QF=function(e,t){_g.getCurrent(e).each(function(e){return Ey.set(e,[JF(t)])})},ZF=function(e,t){_g.getCurrent(e).each(function(e){_g.getCurrent(e).each(function(n){JL.hasGrown(e)?WF.isShowing(n,t)?JL.shrink(e):(WF.hideAllSlots(n),WF.showSlot(n,t)):(WF.hideAllSlots(n),WF.showSlot(n,t),JL.grow(e))})})},eH=function(e){return _g.getCurrent(e).bind(function(e){return JL.isGrowing(e)||JL.hasGrown(e)?_g.getCurrent(e).bind(function(e){return Xe(WF.getSlotNames(e),function(t){return WF.isShowing(e,t)})}):ve.none()})},tH=qa("FixSizeEvent"),nH=qa("AutoSizeEvent"),rH=function(e){return{uid:e.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"complementary"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:Gl([Gk.config({}),Ly.config({}),JL.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:function(e){_g.getCurrent(e).each(WF.hideAllSlots),Ai(e,nH)},onGrown:function(e){Ai(e,nH)},onStartGrow:function(e){Di(e,tH,{width:ms(e.element(),"width").getOr("")})},onStartShrink:function(e){Di(e,tH,{width:Xs(e.element())+"px"})}}),Ey.config({}),_g.config({find:function(e){var t=Ey.contents(e);return rt(t)}})])}],behaviours:Gl([aD.childAt(0),Ty("sidebar-sliding-events",[zi(tH,function(e,t){ls(e.element(),"width",t.event().width())}),zi(nH,function(e,t){bs(e.element(),"width")})])])}},oH=function(e){var t=void 0!==e.dom().attributes?e.dom().attributes:[];return Ge(t,function(e,t){var n;return"class"===t.name?e:de(de({},e),(n={},n[t.name]=t.value,n))},{})},iH=function(e){return Array.prototype.slice.call(e.dom().classList,0)},aH=function(e){var t=Ur.fromHtml(e),n=da(t),r=oH(t),o=iH(t),i=0===n.length?{}:{innerHtml:ka(t)};return de({tag:Qi(t),classes:o,attributes:r},i)},uH=function(e){return{dom:{tag:"div",attributes:{"aria-label":e.translate("Loading...")},classes:["tox-throbber__busy-spinner"]},components:[{dom:aH('<div class="tox-spinner"><div></div><div></div><div></div></div>')}],behaviours:Gl([my.config({mode:"special",onTab:function(){return ve.some(!0)},onShiftTab:function(){return ve.some(!0)}}),Ly.config({})])}},sH=function(e,t,n){var r=e.element();!0===t?(Ey.set(e,[uH(n)]),bs(r,"display"),Pa(r,"aria-hidden")):(Ey.set(e,[]),ls(r,"display","none"),Aa(r,"aria-hidden","true"))},cH=function(e){return{uid:e.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:Gl([Ey.config({})]),components:[]}},lH=function(e,t,n){var r=Lr(!1),o=Lr(ve.none()),i=function(e){e!==r.get()&&(sH(t(),e,n.providers),r.set(e))};e.on("ProgressState",function(t){if(o.get().each(Yw.clearTimeout),Oe(t.time)){var n=Yw.setEditorTimeout(e,function(){return i(t.state)},t.time);o.set(ve.some(n))}else i(t.state),o.set(ve.none())})},fH=function(e,t,n){var r={getSocket:function(t){return Mz.getPart(t,e,"socket")},setSidebar:function(t,n){Mz.getPart(t,e,"sidebar").each(function(e){return QF(e,n)})},toggleSidebar:function(t,n){Mz.getPart(t,e,"sidebar").each(function(e){return ZF(e,n)})},whichSidebar:function(t){return Mz.getPart(t,e,"sidebar").bind(eH).getOrNull()},getHeader:function(t){return Mz.getPart(t,e,"header")},getToolbar:function(t){return Mz.getPart(t,e,"toolbar")},setToolbar:function(t,n){Mz.getPart(t,e,"toolbar").each(function(e){e.getApis().setGroups(e,n)})},setToolbars:function(t,n){Mz.getPart(t,e,"multiple-toolbar").each(function(e){Fz.setItems(e,n)})},refreshToolbar:function(t){Mz.getPart(t,e,"toolbar").each(function(e){return e.getApis().refresh(e)})},getThrobber:function(t){return Mz.getPart(t,e,"throbber")},focusToolbar:function(t){Mz.getPart(t,e,"toolbar").orThunk(function(){return Mz.getPart(t,e,"multiple-toolbar")}).each(function(e){my.focusIn(e)})},setMenubar:function(t,n){Mz.getPart(t,e,"menubar").each(function(e){zF.setMenus(e,n)})},focusMenubar:function(t){Mz.getPart(t,e,"menubar").each(function(e){zF.focus(e)})}};return{uid:e.uid,dom:e.dom,components:t,apis:r,behaviours:e.behaviours}},dH=Iz.optional({factory:zF,name:"menubar",schema:[lr("backstage")]}),pH=function(e){return e.type===Ux.sliding?lj:e.type===Ux.floating?cj:fj},hH=Iz.optional({factory:{sketch:function(e){return Fz.sketch({uid:e.uid,dom:e.dom,listBehaviours:Gl([my.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:function(){return fj({type:e.type,uid:qa("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:e.providers,onEscape:function(){return ve.none()}})},setupItem:function(e,t,n,r){KP.setGroups(t,n)},shell:!0})}},name:"multiple-toolbar",schema:[lr("dom"),lr("onEscape")]}),mH=Iz.optional({factory:{sketch:function(e){return pH(e)({type:e.type,uid:e.uid,onEscape:function(){return e.onEscape(),ve.some(!0)},cyclicKeying:!1,initGroups:[],getSink:e.getSink,providers:e.providers,moreDrawerData:{lazyToolbar:e.lazyToolbar,lazyMoreButton:e.lazyMoreButton,lazyHeader:e.lazyHeader},attributes:e.attributes})}},name:"toolbar",schema:[lr("dom"),lr("onEscape"),lr("getSink")]}),gH=Iz.optional({factory:{sketch:jF},name:"header",schema:[lr("dom")]}),vH=Iz.optional({name:"socket",schema:[lr("dom")]}),bH=Iz.optional({factory:{sketch:rH},name:"sidebar",schema:[lr("dom")]}),yH=Iz.optional({factory:{sketch:cH},name:"throbber",schema:[lr("dom")]}),wH=pg({name:"OuterContainer",factory:fH,configFields:[lr("dom"),lr("behaviours")],partFields:[gH,dH,mH,hH,vH,bH,yH],apis:{getSocket:function(e,t){return e.getSocket(t)},setSidebar:function(e,t,n){e.setSidebar(t,n)},toggleSidebar:function(e,t,n){e.toggleSidebar(t,n)},whichSidebar:function(e,t){return e.whichSidebar(t)},getHeader:function(e,t){return e.getHeader(t)},getToolbar:function(e,t){return e.getToolbar(t)},setToolbar:function(e,t,n){var r=Fe(n,function(e){return aj(e)});e.setToolbar(t,r)},setToolbars:function(e,t,n){var r=Fe(n,function(e){return Fe(e,aj)});e.setToolbars(t,r)},refreshToolbar:function(e,t){return e.refreshToolbar(t)},getThrobber:function(e,t){return e.getThrobber(t)},setMenubar:function(e,t,n){e.setMenubar(t,n)},focusMenubar:function(e,t){e.focusMenubar(t)},focusToolbar:function(e,t){e.focusToolbar(t)}}}),xH={file:{title:"File",items:"newdocument restoredraft | preview | print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align | forecolor backcolor | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code wordcount"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},_H=function(e,t,n){var r=bC(n).split(/[ ,]/);return{text:e.title,getItems:function(){return Je(e.items,function(e){var n=e.toLowerCase();return 0===n.trim().length?[]:je(r,function(e){return e===n})?[]:"separator"===n||"|"===n?[{type:"separator"}]:t.menuItems[n]?[t.menuItems[n]]:[]})}}},CH=function(e){return"string"==typeof e?e.split(" "):e},SH=function(e,t){var n=de(de({},xH),t.menus),r=Ct(t.menus).length>0,o=CH(void 0===t.menubar||!0===t.menubar?"file edit view insert format tools table help":!1===t.menubar?"":t.menubar),i=qe(o,function(e){return r?t.menus.hasOwnProperty(e)&&t.menus[e].hasOwnProperty("items")||xH.hasOwnProperty(e):xH.hasOwnProperty(e)}),a=Fe(i,function(r){var o=n[r];return _H({title:o.title,items:CH(o.items)},t,e)});return qe(a,function(e){var t=function(e){return"separator"!==e.type};return e.getItems().length>0&&je(e.getItems(),t)})},EH=function(e){var t=function(){e._skinLoaded=!0,aE(e)};return function(){e.initialized?t():e.on("init",t)}},kH=function(e,t){return function(){return uE(e,{message:t})}},TH=function(e,t){var n,r=uC(t);r&&(n=r+"/skin.min.css",t.contentCSS.push(r+(e?"/content.inline":"/content")+".min.css")),!1===cC(t)&&n?t.ui.styleSheetLoader.load(n,EH(t),kH(t,"Skin could not be loaded")):EH(t)()},NH=n(TH,!1),OH=n(TH,!0),AH=function(e,t,n,r){var o=t.outerContainer,i=n.toolbar,a=n.buttons;if(Ae(i,xe)){var u=i.map(function(t){var o={toolbar:t,buttons:a,allowToolbarGroups:n.allowToolbarGroups};return Sz(e,o,{backstage:r},ve.none())});wH.setToolbars(o,u)}else wH.setToolbar(o,Sz(e,n,{backstage:r},ve.none()))},DH=z_.DOM,MH=_o(),IH=MH.os.isiOS()&&MH.os.version.major<=12,RH=function(e){var t=e.getWin(),n=e.getDoc().documentElement,r=Lr(Hs(t.innerWidth,t.innerHeight)),o=Lr(Hs(n.offsetWidth,n.offsetHeight)),i=function(n){var o=r.get();o.left()===t.innerWidth&&o.top()===t.innerHeight||(r.set(Hs(t.innerWidth,t.innerHeight)),cE(e,n))},a=function(t){var n=e.getDoc().documentElement,r=o.get();r.left()===n.offsetWidth&&r.top()===n.offsetHeight||(o.set(Hs(n.offsetWidth,n.offsetHeight)),cE(e,t))},u=function(t){return lE(e,t)};DH.bind(t,"resize",i),DH.bind(t,"scroll",u);var s=fk(Ur.fromDom(e.getBody()),"load",a);e.on("NodeChange",a),e.on("remove",function(){s.unbind(),DH.unbind(t,"resize",i),DH.unbind(t,"scroll",u)})},PH=function(e,t,n,r,o){var i=Lr(0);NH(e);var a=Ur.fromDom(o.targetNode),u=es(Zu(a));Qp(a,t.mothership),Jp(u,t.uiMothership),e.on("PostRender",function(){AH(e,t,n,r),i.set(e.getWin().innerWidth),wH.setMenubar(t.outerContainer,SH(e,n)),wH.setSidebar(t.outerContainer,n.sidebar),RH(e)});var s=wH.getSocket(t.outerContainer).getOrDie("Could not find expected socket element");if(!0===IH){fs(s.element(),{overflow:"scroll","-webkit-overflow-scrolling":"touch"});var c=ax(function(){e.fire("ScrollContent")},20);lk(s.element(),"scroll",c.throttle)}XC(e,t),e.addCommand("ToggleSidebar",function(n,r){wH.toggleSidebar(t.outerContainer,r),e.fire("ToggleSidebar")}),e.addQueryValueHandler("ToggleSidebar",function(){return wH.whichSidebar(t.outerContainer)});var l=SC(e),f=function(){wH.refreshToolbar(t.outerContainer)};return l!==Ux.sliding&&l!==Ux.floating||e.on("ResizeWindow ResizeEditor ResizeContent",function(){var t=e.getWin().innerWidth;t!==i.get()&&(f(),i.set(t))}),{iframeContainer:s.element().dom(),editorContainer:t.outerContainer.element().dom()}},LH=Object.freeze({__proto__:null,render:PH}),jH=function(e){var t=Lr(ve.none()),n=function(){t.get().each(e)},r=function(){n(),t.set(ve.none())},o=function(e){n(),t.set(ve.some(e))};return{clear:r,isSet:function(){return t.get().isSome()},set:o}},BH=function(){return jH(function(e){e.unbind()})},zH=function(){var e=Lr(ve.none()),t=function(){e.set(ve.none())},n=function(t){e.set(ve.some(t))},r=function(t){e.get().each(t)};return{clear:t,set:n,isSet:function(){return e.get().isSome()},on:r}},FH=function(e){return/^[0-9\.]+(|px)$/i.test(""+e)?ve.some(parseInt(""+e,10)):ve.none()},HH=function(e){return Oe(e)?e+"px":e},UH=function(e,t,n){var r=t.filter(function(t){return e<t}),o=n.filter(function(t){return e>t});return r.or(o).getOr(e)},VH=function(e){var t=lC(e),n=pC(e),r=mC(e);return FH(t).map(function(e){return UH(e,n,r)})},qH=function(e){return VH(e).getOr(lC(e))},WH=function(e){var t=fC(e),n=dC(e),r=hC(e);return FH(t).map(function(e){return UH(e,n,r)})},GH=function(e){return WH(e).getOr(fC(e))},$H=function(e,t,n,r,o){var i=n.uiMothership,a=n.outerContainer,u=z_.DOM,s=DC(e),c=RC(e),l=hC(e).or(WH(e)),f=r.shared.header,d=f.isPositionedAtTop,p=SC(e),h=p===Ux.sliding||p===Ux.floating,m=Lr(!1),g=function(){return m.get()&&!e.removed},v=function(e){return h?e.fold(function(){return 0},function(e){return e.components().length>1?js(e.components()[1].element()):0}):0},b=function(n){switch(TC(e)){case CC.auto:var r=wH.getToolbar(a),o=v(r),i=js(n.element())-o,u=bc(t);if(u.y>i)return"top";var s=ua(t),c=Math.max(s.dom().scrollHeight,js(s));if(u.bottom<c-i)return"bottom";return wc().bottom<u.bottom-i?"bottom":"top";case CC.bottom:return"bottom";case CC.top:default:return"top"}},y=function(e){var t=o.get();yF.setModes(t,[e]),f.setDockingMode(e);var n=d()?Mc.TopToBottom:Mc.BottomToTop;Aa(t.element(),Jf,n)},w=function(){var e=l.getOrThunk(function(){var e=FH(ps(as(),"margin-left")).getOr(0);return Xs(as())-qs(t).left()+e});ls(o.get().element(),"max-width",e+"px")},x=function(){var e=wH.getToolbar(a),n=v(e),r=bc(t),i=d()?Math.max(r.y-js(o.get().element())+n,0):r.bottom;fs(a.element(),{position:"absolute",top:Math.round(i)+"px",left:Math.round(r.x)+"px"})},_=function(){i.broadcastOn([_h()],{})},C=function(e){if(void 0===e&&(e=!1),g()){if(s||w(),h&&wH.refreshToolbar(a),s||x(),c){var t=o.get();e?yF.reset(t):yF.refresh(t)}_()}},S=function(e){if(void 0===e&&(e=!0),!s&&c&&g()){var t=f.getDockingMode(),n=b(o.get());n!==t&&(y(n),e&&C(!0))}};return{isVisible:g,isPositionedAtTop:d,show:function(){m.set(!0),ls(a.element(),"display","flex"),u.addClass(e.getBody(),"mce-edit-focus"),bs(i.element(),"display"),S(!1),C()},hide:function(){m.set(!1),n.outerContainer&&(ls(a.element(),"display","none"),u.removeClass(e.getBody(),"mce-edit-focus")),ls(i.element(),"display","none")},update:C,updateMode:S,repositionPopups:_}},XH=function(e,t){var n=bc(e);return{pos:t?n.y:n.bottom,bounds:n}},YH=function(e,t,n){var r=Lr(XH(t,n.isPositionedAtTop())),o=function(o){var i=XH(t,n.isPositionedAtTop()),a=i.pos,u=i.bounds,s=r.get(),c=s.pos,l=s.bounds,f=u.height!==l.height||u.width!==l.width;r.set({pos:a,bounds:u}),f&&cE(e,o),n.isVisible()&&(c!==a?n.update(!0):f&&(n.updateMode(),n.repositionPopups()))};e.on("activate",n.show),e.on("deactivate",n.hide),e.on("SkinLoaded ResizeWindow",function(){return n.update(!0)}),e.on("NodeChange keydown",function(e){Yw.requestAnimationFrame(function(){return o(e)})}),e.on("ScrollWindow",function(){return n.updateMode()});var i=BH();i.set(fk(Ur.fromDom(e.getBody()),"load",o)),e.on("remove",function(){i.clear()})},KH=function(e,t,n,r,o){var i=t.mothership,a=t.uiMothership,u=t.outerContainer,s=Lr(null),c=Ur.fromDom(o.targetNode),l=$H(e,c,t,r,s);OH(e);var f=function(){if(s.get())return void l.show();s.set(wH.getHeader(u).getOrDie());var o=MC(e);Jp(o,i),Jp(o,a),AH(e,t,n,r),wH.setMenubar(u,SH(e,n)),l.show(),YH(e,c,l),e.nodeChanged()};return e.on("focus",f),e.on("blur hide",l.hide),e.on("init",function(){e.hasFocus()&&f()}),XC(e,t),{editorContainer:u.element().dom()}},JH=Object.freeze({__proto__:null,render:KH}),QH=function(e){var t=[{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}];fI.each(t,function(t){e.ui.registry.addToggleButton(t.name,{tooltip:t.text,onAction:function(){return e.execCommand(t.cmd)},icon:t.icon,onSetup:az(e,t.name)})});var n={name:"alignnone",text:"No alignment",cmd:"JustifyNone",icon:"align-none"};e.ui.registry.addButton(n.name,{tooltip:n.text,onAction:function(){return e.execCommand(n.cmd)},icon:n.icon})},ZH=function(e,t){return function(){e.execCommand("mceToggleFormat",!1,t)}},eU=function(e){fI.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],function(t,n){e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onSetup:az(e,t.name),onAction:ZH(e,t.name)})});for(var t=1;t<=6;t++){var n="h"+t;e.ui.registry.addToggleButton(n,{text:n.toUpperCase(),tooltip:"Heading "+t,onSetup:az(e,n),onAction:ZH(e,n)})}},tU=function(e){fI.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"}],function(t){e.ui.registry.addButton(t.name,{tooltip:t.text,icon:t.icon,onAction:function(){return e.execCommand(t.action)}})})},nU=function(e){fI.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],function(t){e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onAction:function(){return e.execCommand(t.action)},onSetup:az(e,t.name)})})},rU=function(e){eU(e),tU(e),nU(e)},oU=function(e){fI.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through",shortcut:""},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript",shortcut:""},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript",shortcut:""},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting",shortcut:""},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document",shortcut:""},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"}],function(t){e.ui.registry.addMenuItem(t.name,{text:t.text,icon:t.icon,shortcut:t.shortcut,onAction:function(){return e.execCommand(t.action)}})}),e.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:ZH(e,"code")})},iU=function(e){rU(e),oU(e)},aU=function(e,t,n){var r=function(){return!!t.undoManager&&t.undoManager[n]()},o=function(){e.setDisabled(t.mode.isReadOnly()||!r())};return e.setDisabled(!r()),t.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",o),function(){return t.off("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",o)}},uU=function(e){e.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:function(t){return aU(t,e,"hasUndo")},onAction:function(){return e.execCommand("undo")}}),e.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:function(t){return aU(t,e,"hasRedo")},onAction:function(){return e.execCommand("redo")}})},sU=function(e){e.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",onSetup:function(t){return aU(t,e,"hasUndo")},onAction:function(){return e.execCommand("undo")}}),e.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",onSetup:function(t){return aU(t,e,"hasRedo")},onAction:function(){return e.execCommand("redo")}})},cU=function(e){uU(e),sU(e)},lU=function(e,t){e.setActive(t.hasVisual);var n=function(t){e.setActive(t.hasVisual)};return t.on("VisualAid",n),function(){return t.off("VisualAid",n)}},fU=function(e){e.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:function(t){return lU(t,e)},onAction:function(){e.execCommand("mceToggleVisualAid")}})},dU=function(e){e.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:function(){return e.execCommand("mceToggleVisualAid")}})},pU=function(e){dU(e),fU(e)},hU=function(e,t){e.setDisabled(!t.queryCommandState("outdent"));var n=function(){e.setDisabled(!t.queryCommandState("outdent"))};return t.on("NodeChange",n),function(){return t.off("NodeChange",n)}},mU=function(e){e.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:function(t){return hU(t,e)},onAction:function(){return e.execCommand("outdent")}}),e.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:function(){return e.execCommand("indent")}})},gU=function(e){mU(e)},vU=function(e,t){qB(e,t),KB(e,t),pz(e,t),lz(e,t),rz(e,t)},bU=function(e,t){QH(e),iU(e),vU(e,t),cU(e),BE(e),pU(e),gU(e)},yU=function(e,t){return{anchor:"makeshift",x:e,y:t}},wU=function(e,t,n){return yU(e.x+t,e.y+n)},xU=function(e){return"longpress"===e.type||0===e.type.indexOf("touch")},_U=function(e){if(xU(e)){var t=e.touches[0];return yU(t.pageX,t.pageY)}return yU(e.pageX,e.pageY)},CU=function(e){if(xU(e)){var t=e.touches[0];return yU(t.clientX,t.clientY)}return yU(e.clientX,e.clientY)},SU=function(e,t){var n=z_.DOM.getPos(e);return wU(t,n.x,n.y)},EU=function(e,t){return"contextmenu"===t.type||"longpress"===t.type?e.inline?_U(t):SU(e.getContentAreaContainer(),CU(t)):kU(e)},kU=function(e){return{anchor:"selection",root:Ur.fromDom(e.selection.getNode())}},TU=function(e){return{anchor:"node",node:ve.some(Ur.fromDom(e.selection.getNode())),root:Ur.fromDom(e.getBody())}},NU=function(e,t,n){return n?TU(e):EU(e,t)},OU=function(e,t,n,r,o,i){var a=n(),u=NU(e,t,i);wM(a,Vx.CLOSE_ON_EXECUTE,r,!1).map(function(e){t.preventDefault(),jw.showMenuAt(o,u,{menu:{markers:Jx("normal")},data:e})})},AU={onLtr:function(){return[Al,El,kl,Tl,Nl,Ol,$w,Xw,Ww,Vw,Gw,qw]},onRtl:function(){return[Al,kl,El,Nl,Tl,Ol,$w,Xw,Gw,qw,Ww,Vw]}},DU={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},MU=function(e,t){var n=e.selection;if(n.isCollapsed()||t.touches.length<1)return!1;var r=t.touches[0],o=n.getRng();return Kd(e.getWin(),_d.domRange(o)).exists(function(e){return e.left()<=r.clientX&&e.right()>=r.clientX&&e.top()<=r.clientY&&e.bottom()>=r.clientY})},IU=function(e,t,n){var r=t?TU(e):EU(e,n);return de({bubble:Wf(0,12,DU),layouts:AU,overrides:{maxWidthFunction:HP(),maxHeightFunction:Ff()}},r)},RU=function(e){var t=e.selection.getRng(),n=function(){Yw.setEditorTimeout(e,function(){e.selection.setRng(t)},10),i()};e.once("touchend",n);var r=function(e){e.preventDefault(),e.stopImmediatePropagation()};e.on("mousedown",r,!0);var o=function(){return i()};e.once("longpresscancel",o);var i=function(){e.off("touchend",n),e.off("longpresscancel",o),e.off("mousedown",r)}},PU=function(e,t,n,r,o,i,a){var u=IU(e,i,t);wM(n,Vx.CLOSE_ON_EXECUTE,r,!0).map(function(n){t.preventDefault(),jw.showMenuWithinBounds(o,u,{menu:{markers:Jx("normal"),highlightImmediately:a},data:n,type:"horizontal"},function(){return ve.some(xB(e,r.shared))}),e.fire("contexttoolbar-hide")})},LU=function(e,t,n,r,o,i){var a=_o(),u=a.os.isiOS(),s=a.os.isOSX(),c=a.os.isAndroid(),l=a.deviceType.isTouch(),f=function(){return!(c||u||s&&l)},d=function(){var a=n();PU(e,t,a,r,o,i,f())};if(!s&&!u||i)c&&!i&&e.selection.setCursorLocation(t.target,0),d();else{var p=function(){RU(e),d()};MU(e,t)?p():(e.once("selectionchange",p),e.once("touchend",function(){return e.off("selectionchange",p)}))}},jU=function(e){return"string"==typeof e?e.split(/[ ,]/):e},BU=function(e){return e.getParam("contextmenu_never_use_native",!1,"boolean")},zU=function(e,t,n){var r=e.ui.registry.getAll().contextMenus;return ve.from(e.getParam(t)).map(jU).getOrThunk(function(){return qe(jU(n),function(e){return Pt(r,e)})})},FU=function(e){return!1===e.getParam("contextmenu")},HU=function(e){return zU(e,"contextmenu","link linkchecker image imagetools table spellchecker configurepermanentpen")},UU=function(e){return xe(e)?"|"===e:"separator"===e.type},VU={type:"separator"},qU=function(e){if(xe(e))return e;switch(e.type){case"separator":return VU;case"submenu":return{type:"nestedmenuitem",text:e.text,icon:e.icon,getSubmenuItems:function(){var t=e.getSubmenuItems();return xe(t)?t:Fe(t,qU)}};default:return{type:"menuitem",text:e.text,icon:e.icon,onAction:ne(e.onAction)}}},WU=function(e,t){if(0===t.length)return e;var n=ot(e).filter(function(e){return!UU(e)}),r=n.fold(function(){return[]},function(e){return[VU]});return e.concat(r).concat(t).concat([VU])},GU=function(e,t,n){var r=Ge(t,function(t,r){if(Pt(e,r)){var o=e[r].update(n);if(xe(o))return WU(t,o.split(" "));if(o.length>0){var i=Fe(o,qU);return WU(t,i)}return t}return t.concat([r])},[]);return r.length>0&&UU(r[r.length-1])&&r.pop(),r},$U=function(e,t){return t.ctrlKey&&!BU(e)},XU=function(e,t){return"longpress"!==t.type&&(2!==t.button||t.target===e.getBody()&&""===t.pointerType)},YU=function(e,t,n){var r=_o(),o=r.deviceType.isTouch,i=Rs(jw.sketch({dom:{tag:"div"},lazySink:t,onEscape:function(){return e.focus()},onShow:function(){return n.setContextMenuState(!0)},onHide:function(){return n.setContextMenuState(!1)},fireDismissalEventInstead:{},inlineBehaviours:Gl([Ty("dismissContextMenu",[zi(_i(),function(t,n){wh.close(t),e.focus()})])])})),a=function(e){return jw.hide(i)},u=function(t){if(BU(e)&&t.preventDefault(),!$U(e,t)&&!FU(e)){var r=XU(e,t),a=function(){var n=r?e.selection.getStart(!0):t.target,o=e.ui.registry.getAll(),i=HU(e);return GU(o.contextMenus,i,n)};(o()?LU:OU)(e,t,a,n,i,r)}};e.on("init",function(){var t="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(o()?"":" ResizeWindow");e.on(t,a),e.on("longpress contextmenu",u)})},KU=Bt.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),JU=function(e){return function(t){return t.translate(-e.left(),-e.top())}},QU=function(e){return function(t){return t.translate(e.left(),e.top())}},ZU=function(e){return function(t,n){return Ge(e,function(e,t){return t(e)},Hs(t,n))}},eV=function(e,t,n){return e.fold(ZU([QU(n),JU(t)]),ZU([JU(t)]),ZU([]))},tV=function(e,t,n){return e.fold(ZU([QU(n)]),ZU([]),ZU([QU(t)]))},nV=function(e,t,n){return e.fold(ZU([]),ZU([JU(n)]),ZU([QU(t),JU(n)]))},rV=function(e,t,n,r,o,i){var a=tV(e,o,i),u=tV(t,o,i);return Math.abs(a.left()-u.left())<=n&&Math.abs(a.top()-u.top())<=r},oV=function(e,t,n,r,o,i){var a=tV(e,o,i),u=tV(t,o,i),s=Math.abs(a.left()-u.left()),c=Math.abs(a.top()-u.top());return Hs(s,c)},iV=function(e,t,n){var r=e.fold(function(e,t){return{position:ve.some("absolute"),left:ve.some(e+"px"),top:ve.some(t+"px")}},function(e,t){return{position:ve.some("absolute"),left:ve.some(e-n.left()+"px"),top:ve.some(t-n.top()+"px")}},function(e,t){return{position:ve.some("fixed"),left:ve.some(e+"px"),top:ve.some(t+"px")}});return de({right:ve.none(),bottom:ve.none()},r)},aV=function(e,t,n){return e.fold(function(e,r){return sV(e+t,r+n)},function(e,r){return cV(e+t,r+n)},function(e,r){return lV(e+t,r+n)})},uV=function(e,t,n,r){var o=function(e,o){return function(i,a){var u=e(t,n,r);return o(i.getOr(u.left()),a.getOr(u.top()))}};return e.fold(o(nV,sV),o(tV,cV),o(eV,lV))},sV=KU.offset,cV=KU.absolute,lV=KU.fixed,fV=function(e,t){var n=Ma(e,t);return Ee(n)?NaN:parseInt(n,10)},dV=function(e,t){var n=e.element(),r=fV(n,t.leftAttr),o=fV(n,t.topAttr);return isNaN(r)||isNaN(o)?ve.none():ve.some(Hs(r,o))},pV=function(e,t,n){var r=e.element();Aa(r,t.leftAttr,n.left()+"px"),Aa(r,t.topAttr,n.top()+"px")},hV=function(e,t){var n=e.element();Pa(n,t.leftAttr),Pa(n,t.topAttr)},mV=function(e,t,n,r){return dV(e,t).fold(function(){return n},function(e){return lV(e.left()+r.left(),e.top()+r.top())})},gV=function(e,t,n,r,o,i){var a=mV(e,t,n,r),u=t.mustSnap?yV(e,t,a,o,i):wV(e,t,a,o,i),s=eV(a,o,i);return pV(e,t,s),u.fold(function(){return{coord:lV(s.left(),s.top()),extra:ve.none()}},function(e){return{coord:e.output,extra:e.extra}})},vV=function(e,t){hV(e,t)},bV=function(e,t,n,r){return at(e,function(e){var o=e.sensor;return rV(t,o,e.range.left(),e.range.top(),n,r)?ve.some({output:uV(e.output,t,n,r),extra:e.extra}):ve.none()})},yV=function(e,t,n,r,o){var i=t.getSnapPoints(e);return bV(i,n,r,o).orThunk(function(){return Ge(i,function(e,t){var i=t.sensor,a=oV(n,i,t.range.left(),t.range.top(),r,o);return e.deltas.fold(function(){return{deltas:ve.some(a),snap:ve.some(t)}},function(n){return(a.left()+a.top())/2<=(n.left()+n.top())/2?{deltas:ve.some(a),snap:ve.some(t)}:e})},{deltas:ve.none(),snap:ve.none()}).snap.map(function(e){return{output:uV(e.output,n,r,o),extra:e.extra}})})},wV=function(e,t,n,r,o){var i=t.getSnapPoints(e);return bV(i,n,r,o)},xV=function(e,t,n){return{coord:uV(e.output,e.output,t,n),extra:e.extra}},_V=function(e,t,n,r){var o=t.getTarget(e.element());if(t.repositionTarget){var i=ia(e.element()),a=oc(i),u=Uz(o),s=xV(r,a,u),c=iV(s.coord,0,u);ds(o,c)}},CV=Object.freeze({__proto__:null,snapTo:_V}),SV=function(e){ca(e.element()).filter(ta).each(function(e){Ia(e,"data-initial-z-index").fold(function(){return bs(e,"z-index")},function(t){return ls(e,"z-index",t)}),Pa(e,"data-initial-z-index")})},EV=function(e){ca(e.element()).filter(ta).each(function(t){ms(t,"z-index").each(function(e){Aa(t,"data-initial-z-index",e)}),ls(t,"z-index",ps(e.element(),"z-index"))})},kV=function(e,t){e.getSystem().addToGui(t),EV(t)},TV=function(e){SV(e),e.getSystem().removeFromGui(e)},NV=function(e,t,n){return e.getSystem().build(Lk.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[t]},events:n}))},OV=Er("snaps",[lr("getSnapPoints"),Xc("onSensor"),lr("leftAttr"),lr("topAttr"),Tr("lazyViewport",wc),Tr("mustSnap",!1)]),AV=[Tr("useFixed",ce),lr("blockerClass"),Tr("getTarget",ae),Tr("onDrag",te),Tr("repositionTarget",!0),Tr("onDrop",te),Ir("getBounds",wc),OV],DV=function(e){return vg(ms(e,"left"),ms(e,"top"),ms(e,"position"),function(e,t,n){return("fixed"===n?lV:sV)(parseInt(e,10),parseInt(t,10))}).getOrThunk(function(){var t=qs(e);return cV(t.left(),t.top())})},MV=function(e,t,n,r,o){var i=o.bounds,a=tV(t,n,r),u=Tf(a.left(),i.x,i.x+i.width-o.width),s=Tf(a.top(),i.y,i.y+i.height-o.height),c=cV(u,s);return t.fold(function(){var e=nV(c,n,r);return sV(e.left(),e.top())},function(){return c},function(){var e=eV(c,n,r);return lV(e.left(),e.top())})},IV=function(e,t,n,r,o,i,a){var u=t.fold(function(){var e=aV(n,i.left(),i.top()),t=eV(e,r,o);return lV(t.left(),t.top())},function(t){var a=gV(e,t,n,i,r,o);return a.extra.each(function(n){t.onSensor(e,n)}),a.coord});return MV(0,u,r,o,a)},RV=function(e,t,n,r){var o=t.getTarget(e.element());if(t.repositionTarget){var i=ia(e.element()),a=oc(i),u=Uz(o),s=DV(o),c=IV(e,t.snaps,s,a,u,r,n),l=iV(c,0,u);ds(o,l)}t.onDrag(e,o,r)},PV=function(e,t){return{bounds:e.getBounds(),height:Bs(t.element()),width:Ys(t.element())}},LV=function(e,t,n,r,o){var i=n.update(r,o),a=n.getStartData().getOrThunk(function(){return PV(t,e)});i.each(function(n){RV(e,t,a,n)})},jV=function(e,t,n,r){t.each(TV),n.snaps.each(function(t){vV(e,t)});var o=n.getTarget(e.element());r.reset(),n.onDrop(e,o)},BV=function(e){return function(t,n){var r=function(e){n.setStartData(PV(t,e))};return Li(o([zi(bi(),function(e){n.getStartData().each(function(){return r(e)})})],e(t,n,r)))}},zV=function(e){return Li([zi(qo(),e.forceDrop),zi($o(),e.drop),zi(Wo(),function(t,n){e.move(n.event())}),zi(Go(),e.delayDrop)])},FV=function(e){return ve.from(Hs(e.x(),e.y()))},HV=function(e,t){return Hs(t.left()-e.left(),t.top()-e.top())},UV=Object.freeze({__proto__:null,getData:FV,getDelta:HV}),VV=function(e,t,n){return[zi(qo(),function(r,o){if(0===o.event().raw().button){o.stop();var i=function(){return jV(r,ve.some(s),e,t)},a=l(i,200),u={drop:i,delayDrop:a.schedule,forceDrop:i,move:function(n){a.cancel(),LV(r,e,t,UV,n)}},s=NV(r,e.blockerClass,zV(u));!function(){n(r),kV(r,s)}()}})]},qV=o(AV,[Qc("dragger",{handlers:BV(VV)})]),WV=function(e){return Li([zi(Fo(),e.forceDrop),zi(Uo(),e.drop),zi(Vo(),e.drop),zi(Ho(),function(t,n){e.move(n.event())})])},GV=function(e){var t=e[0];return ve.some(Hs(t.clientX,t.clientY))},$V=function(e){var t=e.raw(),n=t.touches;return 1===n.length?GV(n):ve.none()},XV=function(e,t){return Hs(t.left()-e.left(),t.top()-e.top())},YV=Object.freeze({__proto__:null,getData:$V,getDelta:XV}),KV=function(e,t,n){var r=Lr(ve.none());return[zi(Fo(),function(o,i){i.stop();var a=function(){jV(o,r.get(),e,t),r.set(ve.none())},u={drop:a,delayDrop:function(){},forceDrop:a,move:function(n){LV(o,e,t,YV,n)}},s=NV(o,e.blockerClass,WV(u));r.set(ve.some(s));!function(){n(o),kV(o,s)}()}),zi(Ho(),function(n,r){r.stop(),LV(n,e,t,YV,r.event())}),zi(Uo(),function(n,o){o.stop(),jV(n,r.get(),e,t),r.set(ve.none())}),zi(Vo(),function(n){jV(n,r.get(),e,t),r.set(ve.none())})]},JV=o(AV,[Qc("dragger",{handlers:BV(KV)})]),QV=function(e,t,n){return o(VV(e,t,n),KV(e,t,n))},ZV=o(AV,[Qc("dragger",{handlers:BV(QV)})]),eq=qV,tq=JV,nq=ZV,rq=Object.freeze({__proto__:null,mouse:eq,touch:tq,mouseOrTouch:nq}),oq=function(){var e=ve.none(),t=ve.none(),n=function(){e=ve.none(),t=ve.none()},r=function(t,n){var r=e.map(function(e){return t.getDelta(e,n)});return e=ve.some(n),r},o=function(e,t){return e.getData(t).bind(function(t){return r(e,t)})},i=function(e){t=ve.some(e)},a=function(){return t},u=ie({});return fu({readState:u,reset:n,update:o,getStartData:a,setStartData:i})},iq=Object.freeze({__proto__:null,init:oq}),aq=Kl({branchKey:"mode",branches:rq,name:"dragging",active:{events:function(e,t){return e.dragger.handlers(e,t)}},extra:{snap:function(e){return{sensor:e.sensor,range:e.range,output:e.output,extra:ve.from(e.extra)}}},state:iq,apis:CV}),uq=function(e,t,n,r,o,i){return e.fold(function(){return aq.snap({sensor:cV(n-20,r-20),range:Hs(o,i),output:cV(ve.some(n),ve.some(r)),extra:{td:t}})},function(e){var o=n-20,i=r-20,a=e.element().dom().getBoundingClientRect();return aq.snap({sensor:cV(o,i),range:Hs(40,40),output:cV(ve.some(n-a.width/2),ve.some(r-a.height/2)),extra:{td:t}})})},sq=function(e,t,n){var r=function(e,t){return e.exists(function(e){return To(e,t)})};return{getSnapPoints:e,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:function(e,o){var i=o.td;r(t.get(),i)||(t.set(ve.some(i)),n(i))},mustSnap:!0}},cq=function(e){return Qw(Jw.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:Gl([aq.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:e}),pN.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}}))},lq=function(e,t){var n=Lr([]),r=Lr([]),o=Lr(!1),i=Lr(ve.none()),a=Lr(ve.none()),u=function(e){var n=yc(e);return uq(p.getOpt(t),e,n.x,n.y,n.width,n.height)},s=function(){return Fe(n.get(),function(e){return u(e)})},c=function(e){var n=yc(e);return uq(h.getOpt(t),e,n.right,n.bottom,n.width,n.height)},l=function(){return Fe(r.get(),function(e){return c(e)})},f=sq(s,i,function(t){a.get().each(function(n){e.fire("TableSelectorChange",{start:t,finish:n})})}),d=sq(l,a,function(t){i.get().each(function(n){e.fire("TableSelectorChange",{start:n,finish:t})})}),p=cq(f),h=cq(d),m=Rs(p.asSpec()),g=Rs(h.asSpec()),v=function(t,n,r,o){var i=n.dom().getBoundingClientRect();bs(t.element(),"display");var a=sa(Ur.fromDom(e.getBody())).dom().innerHeight,u=r(i),s=o(i,a);(u||s)&&ls(t.element(),"display","none")},b=function(e,t,n,r){var o=n(t);aq.snapTo(e,o),v(e,t,function(e){return e[r]<0},function(e,t){return e[r]>t})},y=function(e){return b(m,e,u,"top")},w=function(){return i.get().each(y)},x=function(e){return b(g,e,c,"bottom")},_=function(){return a.get().each(x)};_o().deviceType.isTouch()&&(e.on("TableSelectionChange",function(e){o.get()||(Gp(t,m),Gp(t,g),o.set(!0)),i.set(ve.some(e.start)),a.set(ve.some(e.finish)),e.otherCells.each(function(t){n.set(t.upOrLeftCells),r.set(t.downOrRightCells),y(e.start),x(e.finish)})}),e.on("ResizeEditor ResizeWindow ScrollContent",function(){w(),_()}),e.on("TableSelectionClear",function(){o.get()&&(Yp(m),Yp(g),o.set(!1)),i.set(ve.none()),a.set(ve.none())}))};!function(e){e[e.None=0]="None",e[e.Both=1]="Both",e[e.Vertical=2]="Vertical"}(BB||(BB={}));var fq=function(e,t,n,r,o){var i={};return i.height=UH(r+t.top(),pC(e),mC(e)),n===BB.Both&&(i.width=UH(o+t.left(),dC(e),hC(e))),i},dq=function(e,t,n){var r=Ur.fromDom(e.getContainer()),o=fq(e,t,n,js(r),Xs(r));Et(o,function(e,t){return ls(r,t,HH(e))}),sE(e)},pq=function(e){if(1===e.nodeType){if("BR"===e.nodeName||e.getAttribute("data-mce-bogus"))return!0;if("bookmark"===e.getAttribute("data-mce-type"))return!0}return!1},hq=function(e,t,n){t.delimiter||(t.delimiter="»");var r=function(r){var o=r||[],i=Fe(o,function(t,r){return Jw.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{role:"button","data-index":r,"tab-index":-1,"aria-level":r+1},innerHtml:t.name},action:function(n){e.focus(),e.selection.select(t.element),e.nodeChanged()},buttonBehaviours:Gl([eS.button(n.isReadOnly),YC()])})}),a={dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0},innerHtml:" "+t.delimiter+" "}};return Ge(i.slice(1),function(e,t){var n=e;return n.push(a),n.push(t),n},[i[0]])},o=function(t){for(var n=[],r=t.length;r-- >0;){var o=t[r];if(1===o.nodeType&&!pq(o)){var i=e.fire("ResolveName",{name:o.nodeName.toLowerCase(),target:o});if(i.isDefaultPrevented()||n.push({name:i.name,element:o}),i.isPropagationStopped())break}}return n};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:Gl([my.config({mode:"flow",selector:"div[role=button]"}),iC.config({disabled:n.isReadOnly}),YC(),Gk.config({}),Ey.config({}),Ty("elementPathEvents",[Xi(function(t,n){e.shortcuts.add("alt+F11","focus statusbar elementpath",function(){return my.focusIn(t)}),e.on("NodeChange",function(e){var n=o(e.parents);n.length>0?Ey.set(t,r(n)):Ey.set(t,[])})})])]),components:[]}},mq=function(e,t){var n=function(e,n,r){return Ey.set(e,[Ds(t.translate(["{0} "+r,n[r]]))])};return Jw.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:Gl([eS.button(t.isReadOnly),YC(),Gk.config({}),Ey.config({}),nm.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Ty("wordcount-events",[Ji(function(e){var t=nm.getValue(e),r="words"===t.mode?"characters":"words";nm.setValue(e,{mode:r,count:t.count}),n(e,t.count,r)}),Xi(function(t){e.on("wordCountUpdate",function(e){var r=nm.getValue(t).mode;nm.setValue(t,{mode:r,count:e.wordCount}),n(t,e.wordCount,r)})})])]),eventOrder:{"alloy.execute":["disabling","alloy.base.behaviour","wordcount-events"]}})},gq=function(e,t){var n=function(n){return{dom:{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:t.translate("Resize"),"aria-hidden":"true"},innerHtml:ex("resize-handle",t.icons)},behaviours:Gl([aq.config({mode:"mouse",repositionTarget:!1,onDrag:function(t,r,o){dq(e,o,n)},blockerClass:"tox-blocker"})])}},r=function(){var e=F_.translate(["Powered by {0}","Tiny"]);return{dom:{tag:"span",classes:["tox-statusbar__branding"],innerHtml:'<a href="https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce&amp;utm_content=v5" rel="noopener" target="_blank" tabindex="-1" aria-label="'+e+'">'+e+"</a>"}}},o=function(e){var t=!co(e.getParam("plugins","","string"),"autoresize"),n=e.getParam("resize",t);return!1===n?BB.None:"both"===n?BB.Both:BB.Vertical},i=function(){var n=[];return e.getParam("elementpath",!0,"boolean")&&n.push(hq(e,{},t)),co(e.getParam("plugins","","string"),"wordcount")&&n.push(mq(e,t)),e.getParam("branding",!0,"boolean")&&n.push(r()),n.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:n}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:function(){var t=i(),r=o(e);return r!==BB.None&&t.push(n(r)),t}()}},vq=function(e){var t,n=e.inline,r=n?JH:LH,o=RC(e)?MF:LF,i=ve.none(),a=_o(),u=a.browser.isIE(),s=u?["tox-platform-ie"]:[],c=a.deviceType.isTouch(),l=c?["tox-platform-touch"]:[],f=NC(e),d=F_.isRtl()?{attributes:{dir:"rtl"}}:{},p={attributes:(t={},t[Jf]=f?Mc.BottomToTop:Mc.TopToBottom,t)},h=function(){return i.bind(wH.getHeader)},m=function(){return o.isDocked(h)},g=Rs({dom:de({tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(s).concat(l)},d),behaviours:Gl([Fp.config({useFixed:function(){return m()}})])}),v=function(){return lt.value(g)},b=Qw({dom:{tag:"div",classes:["tox-anchorbar"]}}),y=function(){return i.bind(function(e){return b.getOpt(e)}).getOrDie("Could not find a anchor bar element")},w=function(){return i.bind(function(e){return wH.getToolbar(e)}).getOrDie("Could not find more toolbar element")},x=function(){return i.bind(function(e){return wH.getThrobber(e)}).getOrDie("Could not find throbber element")},_=FP(g,e,y),C=wH.parts().menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:_,onEscape:function(){e.focus()}}),S=SC(e),E=wH.parts().toolbar(de({dom:{tag:"div",classes:["tox-toolbar"]},getSink:v,providers:_.shared.providers,onEscape:function(){e.focus()},type:S,lazyToolbar:w,lazyHeader:function(){return h().getOrDie("Could not find header element")}},p)),k=wH.parts()["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:_.shared.providers,onEscape:function(){},type:S}),T=wH.parts().socket({dom:{tag:"div",classes:["tox-edit-area"]}}),N=wH.parts().sidebar({dom:{tag:"div",classes:["tox-sidebar"]}}),O=wH.parts().throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:_}),A=e.getParam("statusbar",!0,"boolean"),D=A&&!n?ve.some(gq(e,_.shared.providers)):ve.none(),M={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[T,N]},I=_C(e),R=wC(e),P=yC(e),L=wH.parts().header({dom:de({tag:"div",classes:["tox-editor-header"]},p),components:Ke([P?[C]:[],function(){return I?[k]:R?[E]:[]}(),DC(e)?[]:[b.asSpec()]]),sticky:RC(e),editor:e,sharedBackstage:_.shared}),j=Ke([f?[]:[L],n?[]:[M],f?[L]:[]]),B={dom:{tag:"div",classes:["tox-editor-container"]},components:j},z=Ke([[B],n?[]:D.toArray(),[O]]),F=IC(e),H=de(de({role:"application"},F_.isRtl()?{dir:"rtl"}:{}),F?{"aria-hidden":"true"}:{}),U=Rs(wH.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(n?["tox-tinymce-inline"]:[]).concat(f?["tox-tinymce--toolbar-bottom"]:[]).concat(l).concat(s),styles:de({visibility:"hidden"},F?{opacity:"0",border:"0"}:{}),attributes:H},components:z,behaviours:Gl([my.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a"})])}));i=ve.some(U),e.shortcuts.add("alt+F9","focus menubar",function(){wH.focusMenubar(U)}),e.shortcuts.add("alt+F10","focus toolbar",function(){wH.focusToolbar(U)});var V=jk(U),q=jk(g);Dz(e,V,q);var W=function(){return{channels:{broadcastAll:q.broadcast,broadcastOn:q.broadcastOn,register:function(){}}}},G=function(){var t=HH(qH(e)),n=HH(GH(e));return e.inline||(vs("div","width",n)&&ls(U.element(),"width",n),vs("div","height",t)?ls(U.element(),"height",t):ls(U.element(),"height","200px")),t};return{mothership:V,uiMothership:q,backstage:_,renderUI:function(){o.setup(e,_.shared,h),bU(e,_),YU(e,v,_),XF(e),lH(e,x,_.shared),kt(kC(e),function(t,n){e.ui.registry.addGroupToolbarButton(n,t)});var t=e.ui.registry.getAll(),n=t.buttons,i=t.menuItems,a=t.contextToolbars,u=t.sidebars,s=xC(e),c={menuItems:i,menus:LC(e),menubar:jC(e),toolbar:s.getOrThunk(function(){return BC(e)}),allowToolbarGroups:S===Ux.floating,buttons:n,sidebar:u};Az(e,a,g,{backstage:_}),lq(e,g);var l=e.getElement(),f=G(),d={mothership:V,uiMothership:q,outerContainer:U},p={targetNode:l,height:f};return r.render(e,d,c,_,p)},getUi:W}},bq=function(e,t){var n=ve.from(Ma(e,"id")).fold(function(){var e=qa("dialog-describe");return Aa(t,"id",e),e},ae);Aa(e,"aria-describedby",n)},yq=function(e,t){var n=ve.from(Ma(e,"id")).fold(function(){var e=qa("dialog-label");return Aa(t,"id",e),e},ae);Aa(e,"aria-labelledby",n)},wq=ie([lr("lazySink"),wr("dragBlockClass"),Ir("getBounds",wc),Tr("useTabstopAt",ie(!0)),Tr("eventOrder",{}),rm("modalBehaviours",[my]),Yc("onExecute"),Jc("onEscape")]),xq={sketch:ae},_q=ie([Lm({name:"draghandle",overrides:function(e,t){return{behaviours:Gl([aq.config({mode:"mouse",getTarget:function(e){return Ec(e,'[role="dialog"]').getOr(e)},blockerClass:e.dragBlockClass.getOrDie(new Error("The drag blocker class was not specified for a dialog with a drag handle: \n"+JSON.stringify(t,null,2)).message),getBounds:e.getDragBounds})])}}}),Rm({schema:[lr("dom")],name:"title"}),Rm({factory:xq,schema:[lr("dom")],name:"close"}),Rm({factory:xq,schema:[lr("dom")],name:"body"}),Lm({factory:xq,schema:[lr("dom")],name:"footer"}),Pm({factory:{sketch:function(e,t){return de(de({},e),{dom:t.dom,components:t.components})}},schema:[Tr("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),Tr("components",[])],name:"blocker"})]),Cq=function(e,t,n,r){var o=qa("alloy.dialog.busy"),i=qa("alloy.dialog.idle"),a=Gl([my.config({mode:"special",onTab:function(){return ve.some(!0)},onShiftTab:function(){return ve.some(!0)}}),Ly.config({})]),u=function(t){var n=e.lazySink(t).getOrDie(),u=Lr(ve.none()),s=r.blocker(),c=n.getSystem().build(de(de({},s),{components:s.components.concat([Ps(t)]),behaviours:Gl([Ly.config({}),Ty("dialog-blocker-events",[$i(Yo(),function(){my.focusIn(t)}),zi(i,function(e,n){Ra(t.element(),"aria-busy")&&(Pa(t.element(),"aria-busy"),u.get().each(function(e){return Ey.remove(t,e)}))}),zi(o,function(e,n){Aa(t.element(),"aria-busy","true");var r=n.event().getBusySpec();u.get().each(function(e){Ey.remove(t,e)});var o=r(t,a),i=e.getSystem().build(o);u.set(ve.some(i)),Ey.append(t,Ps(i)),i.hasConfigured(my)&&my.focusIn(i)})])])}));Gp(n,c),my.focusIn(t)},s=function(e){ca(e.element()).each(function(t){e.getSystem().getByDom(t).each(function(e){Yp(e)})})},c=function(t){return Km(t,e,"body")},l=function(t){return Km(t,e,"footer")},f=function(e,t){Di(e,o,{getBusySpec:t})},d=function(e){Ai(e,i)},p=qa("modal-events"),h=de(de({},e.eventOrder),{"alloy.system.attached":[p].concat(e.eventOrder["alloy.system.attached"]||[])});return{uid:e.uid,dom:e.dom,components:t,apis:{show:u,hide:s,getBody:c,getFooter:l,setIdle:d,setBusy:f},eventOrder:h,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:im(e.modalBehaviours,[Ey.config({}),my.config({mode:"cyclic",onEnter:e.onExecute,onEscape:e.onEscape,useTabstopAt:e.useTabstopAt}),Ty(p,[Xi(function(t){yq(t.element(),Km(t,e,"title").element()),bq(t.element(),Km(t,e,"body").element())})])])}},Sq=pg({name:"ModalDialog",configFields:wq(),partFields:_q(),factory:Cq,apis:{show:function(e,t){e.show(t)},hide:function(e,t){e.hide(t)},getBody:function(e,t){return e.getBody(t)},getFooter:function(e,t){return e.getFooter(t)},setBusy:function(e,t,n){e.setBusy(t,n)},setIdle:function(e,t){e.setIdle(t)}}}),Eq=Rn([pr("type"),pr("name")].concat(f_)),kq=ir,Tq=[Fn("name","name",Jt(function(){return qa("button-name")}),or),Cr("icon"),Dr("align","end",["start","end"]),Mr("primary",!1),Mr("disabled",!1)],Nq=o(Tq,[pr("text")]),Oq=o([hr("type",["submit","cancel","custom"])],Nq),Aq=o([hr("type",["menu"]),Cr("text"),Cr("tooltip"),Cr("icon"),yr("items",Eq)],Tq),Dq=er("type",{submit:Oq,cancel:Oq,custom:Oq,menu:Aq}),Mq=[pr("type"),pr("text"),hr("level",["info","warn","error","success"]),pr("icon"),Tr("url","")],Iq=Rn(Mq),Rq=function(e){return[pr("type"),e]},Pq=[pr("type"),pr("text"),Mr("disabled",!1),Mr("primary",!1),Fn("name","name",Jt(function(){return qa("button-name")}),or),Cr("icon"),Mr("borderless",!1)],Lq=Rn(Pq),jq=[pr("type"),pr("name"),pr("label"),Mr("disabled",!1)],Bq=Rn(jq),zq=ir,Fq=[pr("type"),pr("name")],Hq=Fq.concat([Cr("label")]),Uq=Hq,Vq=Rn(Uq),qq=or,Wq=Hq,Gq=Rn(Wq),$q=or,Xq=Hq,Yq=Rn(Xq),Kq=function(){return Pn(Vn)}(),Jq=function(e){return[pr("type"),dr("columns"),e]},Qq=Hq.concat([Mr("sandboxed",!0)]),Zq=Rn(Qq),eW=or,tW=Hq.concat([Cr("inputMode"),Cr("placeholder"),Mr("maximized",!1),Mr("disabled",!1)]),nW=Rn(tW),rW=or,oW=Hq.concat([br("items",[pr("text"),pr("value")]),Or("size",1),Mr("disabled",!1)]),iW=Rn(oW),aW=or,uW=Hq.concat([Mr("constrain",!0),Mr("disabled",!1)]),sW=Rn(uW),cW=Rn([pr("width"),pr("height")]),lW=Hq.concat([Cr("placeholder"),Mr("maximized",!1),Mr("disabled",!1)]),fW=Rn(lW),dW=or,pW=Hq.concat([Dr("filetype","file",["image","media","file"]),Tr("disabled",!1)]),hW=Rn(pW),mW=Rn([pr("value"),Tr("meta",{})]),gW=Fq.concat([Ar("tag","textarea"),pr("scriptId"),pr("scriptUrl"),function(e,t){return Nr(e,t,sr)}("settings",void 0)]),vW=Fq.concat([Ar("tag","textarea"),mr("init")]),bW=Gn(function(e){return Yn("customeditor.old",In(vW),e).orThunk(function(){return Yn("customeditor.new",In(gW),e)})}),yW=or,wW=[pr("type"),pr("html"),Dr("presets","presentation",["presentation","document"])],xW=Rn(wW),_W=Hq.concat([fr("currentState",Rn([lr("blob"),pr("url")]))]),CW=Rn(_W),SW=Hq.concat([Tr("columns","auto")]),EW=Rn(SW),kW=qn([pr("value"),pr("text"),pr("icon")]),TW=function(e){return[pr("type"),pr("label"),e]},NW=[pr("type"),yr("header",or),yr("cells",Pn(or))],OW=Rn(NW),AW=function(e){return Fn("items","items",Yt(),Pn(Gn(function(t){return Yn("Checking item of "+e,DW,t).fold(function(e){return lt.error(Qn(e))},function(e){return lt.value(e)})})))},DW=Wn(function(){return Zn("type",{alertbanner:Iq,bar:Rn(Rq(AW("bar"))),button:Lq,checkbox:Bq,colorinput:Vq,colorpicker:Gq,dropzone:Yq,grid:Rn(Jq(AW("grid"))),iframe:Zq,input:nW,selectbox:iW,sizeinput:sW,textarea:fW,urlinput:hW,customeditor:bW,htmlpanel:xW,imagetools:CW,collection:EW,label:Rn(TW(AW("label"))),table:OW,panel:IW})}),MW=[pr("type"),Tr("classes",[]),yr("items",DW)],IW=Rn(MW),RW=[Fn("name","name",Jt(function(){return qa("tab-name")}),or),pr("title"),yr("items",DW)],PW=[pr("type"),br("tabs",RW)],LW=Rn(PW),jW=Nq,BW=Dq,zW=Rn([pr("title"),fr("body",Zn("type",{panel:IW,tabpanel:LW})),Ar("size","normal"),yr("buttons",BW),Tr("initialData",{}),Ir("onAction",te),Ir("onChange",te),Ir("onSubmit",te),Ir("onClose",te),Ir("onCancel",te),Tr("onTabChange",te)]),FW=function(e){return Yn("dialog",zW,e)},HW=function(e){return _e(e)?[e].concat(Je(It(e),HW)):Ce(e)?Je(e,HW):[]},UW=function(e){return xe(e.type)&&xe(e.name)},VW={checkbox:zq,colorinput:qq,colorpicker:$q,dropzone:Kq,input:rW,iframe:eW,sizeinput:cW,selectbox:aW,size:cW,textarea:dW,urlinput:mW,customeditor:yW,collection:kW,togglemenuitem:kq},qW=function(e){return ve.from(VW[e.type])},WW=function(e){return qe(HW(e),UW)},GW=function(e){var t=WW(e),n=Je(t,function(e){return qW(e).fold(function(){return[]},function(t){return[fr(e.name,t)]})});return Rn(n)},$W=Rn(o([hr("type",["cancel","custom"])],jW)),XW=Rn([pr("title"),pr("url"),_r("height"),_r("width"),function(e,t){return xr(e,Pn(t))}("buttons",$W),Ir("onAction",te),Ir("onCancel",te),Ir("onClose",te),Ir("onMessage",te)]),YW=function(e){return Yn("dialog",XW,e)},KW=function(e){return{internalDialog:Kn(FW(e)),dataValidator:GW(e),initialData:e.initialData}},JW={open:function(e,t){var n=KW(t);return e(n.internalDialog,n.initialData,n.dataValidator)},openUrl:function(e,t){return e(Kn(YW(t)))},redial:function(e){return KW(e)}},QW=function(e){var t=[],n={};return Et(e,function(e,r){e.fold(function(){t.push(r)},function(e){n[r]=e})}),t.length>0?lt.error(t):lt.value(n)},ZW=function(e,n){var r=Qw(KA.sketch(function(t){return{dom:{tag:"div",classes:["tox-form"].concat(e.classes)},components:Fe(e.items,function(e){return kR(t,e,n)})}}));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[r.asSpec()]}],behaviours:Gl([my.config({mode:"acyclic",useTabstopAt:ue(MD)}),aD.memento(r),xD.memento(r,{postprocess:function(e){return QW(e).fold(function(e){return t.console.error(e),{}},function(e){return e})}})])}},eG=function(e,t){return{uid:e.uid,dom:e.dom,components:e.components,events:nw(e.action),behaviours:im(e.tabButtonBehaviours,[Ly.config({}),my.config({mode:"execution",useSpace:!0,useEnter:!0}),nm.config({store:{mode:"memory",initialValue:e.value}})]),domModification:e.domModification}},tG=dg({name:"TabButton",configFields:[Tr("uid",void 0),lr("value"),Fn("dom","dom",Qt(function(){return{attributes:{role:"tab",id:qa("aria"),"aria-selected":"false"}}}),tr()),wr("action"),Tr("domModification",{}),rm("tabButtonBehaviours",[Ly,my,nm]),lr("view")],factory:eG}),nG=ie([lr("tabs"),lr("dom"),Tr("clickToDismiss",!1),rm("tabbarBehaviours",[Ug,my]),Gc(["tabClass","selectedClass"])]),rG=jm({factory:tG,name:"tabs",unit:"tab",overrides:function(e){var t=function(e,t){Ug.dehighlight(e,t),Di(e,Ti(),{tabbar:e,button:t})},n=function(e,t){Ug.highlight(e,t),Di(e,ki(),{tabbar:e,button:t})};return{action:function(r){var o=r.getSystem().getByUid(e.uid).getOrDie(),i=Ug.isHighlighted(o,r);!function(){return i&&e.clickToDismiss?t:i?te:n}()(o,r)},domModification:{classes:[e.markers.tabClass]}}}}),oG=ie([rG]),iG=function(e,t,n,r){return{uid:e.uid,dom:e.dom,components:t,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:im(e.tabbarBehaviours,[Ug.config({highlightClass:e.markers.selectedClass,itemClass:e.markers.tabClass,onHighlight:function(e,t){Aa(t.element(),"aria-selected","true")},onDehighlight:function(e,t){Aa(t.element(),"aria-selected","false")}}),my.config({mode:"flow",getInitial:function(e){return Ug.getHighlighted(e).map(function(e){return e.element()})},selector:"."+e.markers.tabClass,executeOnMove:!0})])}},aG=pg({name:"Tabbar",configFields:nG(),partFields:oG(),factory:iG}),uG=function(e,t){return{uid:e.uid,dom:e.dom,behaviours:im(e.tabviewBehaviours,[Ey.config({})]),domModification:{attributes:{role:"tabpanel"}}}},sG=dg({name:"Tabview",configFields:[rm("tabviewBehaviours",[Ey])],factory:uG}),cG=ie([Tr("selectFirst",!0),Xc("onChangeTab"),Xc("onDismissTab"),Tr("tabs",[]),rm("tabSectionBehaviours",[])]),lG=Rm({factory:aG,schema:[lr("dom"),vr("markers",[lr("tabClass"),lr("selectedClass")])],name:"tabbar",defaults:function(e){return{tabs:e.tabs}}}),fG=Rm({factory:sG,name:"tabview"}),dG=ie([lG,fG]),pG=function(e,t,n,r){var o=function(t){var n=nm.getValue(t);Ym(t,e,"tabview").each(function(r){Xe(e.tabs,function(e){return e.value===n}).each(function(n){var o=n.view();Ia(t.element(),"id").each(function(e){Aa(r.element(),"aria-labelledby",e)}),Ey.set(r,o),e.onChangeTab(r,t,o)})})},i=function(t,n){Ym(t,e,"tabbar").each(function(e){n(e).each(Mi)})};return{uid:e.uid,dom:e.dom,components:t,behaviours:om(e.tabSectionBehaviours),events:Li(Ke([e.selectFirst?[Xi(function(e,t){i(e,Ug.getFirst)})]:[],[zi(ki(),function(e,t){var n=t.event().button();o(n)}),zi(Ti(),function(t,n){var r=n.event().button();e.onDismissTab(t,r)})]])),apis:{getViewItems:function(t){return Ym(t,e,"tabview").map(function(e){return Ey.contents(e)}).getOr([])},showTab:function(e,t){i(e,function(e){var n=Ug.getCandidates(e);return Xe(n,function(e){return nm.getValue(e)===t}).filter(function(t){return!Ug.isHighlighted(e,t)})})}}}},hG=pg({name:"TabSection",configFields:cG(),partFields:dG(),factory:pG,apis:{getViewItems:function(e,t){return e.getViewItems(t)},showTab:function(e,t,n){e.showTab(t,n)}}}),mG=function(e,t,n){return Fe(e,function(r,o){Ey.set(n,e[o].view());var i=t.dom().getBoundingClientRect();return Ey.set(n,[]),i.height})},gG=function(e){return rt(nt(e,function(e,t){return e>t?-1:e<t?1:0}))},vG=function(e,n,r){var o,i=ua(e).dom(),a=Ec(e,".tox-dialog-wrap").getOr(e),u="fixed"===ps(a,"position");o=u?Math.max(i.clientHeight,t.window.innerHeight):Math.max(i.offsetHeight,i.scrollHeight);var s=js(n),c=n.dom().offsetLeft>=r.dom().offsetLeft+Xs(r),l=c?Math.max(js(r),s):s,f=parseInt(ps(e,"margin-top"),10)||0,d=parseInt(ps(e,"margin-bottom"),10)||0;return o-(js(e)+f+d-l)},bG=function(e,t){rt(e).each(function(e){return hG.showTab(t,e.value)})},yG=function(e,t){ls(e,"height",t+"px"),_o().browser.isIE()?bs(e,"flex-basis"):ls(e,"flex-basis",t+"px")},wG=function(e,t,n){Ec(e,'[role="dialog"]').each(function(e){kc(e,'[role="tablist"]').each(function(r){n.get().map(function(n){return ls(t,"height","0"),ls(t,"flex-basis","0"),Math.min(n,vG(e,t,r))}).each(function(e){yG(t,e)})})})},xG=function(e){return kc(e,'[role="tabpanel"]')},_G=function(e){return{smartTabHeight:function(){var t=Lr(ve.none());return{extraEvents:[Xi(function(n){var r=n.element();xG(r).each(function(o){ls(o,"visibility","hidden"),n.getSystem().getByDom(o).toOption().each(function(n){var r=mG(e,o,n),i=gG(r);t.set(i)}),wG(r,o,t),bs(o,"visibility"),bG(e,n),Yw.requestAnimationFrame(function(){wG(r,o,t)})})}),zi(yi(),function(e){var n=e.element();xG(n).each(function(e){wG(n,e,t)})}),zi(uT,function(e,n){var r=e.element();xG(r).each(function(e){var n=lf();ls(e,"visibility","hidden");var o=ms(e,"height").map(function(e){return parseInt(e,10)});bs(e,"height"),bs(e,"flex-basis");var i=e.dom().getBoundingClientRect().height;o.forall(function(e){return i>e})?(t.set(ve.from(i)),wG(r,e,t)):o.each(function(t){yG(e,t)}),bs(e,"visibility"),n.each(uf)})})],selectFirst:!1}}(),naiveTabHeight:function(){return{extraEvents:[],selectFirst:!0}}()}},CG=function(e,t){var n=Lr({}),r=function(e){var t=nm.getValue(e),r=QW(t).getOr({}),o=n.get(),i=Vt(o,r);n.set(i)},o=function(e){var t=n.get();nm.setValue(e,t)},i=Lr(null),a=Fe(e.tabs,function(e){return{value:e.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"],innerHtml:t.shared.providers.translate(e.title)},view:function(){return[KA.sketch(function(n){return{dom:{tag:"div",classes:["tox-form"]},components:Fe(e.items,function(e){return kR(n,e,t)}),formBehaviours:Gl([my.config({mode:"acyclic",useTabstopAt:ue(MD)}),Ty("TabView.form.events",[Xi(o),Yi(r)]),nf.config({channels:an([{key:"send-data-to-section",value:{onReceive:r}},{key:"send-data-to-view",value:{onReceive:o}}])})])}})]}}}),u=_G(a).smartTabHeight;return hG.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:function(e,t,n){var r=nm.getValue(t);Di(e,aT,{name:r,oldName:i.get()}),i.set(r)},tabs:a,components:[hG.parts().tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[aG.parts().tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:Gl([Gk.config({})])}),hG.parts().tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:u.selectFirst,tabSectionBehaviours:Gl([Ty("tabpanel",u.extraEvents),my.config({mode:"acyclic"}),_g.config({find:function(e){return rt(hG.getViewItems(e))}}),nm.config({store:{mode:"manual",getValue:function(e){return e.getSystem().broadcastOn(["send-data-to-section"],{}),n.get()},setValue:function(e,t){n.set(t),e.getSystem().broadcastOn(["send-data-to-view"],{})}}})])})},SG=qa("update-dialog"),EG=qa("update-title"),kG=qa("update-body"),TG=qa("update-footer"),NG=qa("body-send-message"),OG=function(e,t,n,r){var o=function(e){switch(e.body.type){case"tabpanel":return[CG(e.body,n)];default:return[ZW(e.body,n)]}},i=function(e,t){return ve.some({isTabPanel:function(){return"tabpanel"===t.body.type}})},a={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:de(de({},t.map(function(e){return{id:e}}).getOr({})),r?a:{})},components:[],behaviours:Gl([aD.childAt(0),Uj.config({channel:kG,updateState:i,renderComponents:o,initialData:e})])}},AG=function(e,t,n,r){return OG(e,ve.some(t),n,r)},DG=function(e,t){var n=OG(e,ve.none(),t,!1);return Sq.parts().body(n)},MG=function(e){var t={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[OD({dom:{tag:"iframe",attributes:{src:e.url}},behaviours:Gl([Gk.config({}),Ly.config({})])})]}],behaviours:Gl([my.config({mode:"acyclic",useTabstopAt:ue(MD)})])};return Sq.parts().body(t)},IG=cS.deviceType.isTouch(),RG=function(e,t){return{dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[e,t]}},PG=function(e,t){return Sq.parts().close(Jw.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close")}},action:e,buttonBehaviours:Gl([Gk.config({})])}))},LG=function(){return Sq.parts().title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}})},jG=function(e,t){return Sq.parts().body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:aH("<p>"+t.translate(e)+"</p>")}]}]})},BG=function(e){return Sq.parts().footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:e})},zG=function(e,t){return[Lk.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:e}),Lk.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:t})]},FG=function(e){var t;return Sq.sketch({lazySink:e.lazySink,onEscape:function(t){return e.onEscape(t),ve.some(!0)},useTabstopAt:function(e){return!MD(e)},dom:{tag:"div",classes:["tox-dialog"].concat(e.extraClasses),styles:de({position:"relative"},e.extraStyles)},components:o([e.header,e.body],e.footer.toArray()),parts:{blocker:{dom:aH('<div class="tox-dialog-wrap"></div>'),components:[{dom:{tag:"div",classes:IG?["tox-dialog-wrap__backdrop","tox-dialog-wrap__backdrop--opaque"]:["tox-dialog-wrap__backdrop"]}}]}},dragBlockClass:"tox-dialog-wrap",modalBehaviours:Gl(o([Ly.config({}),Ty("dialog-events",e.dialogEvents.concat([$i(Yo(),function(e,t){my.focusIn(e)})])),Ty("scroll-lock",[Xi(function(){Vu(as(),"tox-dialog__disable-scroll")}),Yi(function(){Wu(as(),"tox-dialog__disable-scroll")})])],e.extraBehaviours)),eventOrder:de((t={},t[ci()]=["dialog-events"],t[wi()]=["scroll-lock","dialog-events","alloy.base.behaviour"],t[xi()]=["alloy.base.behaviour","dialog-events","scroll-lock"],t),e.eventOrder)})},HG=function(e){return Jw.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":e.translate("Close"),title:e.translate("Close")}},components:[{dom:{tag:"div",classes:["tox-icon"],innerHtml:'<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M17.953 7.453L13.422 12l4.531 4.547-1.406 1.406L12 13.422l-4.547 4.531-1.406-1.406L10.578 12 6.047 7.453l1.406-1.406L12 10.578l4.547-4.531z" fill-rule="evenodd"></path></svg>'}}],action:function(e){Ai(e,tT)}})},UG=function(e,t,n){var r=function(e){return[Ds(n.translate(e.title))]};return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:de({},t.map(function(e){return{id:e}}).getOr({}))},components:r(e),behaviours:Gl([Uj.config({channel:EG,renderComponents:r})])}},VG=function(){return{dom:aH('<div class="tox-dialog__draghandle"></div>')}},qG=function(e,t,n){return Lk.sketch({dom:aH('<div class="tox-dialog__header"></div>'),components:[UG(e,ve.some(t),n),VG(),HG(n)],containerBehaviours:Gl([aq.config({mode:"mouse",blockerClass:"blocker",getTarget:function(e){return Tc(e,'[role="dialog"]').getOrDie()},snaps:{getSnapPoints:function(){return[]},leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])})},WG=function(e,t){var n=Sq.parts().title(UG(e,ve.none(),t)),r=Sq.parts().draghandle(VG()),o=Sq.parts().close(HG(t)),i=[n].concat(e.draggable?[r]:[]).concat([o]);return Lk.sketch({dom:aH('<div class="tox-dialog__header"></div>'),components:i})},GG=function(e,t){return WG({title:t.shared.providers.translate(e),draggable:t.dialog.isDraggableModal()},t.shared.providers)},$G=function(e,t){return{onClose:function(){return t.closeWindow()},onBlock:function(t){Sq.setBusy(e(),function(e,n){return{dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":t.message()},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:n,components:[{dom:aH('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}})},onUnblock:function(){Sq.setIdle(e())}}},XG=function(e,t,n,r){var i,a=function(e,t){return ve.some(t)};return Rs(FG(de(de({},e),{lazySink:r.shared.getSink,extraBehaviours:o([Uj.config({channel:SG,updateState:a,initialData:t}),xD.memory({})],e.extraBehaviours),onEscape:function(e){Ai(e,tT)},dialogEvents:n,eventOrder:(i={},i[si()]=["reflecting","receiving"],i[wi()]=["scroll-lock","reflecting","messages","dialog-events","alloy.base.behaviour"],i[xi()]=["alloy.base.behaviour","dialog-events","messages","reflecting","scroll-lock"],i)})))},YG=function(e){var t=function(e){var t=Fe(e.items,function(e){var t=Lr(!1);return de(de({},e),{storage:t})});return de(de({},e),{items:t})};return Fe(e,function(e){return"menu"===e.type?t(e):e})},KG=function(e){return Ge(e,function(e,t){if("menu"===t.type){return Ge(t.items,function(e,t){return e[t.name]=t.storage,e},e)}return e},{})},JG=function(e,t){return[qi(Yo(),DD),e(eT,function(e,n){t.onClose(),n.onClose()}),e(tT,function(e,t,n,r){t.onCancel(e),Ai(r,eT)}),zi(iT,function(e,n){return t.onUnblock()}),zi(oT,function(e,n){return t.onBlock(n.event())})]},QG=function(e,t){var n=function(t,n){return zi(t,function(t,o){r(t,function(r,i){n(e(),r,o.event(),t)})})},r=function(e,t){Uj.getState(e).get().each(function(n){t(n,e)})};return o(JG(n,t),[n(nT,function(e,t,n){t.onAction(e,{name:n.name()})})])},ZG=function(e,t,n){var r=function(t,n){return zi(t,function(t,r){i(t,function(o,i){n(e(),o,r.event(),t)})})},i=function(e,t){Uj.getState(e).get().each(function(n){t(n.internalDialog,e)})};return o(JG(r,t),[r(rT,function(e,t){return t.onSubmit(e)}),r(Zk,function(e,t,n){t.onChange(e,{name:n.name()})}),r(nT,function(e,t,r,o){var i=function(){return my.focusIn(o)},a=function(e){return Ra(e,"disabled")||Ia(e,"aria-disabled").exists(function(e){return"true"===e})},u=lf();t.onAction(e,{name:r.name(),value:r.value()}),lf().fold(i,function(e){a(e)?i():u.exists(function(t){return Ao(e,t)&&a(t)})?i():n().toOption().filter(function(t){return!Ao(t.element(),e)}).each(i)})}),r(aT,function(e,t,n){t.onTabChange(e,{newTabName:n.name(),oldTabName:n.oldName()})}),Yi(function(t){var n=e();nm.setValue(t,n.getData())})])},e$={initUrlDialog:QG,initDialog:ZG},t$=function(e,t){return MM(e,e.type,t)},n$=function(e,t,n){return Xe(t,function(e){return e.name===n}).bind(function(t){return t.memento.getOpt(e)})},r$=function(e,t){var n=t.map(function(e){return e.footerButtons}).getOr([]),r=Ve(n,function(e){return"start"===e.align}),o=function(e,t){return Lk.sketch({dom:{tag:"div",classes:["tox-dialog__footer-"+e]},components:Fe(t,function(e){return e.memento.asSpec()})})};return[o("start",r.pass),o("end",r.fail)]},o$=function(e,t){var n=function(e,n){var r=Fe(n.buttons,function(e){var n=Qw(t$(e,t));return{name:e.name,align:e.align,memento:n}}),o=function(e,t){return n$(e,r,t)};return ve.some({lookupByName:o,footerButtons:r})};return{dom:aH('<div class="tox-dialog__footer"></div>'),components:[],behaviours:Gl([Uj.config({channel:TG,initialData:e,updateState:n,renderComponents:r$})])}},i$=function(e,t){return o$(e,t)},a$=function(e,t){return Sq.parts().footer(o$(e,t))},u$=function(e,t){if(e.getRoot().getSystem().isConnected()){var n=_g.getCurrent(e.getFormWrapper()).getOr(e.getFormWrapper());return KA.getField(n,t).fold(function(){var r=e.getFooter();return Uj.getState(r).get().bind(function(e){return e.lookupByName(n,t)})},function(e){return ve.some(e)})}return ve.none()},s$=function(e,t){var n=e.getRoot();return Uj.getState(n).get().map(function(e){return Kn(Yn("data",e.dataValidator,t))}).getOr(t)},c$=function(e,t,n){var r=function(t){var n=e.getRoot();n.getSystem().isConnected()&&t(n)},o=function(){var t=e.getRoot(),r=t.getSystem().isConnected()?e.getFormWrapper():t,o=nm.getValue(r),i=kt(n,function(e){return e.get()});return de(de({},o),i)},i=function(t){r(function(r){var o=h.getData(),i=de(de({},o),t),a=s$(e,i),u=e.getFormWrapper();nm.setValue(u,a),Et(n,function(e,t){Pt(i,t)&&e.set(i[t])})})},a=function(t){u$(e,t).each(iC.disable)},u=function(t){u$(e,t).each(iC.enable)},s=function(t){u$(e,t).each(Ly.focus)},c=function(e){if(!xe(e))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");r(function(t){Di(t,oT,{message:e})})},l=function(){r(function(e){Ai(e,iT)})},f=function(t){r(function(n){var r=e.getBody();Uj.getState(r).get().exists(function(e){return e.isTabPanel()})&&_g.getCurrent(r).each(function(e){hG.showTab(e,t)})})},d=function(e){r(function(n){var r=t(e);n.getSystem().broadcastOn([SG],r),n.getSystem().broadcastOn([EG],r.internalDialog),n.getSystem().broadcastOn([kG],r.internalDialog),n.getSystem().broadcastOn([TG],r.internalDialog),h.setData(r.initialData)})},p=function(){r(function(e){Ai(e,eT)})},h={getData:o,setData:i,disable:a,enable:u,focus:s,block:c,unblock:l,showTab:f,redial:d,close:p};return h},l$=function(e,t,n){var r=GG(e.internalDialog.title,n),o=DG({body:e.internalDialog.body},n),i=YG(e.internalDialog.buttons),a=KG(i),u=a$({buttons:i},n),s=e$.initDialog(function(){return p},$G(function(){return f},t),n.shared.getSink),c="normal"!==e.internalDialog.size?"large"===e.internalDialog.size?["tox-dialog--width-lg"]:["tox-dialog--width-md"]:[],l={header:r,body:o,footer:ve.some(u),extraClasses:c,extraBehaviours:[],extraStyles:{}},f=XG(l,e,s,n),d=function(){var e=function(){var e=Sq.getBody(f);return _g.getCurrent(e).getOr(e)};return{getRoot:function(){return f},getBody:function(){return Sq.getBody(f)},getFooter:function(){return Sq.getFooter(f)},getFormWrapper:e}}(),p=c$(d,t.redial,a);return{dialog:f,instanceApi:p}},f$=function(e,t,n,r){var o,i,a=qa("dialog-label"),u=qa("dialog-content"),s=function(e,t){return ve.some(t)},c=Qw(qG({title:e.internalDialog.title,draggable:!0},a,n.shared.providers)),l=Qw(AG({body:e.internalDialog.body},u,n,r)),f=YG(e.internalDialog.buttons),d=KG(f),p=Qw(i$({buttons:f},n)),h=e$.initDialog(function(){return g},{onBlock:function(){},onUnblock:function(){},onClose:function(){return t.closeWindow()}},n.shared.getSink),m=Rs({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline"],attributes:(o={role:"dialog"},o["aria-labelledby"]=a,o["aria-describedby"]=""+u,o)},eventOrder:(i={},i[si()]=[Uj.name(),nf.name()],i[ci()]=["execute-on-form"],i[wi()]=["reflecting","execute-on-form"],i),behaviours:Gl([my.config({mode:"cyclic",onEscape:function(e){return Ai(e,eT),ve.some(!0)},useTabstopAt:function(e){return!MD(e)&&("button"!==Qi(e)||"disabled"!==Ma(e,"disabled"))}}),Uj.config({channel:SG,updateState:s,initialData:e}),Ly.config({}),Ty("execute-on-form",h.concat([$i(Yo(),function(e,t){my.focusIn(e)})])),xD.memory({})]),components:[c.asSpec(),l.asSpec(),p.asSpec()]}),g=c$({getRoot:function(){return m},getFooter:function(){return p.get(m)},getBody:function(){return l.get(m)},getFormWrapper:function(){var e=l.get(m);return _g.getCurrent(e).getOr(e)}},t.redial,d);return{dialog:m,instanceApi:g}},d$=tinymce.util.Tools.resolve("tinymce.util.URI"),p$=function(e){var t=function(t){e.getSystem().isConnected()&&t(e)};return{block:function(e){if(!xe(e))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");t(function(t){Di(t,oT,{message:e})})},unblock:function(){t(function(e){Ai(e,iT)})},close:function(){t(function(e){Ai(e,eT)})},sendMessage:function(e){t(function(t){t.getSystem().broadcastOn([NG],e)})}}},h$=["insertContent","setContent","execCommand","close","block","unblock"],m$=function(e){return _e(e)&&-1!==h$.indexOf(e.mceAction)},g$=function(e){return!m$(e)&&_e(e)&&Pt(e,"mceAction")},v$=function(e,t,n){switch(n.mceAction){case"insertContent":e.insertContent(n.content);break;case"setContent":e.setContent(n.content);break;case"execCommand":var r=!!Se(n.ui)&&n.ui;e.execCommand(n.cmd,r,n.value);break;case"close":t.close();break;case"block":t.block(n.message);break;case"unblock":t.unblock()}},b$=function(e,n,r,o){var i,a=GG(e.title,o),u=MG(e),s=e.buttons.bind(function(e){return 0===e.length?ve.none():ve.some(a$({buttons:e},o))}),c=e$.initUrlDialog(function(){return b},$G(function(){return v},n)),l=de(de({},e.height.fold(function(){return{}},function(e){return{height:e+"px","max-height":e+"px"}})),e.width.fold(function(){return{}},function(e){return{width:e+"px","max-width":e+"px"}})),f=e.width.isNone()&&e.height.isNone()?["tox-dialog--width-lg"]:[],d=new d$(e.url,{base_uri:new d$(t.window.location.href)}),p=d.protocol+"://"+d.host+(d.port?":"+d.port:""),h=Lr(ve.none()),m=[Ty("messages",[Xi(function(){var n=lk(Ur.fromDom(t.window),"message",function(t){if(d.isSameOrigin(new d$(t.raw().origin))){var n=t.raw().data;m$(n)?v$(r,b,n):g$(n)&&e.onMessage(b,n)}});h.set(ve.some(n))}),Yi(function(){h.get().each(function(e){return e.unbind()})})]),nf.config({channels:(i={},i[NG]={onReceive:function(e,t){kc(e.element(),"iframe").each(function(e){e.dom().contentWindow.postMessage(t,p)})}},i)})],g={header:a,body:u,footer:s,extraClasses:f,extraBehaviours:m,extraStyles:l},v=XG(g,e,c,o),b=p$(v);return{dialog:v,instanceApi:b}},y$=function(e){var t=e.backstage.shared;return{open:function(n,r){var o=function(){Sq.hide(s),r()},i=Qw(MM({name:"close-alert",text:"OK",primary:!0,align:"end",disabled:!1,icon:ve.none()},"cancel",e.backstage)),a=LG(),u=PG(o,t.providers),s=Rs(FG({lazySink:function(){return t.getSink()},header:RG(a,u),body:jG(n,t.providers),footer:ve.some(BG(zG([],[i.asSpec()]))),onEscape:o,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[zi(tT,o)],eventOrder:{}}));Sq.show(s);var c=i.get(s);Ly.focus(c)}}},w$=function(e){var t=e.backstage.shared;return{open:function(n,r){var o=function(e){Sq.hide(c),r(e)},i=Qw(MM({name:"yes",text:"Yes",primary:!0,align:"end",disabled:!1,icon:ve.none()},"submit",e.backstage)),a=MM({name:"no",text:"No",primary:!1,align:"end",disabled:!1,icon:ve.none()},"cancel",e.backstage),u=LG(),s=PG(function(){return o(!1)},t.providers),c=Rs(FG({lazySink:function(){return t.getSink()},header:RG(u,s),body:jG(n,t.providers),footer:ve.some(BG(zG([],[a,i.asSpec()]))),onEscape:function(){return o(!1)},extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[zi(tT,function(){return o(!1)}),zi(rT,function(){return o(!0)})],eventOrder:{}}));Sq.show(c);var l=i.get(c);Ly.focus(l)}}},x$=function(e,t){return Kn(Yn("data",t,e))},_$=function(e){return pk(e,".tox-alert-dialog")||pk(e,".tox-confirm-dialog")},C$=function(e,t,n){return t&&n?[]:[yF.config({contextual:{lazyContext:function(){return ve.some(bc(Ur.fromDom(e.getContentAreaContainer())))},fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"]})]},S$=function(e){var t=e.backstage,n=e.editor,r=RC(n),i=y$(e),a=w$(e),u=function(e,n,r){return void 0!==n&&"toolbar"===n.inline?f(e,t.shared.anchors.inlineDialog(),r,n.ariaAttrs):void 0!==n&&"cursor"===n.inline?f(e,t.shared.anchors.cursor(),r,n.ariaAttrs):l(e,r)},s=function(e,t){return c(e,t)},c=function(e,r){var o=function(e){var o=b$(e,{closeWindow:function(){Sq.hide(o.dialog),r(o.instanceApi)}},n,t);return Sq.show(o.dialog),o.instanceApi};return JW.openUrl(o,e)},l=function(e,n){var r=function(e,r,o){var i=r,a={dataValidator:o,initialData:i,internalDialog:e},u=l$(a,{redial:JW.redial,closeWindow:function(){Sq.hide(u.dialog),n(u.instanceApi)}},t);return Sq.show(u.dialog),u.instanceApi.setData(i),u.instanceApi};return JW.open(r,e)},f=function(e,i,a,u){var s=function(e,s,c){var l=x$(s,c),f=zH(),d=t.shared.header.isPositionedAtTop(),p={dataValidator:c,initialData:l,internalDialog:e},h=function(){return f.on(function(e){jw.reposition(e),yF.refresh(e)})},m=f$(p,{redial:JW.redial,closeWindow:function(){f.on(jw.hide),n.off("ResizeEditor",h),f.clear(),a(m.instanceApi)}},t,u),g=Rs(jw.sketch(de(de({lazySink:t.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{}},d?{}:{fireRepositionEventInstead:{}}),{inlineBehaviours:Gl(o([Ty("window-manager-inline-events",[zi(_i(),function(e,t){Ai(m.dialog,tT)})])],C$(n,r,d))),isExtraPart:function(e,t){return _$(t)}})));return f.set(g),jw.showWithin(g,i,Ps(m.dialog),ve.some(as())),r&&d||(yF.refresh(g),n.on("ResizeEditor",h)),m.instanceApi.setData(l),my.focusIn(m.dialog),m.instanceApi};return JW.open(s,e)},d=function(e,t){a.open(e,function(e){t(e)})};return{open:u,openUrl:s,alert:function(e,t){i.open(e,function(){t()})},close:function(e){e.close()},confirm:d}};!function(){fe.add("silver",function(e){var t=vq(e),n=t.uiMothership,r=t.backstage,o=t.renderUI,i=t.getUi;sk.register(e,r.shared);var a=S$({editor:e,backstage:r});return{renderUI:o,getWindowManagerImpl:ie(a),getNotificationManagerImpl:function(){return s(e,{backstage:r},n)},ui:i()}})}()}(window)}).call(t,n(0))},function(e,t,n){n(43)},function(e,t){!function(e){"use strict";function t(t){var n=function(n,r,o,i){var a=new e.XMLHttpRequest;a.open("POST",t.url),a.withCredentials=t.credentials,a.upload.onprogress=function(e){i(e.loaded/e.total*100)},a.onerror=function(){o("Image upload failed due to a XHR Transport error. Code: "+a.status)},a.onload=function(){if(a.status<200||a.status>=300)return void o("HTTP Error: "+a.status);var e=JSON.parse(a.responseText);if(!e||"string"!=typeof e.location)return void o("Invalid JSON: "+a.responseText);r(ct(t.basePath,e.location))};var u=new e.FormData;u.append("file",n.blob(),n.filename()),a.send(u)},o=function(e,t){return new z(function(n,o){try{t(e,n,o,r)}catch(e){o(e.message)}})},i=function(e){return e===n},a=function(e){return!t.url&&i(t.handler)?z.reject("Upload url missing from the settings."):o(e,t.handler)};return t=et.extend({credentials:!1,handler:n},t),{upload:a}}var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),r=function(){},o=function(e){return function(){return e}},i=o(!1),a=o(!0),u=function(){return s},s=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e};return{fold:function(e,t){return e()},is:i,isSome:i,isNone:a,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:o(null),getOrUndefined:o(void 0),or:n,orThunk:t,map:u,each:r,bind:u,exists:i,forall:a,filter:u,equals:e,equals_:e,toArray:function(){return[]},toString:o("none()")}}(),c=function(e){var t=o(e),n=function(){return u},r=function(t){return t(e)},u={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:a,isNone:i,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return c(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?u:s},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(i,function(t){return n(e,t)})}};return u},l=function(e){return null===e||void 0===e?s:c(e)},f={some:c,none:u,from:l},d=function(e){var t=typeof e;return null===e?"null":"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},p=function(e){return function(t){return d(t)===e}},h=function(e){return function(t){return typeof t===e}},m=p("string"),g=p("object"),v=p("array"),b=function(e){return function(t){return e===t}}(null),y=h("boolean"),w=h("number"),x=Array.prototype.push,_=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!v(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);x.apply(t,e[n])}return t},C=function(e){return 0===e.length?f.none():f.some(e[0])},S=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return f.none()},E=Object.prototype.hasOwnProperty,k=function(e,t){return g(e)&&g(t)?T(e,t):t},T=function(e){return function(){for(var t=new Array(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];if(0===t.length)throw new Error("Can't merge zero objects");for(var r={},o=0;o<t.length;o++){var i=t[o];for(var a in i)E.call(i,a)&&(r[a]=e(r[a],i[a]))}return r}}(k),N=function(){return N=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},N.apply(this,arguments)},O=(void 0!==e.window?e.window:Function("return this;")(),function(t,n,r){if(!(m(r)||y(r)||w(r)))throw e.console.error("Invalid call to Attr.set. Key ",n,":: Value ",r,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(n,r+"")}),A=function(e,t,n){O(e.dom(),t,n)},D=function(e,t){e.dom().removeAttribute(t)},M=function(t,n){var r=n||e.document,o=r.createElement("div");if(o.innerHTML=t,!o.hasChildNodes()||o.childNodes.length>1)throw e.console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return P(o.childNodes[0])},I=function(t,n){var r=n||e.document,o=r.createElement(t);return P(o)},R=function(t,n){var r=n||e.document,o=r.createTextNode(t);return P(o)},P=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:o(e)}},L=function(e,t,n){var r=e.dom();return f.from(r.elementFromPoint(t,n)).map(P)},j={fromHtml:M,fromTag:I,fromText:R,fromDom:P,fromPoint:L},B=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),z=tinymce.util.Tools.resolve("tinymce.util.Promise"),F=tinymce.util.Tools.resolve("tinymce.util.XHR"),H=function(e){return e.getParam("image_dimensions",!0,"boolean")},U=function(e){return e.getParam("image_advtab",!1,"boolean")},V=function(e){return e.getParam("image_uploadtab",!0,"boolean")},q=function(e){return e.getParam("image_prepend_url","","string")},W=function(e){return e.getParam("image_class_list")},G=function(e){return e.getParam("image_description",!0,"boolean")},$=function(e){return e.getParam("image_title",!1,"boolean")},X=function(e){return e.getParam("image_caption",!1,"boolean")},Y=function(e){return e.getParam("image_list",!1)},K=function(e){return!!Q(e)},J=function(e){return!!Z(e)},Q=function(e){return e.getParam("images_upload_url","","string")},Z=function(e){return e.getParam("images_upload_handler",void 0,"function")},ee=function(e){return e.getParam("images_upload_base_path",void 0,"string")},te=function(e){return e.getParam("images_upload_credentials",!1,"boolean")},ne=function(e){return e.getParam("a11y_advanced_options",!1,"boolean")},re=function(e){return e.getParam("automatic_uploads",!0,"boolean")},oe=function(e,t){return Math.max(parseInt(e,10),parseInt(t,10))},ie=function(t){return new z(function(n){var r=e.document.createElement("img"),o=function(e){r.parentNode&&r.parentNode.removeChild(r),n(e)};r.onload=function(){var e=oe(r.width,r.clientWidth),t=oe(r.height,r.clientHeight),n={width:e,height:t};o(z.resolve(n))},r.onerror=function(){o(z.reject("Failed to get image dimensions for: "+t))};var i=r.style;i.visibility="hidden",i.position="fixed",i.bottom=i.left="0px",i.width=i.height="auto",e.document.body.appendChild(r),r.src=t})},ae=function(e){return e&&(e=e.replace(/px$/,"")),e},ue=function(e){return e.length>0&&/^[0-9]+$/.test(e)&&(e+="px"),e},se=function(e){if(e.margin){var t=String(e.margin).split(" ");switch(t.length){case 1:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[0],e["margin-bottom"]=e["margin-bottom"]||t[0],e["margin-left"]=e["margin-left"]||t[0];break;case 2:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[0],e["margin-left"]=e["margin-left"]||t[1];break;case 3:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[2],e["margin-left"]=e["margin-left"]||t[1];break;case 4:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[2],e["margin-left"]=e["margin-left"]||t[3]}delete e.margin}return e},ce=function(e,t){var n=Y(e);"string"==typeof n?F.send({url:n,success:function(e){t(JSON.parse(e))}}):"function"==typeof n?n(t):t(n)},le=function(e,t,n){var r=function(){n.onload=n.onerror=null,e.selection&&(e.selection.select(n),e.nodeChanged())};n.onload=function(){t.width||t.height||!H(e)||e.dom.setAttribs(n,{width:String(n.clientWidth),height:String(n.clientHeight)}),r()},n.onerror=r},fe=function(t){return new z(function(n,r){var o=new e.FileReader;o.onload=function(){n(o.result)},o.onerror=function(){r(o.error.message)},o.readAsDataURL(t)})},de=function(e){return"IMG"===e.nodeName&&(e.hasAttribute("data-mce-object")||e.hasAttribute("data-mce-placeholder"))},pe=B.DOM,he=function(e){return e.style.marginLeft&&e.style.marginRight&&e.style.marginLeft===e.style.marginRight?ae(e.style.marginLeft):""},me=function(e){return e.style.marginTop&&e.style.marginBottom&&e.style.marginTop===e.style.marginBottom?ae(e.style.marginTop):""},ge=function(e){return e.style.borderWidth?ae(e.style.borderWidth):""},ve=function(e,t){return e.hasAttribute(t)?e.getAttribute(t):""},be=function(e,t){return e.style[t]?e.style[t]:""},ye=function(e){return null!==e.parentNode&&"FIGURE"===e.parentNode.nodeName},we=function(e,t,n){""===n?e.removeAttribute(t):e.setAttribute(t,n)},xe=function(e){var t=pe.create("figure",{class:"image"});pe.insertAfter(t,e),t.appendChild(e),t.appendChild(pe.create("figcaption",{contentEditable:"true"},"Caption")),t.contentEditable="false"},_e=function(e){var t=e.parentNode;pe.insertAfter(e,t),pe.remove(t)},Ce=function(e){ye(e)?_e(e):xe(e)},Se=function(e,t){var n=e.getAttribute("style"),r=t(null!==n?n:"");r.length>0?(e.setAttribute("style",r),e.setAttribute("data-mce-style",r)):e.removeAttribute("style")},Ee=function(e,t){return function(e,n,r){e.style[n]?(e.style[n]=ue(r),Se(e,t)):we(e,n,r)}},ke=function(e,t){return e.style[t]?ae(e.style[t]):ve(e,t)},Te=function(e,t){var n=ue(t);e.style.marginLeft=n,e.style.marginRight=n},Ne=function(e,t){var n=ue(t);e.style.marginTop=n,e.style.marginBottom=n},Oe=function(e,t){var n=ue(t);e.style.borderWidth=n},Ae=function(e,t){e.style.borderStyle=t},De=function(e){return be(e,"borderStyle")},Me=function(e){return"FIGURE"===e.nodeName},Ie=function(e){return"IMG"===e.nodeName},Re=function(e){return 0===pe.getAttrib(e,"alt").length&&"presentation"===pe.getAttrib(e,"role")},Pe=function(e){return Re(e)?"":ve(e,"alt")},Le=function(){return{src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}},je=function(t,n){var r=e.document.createElement("img");return we(r,"style",n.style),(he(r)||""!==n.hspace)&&Te(r,n.hspace),(me(r)||""!==n.vspace)&&Ne(r,n.vspace),(ge(r)||""!==n.border)&&Oe(r,n.border),(De(r)||""!==n.borderStyle)&&Ae(r,n.borderStyle),t(r.getAttribute("style"))},Be=function(t,n){var r=e.document.createElement("img");if(qe(t,N(N({},n),{caption:!1}),r),He(r,n.alt,n.isDecorative),n.caption){var o=pe.create("figure",{class:"image"});return o.appendChild(r),o.appendChild(pe.create("figcaption",{contentEditable:"true"},"Caption")),o.contentEditable="false",o}return r},ze=function(e,t){return{src:ve(t,"src"),alt:Pe(t),title:ve(t,"title"),width:ke(t,"width"),height:ke(t,"height"),class:ve(t,"class"),style:e(ve(t,"style")),caption:ye(t),hspace:he(t),vspace:me(t),border:ge(t),borderStyle:be(t,"borderStyle"),isDecorative:Re(t)}},Fe=function(e,t,n,r,o){n[r]!==t[r]&&o(e,r,n[r])},He=function(e,t,n){if(n){pe.setAttrib(e,"role","presentation");var r=j.fromDom(e);A(r,"alt","")}else{if(b(t)){var r=j.fromDom(e);D(r,"alt")}else{var r=j.fromDom(e);A(r,"alt",t)}"presentation"===pe.getAttrib(e,"role")&&pe.setAttrib(e,"role","")}},Ue=function(e,t,n){n.alt===t.alt&&n.isDecorative===t.isDecorative||He(e,n.alt,n.isDecorative)},Ve=function(e,t){return function(n,r,o){e(n,o),Se(n,t)}},qe=function(e,t,n){var r=ze(e,n);Fe(n,r,t,"caption",function(e,t,n){return Ce(e)}),Fe(n,r,t,"src",we),Fe(n,r,t,"title",we),Fe(n,r,t,"width",Ee(0,e)),Fe(n,r,t,"height",Ee(0,e)),Fe(n,r,t,"class",we),Fe(n,r,t,"style",Ve(function(e,t){return we(e,"style",t)},e)),Fe(n,r,t,"hspace",Ve(Te,e)),Fe(n,r,t,"vspace",Ve(Ne,e)),Fe(n,r,t,"border",Ve(Oe,e)),Fe(n,r,t,"borderStyle",Ve(Ae,e)),Ue(n,r,t)},We=function(e,t){var n=e.dom.styles.parse(t),r=se(n),o=e.dom.styles.parse(e.dom.styles.serialize(r));return e.dom.styles.serialize(o)},Ge=function(e){var t=e.selection.getNode(),n=e.dom.getParent(t,"figure.image");return n?e.dom.select("img",n)[0]:t&&("IMG"!==t.nodeName||de(t))?null:t},$e=function(e,t){var n=e.dom,r=n.getParent(t.parentNode,function(t){return!!e.schema.getTextBlockElements()[t.nodeName]},e.getBody());return r?n.split(r,t):t},Xe=function(e){var t=Ge(e);return t?ze(function(t){return We(e,t)},t):Le()},Ye=function(e,t){var n=Be(function(t){return We(e,t)},t);e.dom.setAttrib(n,"data-mce-id","__mcenew"),e.focus(),e.selection.setContent(n.outerHTML);var r=e.dom.select('*[data-mce-id="__mcenew"]')[0];if(e.dom.setAttrib(r,"data-mce-id",null),Me(r)){var o=$e(e,r);e.selection.select(o)}else e.selection.select(r)},Ke=function(e,t){e.dom.setAttrib(t,"src",t.getAttribute("src"))},Je=function(e,t){if(t){var n=e.dom.is(t.parentNode,"figure.image")?t.parentNode:t;e.dom.remove(n),e.focus(),e.nodeChanged(),e.dom.isEmpty(e.getBody())&&(e.setContent(""),e.selection.setCursorLocation())}},Qe=function(e,t){var n=Ge(e);if(qe(function(t){return We(e,t)},t,n),Ke(e,n),Me(n.parentNode)){var r=n.parentNode;$e(e,r),e.selection.select(n.parentNode)}else e.selection.select(n),le(e,t,n)},Ze=function(e,t){var n=Ge(e);if(n){var r=ze(function(t){return We(e,t)},n),o=N(N({},r),t);o.src?Qe(e,o):Je(e,n)}else t.src&&Ye(e,N(N({},Le()),t))},et=tinymce.util.Tools.resolve("tinymce.util.Tools"),tt=function(e){return m(e.value)?e.value:""},nt=function(e,t){var n=[];return et.each(e,function(e){var r=m(e.text)?e.text:m(e.title)?e.title:"";if(void 0!==e.menu){var o=nt(e.menu,t);n.push({text:r,items:o})}else{var i=t(e);n.push({text:r,value:i})}}),n},rt=function(e){return void 0===e&&(e=tt),function(t){return t?f.from(t).map(function(t){return nt(t,e)}):f.none()}},ot=function(e){return rt(tt)(e)},it=function(e){return Object.prototype.hasOwnProperty.call(e,"items")},at=function(e,t){return S(e,function(e){return it(e)?at(e.items,t):e.value===t?f.some(e):f.none()})},ut=function(e,t){return e.bind(function(e){return at(e,t)})},st={sanitizer:rt,sanitize:ot,findEntry:ut},ct=function(e,t){return e?e.replace(/\/$/,"")+"/"+t.replace(/^\//,""):t},lt=function(e){return{title:"Advanced",name:"advanced",items:[{type:"input",label:"Style",name:"style"},{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"selectbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]}},ft={makeTab:lt},dt=function(e){var t=st.sanitizer(function(t){return e.convertURL(t.value||t.url,"src")}),n=new z(function(n){ce(e,function(e){n(t(e).map(function(e){return _([[{text:"None",value:""}],e])}))})}),r=st.sanitize(W(e)),o=U(e),i=V(e),a=K(e),u=J(e),s=Xe(e),c=G(e),l=$(e),d=H(e),p=X(e),h=ne(e),g=Q(e),v=ee(e),b=te(e),y=Z(e),w=re(e),x=f.some(q(e)).filter(function(e){return m(e)&&e.length>0});return n.then(function(e){return{image:s,imageList:e,classList:r,hasAdvTab:o,hasUploadTab:i,hasUploadUrl:a,hasUploadHandler:u,hasDescription:c,hasImageTitle:l,hasDimensions:d,hasImageCaption:p,url:g,basePath:v,credentials:b,handler:y,prependURL:x,hasAccessibilityOptions:h,automaticUploads:w}})},pt=function(e){var t={name:"src",type:"urlinput",filetype:"image",label:"Source"},n=e.imageList.map(function(e){return{name:"images",type:"selectbox",label:"Image list",items:e}}),r={name:"alt",type:"input",label:"Alternative description",disabled:e.hasAccessibilityOptions&&e.image.isDecorative},o={name:"title",type:"input",label:"Image title"},i={name:"dimensions",type:"sizeinput"},a={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},u=e.classList.map(function(e){return{name:"classes",type:"selectbox",label:"Class",items:e}}),s={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]};return _([[t],n.toArray(),e.hasAccessibilityOptions&&e.hasDescription?[a]:[],e.hasDescription?[r]:[],e.hasImageTitle?[o]:[],e.hasDimensions?[i]:[],[{type:"grid",columns:2,items:_([u.toArray(),e.hasImageCaption?[s]:[]])}]])},ht=function(e){return{title:"General",name:"general",items:pt(e)}},mt={makeTab:ht,makeItems:pt},gt=function(e){return{title:"Upload",name:"upload",items:[{type:"dropzone",name:"fileinput"}]}},vt={makeTab:gt},bt=function(e){return{prevImage:st.findEntry(e.imageList,e.image.src),prevAlt:e.image.alt,open:!0}},yt=function(e){return{src:{value:e.src,meta:{}},images:e.src,alt:e.alt,title:e.title,dimensions:{width:e.width,height:e.height},classes:e.class,caption:e.caption,style:e.style,vspace:e.vspace,border:e.border,hspace:e.hspace,borderstyle:e.borderStyle,fileinput:[],isDecorative:e.isDecorative}},wt=function(e,t){return{src:e.src.value,alt:0===e.alt.length&&t?null:e.alt,title:e.title,width:e.dimensions.width,height:e.dimensions.height,class:e.classes,style:e.style,caption:e.caption,hspace:e.hspace,vspace:e.vspace,border:e.border,borderStyle:e.borderstyle,isDecorative:e.isDecorative}},xt=function(e,t){return/^(?:[a-zA-Z]+:)?\/\//.test(t)?f.none():e.prependURL.bind(function(e){return t.substring(0,e.length)!==e?f.some(e+t):f.none()})},_t=function(e,t){var n=t.getData();xt(e,n.src.value).each(function(e){t.setData({src:{value:e,meta:n.src.meta}})})},Ct=function(e,t,n){e.hasDescription&&m(n.alt)&&(t.alt=n.alt),e.hasAccessibilityOptions&&(t.isDecorative=n.isDecorative||t.isDecorative||!1),e.hasImageTitle&&m(n.title)&&(t.title=n.title),e.hasDimensions&&(m(n.width)&&(t.dimensions.width=n.width),m(n.height)&&(t.dimensions.height=n.height)),m(n.class)&&st.findEntry(e.classList,n.class).each(function(e){t.classes=e.value}),e.hasImageCaption&&y(n.caption)&&(t.caption=n.caption),e.hasAdvTab&&(m(n.style)&&(t.style=n.style),m(n.vspace)&&(t.vspace=n.vspace),m(n.border)&&(t.border=n.border),m(n.hspace)&&(t.hspace=n.hspace),m(n.borderstyle)&&(t.borderstyle=n.borderstyle))},St=function(e,t){var n=t.getData(),r=n.src.meta;if(void 0!==r){var o=T({},n);Ct(e,o,r),t.setData(o)}},Et=function(e,t,n,r){var o=r.getData(),i=o.src.value,a=o.src.meta||{};a.width||a.height||!t.hasDimensions||e.imageSize(i).then(function(e){n.open&&r.setData({dimensions:e})})},kt=function(e,t,n){var r=n.getData(),o=st.findEntry(e.imageList,r.src.value);t.prevImage=o,n.setData({images:o.map(function(e){return e.value}).getOr("")})},Tt=function(e,t,n,r){_t(t,r),St(t,r),Et(e,t,n,r),kt(t,n,r)},Nt=function(e,t,n,r){var o=r.getData(),i=st.findEntry(t.imageList,o.images);i.each(function(e){""===o.alt||n.prevImage.map(function(e){return e.text===o.alt}).getOr(!1)?""===e.value?r.setData({src:e,alt:n.prevAlt}):r.setData({src:e,alt:e.text}):r.setData({src:e})}),n.prevImage=i,Tt(e,t,n,r)},Ot=function(e){return e["margin-top"]&&e["margin-bottom"]&&e["margin-top"]===e["margin-bottom"]?ae(String(e["margin-top"])):""},At=function(e){return e["margin-right"]&&e["margin-left"]&&e["margin-right"]===e["margin-left"]?ae(String(e["margin-right"])):""},Dt=function(e){return e["border-width"]?ae(String(e["border-width"])):""},Mt=function(e){return e["border-style"]?String(e["border-style"]):""},It=function(e,t,n){return t(e(t(n)))},Rt=function(e,t,n){var r=se(e(n.style)),o=T({},n);return o.vspace=Ot(r),o.hspace=At(r),o.border=Dt(r),o.borderstyle=Mt(r),o.style=It(e,t,r),o},Pt=function(e,t){var n=t.getData(),r=Rt(e.parseStyle,e.serializeStyle,n);t.setData(r)},Lt=function(e,t,n){var r=T(yt(t.image),n.getData()),o=je(e.normalizeCss,wt(r,!1));n.setData({style:o})},jt=function(n,r,o,i){var a=i.getData();i.block("Uploading image"),C(a.fileinput).fold(function(){i.unblock()},function(a){var u=e.URL.createObjectURL(a),s=t({url:r.url,basePath:r.basePath,credentials:r.credentials,handler:r.handler}),c=function(){i.unblock(),e.URL.revokeObjectURL(u)},l=function(e){i.setData({src:{value:e,meta:{}}}),i.showTab("general"),Tt(n,r,o,i)};fe(a).then(function(e){var t=n.createBlobCache(a,u,e);r.automaticUploads?s.upload(t).then(function(e){l(e),c()}).catch(function(e){c(),n.alertErr(e)}):(n.addToBlobCache(t),l(t.blobUri()),i.unblock())})})},Bt=function(e,t,n){return function(r,o){"src"===o.name?Tt(e,t,n,r):"images"===o.name?Nt(e,t,n,r):"alt"===o.name?n.prevAlt=r.getData().alt:"style"===o.name?Pt(e,r):"vspace"===o.name||"hspace"===o.name||"border"===o.name||"borderstyle"===o.name?Lt(e,t,r):"fileinput"===o.name?jt(e,t,n,r):"isDecorative"===o.name&&(r.getData().isDecorative?r.disable("alt"):r.enable("alt"))}},zt=function(e){return function(){e.open=!1}},Ft=function(e){if(e.hasAdvTab||e.hasUploadUrl||e.hasUploadHandler){return{type:"tabpanel",tabs:_([[mt.makeTab(e)],e.hasAdvTab?[ft.makeTab(e)]:[],e.hasUploadTab&&(e.hasUploadUrl||e.hasUploadHandler)?[vt.makeTab(e)]:[]])}}return{type:"panel",items:mt.makeItems(e)}},Ht=function(e){return function(t){var n=bt(t);return{title:"Insert/Edit Image",size:"normal",body:Ft(t),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:yt(t.image),onSubmit:e.onSubmit(t),onChange:Bt(e,t,n),onClose:zt(n)}}},Ut=function(e){return function(t){return function(n){var r=T(yt(t.image),n.getData());e.execCommand("mceUpdateImage",!1,wt(r,t.hasAccessibilityOptions)),e.editorUpload.uploadImagesAuto(),n.close()}}},Vt=function(e){return function(t){return ie(e.documentBaseURI.toAbsolute(t)).then(function(e){return{width:String(e.width),height:String(e.height)}})}},qt=function(e){return function(t,n,r){return e.editorUpload.blobCache.create({blob:t,blobUri:n,name:t.name?t.name.replace(/\.[^\.]+$/,""):null,base64:r.split(",")[1]})}},Wt=function(e){return function(t){e.editorUpload.blobCache.add(t)}},Gt=function(e){return function(t){e.windowManager.alert(t)}},$t=function(e){return function(t){return We(e,t)}},Xt=function(e){return function(t){return e.dom.parseStyle(t)}},Yt=function(e){return function(t,n){return e.dom.serializeStyle(t,n)}},Kt=function(e){var t={onSubmit:Ut(e),imageSize:Vt(e),addToBlobCache:Wt(e),createBlobCache:qt(e),alertErr:Gt(e),normalizeCss:$t(e),parseStyle:Xt(e),serializeStyle:Yt(e)},n=function(){return dt(e).then(Ht(t)).then(function(t){return e.windowManager.open(t)})};return{open:n,openLater:function(){n()}}},Jt=function(e){e.addCommand("mceImage",Kt(e).openLater),e.addCommand("mceUpdateImage",function(t,n){e.undoManager.transact(function(){return Ze(e,n)})})},Qt=function(e){var t=e.attr("class");return t&&/\bimage\b/.test(t)},Zt=function(e){return function(t){for(var n=t.length,r=function(t){t.attr("contenteditable",e?"true":null)};n--;){var o=t[n];Qt(o)&&(o.attr("contenteditable",e?"false":null),et.each(o.getAll("figcaption"),r))}}},en=function(e){e.on("PreInit",function(){e.parser.addNodeFilter("figure",Zt(!0)),e.serializer.addNodeFilter("figure",Zt(!1))})},tn=function(e){e.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:Kt(e).openLater,onSetup:function(t){return e.selection.selectorChangedWithUnbind("img:not([data-mce-object],[data-mce-placeholder]),figure.image",t.setActive).unbind}}),e.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:Kt(e).openLater}),e.ui.registry.addContextMenu("image",{update:function(e){return Me(e)||Ie(e)&&!de(e)?["image"]:[]}})};!function(){n.add("image",function(e){en(e),tn(e),Jt(e)})}()}(window)},function(e,t,n){n(45)},function(e,t){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(e){return e},n=function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},n.apply(this,arguments)},r=function(e){return e.replace(/\uFEFF/g,"")},o={aletter:"[A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-׳ؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆༀཀ-ཇཉ-ཬྈ-ྌႠ-Ⴥა-ჺჼᄀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᨀ-ᨖᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᯀ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⒶ-ⓩⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⴀ-ⴥⴰ-ⵥⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〻〼ㄅ-ㄭㄱ-ㆎㆠ-ㆺꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐꞑꞠ-ꞩꟺ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]",midnumlet:"[-'\\.‘’․﹒＇．]",midletter:"[:··״‧︓﹕：]",midnum:"[±+*/,;;։،؍٬߸⁄︐︔﹐﹔，；]",numeric:"[0-9٠-٩٫۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꩐-꩙꯰-꯹]",cr:"\\r",lf:"\\n",newline:"[\v\f\u2028\u2029]",extend:"[̀-ͯ҃-҉֑-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ऀ-ःऺ-़ा-ॏ॑-ॗॢॣঁ-ঃ়া-ৄেৈো-্ৗৢৣਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑੰੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣஂா-ூெ-ைொ-்ௗఁ-ఃా-ౄె-ైొ-్ౕౖౢౣಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣംഃാ-ൄെ-ൈൊ-്ൗൢൣංඃ්ා-ුූෘ-ෟෲෳัิ-ฺ็-๎ັິ-ູົຼ່-ໍ༹༘༙༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏႚ-ႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳា-៓៝᠋-᠍ᢩᤠ-ᤫᤰ-᤻ᦰ-ᧀᧈᧉᨗ-ᨛᩕ-ᩞ᩠-᩿᩼ᬀ-ᬄ᬴-᭄᭫-᭳ᮀ-ᮂᮡ-᯦᮪-᯳ᰤ-᰷᳐-᳔᳒-᳨᳭ᳲ᷀-ᷦ᷼-᷿‌‍⃐-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꙯-꙲꙼꙽꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-꣄꣠-꣱ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀ꨩ-ꨶꩃꩌꩍꩻꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꯣ-ꯪ꯬꯭ﬞ︀-️︠-︦ﾞﾟ]",format:"[­؀-؃۝܏឴឵‎‏‪-‮⁠-⁤⁪-⁯\ufeff￹-￻]",katakana:"[〱-〵゛゜゠-ヺー-ヿㇰ-ㇿ㋐-㋾㌀-㍗ｦ-ﾝ]",extendnumlet:"[=_‿⁀⁔︳︴﹍-﹏＿∀-⋿<>]",punctuation:"[!-#%-*,-\\/:;?@\\[-\\]_{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]"},i={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},a=[new RegExp(o.aletter),new RegExp(o.midnumlet),new RegExp(o.midletter),new RegExp(o.midnum),new RegExp(o.numeric),new RegExp(o.cr),new RegExp(o.lf),new RegExp(o.newline),new RegExp(o.extend),new RegExp(o.format),new RegExp(o.katakana),new RegExp(o.extendnumlet),new RegExp("@")],u=new RegExp("^"+o.punctuation+"$"),s=/^\s+$/,c=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},l=a,f=i.OTHER,d=function(e){for(var t=f,n=l.length,r=0;r<n;++r){var o=l[r];if(o&&o.test(e)){t=r;break}}return t},p=function(e){var t={};return function(n){if(t[n])return t[n];var r=e(n);return t[n]=r,r}},h=function(e){var t=p(d);return c(e,t)},m=function(e,t){var n=e[t],r=e[t+1];if(t<0||t>e.length-1&&0!==t)return!1;if(n===i.ALETTER&&r===i.ALETTER)return!1;var o=e[t+2];if(n===i.ALETTER&&(r===i.MIDLETTER||r===i.MIDNUMLET||r===i.AT)&&o===i.ALETTER)return!1;var a=e[t-1];return(n!==i.MIDLETTER&&n!==i.MIDNUMLET&&r!==i.AT||r!==i.ALETTER||a!==i.ALETTER)&&((n!==i.NUMERIC&&n!==i.ALETTER||r!==i.NUMERIC&&r!==i.ALETTER)&&((n!==i.MIDNUM&&n!==i.MIDNUMLET||r!==i.NUMERIC||a!==i.NUMERIC)&&((n!==i.NUMERIC||r!==i.MIDNUM&&r!==i.MIDNUMLET||o!==i.NUMERIC)&&(n!==i.EXTEND&&n!==i.FORMAT&&a!==i.EXTEND&&a!==i.FORMAT&&r!==i.EXTEND&&r!==i.FORMAT&&((n!==i.CR||r!==i.LF)&&(n===i.NEWLINE||n===i.CR||n===i.LF||(r===i.NEWLINE||r===i.CR||r===i.LF||(n!==i.KATAKANA||r!==i.KATAKANA)&&((r!==i.EXTENDNUMLET||n!==i.ALETTER&&n!==i.NUMERIC&&n!==i.KATAKANA&&n!==i.EXTENDNUMLET)&&((n!==i.EXTENDNUMLET||r!==i.ALETTER&&r!==i.NUMERIC&&r!==i.KATAKANA)&&n!==i.AT)))))))))},g=s,v=u,b=function(e){return"http"===e||"https"===e},y=function(e,t){var n;for(n=t;n<e.length&&!g.test(e[n]);n++);return n},w=function(e,t){var n=y(e,t+1);return"://"===e.slice(t+1,n).join("").substr(0,3)?n:t},x=function(e,t,n,r){for(var o=[],i=[],a=0;a<n.length;++a)if(i.push(e[a]),m(n,a)){var u=t[a];if((r.includeWhitespace||!g.test(u))&&(r.includePunctuation||!v.test(u))){var s=a-i.length+1,c=a+1,l=t.slice(s,c).join("");if(b(l)){var f=w(t,a),d=e.slice(c,f);Array.prototype.push.apply(i,d),a=f}o.push(i)}i=[]}return o},_=function(){return{includeWhitespace:!1,includePunctuation:!1}},C=function(e,t,r){r=n(n({},_()),r);for(var o=[],i=[],a=0;a<e.length;a++){var u=t(e[a]);"\ufeff"!==u&&(o.push(e[a]),i.push(u))}var s=h(i);return x(o,i,s,r)},S=C,E=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),k=function(e,t){for(var n=t.getBlockElements(),o=t.getShortEndedElements(),i=[],a="",u=new E(e,e);e=u.next();)3===e.nodeType?a+=r(e.data):function(e){return n[e.nodeName]||o[e.nodeName]}(e)&&a.length&&(i.push(a),a="");return a.length&&i.push(a),i},T=function(e){return e.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length},N=function(e,n){var r=k(e,n).join("\n");return S(r.split(""),t).length},O=function(e,t){var n=k(e,t).join("");return T(n)},A=function(e,t){var n=k(e,t).join("").replace(/\s/g,"");return T(n)},D=function(e,t){return function(){return t(e.getBody(),e.schema)}},M=function(e,t){return function(){return t(e.selection.getRng().cloneContents(),e.schema)}},I=function(e){return D(e,N)},R=function(e){return{body:{getWordCount:I(e),getCharacterCount:D(e,O),getCharacterCountWithoutSpaces:D(e,A)},selection:{getWordCount:M(e,N),getCharacterCount:M(e,O),getCharacterCountWithoutSpaces:M(e,A)},getCount:I(e)}},P=tinymce.util.Tools.resolve("tinymce.util.Delay"),L=function(e,t){e.fire("wordCountUpdate",{wordCount:{words:t.body.getWordCount(),characters:t.body.getCharacterCount(),charactersWithoutSpaces:t.body.getCharacterCountWithoutSpaces()}})},j=function(e,t){L(e,t)},B=function(e,t,n){var r=P.debounce(function(){return j(e,t)},n);e.on("init",function(){j(e,t),P.setEditorTimeout(e,function(){e.on("SetContent BeforeAddUndo Undo Redo keyup",r)},0)})},z=function(e,t){e.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(t.body.getWordCount()),String(t.selection.getWordCount())],["Characters (no spaces)",String(t.body.getCharacterCountWithoutSpaces()),String(t.selection.getCharacterCountWithoutSpaces())],["Characters",String(t.body.getCharacterCount()),String(t.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})},F=function(e,t){e.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:function(){return z(e,t)}}),e.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:function(){return z(e,t)}})};!function(t){void 0===t&&(t=300),e.add("wordcount",function(e){var n=R(e);return F(e,n),B(e,n,t),n})}()}()},function(e,t,n){"use strict";var r=n(47);t.a=r.a},function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n(48),o=n(49),i=n(12),a=n(50),u=this&&this.__assign||function(){return u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},u.apply(this,arguments)},s=function(e,t,n){return e(n||"div",{attrs:{id:t}})},c=function(e,t){return e("textarea",{attrs:{id:t},style:{visibility:"hidden"}})},l=function(e){return function(){var t=u(u({},e.$props.init),{readonly:e.$props.disabled,selector:"#"+e.elementId,plugins:Object(i.d)(e.$props.init&&e.$props.init.plugins,e.$props.plugins),toolbar:e.$props.toolbar||e.$props.init&&e.$props.init.toolbar,inline:e.inlineEditor,setup:function(t){e.editor=t,t.on("init",function(n){return Object(i.a)(n,e,t)}),e.$props.init&&"function"==typeof e.$props.init.setup&&e.$props.init.setup(t)}});Object(i.c)(e.element)&&(e.element.style.visibility=""),Object(o.a)().init(t)}},f={props:a.a,created:function(){this.elementId=this.$props.id||Object(i.e)("tiny-vue"),this.inlineEditor=this.$props.init&&this.$props.init.inline||this.$props.inline},watch:{disabled:function(){this.editor.setMode(this.disabled?"readonly":"design")}},mounted:function(){if(this.element=this.$el,null!==Object(o.a)())l(this)();else if(this.element&&this.element.ownerDocument){var e=this.$props.cloudChannel?this.$props.cloudChannel:"5",t=this.$props.apiKey?this.$props.apiKey:"no-api-key",n=Object(i.b)(this.$props.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/"+t+"/tinymce/"+e+"/tinymce.min.js":this.$props.tinymceScriptSrc;r.a.load(this.element.ownerDocument,n,l(this))}},beforeDestroy:function(){null!==Object(o.a)()&&Object(o.a)().remove(this.editor)},render:function(e){return this.inlineEditor?s(e,this.elementId,this.$props.tagName):c(e,this.elementId)}}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(12),o=function(){return{listeners:[],scriptId:Object(r.e)("tiny-script"),scriptLoaded:!1}},i=function(){var e=o(),t=function(e,t,n,r){var o=t.createElement("script");o.referrerPolicy="origin",o.type="application/javascript",o.id=e,o.src=n;var i=function(){o.removeEventListener("load",i),r()};o.addEventListener("load",i),t.head&&t.head.appendChild(o)};return{load:function(n,r,o){e.scriptLoaded?o():(e.listeners.push(o),n.getElementById(e.scriptId)||t(e.scriptId,n,r,function(){e.listeners.forEach(function(e){return e()}),e.scriptLoaded=!0}))},reinitialize:function(){e=o()}}}()},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return o});var r=function(){return"undefined"!=typeof window?window:e},o=function(){var e=r();return e&&e.tinymce?e.tinymce:null}}).call(t,n(0))},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],value:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(e){return"html"===e||"text"===e}}}},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("editor",{attrs:{value:e.htmlContent,init:{height:500,language:"zh_CN",language_url:e.publicPath+"tinymce/langs/zh_CN.js",skin:"oxide",skin_url:e.publicPath+"tinymce/skins/ui/oxide",content_css:e.publicPath+"tinymce/skins/content/default/content.css",menubar:!0,toolbar:"undo redo | formatselect | bold italic backcolor |         alignleft aligncenter alignright alignjustify |         bullist numlist outdent indent | removeformat |         image | wordcount",plugins:"image wordcount",image_description:!1,images_reuse_filename:!0,images_upload_handler:e.fileUpLoad,elementpath:!1,branding:!1},disabled:e.disabled},on:{input:e.editorChange}})],1)},o=[],i={render:r,staticRenderFns:o};t.a=i}])});
//# sourceMappingURL=xcedu-component.js.map